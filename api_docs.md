<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [Welcome][1]
*   [mintLIT][2]
    *   [Parameters][3]
*   [LitNodeClient][4]
    *   [Parameters][5]
    *   [getEncryptionKey][6]
        *   [Parameters][7]
    *   [saveEncryptionKey][8]
        *   [Parameters][9]
*   [createHtmlLIT][10]
    *   [Parameters][11]
*   [toggleLock][12]
*   [Encryption and decryption utilities][13]
*   [zipAndEncryptString][14]
    *   [Parameters][15]
*   [zipAndEncryptFiles][16]
    *   [Parameters][17]
*   [encryptZip][18]
    *   [Parameters][19]
*   [decryptZip][20]
    *   [Parameters][21]
*   [decryptWithSymmetricKey][22]
    *   [Parameters][23]
*   [encryptWithSymmetricKey][24]
    *   [Parameters][25]
*   [encryptWithPubKey][26]
    *   [Parameters][27]
*   [decryptWithPrivKey][28]
    *   [Parameters][29]
*   [Other Utilities][30]
*   [fileToDataUrl][31]
    *   [Parameters][32]
*   [checkAndSignAuthMessage][33]
    *   [Parameters][34]
*   [Types][35]
*   [AuthSig][36]
    *   [Properties][37]
*   [LITChain][38]
    *   [Properties][39]
*   [LIT_CHAINS][40]
*   [injectViewerIFrame][41]
    *   [Parameters][42]
*   [findLITs][43]
    *   [Parameters][44]
*   [sendLIT][45]
    *   [Parameters][46]
*   [unlockLitWithKey][47]
    *   [Parameters][48]

## Welcome

Welcome to the LIT JS SDK API documentation.  To understand how these functions fit together, please view the README in the github repo for this SDK, located at [https://github.com/LIT-Protocol/lit-js-sdk/blob/main/README.md][49]

## mintLIT

This function mints a LIT using our pre-deployed token contracts.  You may our contracts, or you may supply your own.  Our contracts are ERC1155 tokens on Polygon and Ethereum.  Using these contracts is the easiest way to get started.

### Parameters

*   `params` **[Object][50]** 

    *   `params.chain` **[string][51]** The chain to mint on.  "ethereum" and "polygon" are currently supported.
    *   `params.quantity` **[number][52]** The number of tokens to mint.  Note that these will be fungible, so they will not have serial numbers.

Returns **[Object][50]** The txHash, tokenId, tokenAddress, mintingAddress, and authSig.

## LitNodeClient

A LIT node client.  Connects directly to the LIT nodes to store and retrieve encryption keys.  Only holders of an NFT that corresponds with a LIT may store and retrieve the keys.

### Parameters

*   `config` **[Object][50]**  (optional, default `{alertWhenUnauthorized:true,minNodeCount:8,bootstrapUrls:['/dns4/node1.litgateway.com/tcp/9090/https/p2p-webrtc-direct/p2p/12D3KooWK1KtaAV5rWjbAmZcd62VYSmEz1k81jzr87JAcSS7rKdQ','/dns4/node1.litgateway.com/tcp/9091/https/p2p-webrtc-direct/p2p/QmfLL5EqgyJKrD1oe8ZFGLM7HXGadGuQR9RqEeM1hBVqtP','/dns4/node1.litgateway.com/tcp/9092/https/p2p-webrtc-direct/p2p/Qmeo7u9goqqKA3Fkj7VmT7EkpgtjZK6DaJBWYBGW5czo2A','/dns4/node1.litgateway.com/tcp/9093/https/p2p-webrtc-direct/p2p/QmVVtPgZWPNUmcPf57PWjij1kosrZhbHNgrMwkog1Eyn1H','/dns4/node1.litgateway.com/tcp/9094/https/p2p-webrtc-direct/p2p/QmRae8zUD7vdQjf4cAegtuFX78BfrWmdhdsVaWN9VDVFs9','/dns4/node1.litgateway.com/tcp/9095/https/p2p-webrtc-direct/p2p/QmU7e6JrtVt6PnpShJkdaN9W68eVX9JRxYxo9nVLupUGtG','/dns4/node1.litgateway.com/tcp/9096/https/p2p-webrtc-direct/p2p/QmZK4A6CRL8gcsooCpiWuxkguXJartbGDizjs7f11ALevm','/dns4/node1.litgateway.com/tcp/9097/https/p2p-webrtc-direct/p2p/QmUA9MUPs3eG7vcuQvZzwWEodzdW7xaDFyanpmuwjWEMk1','/dns4/node1.litgateway.com/tcp/9098/https/p2p-webrtc-direct/p2p/QmYJpEuUaojzYhWXShH29xQzXbJoS2YyKyEdkKP77nK1Q4','/dns4/node1.litgateway.com/tcp/9099/https/p2p-webrtc-direct/p2p/QmeJiT66sYz4P9y44W1LaoWjw42AefFxJnagyDCNpJys1w']}`)

    *   `config.alertWhenUnauthorized` **[boolean][53]** Whether or not to show a JS alert() when a user tries to unlock a LIT but is unauthorized.  If you turn this off, you should create an event listener for the "lit-authFailure" event on the document, and show your own error to the user. (optional, default `true`)
    *   `config.minNodeCount` **[number][52]** The minimum number of nodes that must be connected for the LitNodeClient to be ready to use. (optional, default `8`)

### getEncryptionKey

Retrieve the symmetric encryption key from the LIT nodes.  Note that this will only work if the current user is a holder of the NFT that corresponds to this LIT.  This NFT token address and ID was specified when this LIT was created.

#### Parameters

*   `params` **[Object][50]** 

    *   `params.tokenAddress` **[string][51]** The token address of the NFT that corresponds to this LIT.  This should be an ERC721 or ERC1155 token.
    *   `params.tokenId` **[string][51]** The token ID of the NFT that corresponds to this LIT
    *   `params.chain` **[string][51]** The chain that the corresponding NFT lives on.  Currently "polygon" and "ethereum" are supported.
    *   `params.authSig` **[AuthSig][54]** The authentication signature that proves that the user owns the crypto wallet address that should be an owner of the NFT that corresponds to this LIT.
    *   `params.merkleProof`  

Returns **[Object][50]** The symmetric encryption key that can be used to decrypt the locked content inside the LIT.  You should pass this key to the decryptZip function.

### saveEncryptionKey

Securely save the symmetric encryption key to the LIT nodes.

#### Parameters

*   `params` **[Object][50]** 

    *   `params.tokenAddress` **[string][51]** The token address of the NFT that corresponds to this LIT.  This should be an ERC721 or ERC1155 token.
    *   `params.tokenId` **[string][51]** The token ID of the NFT that corresponds to this LIT
    *   `params.chain` **[string][51]** The chain that the corresponding NFT lives on.  Currently "polygon" and "ethereum" are supported.
    *   `params.authSig` **[AuthSig][54]** The authentication signature that proves that the user owns the crypto wallet address that should be an owner of the NFT that corresponds to this LIT.
    *   `params.symmetricKey` **[string][51]** The symmetric encryption key that was used to encrypt the locked content inside the LIT.  You should use zipAndEncryptString or zipAndEncryptFiles to get this encryption key.  This key will be split up using threshold encryption so that the LIT nodes cannot decrypt a given LIT.
    *   `params.merkleProof`  

Returns **[Object][50]** An object that gives the status of the operation, denoted via a boolean with the key "success"

## createHtmlLIT

Create a ready-to-go LIT using provided HTML/CSS body and an encrypted zip data url.  You need to design your LIT with HTML and CSS, and provide an unlock button with the id "unlockButton" inside your HTML.  This function will handle the rest.

### Parameters

*   `params` **[Object][50]** 

    *   `params.title` **[string][51]** The title that will be used for the title tag in the outputted HTML
    *   `params.htmlBody` **[number][52]** The HTML body for the locked state of the LIT.  All users will be able to see this HTML.  This HTML must have a button with an id of "unlockButton" which will be automatically set up to decrypt and load the encryptedZipDataUrl
    *   `params.css` **[string][51]** Any CSS you would like to include in the outputted HTML
    *   `params.encryptedZipDataUrl` **[number][52]** a data URL of the encrypted zip that contains the locked content that only token holders will be able to view.
    *   `params.tokenAddress` **[string][51]** The token address of the corresponding NFT for this LIT.  ERC721 and ERC 1155 tokens are currently supported.
    *   `params.tokenId` **[number][52]** The ID of the token of the corresponding NFT for this LIT.  Only holders of this token ID will be able to unlock and decrypt this LIT.
    *   `params.chain` **[string][51]** The chain that the corresponding NFT was minted on.  "ethereum" and "polygon" are currently supported.
    *   `params.npmPackages` **[Array][55]** An array of strings of NPM package names that should be embedded into this LIT.  These packages will be pulled down via unpkg, converted to data URLs, and embedded in the LIT HTML.  You can include any packages from npmjs.com. (optional, default `[]`)

Returns **[string][51]** The HTML string that is now a LIT.  You can send this HTML around and only token holders will be able to unlock and decrypt the content inside it.  Included in the HTML is this LIT JS SDK itself, the encrypted locked content, an automatic connection to the LIT nodes network, and a handler for a button with id "unlockButton" which will perform the unlock operation when clicked.

## toggleLock

Lock and unlock the encrypted content inside a LIT.  This content is only viewable by holders of the NFT that corresponds to this LIT.  Locked content will be decrypted and placed into the HTML element with id "mediaGridHolder".  The HTML element with the id "lockedHeader" will have it's text automatically changed to LOCKED or UNLOCKED to denote the state of the LIT.  Note that if you're creating a LIT using the createHtmlLIT function, you do not need to use this function, because this function is automatically bound to any button in your HTML with the id "unlockButton".

Returns **[Promise][56]** the promise will resolve when the LIT has been unlocked or an error message has been shown informing the user that they are not authorized to unlock the LIT

## Encryption and decryption utilities



## zipAndEncryptString

Zip and encrypt a string.  This is used to encrypt any string that is to be locked and included in a LIT.  For example, on MintLIT, we render the HTML/CSS containing the locked files and a grid to view them to a string using ReactDOMServer.renderToString().

### Parameters

*   `string` **[string][51]** The string to zip and encrypt

Returns **[Object][50]** The encryptedZip as a Blob and the symmetricKey used to encrypt it, as a JSON string.  The encrypted zip will contain a single file called "string.txt"

## zipAndEncryptFiles

Zip and encrypt multiple files.

### Parameters

*   `files` **[array][55]** An array of the files you wish to zip and encrypt

Returns **[Object][50]** The encryptedZip as a Blob and the symmetricKey used to encrypt it, as a JSON string.  The encrypted zip will contain a folder "encryptedAssets" and all of the files will be inside it.

## encryptZip

Encrypt a zip file created with JSZip using a new random symmetric key via WebCrypto.

### Parameters

*   `zip` **JSZip** The JSZip instance to encrypt

Returns **[Object][50]** The encryptedZip as a Blob and the symmetricKey used to encrypt it, as a JSON string.

## decryptZip

Decrypt and unzip a zip that was created using encryptZip, zipAndEncryptString, or zipAndEncryptFiles.

### Parameters

*   `encryptedZipBlob` **[Blob][57]** The encrypted zip as a Blob
*   `symmKey` **[Object][50]** An object containing the symmetric key used that will be used to decrypt this zip.

Returns **[Array][55]** An array of the decrypted files inside the zip.

## decryptWithSymmetricKey

Decrypt an encrypted blob with a symmetric key.  Uses AES-CBC via SubtleCrypto

### Parameters

*   `encryptedBlob` **[Blob][57]** The encrypted blob that should be decrypted
*   `symmKey` **[Object][50]** The symmetric key

Returns **[Blob][57]** The decrypted blob

## encryptWithSymmetricKey

Encrypt a blob with a symmetric key

### Parameters

*   `symmKey` **[Object][50]** The symmetric key
*   `data` **[Blob][57]** The blob to encrypt

Returns **[Blob][57]** The encrypted blob

## encryptWithPubKey

Encrypt a blob with the public key of a receiver

### Parameters

*   `receiverPublicKey` **[string][51]** The base64 encoded 32 byte public key.  The corresponding private key will be able to decrypt this blob
*   `data` **[Blob][57]** The blob to encrypt
*   `version` **[string][51]** The encryption algorithm to use.  This should be set to "x25519-xsalsa20-poly1305" as no other algorithms are implemented right now.

Returns **[Blob][57]** The encrypted blob

## decryptWithPrivKey

Decrypt a blob with a private key

### Parameters

*   `encryptedData` **[Blob][57]** The blob to decrypt
*   `receiverPrivateKey` **[string][51]** The base64 encoded 32 byte private key.  The corresponding public key was used to encrypt this blob
*   `version` **[string][51]** The encryption algorithm to use.  This should be set to "x25519-xsalsa20-poly1305" as no other algorithms are implemented right now.

Returns **[Blob][57]** The decrypted blob

## Other Utilities



## fileToDataUrl

Convert a file to a data URL, which could then be embedded in a LIT.  A data URL is a string representation of a file.

### Parameters

*   `file` **File** The file to turn into a data url

Returns **[string][51]** The data URL.  This is a string representation that can be used anywhere the original file would be used.

## checkAndSignAuthMessage

Check for an existing cryptographic authentication signature and create one of it does not exist.  This is used to prove ownership of a given crypto wallet address to the LIT nodes.  The result is stored in LocalStorage so the user doesn't have to sign every time they perform an operation.

### Parameters

*   `params` **[Object][50]** 

    *   `params.chain` **[string][51]** The chain you want to use.  "polygon" and "ethereum" are currently supported.

Returns **[AuthSig][54]** The AuthSig created or retrieved

## Types



## AuthSig

Type: [Object][50]

### Properties

*   `sig` **[string][51]** The actual hex-encoded signature
*   `derivedVia` **[string][51]** The method used to derive the signature
*   `signedMessage` **[string][51]** The message that was signed
*   `address` **[string][51]** The crypto wallet address that signed the message

## LITChain

Type: [Object][50]

### Properties

*   `contractAddress` **[string][51]** The address of the token contract
*   `chainId` **[string][51]** The chain ID of the chain that this token contract is deployed on.  Used for EVM chains.
*   `name` **[string][51]** The human readable name of the chain

## LIT_CHAINS

Pre-deployed token contracts that you may use for minting LITs.  These are ERC1155 contracts that let you mint any quantity of a given token.  Use the chain name as a key in this object.  Currently "polygon" and "ethereum" are supported.

Type: [LITChain][58]

## injectViewerIFrame

Inject an iFrame into the current page that will display a LIT.  This function safely sandboxes the content in the iFrame so that the LIT cannot see cookies or localStorage of the parent website.

### Parameters

*   `params` **[Object][50]** 

    *   `params.symmetricKey` **[Object][50]** The decryption key obtained by calling "LitNodeClient.getEncryptionKey"
    *   `params.destinationId`  
    *   `params.title`  
    *   `params.fileUrl`  
    *   `params.className`  

Returns **[promise][56]** A promise that will resolve when the LIT is unlocked

## findLITs

Finds the tokens that the current user owns from the predeployed LIT contracts

### Parameters

*   `params` **[Object][50]** 

    *   `params.chain` **[string][51]** The chain that was minted on. "ethereum" and "polygon" are currently supported.
    *   `params.accountAddress` **[number][52]** The account address to check

Returns **[array][55]** The token ids owned by the accountAddress

## sendLIT

Send a token to another account

### Parameters

*   `params` **[Object][50]** 

    *   `params.tokenMetadata` **[string][51]** The token metadata of the token to be transferred.  Should include tokenId, tokenAddress, and chain
    *   `params.to` **[number][52]** The account address to send the token to

Returns **[Object][50]** Success or error

## unlockLitWithKey

Manually unlock a LIT with a symmetric key.  You can obtain this key by calling "checkAndSignAuthMessage" to get an authSig, then calling "getMerkleProof" to get the merkle proof, and then "LitNodeClient.getEncryptionKey" to get the key.  If you want to see an example, check out the implementation of "toggleLock" which does all those operations and then calls this function at the end (unlockLitWithKey)

### Parameters

*   `params` **[Object][50]** 

    *   `params.symmetricKey` **[Object][50]** The decryption key obtained by calling "LitNodeClient.getEncryptionKey"

Returns **[promise][56]** A promise that will resolve when the LIT is unlocked

[1]: #welcome

[2]: #mintlit

[3]: #parameters

[4]: #litnodeclient

[5]: #parameters-1

[6]: #getencryptionkey

[7]: #parameters-2

[8]: #saveencryptionkey

[9]: #parameters-3

[10]: #createhtmllit

[11]: #parameters-4

[12]: #togglelock

[13]: #encryption-and-decryption-utilities

[14]: #zipandencryptstring

[15]: #parameters-5

[16]: #zipandencryptfiles

[17]: #parameters-6

[18]: #encryptzip

[19]: #parameters-7

[20]: #decryptzip

[21]: #parameters-8

[22]: #decryptwithsymmetrickey

[23]: #parameters-9

[24]: #encryptwithsymmetrickey

[25]: #parameters-10

[26]: #encryptwithpubkey

[27]: #parameters-11

[28]: #decryptwithprivkey

[29]: #parameters-12

[30]: #other-utilities

[31]: #filetodataurl

[32]: #parameters-13

[33]: #checkandsignauthmessage

[34]: #parameters-14

[35]: #types

[36]: #authsig

[37]: #properties

[38]: #litchain

[39]: #properties-1

[40]: #lit_chains

[41]: #injectvieweriframe

[42]: #parameters-15

[43]: #findlits

[44]: #parameters-16

[45]: #sendlit

[46]: #parameters-17

[47]: #unlocklitwithkey

[48]: #parameters-18

[49]: https://github.com/LIT-Protocol/lit-js-sdk/blob/main/README.md

[50]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[51]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[52]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[53]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[54]: #authsig

[55]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[56]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[57]: https://developer.mozilla.org/docs/Web/API/Blob

[58]: #litchain
