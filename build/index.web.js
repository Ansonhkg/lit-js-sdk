var LitJsSdk=(()=>{var n0e=Object.create,B6=Object.defineProperty;var s0e=Object.getOwnPropertyDescriptor;var o0e=Object.getOwnPropertyNames;var a0e=Object.getPrototypeOf,f0e=Object.prototype.hasOwnProperty;var c0e=r=>B6(r,"__esModule",{value:!0});var ia=r=>{if(typeof require!="undefined")return require(r);throw new Error('Dynamic require of "'+r+'" is not supported')};var eI=(r,e)=>()=>(r&&(e=r(r=0)),e),M=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),tI=(r,e)=>{for(var t in e)B6(r,t,{get:e[t],enumerable:!0})},u0e=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of o0e(e))!f0e.call(r,i)&&i!=="default"&&B6(r,i,{get:()=>e[i],enumerable:!(t=s0e(e,i))||t.enumerable});return r},wr=r=>u0e(c0e(B6(r!=null?n0e(a0e(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var iI=M((JOe,R8)=>{var rI=function(r){"use strict";var e=Object.prototype,t=e.hasOwnProperty,i,n=typeof Symbol=="function"?Symbol:{},s=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function f(y,g,m){return Object.defineProperty(y,g,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[g]}try{f({},"")}catch(y){f=function(g,m,b){return g[m]=b}}function c(y,g,m,b){var A=g&&g.prototype instanceof L?g:L,I=Object.create(A.prototype),p=new v(b||[]);return I._invoke=K(y,m,p),I}r.wrap=c;function l(y,g,m){try{return{type:"normal",arg:y.call(g,m)}}catch(b){return{type:"throw",arg:b}}}var h="suspendedStart",x="suspendedYield",_="executing",E="completed",C={};function L(){}function O(){}function W(){}var ee={};ee[s]=function(){return this};var N=Object.getPrototypeOf,V=N&&N(N(u([])));V&&V!==e&&t.call(V,s)&&(ee=V);var z=W.prototype=L.prototype=Object.create(ee);O.prototype=z.constructor=W,W.constructor=O,O.displayName=f(W,a,"GeneratorFunction");function F(y){["next","throw","return"].forEach(function(g){f(y,g,function(m){return this._invoke(g,m)})})}r.isGeneratorFunction=function(y){var g=typeof y=="function"&&y.constructor;return g?g===O||(g.displayName||g.name)==="GeneratorFunction":!1},r.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,W):(y.__proto__=W,f(y,a,"GeneratorFunction")),y.prototype=Object.create(z),y},r.awrap=function(y){return{__await:y}};function H(y,g){function m(I,p,B,ce){var R=l(y[I],y,p);if(R.type==="throw")ce(R.arg);else{var fe=R.arg,se=fe.value;return se&&typeof se=="object"&&t.call(se,"__await")?g.resolve(se.__await).then(function(U){m("next",U,B,ce)},function(U){m("throw",U,B,ce)}):g.resolve(se).then(function(U){fe.value=U,B(fe)},function(U){return m("throw",U,B,ce)})}}var b;function A(I,p){function B(){return new g(function(ce,R){m(I,p,ce,R)})}return b=b?b.then(B,B):B()}this._invoke=A}F(H.prototype),H.prototype[o]=function(){return this},r.AsyncIterator=H,r.async=function(y,g,m,b,A){A===void 0&&(A=Promise);var I=new H(c(y,g,m,b),A);return r.isGeneratorFunction(g)?I:I.next().then(function(p){return p.done?p.value:I.next()})};function K(y,g,m){var b=h;return function(I,p){if(b===_)throw new Error("Generator is already running");if(b===E){if(I==="throw")throw p;return d()}for(m.method=I,m.arg=p;;){var B=m.delegate;if(B){var ce=S(B,m);if(ce){if(ce===C)continue;return ce}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(b===h)throw b=E,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);b=_;var R=l(y,g,m);if(R.type==="normal"){if(b=m.done?E:x,R.arg===C)continue;return{value:R.arg,done:m.done}}else R.type==="throw"&&(b=E,m.method="throw",m.arg=R.arg)}}}function S(y,g){var m=y.iterator[g.method];if(m===i){if(g.delegate=null,g.method==="throw"){if(y.iterator.return&&(g.method="return",g.arg=i,S(y,g),g.method==="throw"))return C;g.method="throw",g.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var b=l(m,y.iterator,g.arg);if(b.type==="throw")return g.method="throw",g.arg=b.arg,g.delegate=null,C;var A=b.arg;if(!A)return g.method="throw",g.arg=new TypeError("iterator result is not an object"),g.delegate=null,C;if(A.done)g[y.resultName]=A.value,g.next=y.nextLoc,g.method!=="return"&&(g.method="next",g.arg=i);else return A;return g.delegate=null,C}F(z),f(z,a,"Generator"),z[s]=function(){return this},z.toString=function(){return"[object Generator]"};function w(y){var g={tryLoc:y[0]};1 in y&&(g.catchLoc=y[1]),2 in y&&(g.finallyLoc=y[2],g.afterLoc=y[3]),this.tryEntries.push(g)}function T(y){var g=y.completion||{};g.type="normal",delete g.arg,y.completion=g}function v(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(w,this),this.reset(!0)}r.keys=function(y){var g=[];for(var m in y)g.push(m);return g.reverse(),function b(){for(;g.length;){var A=g.pop();if(A in y)return b.value=A,b.done=!1,b}return b.done=!0,b}};function u(y){if(y){var g=y[s];if(g)return g.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,b=function A(){for(;++m<y.length;)if(t.call(y,m))return A.value=y[m],A.done=!1,A;return A.value=i,A.done=!0,A};return b.next=b}}return{next:d}}r.values=u;function d(){return{value:i,done:!0}}return v.prototype={constructor:v,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(T),!y)for(var g in this)g.charAt(0)==="t"&&t.call(this,g)&&!isNaN(+g.slice(1))&&(this[g]=i)},stop:function(){this.done=!0;var y=this.tryEntries[0],g=y.completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var g=this;function m(ce,R){return I.type="throw",I.arg=y,g.next=ce,R&&(g.method="next",g.arg=i),!!R}for(var b=this.tryEntries.length-1;b>=0;--b){var A=this.tryEntries[b],I=A.completion;if(A.tryLoc==="root")return m("end");if(A.tryLoc<=this.prev){var p=t.call(A,"catchLoc"),B=t.call(A,"finallyLoc");if(p&&B){if(this.prev<A.catchLoc)return m(A.catchLoc,!0);if(this.prev<A.finallyLoc)return m(A.finallyLoc)}else if(p){if(this.prev<A.catchLoc)return m(A.catchLoc,!0)}else if(B){if(this.prev<A.finallyLoc)return m(A.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(y,g){for(var m=this.tryEntries.length-1;m>=0;--m){var b=this.tryEntries[m];if(b.tryLoc<=this.prev&&t.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var A=b;break}}A&&(y==="break"||y==="continue")&&A.tryLoc<=g&&g<=A.finallyLoc&&(A=null);var I=A?A.completion:{};return I.type=y,I.arg=g,A?(this.method="next",this.next=A.finallyLoc,C):this.complete(I)},complete:function(y,g){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&g&&(this.next=g),C},finish:function(y){for(var g=this.tryEntries.length-1;g>=0;--g){var m=this.tryEntries[g];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),T(m),C}},catch:function(y){for(var g=this.tryEntries.length-1;g>=0;--g){var m=this.tryEntries[g];if(m.tryLoc===y){var b=m.completion;if(b.type==="throw"){var A=b.arg;T(m)}return A}}throw new Error("illegal catch attempt")},delegateYield:function(y,g,m){return this.delegate={iterator:u(y),resultName:g,nextLoc:m},this.method==="next"&&(this.arg=i),C}},r}(typeof R8=="object"?R8.exports:{});try{regeneratorRuntime=rI}catch(r){Function("r","regeneratorRuntime = r")(rI)}});var sI=M((nI,N8)=>{(function(r){typeof nI=="object"&&typeof N8!="undefined"?N8.exports=r():typeof define=="function"&&define.amd?define([],r):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).JSZip=r()})(function(){return function r(e,t,i){function n(a,f){if(!t[a]){if(!e[a]){var c=typeof ia=="function"&&ia;if(!f&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var h=t[a]={exports:{}};e[a][0].call(h.exports,function(x){var _=e[a][1][x];return n(_||x)},h,h.exports,r,e,t,i)}return t[a].exports}for(var s=typeof ia=="function"&&ia,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(r,e,t){(function(i){(function(n){typeof t=="object"&&e!==void 0?e.exports=n():(typeof window!="undefined"?window:i!==void 0?i:typeof self!="undefined"?self:this).JSZip=n()})(function(){return function n(s,o,a){function f(h,x){if(!o[h]){if(!s[h]){var _=typeof r=="function"&&r;if(!x&&_)return _(h,!0);if(c)return c(h,!0);var E=new Error("Cannot find module '"+h+"'");throw E.code="MODULE_NOT_FOUND",E}var C=o[h]={exports:{}};s[h][0].call(C.exports,function(L){return f(s[h][1][L]||L)},C,C.exports,n,s,o,a)}return o[h].exports}for(var c=typeof r=="function"&&r,l=0;l<a.length;l++)f(a[l]);return f}({1:[function(n,s,o){(function(a){(function(f){typeof o=="object"&&s!==void 0?s.exports=f():(typeof window!="undefined"?window:a!==void 0?a:typeof self!="undefined"?self:this).JSZip=f()})(function(){return function f(c,l,h){function x(C,L){if(!l[C]){if(!c[C]){var O=typeof n=="function"&&n;if(!L&&O)return O(C,!0);if(_)return _(C,!0);var W=new Error("Cannot find module '"+C+"'");throw W.code="MODULE_NOT_FOUND",W}var ee=l[C]={exports:{}};c[C][0].call(ee.exports,function(N){return x(c[C][1][N]||N)},ee,ee.exports,f,c,l,h)}return l[C].exports}for(var _=typeof n=="function"&&n,E=0;E<h.length;E++)x(h[E]);return x}({1:[function(f,c,l){(function(h){(function(x){typeof l=="object"&&c!==void 0?c.exports=x():(typeof window!="undefined"?window:h!==void 0?h:typeof self!="undefined"?self:this).JSZip=x()})(function(){return function x(_,E,C){function L(ee,N){if(!E[ee]){if(!_[ee]){var V=typeof f=="function"&&f;if(!N&&V)return V(ee,!0);if(O)return O(ee,!0);var z=new Error("Cannot find module '"+ee+"'");throw z.code="MODULE_NOT_FOUND",z}var F=E[ee]={exports:{}};_[ee][0].call(F.exports,function(H){return L(_[ee][1][H]||H)},F,F.exports,x,_,E,C)}return E[ee].exports}for(var O=typeof f=="function"&&f,W=0;W<C.length;W++)L(C[W]);return L}({1:[function(x,_,E){(function(C){(function(L){typeof E=="object"&&_!==void 0?_.exports=L():(typeof window!="undefined"?window:C!==void 0?C:typeof self!="undefined"?self:this).JSZip=L()})(function(){return function L(O,W,ee){function N(F,H){if(!W[F]){if(!O[F]){var K=typeof x=="function"&&x;if(!H&&K)return K(F,!0);if(V)return V(F,!0);var S=new Error("Cannot find module '"+F+"'");throw S.code="MODULE_NOT_FOUND",S}var w=W[F]={exports:{}};O[F][0].call(w.exports,function(T){return N(O[F][1][T]||T)},w,w.exports,L,O,W,ee)}return W[F].exports}for(var V=typeof x=="function"&&x,z=0;z<ee.length;z++)N(ee[z]);return N}({1:[function(L,O,W){(function(ee){(function(N){typeof W=="object"&&O!==void 0?O.exports=N():(typeof window!="undefined"?window:ee!==void 0?ee:typeof self!="undefined"?self:this).JSZip=N()})(function(){return function N(V,z,F){function H(w,T){if(!z[w]){if(!V[w]){var v=typeof L=="function"&&L;if(!T&&v)return v(w,!0);if(K)return K(w,!0);var u=new Error("Cannot find module '"+w+"'");throw u.code="MODULE_NOT_FOUND",u}var d=z[w]={exports:{}};V[w][0].call(d.exports,function(y){return H(V[w][1][y]||y)},d,d.exports,N,V,z,F)}return z[w].exports}for(var K=typeof L=="function"&&L,S=0;S<F.length;S++)H(F[S]);return H}({1:[function(N,V,z){"use strict";var F=N("./utils"),H=N("./support"),K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";z.encode=function(S){for(var w,T,v,u,d,y,g,m=[],b=0,A=S.length,I=A,p=F.getTypeOf(S)!=="string";b<S.length;)I=A-b,v=p?(w=S[b++],T=b<A?S[b++]:0,b<A?S[b++]:0):(w=S.charCodeAt(b++),T=b<A?S.charCodeAt(b++):0,b<A?S.charCodeAt(b++):0),u=w>>2,d=(3&w)<<4|T>>4,y=1<I?(15&T)<<2|v>>6:64,g=2<I?63&v:64,m.push(K.charAt(u)+K.charAt(d)+K.charAt(y)+K.charAt(g));return m.join("")},z.decode=function(S){var w,T,v,u,d,y,g=0,m=0;if(S.substr(0,"data:".length)==="data:")throw new Error("Invalid base64 input, it looks like a data url.");var b,A=3*(S=S.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(S.charAt(S.length-1)===K.charAt(64)&&A--,S.charAt(S.length-2)===K.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=H.uint8array?new Uint8Array(0|A):new Array(0|A);g<S.length;)w=K.indexOf(S.charAt(g++))<<2|(u=K.indexOf(S.charAt(g++)))>>4,T=(15&u)<<4|(d=K.indexOf(S.charAt(g++)))>>2,v=(3&d)<<6|(y=K.indexOf(S.charAt(g++))),b[m++]=w,d!==64&&(b[m++]=T),y!==64&&(b[m++]=v);return b}},{"./support":30,"./utils":32}],2:[function(N,V,z){"use strict";var F=N("./external"),H=N("./stream/DataWorker"),K=N("./stream/Crc32Probe"),S=N("./stream/DataLengthProbe");function w(T,v,u,d,y){this.compressedSize=T,this.uncompressedSize=v,this.crc32=u,this.compression=d,this.compressedContent=y}w.prototype={getContentWorker:function(){var T=new H(F.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new S("data_length")),v=this;return T.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),T},getCompressedWorker:function(){return new H(F.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},w.createWorkerFrom=function(T,v,u){return T.pipe(new K).pipe(new S("uncompressedSize")).pipe(v.compressWorker(u)).pipe(new S("compressedSize")).withStreamInfo("compression",v)},V.exports=w},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(N,V,z){"use strict";var F=N("./stream/GenericWorker");z.STORE={magic:"\0\0",compressWorker:function(H){return new F("STORE compression")},uncompressWorker:function(){return new F("STORE decompression")}},z.DEFLATE=N("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(N,V,z){"use strict";var F=N("./utils"),H=function(){for(var K,S=[],w=0;w<256;w++){K=w;for(var T=0;T<8;T++)K=1&K?3988292384^K>>>1:K>>>1;S[w]=K}return S}();V.exports=function(K,S){return K!==void 0&&K.length?F.getTypeOf(K)!=="string"?function(w,T,v){var u=H,d=0+v;w^=-1;for(var y=0;y<d;y++)w=w>>>8^u[255&(w^T[y])];return-1^w}(0|S,K,K.length):function(w,T,v){var u=H,d=0+v;w^=-1;for(var y=0;y<d;y++)w=w>>>8^u[255&(w^T.charCodeAt(y))];return-1^w}(0|S,K,K.length):0}},{"./utils":32}],5:[function(N,V,z){"use strict";z.base64=!1,z.binary=!1,z.dir=!1,z.createFolders=!0,z.date=null,z.compression=null,z.compressionOptions=null,z.comment=null,z.unixPermissions=null,z.dosPermissions=null},{}],6:[function(N,V,z){"use strict";var F;F=typeof Promise!="undefined"?Promise:N("lie"),V.exports={Promise:F}},{lie:37}],7:[function(N,V,z){"use strict";var F=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",H=N("pako"),K=N("./utils"),S=N("./stream/GenericWorker"),w=F?"uint8array":"array";function T(v,u){S.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=u,this.meta={}}z.magic="\b\0",K.inherits(T,S),T.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(K.transformTo(w,v.data),!1)},T.prototype.flush=function(){S.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},T.prototype.cleanUp=function(){S.prototype.cleanUp.call(this),this._pako=null},T.prototype._createPako=function(){this._pako=new H[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(u){v.push({data:u,meta:v.meta})}},z.compressWorker=function(v){return new T("Deflate",v)},z.uncompressWorker=function(){return new T("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(N,V,z){"use strict";function F(d,y){var g,m="";for(g=0;g<y;g++)m+=String.fromCharCode(255&d),d>>>=8;return m}function H(d,y,g,m,b,A){var I,p,B=d.file,ce=d.compression,R=A!==w.utf8encode,fe=K.transformTo("string",A(B.name)),se=K.transformTo("string",w.utf8encode(B.name)),U=B.comment,Z=K.transformTo("string",A(U)),j=K.transformTo("string",w.utf8encode(U)),J=se.length!==B.name.length,k=j.length!==U.length,$="",X="",Y="",ve=B.dir,ue=B.date,ge={crc32:0,compressedSize:0,uncompressedSize:0};y&&!g||(ge.crc32=d.crc32,ge.compressedSize=d.compressedSize,ge.uncompressedSize=d.uncompressedSize);var xe=0;y&&(xe|=8),R||!J&&!k||(xe|=2048);var we,Me=0,pe=0;ve&&(Me|=16),b==="UNIX"?(pe=798,Me|=((we=B.unixPermissions)||(we=ve?16893:33204),(65535&we)<<16)):(pe=20,Me|=63&(B.dosPermissions||0)),I=ue.getUTCHours(),I<<=6,I|=ue.getUTCMinutes(),I<<=5,I|=ue.getUTCSeconds()/2,p=ue.getUTCFullYear()-1980,p<<=4,p|=ue.getUTCMonth()+1,p<<=5,p|=ue.getUTCDate(),J&&($+="up"+F((X=F(1,1)+F(T(fe),4)+se).length,2)+X),k&&($+="uc"+F((Y=F(1,1)+F(T(Z),4)+j).length,2)+Y);var be="";return be+=`
\0`,be+=F(xe,2),be+=ce.magic,be+=F(I,2),be+=F(p,2),be+=F(ge.crc32,4),be+=F(ge.compressedSize,4),be+=F(ge.uncompressedSize,4),be+=F(fe.length,2),be+=F($.length,2),{fileRecord:v.LOCAL_FILE_HEADER+be+fe+$,dirRecord:v.CENTRAL_FILE_HEADER+F(pe,2)+be+F(Z.length,2)+"\0\0\0\0"+F(Me,4)+F(m,4)+fe+$+Z}}var K=N("../utils"),S=N("../stream/GenericWorker"),w=N("../utf8"),T=N("../crc32"),v=N("../signature");function u(d,y,g,m){S.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=g,this.encodeFileName=m,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}K.inherits(u,S),u.prototype.push=function(d){var y=d.meta.percent||0,g=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,S.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:g?(y+100*(g-m-1))/g:100}}))},u.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var y=this.streamFiles&&!d.file.dir;if(y){var g=H(d,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(d){this.accumulate=!1;var y,g=this.streamFiles&&!d.file.dir,m=H(d,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),g)this.push({data:(y=d,v.DATA_DESCRIPTOR+F(y.crc32,4)+F(y.compressedSize,4)+F(y.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var d=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var g,m,b,A,I,p,B=this.bytesWritten-d,ce=(g=this.dirRecords.length,m=B,b=d,A=this.zipComment,I=this.encodeFileName,p=K.transformTo("string",I(A)),v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+F(g,2)+F(g,2)+F(m,4)+F(b,4)+F(p.length,2)+p);this.push({data:ce,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(d){this._sources.push(d);var y=this;return d.on("data",function(g){y.processChunk(g)}),d.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),d.on("error",function(g){y.error(g)}),this},u.prototype.resume=function(){return!!S.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(d){var y=this._sources;if(!S.prototype.error.call(this,d))return!1;for(var g=0;g<y.length;g++)try{y[g].error(d)}catch(m){}return!0},u.prototype.lock=function(){S.prototype.lock.call(this);for(var d=this._sources,y=0;y<d.length;y++)d[y].lock()},V.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(N,V,z){"use strict";var F=N("../compressions"),H=N("./ZipFileWorker");z.generateWorker=function(K,S,w){var T=new H(S.streamFiles,w,S.platform,S.encodeFileName),v=0;try{K.forEach(function(u,d){v++;var y=function(A,I){var p=A||I,B=F[p];if(!B)throw new Error(p+" is not a valid compression method !");return B}(d.options.compression,S.compression),g=d.options.compressionOptions||S.compressionOptions||{},m=d.dir,b=d.date;d._compressWorker(y,g).withStreamInfo("file",{name:u,dir:m,date:b,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(T)}),T.entriesCount=v}catch(u){T.error(u)}return T}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(N,V,z){"use strict";function F(){if(!(this instanceof F))return new F;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var H=new F;for(var K in this)typeof this[K]!="function"&&(H[K]=this[K]);return H}}(F.prototype=N("./object")).loadAsync=N("./load"),F.support=N("./support"),F.defaults=N("./defaults"),F.version="3.5.0",F.loadAsync=function(H,K){return new F().loadAsync(H,K)},F.external=N("./external"),V.exports=F},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(N,V,z){"use strict";var F=N("./utils"),H=N("./external"),K=N("./utf8"),S=N("./zipEntries"),w=N("./stream/Crc32Probe"),T=N("./nodejsUtils");function v(u){return new H.Promise(function(d,y){var g=u.decompressed.getContentWorker().pipe(new w);g.on("error",function(m){y(m)}).on("end",function(){g.streamInfo.crc32!==u.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}V.exports=function(u,d){var y=this;return d=F.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:K.utf8decode}),T.isNode&&T.isStream(u)?H.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):F.prepareContent("the loaded zip file",u,!0,d.optimizedBinaryString,d.base64).then(function(g){var m=new S(d);return m.load(g),m}).then(function(g){var m=[H.Promise.resolve(g)],b=g.files;if(d.checkCRC32)for(var A=0;A<b.length;A++)m.push(v(b[A]));return H.Promise.all(m)}).then(function(g){for(var m=g.shift(),b=m.files,A=0;A<b.length;A++){var I=b[A];y.file(I.fileNameStr,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:d.createFolders})}return m.zipComment.length&&(y.comment=m.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(N,V,z){"use strict";var F=N("../utils"),H=N("../stream/GenericWorker");function K(S,w){H.call(this,"Nodejs stream input adapter for "+S),this._upstreamEnded=!1,this._bindStream(w)}F.inherits(K,H),K.prototype._bindStream=function(S){var w=this;(this._stream=S).pause(),S.on("data",function(T){w.push({data:T,meta:{percent:0}})}).on("error",function(T){w.isPaused?this.generatedError=T:w.error(T)}).on("end",function(){w.isPaused?w._upstreamEnded=!0:w.end()})},K.prototype.pause=function(){return!!H.prototype.pause.call(this)&&(this._stream.pause(),!0)},K.prototype.resume=function(){return!!H.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},V.exports=K},{"../stream/GenericWorker":28,"../utils":32}],13:[function(N,V,z){"use strict";var F=N("readable-stream").Readable;function H(K,S,w){F.call(this,S),this._helper=K;var T=this;K.on("data",function(v,u){T.push(v)||T._helper.pause(),w&&w(u)}).on("error",function(v){T.emit("error",v)}).on("end",function(){T.push(null)})}N("../utils").inherits(H,F),H.prototype._read=function(){this._helper.resume()},V.exports=H},{"../utils":32,"readable-stream":16}],14:[function(N,V,z){"use strict";V.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(F,H){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(F,H);if(typeof F=="number")throw new Error('The "data" argument must not be a number');return new Buffer(F,H)},allocBuffer:function(F){if(Buffer.alloc)return Buffer.alloc(F);var H=new Buffer(F);return H.fill(0),H},isBuffer:function(F){return Buffer.isBuffer(F)},isStream:function(F){return F&&typeof F.on=="function"&&typeof F.pause=="function"&&typeof F.resume=="function"}}},{}],15:[function(N,V,z){"use strict";function F(p,B,ce){var R,fe=S.getTypeOf(B),se=S.extend(ce||{},v);se.date=se.date||new Date,se.compression!==null&&(se.compression=se.compression.toUpperCase()),typeof se.unixPermissions=="string"&&(se.unixPermissions=parseInt(se.unixPermissions,8)),se.unixPermissions&&16384&se.unixPermissions&&(se.dir=!0),se.dosPermissions&&16&se.dosPermissions&&(se.dir=!0),se.dir&&(p=H(p)),se.createFolders&&(R=function(J){J.slice(-1)==="/"&&(J=J.substring(0,J.length-1));var k=J.lastIndexOf("/");return 0<k?J.substring(0,k):""}(p))&&b.call(this,R,!0);var U,Z=fe==="string"&&se.binary===!1&&se.base64===!1;ce&&ce.binary!==void 0||(se.binary=!Z),(B instanceof u&&B.uncompressedSize===0||se.dir||!B||B.length===0)&&(se.base64=!1,se.binary=!0,B="",se.compression="STORE",fe="string"),U=B instanceof u||B instanceof w?B:g.isNode&&g.isStream(B)?new m(p,B):S.prepareContent(p,B,se.binary,se.optimizedBinaryString,se.base64);var j=new d(p,U,se);this.files[p]=j}function H(p){return p.slice(-1)!=="/"&&(p+="/"),p}var K=N("./utf8"),S=N("./utils"),w=N("./stream/GenericWorker"),T=N("./stream/StreamHelper"),v=N("./defaults"),u=N("./compressedObject"),d=N("./zipObject"),y=N("./generate"),g=N("./nodejsUtils"),m=N("./nodejs/NodejsStreamInputAdapter"),b=function(p,B){return B=B!==void 0?B:v.createFolders,p=H(p),this.files[p]||F.call(this,p,null,{dir:!0,createFolders:B}),this.files[p]};function A(p){return Object.prototype.toString.call(p)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(p){var B,ce,R;for(B in this.files)this.files.hasOwnProperty(B)&&(R=this.files[B],(ce=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&p(ce,R))},filter:function(p){var B=[];return this.forEach(function(ce,R){p(ce,R)&&B.push(R)}),B},file:function(p,B,ce){if(arguments.length!==1)return p=this.root+p,F.call(this,p,B,ce),this;if(A(p)){var R=p;return this.filter(function(se,U){return!U.dir&&R.test(se)})}var fe=this.files[this.root+p];return fe&&!fe.dir?fe:null},folder:function(p){if(!p)return this;if(A(p))return this.filter(function(fe,se){return se.dir&&p.test(fe)});var B=this.root+p,ce=b.call(this,B),R=this.clone();return R.root=ce.name,R},remove:function(p){p=this.root+p;var B=this.files[p];if(B||(p.slice(-1)!=="/"&&(p+="/"),B=this.files[p]),B&&!B.dir)delete this.files[p];else for(var ce=this.filter(function(fe,se){return se.name.slice(0,p.length)===p}),R=0;R<ce.length;R++)delete this.files[ce[R].name];return this},generate:function(p){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(p){var B,ce={};try{if((ce=S.extend(p||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:K.utf8encode})).type=ce.type.toLowerCase(),ce.compression=ce.compression.toUpperCase(),ce.type==="binarystring"&&(ce.type="string"),!ce.type)throw new Error("No output type specified.");S.checkSupport(ce.type),ce.platform!=="darwin"&&ce.platform!=="freebsd"&&ce.platform!=="linux"&&ce.platform!=="sunos"||(ce.platform="UNIX"),ce.platform==="win32"&&(ce.platform="DOS");var R=ce.comment||this.comment||"";B=y.generateWorker(this,ce,R)}catch(fe){(B=new w("error")).error(fe)}return new T(B,ce.type||"string",ce.mimeType)},generateAsync:function(p,B){return this.generateInternalStream(p).accumulate(B)},generateNodeStream:function(p,B){return(p=p||{}).type||(p.type="nodebuffer"),this.generateInternalStream(p).toNodejsStream(B)}};V.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(N,V,z){V.exports=N("stream")},{stream:void 0}],17:[function(N,V,z){"use strict";var F=N("./DataReader");function H(K){F.call(this,K);for(var S=0;S<this.data.length;S++)K[S]=255&K[S]}N("../utils").inherits(H,F),H.prototype.byteAt=function(K){return this.data[this.zero+K]},H.prototype.lastIndexOfSignature=function(K){for(var S=K.charCodeAt(0),w=K.charCodeAt(1),T=K.charCodeAt(2),v=K.charCodeAt(3),u=this.length-4;0<=u;--u)if(this.data[u]===S&&this.data[u+1]===w&&this.data[u+2]===T&&this.data[u+3]===v)return u-this.zero;return-1},H.prototype.readAndCheckSignature=function(K){var S=K.charCodeAt(0),w=K.charCodeAt(1),T=K.charCodeAt(2),v=K.charCodeAt(3),u=this.readData(4);return S===u[0]&&w===u[1]&&T===u[2]&&v===u[3]},H.prototype.readData=function(K){if(this.checkOffset(K),K===0)return[];var S=this.data.slice(this.zero+this.index,this.zero+this.index+K);return this.index+=K,S},V.exports=H},{"../utils":32,"./DataReader":18}],18:[function(N,V,z){"use strict";var F=N("../utils");function H(K){this.data=K,this.length=K.length,this.index=0,this.zero=0}H.prototype={checkOffset:function(K){this.checkIndex(this.index+K)},checkIndex:function(K){if(this.length<this.zero+K||K<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+K+"). Corrupted zip ?")},setIndex:function(K){this.checkIndex(K),this.index=K},skip:function(K){this.setIndex(this.index+K)},byteAt:function(K){},readInt:function(K){var S,w=0;for(this.checkOffset(K),S=this.index+K-1;S>=this.index;S--)w=(w<<8)+this.byteAt(S);return this.index+=K,w},readString:function(K){return F.transformTo("string",this.readData(K))},readData:function(K){},lastIndexOfSignature:function(K){},readAndCheckSignature:function(K){},readDate:function(){var K=this.readInt(4);return new Date(Date.UTC(1980+(K>>25&127),(K>>21&15)-1,K>>16&31,K>>11&31,K>>5&63,(31&K)<<1))}},V.exports=H},{"../utils":32}],19:[function(N,V,z){"use strict";var F=N("./Uint8ArrayReader");function H(K){F.call(this,K)}N("../utils").inherits(H,F),H.prototype.readData=function(K){this.checkOffset(K);var S=this.data.slice(this.zero+this.index,this.zero+this.index+K);return this.index+=K,S},V.exports=H},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(N,V,z){"use strict";var F=N("./DataReader");function H(K){F.call(this,K)}N("../utils").inherits(H,F),H.prototype.byteAt=function(K){return this.data.charCodeAt(this.zero+K)},H.prototype.lastIndexOfSignature=function(K){return this.data.lastIndexOf(K)-this.zero},H.prototype.readAndCheckSignature=function(K){return K===this.readData(4)},H.prototype.readData=function(K){this.checkOffset(K);var S=this.data.slice(this.zero+this.index,this.zero+this.index+K);return this.index+=K,S},V.exports=H},{"../utils":32,"./DataReader":18}],21:[function(N,V,z){"use strict";var F=N("./ArrayReader");function H(K){F.call(this,K)}N("../utils").inherits(H,F),H.prototype.readData=function(K){if(this.checkOffset(K),K===0)return new Uint8Array(0);var S=this.data.subarray(this.zero+this.index,this.zero+this.index+K);return this.index+=K,S},V.exports=H},{"../utils":32,"./ArrayReader":17}],22:[function(N,V,z){"use strict";var F=N("../utils"),H=N("../support"),K=N("./ArrayReader"),S=N("./StringReader"),w=N("./NodeBufferReader"),T=N("./Uint8ArrayReader");V.exports=function(v){var u=F.getTypeOf(v);return F.checkSupport(u),u!=="string"||H.uint8array?u==="nodebuffer"?new w(v):H.uint8array?new T(F.transformTo("uint8array",v)):new K(F.transformTo("array",v)):new S(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(N,V,z){"use strict";z.LOCAL_FILE_HEADER="PK",z.CENTRAL_FILE_HEADER="PK",z.CENTRAL_DIRECTORY_END="PK",z.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",z.ZIP64_CENTRAL_DIRECTORY_END="PK",z.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(N,V,z){"use strict";var F=N("./GenericWorker"),H=N("../utils");function K(S){F.call(this,"ConvertWorker to "+S),this.destType=S}H.inherits(K,F),K.prototype.processChunk=function(S){this.push({data:H.transformTo(this.destType,S.data),meta:S.meta})},V.exports=K},{"../utils":32,"./GenericWorker":28}],25:[function(N,V,z){"use strict";var F=N("./GenericWorker"),H=N("../crc32");function K(){F.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}N("../utils").inherits(K,F),K.prototype.processChunk=function(S){this.streamInfo.crc32=H(S.data,this.streamInfo.crc32||0),this.push(S)},V.exports=K},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(N,V,z){"use strict";var F=N("../utils"),H=N("./GenericWorker");function K(S){H.call(this,"DataLengthProbe for "+S),this.propName=S,this.withStreamInfo(S,0)}F.inherits(K,H),K.prototype.processChunk=function(S){if(S){var w=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=w+S.data.length}H.prototype.processChunk.call(this,S)},V.exports=K},{"../utils":32,"./GenericWorker":28}],27:[function(N,V,z){"use strict";var F=N("../utils"),H=N("./GenericWorker");function K(S){H.call(this,"DataWorker");var w=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,S.then(function(T){w.dataIsReady=!0,w.data=T,w.max=T&&T.length||0,w.type=F.getTypeOf(T),w.isPaused||w._tickAndRepeat()},function(T){w.error(T)})}F.inherits(K,H),K.prototype.cleanUp=function(){H.prototype.cleanUp.call(this),this.data=null},K.prototype.resume=function(){return!!H.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,F.delay(this._tickAndRepeat,[],this)),!0)},K.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(F.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},K.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var S=null,w=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":S=this.data.substring(this.index,w);break;case"uint8array":S=this.data.subarray(this.index,w);break;case"array":case"nodebuffer":S=this.data.slice(this.index,w)}return this.index=w,this.push({data:S,meta:{percent:this.max?this.index/this.max*100:0}})},V.exports=K},{"../utils":32,"./GenericWorker":28}],28:[function(N,V,z){"use strict";function F(H){this.name=H||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}F.prototype={push:function(H){this.emit("data",H)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(H){this.emit("error",H)}return!0},error:function(H){return!this.isFinished&&(this.isPaused?this.generatedError=H:(this.isFinished=!0,this.emit("error",H),this.previous&&this.previous.error(H),this.cleanUp()),!0)},on:function(H,K){return this._listeners[H].push(K),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(H,K){if(this._listeners[H])for(var S=0;S<this._listeners[H].length;S++)this._listeners[H][S].call(this,K)},pipe:function(H){return H.registerPrevious(this)},registerPrevious:function(H){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=H.streamInfo,this.mergeStreamInfo(),this.previous=H;var K=this;return H.on("data",function(S){K.processChunk(S)}),H.on("end",function(){K.end()}),H.on("error",function(S){K.error(S)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var H=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),H=!0),this.previous&&this.previous.resume(),!H},flush:function(){},processChunk:function(H){this.push(H)},withStreamInfo:function(H,K){return this.extraStreamInfo[H]=K,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var H in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(H)&&(this.streamInfo[H]=this.extraStreamInfo[H])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var H="Worker "+this.name;return this.previous?this.previous+" -> "+H:H}},V.exports=F},{}],29:[function(N,V,z){"use strict";var F=N("../utils"),H=N("./ConvertWorker"),K=N("./GenericWorker"),S=N("../base64"),w=N("../support"),T=N("../external"),v=null;if(w.nodestream)try{v=N("../nodejs/NodejsStreamOutputAdapter")}catch(d){}function u(d,y,g){var m=y;switch(y){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=y,this._mimeType=g,F.checkSupport(m),this._worker=d.pipe(new H(m)),d.lock()}catch(b){this._worker=new K("error"),this._worker.error(b)}}u.prototype={accumulate:function(d){return y=this,g=d,new T.Promise(function(m,b){var A=[],I=y._internalType,p=y._outputType,B=y._mimeType;y.on("data",function(ce,R){A.push(ce),g&&g(R)}).on("error",function(ce){A=[],b(ce)}).on("end",function(){try{var ce=function(R,fe,se){switch(R){case"blob":return F.newBlob(F.transformTo("arraybuffer",fe),se);case"base64":return S.encode(fe);default:return F.transformTo(R,fe)}}(p,function(R,fe){var se,U=0,Z=null,j=0;for(se=0;se<fe.length;se++)j+=fe[se].length;switch(R){case"string":return fe.join("");case"array":return Array.prototype.concat.apply([],fe);case"uint8array":for(Z=new Uint8Array(j),se=0;se<fe.length;se++)Z.set(fe[se],U),U+=fe[se].length;return Z;case"nodebuffer":return Buffer.concat(fe);default:throw new Error("concat : unsupported type '"+R+"'")}}(I,A),B);m(ce)}catch(R){b(R)}A=[]}).resume()});var y,g},on:function(d,y){var g=this;return d==="data"?this._worker.on(d,function(m){y.call(g,m.data,m.meta)}):this._worker.on(d,function(){F.delay(y,arguments,g)}),this},resume:function(){return F.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(F.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},d)}},V.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(N,V,z){"use strict";if(z.base64=!0,z.array=!0,z.string=!0,z.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",z.nodebuffer=typeof Buffer!="undefined",z.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")z.blob=!1;else{var F=new ArrayBuffer(0);try{z.blob=new Blob([F],{type:"application/zip"}).size===0}catch(K){try{var H=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);H.append(F),z.blob=H.getBlob("application/zip").size===0}catch(S){z.blob=!1}}}try{z.nodestream=!!N("readable-stream").Readable}catch(K){z.nodestream=!1}},{"readable-stream":16}],31:[function(N,V,z){"use strict";for(var F=N("./utils"),H=N("./support"),K=N("./nodejsUtils"),S=N("./stream/GenericWorker"),w=new Array(256),T=0;T<256;T++)w[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function v(){S.call(this,"utf-8 decode"),this.leftOver=null}function u(){S.call(this,"utf-8 encode")}w[254]=w[254]=1,z.utf8encode=function(d){return H.nodebuffer?K.newBufferFrom(d,"utf-8"):function(y){var g,m,b,A,I,p=y.length,B=0;for(A=0;A<p;A++)(64512&(m=y.charCodeAt(A)))==55296&&A+1<p&&(64512&(b=y.charCodeAt(A+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),A++),B+=m<128?1:m<2048?2:m<65536?3:4;for(g=H.uint8array?new Uint8Array(B):new Array(B),A=I=0;I<B;A++)(64512&(m=y.charCodeAt(A)))==55296&&A+1<p&&(64512&(b=y.charCodeAt(A+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),A++),m<128?g[I++]=m:(m<2048?g[I++]=192|m>>>6:(m<65536?g[I++]=224|m>>>12:(g[I++]=240|m>>>18,g[I++]=128|m>>>12&63),g[I++]=128|m>>>6&63),g[I++]=128|63&m);return g}(d)},z.utf8decode=function(d){return H.nodebuffer?F.transformTo("nodebuffer",d).toString("utf-8"):function(y){var g,m,b,A,I=y.length,p=new Array(2*I);for(g=m=0;g<I;)if((b=y[g++])<128)p[m++]=b;else if(4<(A=w[b]))p[m++]=65533,g+=A-1;else{for(b&=A===2?31:A===3?15:7;1<A&&g<I;)b=b<<6|63&y[g++],A--;1<A?p[m++]=65533:b<65536?p[m++]=b:(b-=65536,p[m++]=55296|b>>10&1023,p[m++]=56320|1023&b)}return p.length!==m&&(p.subarray?p=p.subarray(0,m):p.length=m),F.applyFromCharCode(p)}(d=F.transformTo(H.uint8array?"uint8array":"array",d))},F.inherits(v,S),v.prototype.processChunk=function(d){var y=F.transformTo(H.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(H.uint8array){var g=y;(y=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),y.set(g,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var m=function(A,I){var p;for((I=I||A.length)>A.length&&(I=A.length),p=I-1;0<=p&&(192&A[p])==128;)p--;return p<0||p===0?I:p+w[A[p]]>I?p:I}(y),b=y;m!==y.length&&(H.uint8array?(b=y.subarray(0,m),this.leftOver=y.subarray(m,y.length)):(b=y.slice(0,m),this.leftOver=y.slice(m,y.length))),this.push({data:z.utf8decode(b),meta:d.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:z.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},z.Utf8DecodeWorker=v,F.inherits(u,S),u.prototype.processChunk=function(d){this.push({data:z.utf8encode(d.data),meta:d.meta})},z.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(N,V,z){"use strict";var F=N("./support"),H=N("./base64"),K=N("./nodejsUtils"),S=N("set-immediate-shim"),w=N("./external");function T(m){return m}function v(m,b){for(var A=0;A<m.length;++A)b[A]=255&m.charCodeAt(A);return b}z.newBlob=function(m,b){z.checkSupport("blob");try{return new Blob([m],{type:b})}catch(I){try{var A=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return A.append(m),A.getBlob(b)}catch(p){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(m,b,A){var I=[],p=0,B=m.length;if(B<=A)return String.fromCharCode.apply(null,m);for(;p<B;)b==="array"||b==="nodebuffer"?I.push(String.fromCharCode.apply(null,m.slice(p,Math.min(p+A,B)))):I.push(String.fromCharCode.apply(null,m.subarray(p,Math.min(p+A,B)))),p+=A;return I.join("")},stringifyByChar:function(m){for(var b="",A=0;A<m.length;A++)b+=String.fromCharCode(m[A]);return b},applyCanBeUsed:{uint8array:function(){try{return F.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(m){return!1}}(),nodebuffer:function(){try{return F.nodebuffer&&String.fromCharCode.apply(null,K.allocBuffer(1)).length===1}catch(m){return!1}}()}};function d(m){var b=65536,A=z.getTypeOf(m),I=!0;if(A==="uint8array"?I=u.applyCanBeUsed.uint8array:A==="nodebuffer"&&(I=u.applyCanBeUsed.nodebuffer),I)for(;1<b;)try{return u.stringifyByChunk(m,A,b)}catch(p){b=Math.floor(b/2)}return u.stringifyByChar(m)}function y(m,b){for(var A=0;A<m.length;A++)b[A]=m[A];return b}z.applyFromCharCode=d;var g={};g.string={string:T,array:function(m){return v(m,new Array(m.length))},arraybuffer:function(m){return g.string.uint8array(m).buffer},uint8array:function(m){return v(m,new Uint8Array(m.length))},nodebuffer:function(m){return v(m,K.allocBuffer(m.length))}},g.array={string:d,array:T,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return K.newBufferFrom(m)}},g.arraybuffer={string:function(m){return d(new Uint8Array(m))},array:function(m){return y(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:T,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return K.newBufferFrom(new Uint8Array(m))}},g.uint8array={string:d,array:function(m){return y(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:T,nodebuffer:function(m){return K.newBufferFrom(m)}},g.nodebuffer={string:d,array:function(m){return y(m,new Array(m.length))},arraybuffer:function(m){return g.nodebuffer.uint8array(m).buffer},uint8array:function(m){return y(m,new Uint8Array(m.length))},nodebuffer:T},z.transformTo=function(m,b){if(b=b||"",!m)return b;z.checkSupport(m);var A=z.getTypeOf(b);return g[A][m](b)},z.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":F.nodebuffer&&K.isBuffer(m)?"nodebuffer":F.uint8array&&m instanceof Uint8Array?"uint8array":F.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},z.checkSupport=function(m){if(!F[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},z.MAX_VALUE_16BITS=65535,z.MAX_VALUE_32BITS=-1,z.pretty=function(m){var b,A,I="";for(A=0;A<(m||"").length;A++)I+="\\x"+((b=m.charCodeAt(A))<16?"0":"")+b.toString(16).toUpperCase();return I},z.delay=function(m,b,A){S(function(){m.apply(A||null,b||[])})},z.inherits=function(m,b){function A(){}A.prototype=b.prototype,m.prototype=new A},z.extend=function(){var m,b,A={};for(m=0;m<arguments.length;m++)for(b in arguments[m])arguments[m].hasOwnProperty(b)&&A[b]===void 0&&(A[b]=arguments[m][b]);return A},z.prepareContent=function(m,b,A,I,p){return w.Promise.resolve(b).then(function(B){return F.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader!="undefined"?new w.Promise(function(ce,R){var fe=new FileReader;fe.onload=function(se){ce(se.target.result)},fe.onerror=function(se){R(se.target.error)},fe.readAsArrayBuffer(B)}):B}).then(function(B){var ce,R=z.getTypeOf(B);return R?(R==="arraybuffer"?B=z.transformTo("uint8array",B):R==="string"&&(p?B=H.decode(B):A&&I!==!0&&(B=v(ce=B,F.uint8array?new Uint8Array(ce.length):new Array(ce.length)))),B):w.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(N,V,z){"use strict";var F=N("./reader/readerFor"),H=N("./utils"),K=N("./signature"),S=N("./zipEntry"),w=(N("./utf8"),N("./support"));function T(v){this.files=[],this.loadOptions=v}T.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var u=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+H.pretty(u)+", expected "+H.pretty(v)+")")}},isSignature:function(v,u){var d=this.reader.index;this.reader.setIndex(v);var y=this.reader.readString(4)===u;return this.reader.setIndex(d),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),u=w.uint8array?"uint8array":"array",d=H.transformTo(u,v);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,u,d,y=this.zip64EndOfCentralSize-44;0<y;)v=this.reader.readInt(2),u=this.reader.readInt(4),d=this.reader.readData(u),this.zip64ExtensibleData[v]={id:v,length:u,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,u;for(v=0;v<this.files.length;v++)u=this.files[v],this.reader.setIndex(u.localHeaderOffset),this.checkSignature(K.LOCAL_FILE_HEADER),u.readLocalPart(this.reader),u.handleUTF8(),u.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(K.CENTRAL_FILE_HEADER);)(v=new S({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(K.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,K.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var u=v;if(this.checkSignature(K.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===H.MAX_VALUE_16BITS||this.diskWithCentralDirStart===H.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===H.MAX_VALUE_16BITS||this.centralDirRecords===H.MAX_VALUE_16BITS||this.centralDirSize===H.MAX_VALUE_32BITS||this.centralDirOffset===H.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(K.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(K.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,K.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(K.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(K.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var y=u-d;if(0<y)this.isSignature(u,K.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(v){this.reader=F(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},V.exports=T},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(N,V,z){"use strict";var F=N("./reader/readerFor"),H=N("./utils"),K=N("./compressedObject"),S=N("./crc32"),w=N("./utf8"),T=N("./compressions"),v=N("./support");function u(d,y){this.options=d,this.loadOptions=y}u.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var y,g;if(d.skip(22),this.fileNameLength=d.readInt(2),g=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(m){for(var b in T)if(T.hasOwnProperty(b)&&T[b].magic===m)return T[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+H.pretty(this.compressionMethod)+" unknown (inner file : "+H.transformTo("string",this.fileName)+")");this.decompressed=new K(this.compressedSize,this.uncompressedSize,this.crc32,y,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var y=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(y),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(d){if(this.extraFields[1]){var y=F(this.extraFields[1].value);this.uncompressedSize===H.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===H.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===H.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===H.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(d){var y,g,m,b=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<b;)y=d.readInt(2),g=d.readInt(2),m=d.readData(g),this.extraFields[y]={id:y,length:g,value:m};d.setIndex(b)},handleUTF8:function(){var d=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=w.utf8decode(this.fileName),this.fileCommentStr=w.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var g=H.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var b=H.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var y=F(d.value);return y.readInt(1)!==1||S(this.fileName)!==y.readInt(4)?null:w.utf8decode(y.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var y=F(d.value);return y.readInt(1)!==1||S(this.fileComment)!==y.readInt(4)?null:w.utf8decode(y.readData(d.length-5))}return null}},V.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(N,V,z){"use strict";function F(y,g,m){this.name=y,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=g,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var H=N("./stream/StreamHelper"),K=N("./stream/DataWorker"),S=N("./utf8"),w=N("./compressedObject"),T=N("./stream/GenericWorker");F.prototype={internalStream:function(y){var g=null,m="string";try{if(!y)throw new Error("No output type specified.");var b=(m=y.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),g=this._decompressWorker();var A=!this._dataBinary;A&&!b&&(g=g.pipe(new S.Utf8EncodeWorker)),!A&&b&&(g=g.pipe(new S.Utf8DecodeWorker))}catch(I){(g=new T("error")).error(I)}return new H(g,m,"")},async:function(y,g){return this.internalStream(y).accumulate(g)},nodeStream:function(y,g){return this.internalStream(y||"nodebuffer").toNodejsStream(g)},_compressWorker:function(y,g){if(this._data instanceof w&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new S.Utf8EncodeWorker)),w.createWorkerFrom(m,y,g)},_decompressWorker:function(){return this._data instanceof w?this._data.getContentWorker():this._data instanceof T?this._data:new K(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<v.length;d++)F.prototype[v[d]]=u;V.exports=F},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(N,V,z){(function(F){"use strict";var H,K,S=F.MutationObserver||F.WebKitMutationObserver;if(S){var w=0,T=new S(y),v=F.document.createTextNode("");T.observe(v,{characterData:!0}),H=function(){v.data=w=++w%2}}else if(F.setImmediate||F.MessageChannel===void 0)H="document"in F&&"onreadystatechange"in F.document.createElement("script")?function(){var g=F.document.createElement("script");g.onreadystatechange=function(){y(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},F.document.documentElement.appendChild(g)}:function(){setTimeout(y,0)};else{var u=new F.MessageChannel;u.port1.onmessage=y,H=function(){u.port2.postMessage(0)}}var d=[];function y(){var g,m;K=!0;for(var b=d.length;b;){for(m=d,d=[],g=-1;++g<b;)m[g]();b=d.length}K=!1}V.exports=function(g){d.push(g)!==1||K||H()}}).call(this,ee!==void 0?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(N,V,z){"use strict";var F=N("immediate");function H(){}var K={},S=["REJECTED"],w=["FULFILLED"],T=["PENDING"];function v(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=T,this.queue=[],this.outcome=void 0,b!==H&&g(this,b)}function u(b,A,I){this.promise=b,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function d(b,A,I){F(function(){var p;try{p=A(I)}catch(B){return K.reject(b,B)}p===b?K.reject(b,new TypeError("Cannot resolve promise with itself")):K.resolve(b,p)})}function y(b){var A=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof A=="function")return function(){A.apply(b,arguments)}}function g(b,A){var I=!1;function p(R){I||(I=!0,K.reject(b,R))}function B(R){I||(I=!0,K.resolve(b,R))}var ce=m(function(){A(B,p)});ce.status==="error"&&p(ce.value)}function m(b,A){var I={};try{I.value=b(A),I.status="success"}catch(p){I.status="error",I.value=p}return I}(V.exports=v).prototype.finally=function(b){if(typeof b!="function")return this;var A=this.constructor;return this.then(function(I){return A.resolve(b()).then(function(){return I})},function(I){return A.resolve(b()).then(function(){throw I})})},v.prototype.catch=function(b){return this.then(null,b)},v.prototype.then=function(b,A){if(typeof b!="function"&&this.state===w||typeof A!="function"&&this.state===S)return this;var I=new this.constructor(H);return this.state!==T?d(I,this.state===w?b:A,this.outcome):this.queue.push(new u(I,b,A)),I},u.prototype.callFulfilled=function(b){K.resolve(this.promise,b)},u.prototype.otherCallFulfilled=function(b){d(this.promise,this.onFulfilled,b)},u.prototype.callRejected=function(b){K.reject(this.promise,b)},u.prototype.otherCallRejected=function(b){d(this.promise,this.onRejected,b)},K.resolve=function(b,A){var I=m(y,A);if(I.status==="error")return K.reject(b,I.value);var p=I.value;if(p)g(b,p);else{b.state=w,b.outcome=A;for(var B=-1,ce=b.queue.length;++B<ce;)b.queue[B].callFulfilled(A)}return b},K.reject=function(b,A){b.state=S,b.outcome=A;for(var I=-1,p=b.queue.length;++I<p;)b.queue[I].callRejected(A);return b},v.resolve=function(b){return b instanceof this?b:K.resolve(new this(H),b)},v.reject=function(b){var A=new this(H);return K.reject(A,b)},v.all=function(b){var A=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=b.length,p=!1;if(!I)return this.resolve([]);for(var B=new Array(I),ce=0,R=-1,fe=new this(H);++R<I;)se(b[R],R);return fe;function se(U,Z){A.resolve(U).then(function(j){B[Z]=j,++ce!==I||p||(p=!0,K.resolve(fe,B))},function(j){p||(p=!0,K.reject(fe,j))})}},v.race=function(b){if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=b.length,I=!1;if(!A)return this.resolve([]);for(var p,B=-1,ce=new this(H);++B<A;)p=b[B],this.resolve(p).then(function(R){I||(I=!0,K.resolve(ce,R))},function(R){I||(I=!0,K.reject(ce,R))});return ce}},{immediate:36}],38:[function(N,V,z){"use strict";var F={};(0,N("./lib/utils/common").assign)(F,N("./lib/deflate"),N("./lib/inflate"),N("./lib/zlib/constants")),V.exports=F},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(N,V,z){"use strict";var F=N("./zlib/deflate"),H=N("./utils/common"),K=N("./utils/strings"),S=N("./zlib/messages"),w=N("./zlib/zstream"),T=Object.prototype.toString,v=0,u=-1,d=0,y=8;function g(b){if(!(this instanceof g))return new g(b);this.options=H.assign({level:u,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},b||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var I=F.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(I!==v)throw new Error(S[I]);if(A.header&&F.deflateSetHeader(this.strm,A.header),A.dictionary){var p;if(p=typeof A.dictionary=="string"?K.string2buf(A.dictionary):T.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(I=F.deflateSetDictionary(this.strm,p))!==v)throw new Error(S[I]);this._dict_set=!0}}function m(b,A){var I=new g(A);if(I.push(b,!0),I.err)throw I.msg||S[I.err];return I.result}g.prototype.push=function(b,A){var I,p,B=this.strm,ce=this.options.chunkSize;if(this.ended)return!1;p=A===~~A?A:A===!0?4:0,typeof b=="string"?B.input=K.string2buf(b):T.call(b)==="[object ArrayBuffer]"?B.input=new Uint8Array(b):B.input=b,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new H.Buf8(ce),B.next_out=0,B.avail_out=ce),(I=F.deflate(B,p))!==1&&I!==v)return this.onEnd(I),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||p!==4&&p!==2)||(this.options.to==="string"?this.onData(K.buf2binstring(H.shrinkBuf(B.output,B.next_out))):this.onData(H.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&I!==1);return p===4?(I=F.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===v):p!==2||(this.onEnd(v),!(B.avail_out=0))},g.prototype.onData=function(b){this.chunks.push(b)},g.prototype.onEnd=function(b){b===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=H.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},z.Deflate=g,z.deflate=m,z.deflateRaw=function(b,A){return(A=A||{}).raw=!0,m(b,A)},z.gzip=function(b,A){return(A=A||{}).gzip=!0,m(b,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(N,V,z){"use strict";var F=N("./zlib/inflate"),H=N("./utils/common"),K=N("./utils/strings"),S=N("./zlib/constants"),w=N("./zlib/messages"),T=N("./zlib/zstream"),v=N("./zlib/gzheader"),u=Object.prototype.toString;function d(g){if(!(this instanceof d))return new d(g);this.options=H.assign({chunkSize:16384,windowBits:0,to:""},g||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||g&&g.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&(15&m.windowBits)==0&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var b=F.inflateInit2(this.strm,m.windowBits);if(b!==S.Z_OK)throw new Error(w[b]);this.header=new v,F.inflateGetHeader(this.strm,this.header)}function y(g,m){var b=new d(m);if(b.push(g,!0),b.err)throw b.msg||w[b.err];return b.result}d.prototype.push=function(g,m){var b,A,I,p,B,ce,R=this.strm,fe=this.options.chunkSize,se=this.options.dictionary,U=!1;if(this.ended)return!1;A=m===~~m?m:m===!0?S.Z_FINISH:S.Z_NO_FLUSH,typeof g=="string"?R.input=K.binstring2buf(g):u.call(g)==="[object ArrayBuffer]"?R.input=new Uint8Array(g):R.input=g,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new H.Buf8(fe),R.next_out=0,R.avail_out=fe),(b=F.inflate(R,S.Z_NO_FLUSH))===S.Z_NEED_DICT&&se&&(ce=typeof se=="string"?K.string2buf(se):u.call(se)==="[object ArrayBuffer]"?new Uint8Array(se):se,b=F.inflateSetDictionary(this.strm,ce)),b===S.Z_BUF_ERROR&&U===!0&&(b=S.Z_OK,U=!1),b!==S.Z_STREAM_END&&b!==S.Z_OK)return this.onEnd(b),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&b!==S.Z_STREAM_END&&(R.avail_in!==0||A!==S.Z_FINISH&&A!==S.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=K.utf8border(R.output,R.next_out),p=R.next_out-I,B=K.buf2string(R.output,I),R.next_out=p,R.avail_out=fe-p,p&&H.arraySet(R.output,R.output,I,p,0),this.onData(B)):this.onData(H.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(U=!0)}while((0<R.avail_in||R.avail_out===0)&&b!==S.Z_STREAM_END);return b===S.Z_STREAM_END&&(A=S.Z_FINISH),A===S.Z_FINISH?(b=F.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===S.Z_OK):A!==S.Z_SYNC_FLUSH||(this.onEnd(S.Z_OK),!(R.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===S.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=H.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},z.Inflate=d,z.inflate=y,z.inflateRaw=function(g,m){return(m=m||{}).raw=!0,y(g,m)},z.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(N,V,z){"use strict";var F=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";z.assign=function(S){for(var w=Array.prototype.slice.call(arguments,1);w.length;){var T=w.shift();if(T){if(typeof T!="object")throw new TypeError(T+"must be non-object");for(var v in T)T.hasOwnProperty(v)&&(S[v]=T[v])}}return S},z.shrinkBuf=function(S,w){return S.length===w?S:S.subarray?S.subarray(0,w):(S.length=w,S)};var H={arraySet:function(S,w,T,v,u){if(w.subarray&&S.subarray)S.set(w.subarray(T,T+v),u);else for(var d=0;d<v;d++)S[u+d]=w[T+d]},flattenChunks:function(S){var w,T,v,u,d,y;for(w=v=0,T=S.length;w<T;w++)v+=S[w].length;for(y=new Uint8Array(v),w=u=0,T=S.length;w<T;w++)d=S[w],y.set(d,u),u+=d.length;return y}},K={arraySet:function(S,w,T,v,u){for(var d=0;d<v;d++)S[u+d]=w[T+d]},flattenChunks:function(S){return[].concat.apply([],S)}};z.setTyped=function(S){S?(z.Buf8=Uint8Array,z.Buf16=Uint16Array,z.Buf32=Int32Array,z.assign(z,H)):(z.Buf8=Array,z.Buf16=Array,z.Buf32=Array,z.assign(z,K))},z.setTyped(F)},{}],42:[function(N,V,z){"use strict";var F=N("./common"),H=!0,K=!0;try{String.fromCharCode.apply(null,[0])}catch(v){H=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(v){K=!1}for(var S=new F.Buf8(256),w=0;w<256;w++)S[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;function T(v,u){if(u<65537&&(v.subarray&&K||!v.subarray&&H))return String.fromCharCode.apply(null,F.shrinkBuf(v,u));for(var d="",y=0;y<u;y++)d+=String.fromCharCode(v[y]);return d}S[254]=S[254]=1,z.string2buf=function(v){var u,d,y,g,m,b=v.length,A=0;for(g=0;g<b;g++)(64512&(d=v.charCodeAt(g)))==55296&&g+1<b&&(64512&(y=v.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(y-56320),g++),A+=d<128?1:d<2048?2:d<65536?3:4;for(u=new F.Buf8(A),g=m=0;m<A;g++)(64512&(d=v.charCodeAt(g)))==55296&&g+1<b&&(64512&(y=v.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(y-56320),g++),d<128?u[m++]=d:(d<2048?u[m++]=192|d>>>6:(d<65536?u[m++]=224|d>>>12:(u[m++]=240|d>>>18,u[m++]=128|d>>>12&63),u[m++]=128|d>>>6&63),u[m++]=128|63&d);return u},z.buf2binstring=function(v){return T(v,v.length)},z.binstring2buf=function(v){for(var u=new F.Buf8(v.length),d=0,y=u.length;d<y;d++)u[d]=v.charCodeAt(d);return u},z.buf2string=function(v,u){var d,y,g,m,b=u||v.length,A=new Array(2*b);for(d=y=0;d<b;)if((g=v[d++])<128)A[y++]=g;else if(4<(m=S[g]))A[y++]=65533,d+=m-1;else{for(g&=m===2?31:m===3?15:7;1<m&&d<b;)g=g<<6|63&v[d++],m--;1<m?A[y++]=65533:g<65536?A[y++]=g:(g-=65536,A[y++]=55296|g>>10&1023,A[y++]=56320|1023&g)}return T(A,y)},z.utf8border=function(v,u){var d;for((u=u||v.length)>v.length&&(u=v.length),d=u-1;0<=d&&(192&v[d])==128;)d--;return d<0||d===0?u:d+S[v[d]]>u?d:u}},{"./common":41}],43:[function(N,V,z){"use strict";V.exports=function(F,H,K,S){for(var w=65535&F|0,T=F>>>16&65535|0,v=0;K!==0;){for(K-=v=2e3<K?2e3:K;T=T+(w=w+H[S++]|0)|0,--v;);w%=65521,T%=65521}return w|T<<16|0}},{}],44:[function(N,V,z){"use strict";V.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(N,V,z){"use strict";var F=function(){for(var H,K=[],S=0;S<256;S++){H=S;for(var w=0;w<8;w++)H=1&H?3988292384^H>>>1:H>>>1;K[S]=H}return K}();V.exports=function(H,K,S,w){var T=F,v=w+S;H^=-1;for(var u=w;u<v;u++)H=H>>>8^T[255&(H^K[u])];return-1^H}},{}],46:[function(N,V,z){"use strict";var F,H=N("../utils/common"),K=N("./trees"),S=N("./adler32"),w=N("./crc32"),T=N("./messages"),v=0,u=0,d=-2,y=2,g=8,m=286,b=30,A=19,I=2*m+1,p=15,B=3,ce=258,R=ce+B+1,fe=42,se=113;function U(D,_e){return D.msg=T[_e],_e}function Z(D){return(D<<1)-(4<D?9:0)}function j(D){for(var _e=D.length;0<=--_e;)D[_e]=0}function J(D){var _e=D.state,de=_e.pending;de>D.avail_out&&(de=D.avail_out),de!==0&&(H.arraySet(D.output,_e.pending_buf,_e.pending_out,de,D.next_out),D.next_out+=de,_e.pending_out+=de,D.total_out+=de,D.avail_out-=de,_e.pending-=de,_e.pending===0&&(_e.pending_out=0))}function k(D,_e){K._tr_flush_block(D,0<=D.block_start?D.block_start:-1,D.strstart-D.block_start,_e),D.block_start=D.strstart,J(D.strm)}function $(D,_e){D.pending_buf[D.pending++]=_e}function X(D,_e){D.pending_buf[D.pending++]=_e>>>8&255,D.pending_buf[D.pending++]=255&_e}function Y(D,_e){var de,ie,Re=D.max_chain_length,Ae=D.strstart,Ce=D.prev_length,me=D.nice_match,q=D.strstart>D.w_size-R?D.strstart-(D.w_size-R):0,le=D.window,ft=D.w_mask,Oe=D.prev,Je=D.strstart+ce,Tt=le[Ae+Ce-1],it=le[Ae+Ce];D.prev_length>=D.good_match&&(Re>>=2),me>D.lookahead&&(me=D.lookahead);do if(le[(de=_e)+Ce]===it&&le[de+Ce-1]===Tt&&le[de]===le[Ae]&&le[++de]===le[Ae+1]){Ae+=2,de++;do;while(le[++Ae]===le[++de]&&le[++Ae]===le[++de]&&le[++Ae]===le[++de]&&le[++Ae]===le[++de]&&le[++Ae]===le[++de]&&le[++Ae]===le[++de]&&le[++Ae]===le[++de]&&le[++Ae]===le[++de]&&Ae<Je);if(ie=ce-(Je-Ae),Ae=Je-ce,Ce<ie){if(D.match_start=_e,me<=(Ce=ie))break;Tt=le[Ae+Ce-1],it=le[Ae+Ce]}}while((_e=Oe[_e&ft])>q&&--Re!=0);return Ce<=D.lookahead?Ce:D.lookahead}function ve(D){var _e,de,ie,Re,Ae,Ce,me,q,le,ft,Oe=D.w_size;do{if(Re=D.window_size-D.lookahead-D.strstart,D.strstart>=Oe+(Oe-R)){for(H.arraySet(D.window,D.window,Oe,Oe,0),D.match_start-=Oe,D.strstart-=Oe,D.block_start-=Oe,_e=de=D.hash_size;ie=D.head[--_e],D.head[_e]=Oe<=ie?ie-Oe:0,--de;);for(_e=de=Oe;ie=D.prev[--_e],D.prev[_e]=Oe<=ie?ie-Oe:0,--de;);Re+=Oe}if(D.strm.avail_in===0)break;if(Ce=D.strm,me=D.window,q=D.strstart+D.lookahead,ft=void 0,(le=Re)<(ft=Ce.avail_in)&&(ft=le),de=ft===0?0:(Ce.avail_in-=ft,H.arraySet(me,Ce.input,Ce.next_in,ft,q),Ce.state.wrap===1?Ce.adler=S(Ce.adler,me,ft,q):Ce.state.wrap===2&&(Ce.adler=w(Ce.adler,me,ft,q)),Ce.next_in+=ft,Ce.total_in+=ft,ft),D.lookahead+=de,D.lookahead+D.insert>=B)for(Ae=D.strstart-D.insert,D.ins_h=D.window[Ae],D.ins_h=(D.ins_h<<D.hash_shift^D.window[Ae+1])&D.hash_mask;D.insert&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[Ae+B-1])&D.hash_mask,D.prev[Ae&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=Ae,Ae++,D.insert--,!(D.lookahead+D.insert<B)););}while(D.lookahead<R&&D.strm.avail_in!==0)}function ue(D,_e){for(var de,ie;;){if(D.lookahead<R){if(ve(D),D.lookahead<R&&_e===v)return 1;if(D.lookahead===0)break}if(de=0,D.lookahead>=B&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+B-1])&D.hash_mask,de=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),de!==0&&D.strstart-de<=D.w_size-R&&(D.match_length=Y(D,de)),D.match_length>=B)if(ie=K._tr_tally(D,D.strstart-D.match_start,D.match_length-B),D.lookahead-=D.match_length,D.match_length<=D.max_lazy_match&&D.lookahead>=B){for(D.match_length--;D.strstart++,D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+B-1])&D.hash_mask,de=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart,--D.match_length!=0;);D.strstart++}else D.strstart+=D.match_length,D.match_length=0,D.ins_h=D.window[D.strstart],D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+1])&D.hash_mask;else ie=K._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++;if(ie&&(k(D,!1),D.strm.avail_out===0))return 1}return D.insert=D.strstart<B-1?D.strstart:B-1,_e===4?(k(D,!0),D.strm.avail_out===0?3:4):D.last_lit&&(k(D,!1),D.strm.avail_out===0)?1:2}function ge(D,_e){for(var de,ie,Re;;){if(D.lookahead<R){if(ve(D),D.lookahead<R&&_e===v)return 1;if(D.lookahead===0)break}if(de=0,D.lookahead>=B&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+B-1])&D.hash_mask,de=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),D.prev_length=D.match_length,D.prev_match=D.match_start,D.match_length=B-1,de!==0&&D.prev_length<D.max_lazy_match&&D.strstart-de<=D.w_size-R&&(D.match_length=Y(D,de),D.match_length<=5&&(D.strategy===1||D.match_length===B&&4096<D.strstart-D.match_start)&&(D.match_length=B-1)),D.prev_length>=B&&D.match_length<=D.prev_length){for(Re=D.strstart+D.lookahead-B,ie=K._tr_tally(D,D.strstart-1-D.prev_match,D.prev_length-B),D.lookahead-=D.prev_length-1,D.prev_length-=2;++D.strstart<=Re&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+B-1])&D.hash_mask,de=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),--D.prev_length!=0;);if(D.match_available=0,D.match_length=B-1,D.strstart++,ie&&(k(D,!1),D.strm.avail_out===0))return 1}else if(D.match_available){if((ie=K._tr_tally(D,0,D.window[D.strstart-1]))&&k(D,!1),D.strstart++,D.lookahead--,D.strm.avail_out===0)return 1}else D.match_available=1,D.strstart++,D.lookahead--}return D.match_available&&(ie=K._tr_tally(D,0,D.window[D.strstart-1]),D.match_available=0),D.insert=D.strstart<B-1?D.strstart:B-1,_e===4?(k(D,!0),D.strm.avail_out===0?3:4):D.last_lit&&(k(D,!1),D.strm.avail_out===0)?1:2}function xe(D,_e,de,ie,Re){this.good_length=D,this.max_lazy=_e,this.nice_length=de,this.max_chain=ie,this.func=Re}function we(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new H.Buf16(2*I),this.dyn_dtree=new H.Buf16(2*(2*b+1)),this.bl_tree=new H.Buf16(2*(2*A+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new H.Buf16(p+1),this.heap=new H.Buf16(2*m+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new H.Buf16(2*m+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Me(D){var _e;return D&&D.state?(D.total_in=D.total_out=0,D.data_type=y,(_e=D.state).pending=0,_e.pending_out=0,_e.wrap<0&&(_e.wrap=-_e.wrap),_e.status=_e.wrap?fe:se,D.adler=_e.wrap===2?0:1,_e.last_flush=v,K._tr_init(_e),u):U(D,d)}function pe(D){var _e,de=Me(D);return de===u&&((_e=D.state).window_size=2*_e.w_size,j(_e.head),_e.max_lazy_match=F[_e.level].max_lazy,_e.good_match=F[_e.level].good_length,_e.nice_match=F[_e.level].nice_length,_e.max_chain_length=F[_e.level].max_chain,_e.strstart=0,_e.block_start=0,_e.lookahead=0,_e.insert=0,_e.match_length=_e.prev_length=B-1,_e.match_available=0,_e.ins_h=0),de}function be(D,_e,de,ie,Re,Ae){if(!D)return d;var Ce=1;if(_e===-1&&(_e=6),ie<0?(Ce=0,ie=-ie):15<ie&&(Ce=2,ie-=16),Re<1||9<Re||de!==g||ie<8||15<ie||_e<0||9<_e||Ae<0||4<Ae)return U(D,d);ie===8&&(ie=9);var me=new we;return(D.state=me).strm=D,me.wrap=Ce,me.gzhead=null,me.w_bits=ie,me.w_size=1<<me.w_bits,me.w_mask=me.w_size-1,me.hash_bits=Re+7,me.hash_size=1<<me.hash_bits,me.hash_mask=me.hash_size-1,me.hash_shift=~~((me.hash_bits+B-1)/B),me.window=new H.Buf8(2*me.w_size),me.head=new H.Buf16(me.hash_size),me.prev=new H.Buf16(me.w_size),me.lit_bufsize=1<<Re+6,me.pending_buf_size=4*me.lit_bufsize,me.pending_buf=new H.Buf8(me.pending_buf_size),me.d_buf=1*me.lit_bufsize,me.l_buf=3*me.lit_bufsize,me.level=_e,me.strategy=Ae,me.method=de,pe(D)}F=[new xe(0,0,0,0,function(D,_e){var de=65535;for(de>D.pending_buf_size-5&&(de=D.pending_buf_size-5);;){if(D.lookahead<=1){if(ve(D),D.lookahead===0&&_e===v)return 1;if(D.lookahead===0)break}D.strstart+=D.lookahead,D.lookahead=0;var ie=D.block_start+de;if((D.strstart===0||D.strstart>=ie)&&(D.lookahead=D.strstart-ie,D.strstart=ie,k(D,!1),D.strm.avail_out===0)||D.strstart-D.block_start>=D.w_size-R&&(k(D,!1),D.strm.avail_out===0))return 1}return D.insert=0,_e===4?(k(D,!0),D.strm.avail_out===0?3:4):(D.strstart>D.block_start&&(k(D,!1),D.strm.avail_out),1)}),new xe(4,4,8,4,ue),new xe(4,5,16,8,ue),new xe(4,6,32,32,ue),new xe(4,4,16,16,ge),new xe(8,16,32,32,ge),new xe(8,16,128,128,ge),new xe(8,32,128,256,ge),new xe(32,128,258,1024,ge),new xe(32,258,258,4096,ge)],z.deflateInit=function(D,_e){return be(D,_e,g,15,8,0)},z.deflateInit2=be,z.deflateReset=pe,z.deflateResetKeep=Me,z.deflateSetHeader=function(D,_e){return D&&D.state?D.state.wrap!==2?d:(D.state.gzhead=_e,u):d},z.deflate=function(D,_e){var de,ie,Re,Ae;if(!D||!D.state||5<_e||_e<0)return D?U(D,d):d;if(ie=D.state,!D.output||!D.input&&D.avail_in!==0||ie.status===666&&_e!==4)return U(D,D.avail_out===0?-5:d);if(ie.strm=D,de=ie.last_flush,ie.last_flush=_e,ie.status===fe)if(ie.wrap===2)D.adler=0,$(ie,31),$(ie,139),$(ie,8),ie.gzhead?($(ie,(ie.gzhead.text?1:0)+(ie.gzhead.hcrc?2:0)+(ie.gzhead.extra?4:0)+(ie.gzhead.name?8:0)+(ie.gzhead.comment?16:0)),$(ie,255&ie.gzhead.time),$(ie,ie.gzhead.time>>8&255),$(ie,ie.gzhead.time>>16&255),$(ie,ie.gzhead.time>>24&255),$(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),$(ie,255&ie.gzhead.os),ie.gzhead.extra&&ie.gzhead.extra.length&&($(ie,255&ie.gzhead.extra.length),$(ie,ie.gzhead.extra.length>>8&255)),ie.gzhead.hcrc&&(D.adler=w(D.adler,ie.pending_buf,ie.pending,0)),ie.gzindex=0,ie.status=69):($(ie,0),$(ie,0),$(ie,0),$(ie,0),$(ie,0),$(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),$(ie,3),ie.status=se);else{var Ce=g+(ie.w_bits-8<<4)<<8;Ce|=(2<=ie.strategy||ie.level<2?0:ie.level<6?1:ie.level===6?2:3)<<6,ie.strstart!==0&&(Ce|=32),Ce+=31-Ce%31,ie.status=se,X(ie,Ce),ie.strstart!==0&&(X(ie,D.adler>>>16),X(ie,65535&D.adler)),D.adler=1}if(ie.status===69)if(ie.gzhead.extra){for(Re=ie.pending;ie.gzindex<(65535&ie.gzhead.extra.length)&&(ie.pending!==ie.pending_buf_size||(ie.gzhead.hcrc&&ie.pending>Re&&(D.adler=w(D.adler,ie.pending_buf,ie.pending-Re,Re)),J(D),Re=ie.pending,ie.pending!==ie.pending_buf_size));)$(ie,255&ie.gzhead.extra[ie.gzindex]),ie.gzindex++;ie.gzhead.hcrc&&ie.pending>Re&&(D.adler=w(D.adler,ie.pending_buf,ie.pending-Re,Re)),ie.gzindex===ie.gzhead.extra.length&&(ie.gzindex=0,ie.status=73)}else ie.status=73;if(ie.status===73)if(ie.gzhead.name){Re=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>Re&&(D.adler=w(D.adler,ie.pending_buf,ie.pending-Re,Re)),J(D),Re=ie.pending,ie.pending===ie.pending_buf_size)){Ae=1;break}Ae=ie.gzindex<ie.gzhead.name.length?255&ie.gzhead.name.charCodeAt(ie.gzindex++):0,$(ie,Ae)}while(Ae!==0);ie.gzhead.hcrc&&ie.pending>Re&&(D.adler=w(D.adler,ie.pending_buf,ie.pending-Re,Re)),Ae===0&&(ie.gzindex=0,ie.status=91)}else ie.status=91;if(ie.status===91)if(ie.gzhead.comment){Re=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>Re&&(D.adler=w(D.adler,ie.pending_buf,ie.pending-Re,Re)),J(D),Re=ie.pending,ie.pending===ie.pending_buf_size)){Ae=1;break}Ae=ie.gzindex<ie.gzhead.comment.length?255&ie.gzhead.comment.charCodeAt(ie.gzindex++):0,$(ie,Ae)}while(Ae!==0);ie.gzhead.hcrc&&ie.pending>Re&&(D.adler=w(D.adler,ie.pending_buf,ie.pending-Re,Re)),Ae===0&&(ie.status=103)}else ie.status=103;if(ie.status===103&&(ie.gzhead.hcrc?(ie.pending+2>ie.pending_buf_size&&J(D),ie.pending+2<=ie.pending_buf_size&&($(ie,255&D.adler),$(ie,D.adler>>8&255),D.adler=0,ie.status=se)):ie.status=se),ie.pending!==0){if(J(D),D.avail_out===0)return ie.last_flush=-1,u}else if(D.avail_in===0&&Z(_e)<=Z(de)&&_e!==4)return U(D,-5);if(ie.status===666&&D.avail_in!==0)return U(D,-5);if(D.avail_in!==0||ie.lookahead!==0||_e!==v&&ie.status!==666){var me=ie.strategy===2?function(q,le){for(var ft;;){if(q.lookahead===0&&(ve(q),q.lookahead===0)){if(le===v)return 1;break}if(q.match_length=0,ft=K._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,ft&&(k(q,!1),q.strm.avail_out===0))return 1}return q.insert=0,le===4?(k(q,!0),q.strm.avail_out===0?3:4):q.last_lit&&(k(q,!1),q.strm.avail_out===0)?1:2}(ie,_e):ie.strategy===3?function(q,le){for(var ft,Oe,Je,Tt,it=q.window;;){if(q.lookahead<=ce){if(ve(q),q.lookahead<=ce&&le===v)return 1;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=B&&0<q.strstart&&(Oe=it[Je=q.strstart-1])===it[++Je]&&Oe===it[++Je]&&Oe===it[++Je]){Tt=q.strstart+ce;do;while(Oe===it[++Je]&&Oe===it[++Je]&&Oe===it[++Je]&&Oe===it[++Je]&&Oe===it[++Je]&&Oe===it[++Je]&&Oe===it[++Je]&&Oe===it[++Je]&&Je<Tt);q.match_length=ce-(Tt-Je),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=B?(ft=K._tr_tally(q,1,q.match_length-B),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(ft=K._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),ft&&(k(q,!1),q.strm.avail_out===0))return 1}return q.insert=0,le===4?(k(q,!0),q.strm.avail_out===0?3:4):q.last_lit&&(k(q,!1),q.strm.avail_out===0)?1:2}(ie,_e):F[ie.level].func(ie,_e);if(me!==3&&me!==4||(ie.status=666),me===1||me===3)return D.avail_out===0&&(ie.last_flush=-1),u;if(me===2&&(_e===1?K._tr_align(ie):_e!==5&&(K._tr_stored_block(ie,0,0,!1),_e===3&&(j(ie.head),ie.lookahead===0&&(ie.strstart=0,ie.block_start=0,ie.insert=0))),J(D),D.avail_out===0))return ie.last_flush=-1,u}return _e!==4?u:ie.wrap<=0?1:(ie.wrap===2?($(ie,255&D.adler),$(ie,D.adler>>8&255),$(ie,D.adler>>16&255),$(ie,D.adler>>24&255),$(ie,255&D.total_in),$(ie,D.total_in>>8&255),$(ie,D.total_in>>16&255),$(ie,D.total_in>>24&255)):(X(ie,D.adler>>>16),X(ie,65535&D.adler)),J(D),0<ie.wrap&&(ie.wrap=-ie.wrap),ie.pending!==0?u:1)},z.deflateEnd=function(D){var _e;return D&&D.state?(_e=D.state.status)!==fe&&_e!==69&&_e!==73&&_e!==91&&_e!==103&&_e!==se&&_e!==666?U(D,d):(D.state=null,_e===se?U(D,-3):u):d},z.deflateSetDictionary=function(D,_e){var de,ie,Re,Ae,Ce,me,q,le,ft=_e.length;if(!D||!D.state||(Ae=(de=D.state).wrap)===2||Ae===1&&de.status!==fe||de.lookahead)return d;for(Ae===1&&(D.adler=S(D.adler,_e,ft,0)),de.wrap=0,ft>=de.w_size&&(Ae===0&&(j(de.head),de.strstart=0,de.block_start=0,de.insert=0),le=new H.Buf8(de.w_size),H.arraySet(le,_e,ft-de.w_size,de.w_size,0),_e=le,ft=de.w_size),Ce=D.avail_in,me=D.next_in,q=D.input,D.avail_in=ft,D.next_in=0,D.input=_e,ve(de);de.lookahead>=B;){for(ie=de.strstart,Re=de.lookahead-(B-1);de.ins_h=(de.ins_h<<de.hash_shift^de.window[ie+B-1])&de.hash_mask,de.prev[ie&de.w_mask]=de.head[de.ins_h],de.head[de.ins_h]=ie,ie++,--Re;);de.strstart=ie,de.lookahead=B-1,ve(de)}return de.strstart+=de.lookahead,de.block_start=de.strstart,de.insert=de.lookahead,de.lookahead=0,de.match_length=de.prev_length=B-1,de.match_available=0,D.next_in=me,D.input=q,D.avail_in=Ce,de.wrap=Ae,u},z.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(N,V,z){"use strict";V.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(N,V,z){"use strict";V.exports=function(F,H){var K,S,w,T,v,u,d,y,g,m,b,A,I,p,B,ce,R,fe,se,U,Z,j,J,k,$;K=F.state,S=F.next_in,k=F.input,w=S+(F.avail_in-5),T=F.next_out,$=F.output,v=T-(H-F.avail_out),u=T+(F.avail_out-257),d=K.dmax,y=K.wsize,g=K.whave,m=K.wnext,b=K.window,A=K.hold,I=K.bits,p=K.lencode,B=K.distcode,ce=(1<<K.lenbits)-1,R=(1<<K.distbits)-1;e:do{I<15&&(A+=k[S++]<<I,I+=8,A+=k[S++]<<I,I+=8),fe=p[A&ce];t:for(;;){if(A>>>=se=fe>>>24,I-=se,(se=fe>>>16&255)==0)$[T++]=65535&fe;else{if(!(16&se)){if((64&se)==0){fe=p[(65535&fe)+(A&(1<<se)-1)];continue t}if(32&se){K.mode=12;break e}F.msg="invalid literal/length code",K.mode=30;break e}U=65535&fe,(se&=15)&&(I<se&&(A+=k[S++]<<I,I+=8),U+=A&(1<<se)-1,A>>>=se,I-=se),I<15&&(A+=k[S++]<<I,I+=8,A+=k[S++]<<I,I+=8),fe=B[A&R];r:for(;;){if(A>>>=se=fe>>>24,I-=se,!(16&(se=fe>>>16&255))){if((64&se)==0){fe=B[(65535&fe)+(A&(1<<se)-1)];continue r}F.msg="invalid distance code",K.mode=30;break e}if(Z=65535&fe,I<(se&=15)&&(A+=k[S++]<<I,(I+=8)<se&&(A+=k[S++]<<I,I+=8)),d<(Z+=A&(1<<se)-1)){F.msg="invalid distance too far back",K.mode=30;break e}if(A>>>=se,I-=se,(se=T-v)<Z){if(g<(se=Z-se)&&K.sane){F.msg="invalid distance too far back",K.mode=30;break e}if(J=b,(j=0)===m){if(j+=y-se,se<U){for(U-=se;$[T++]=b[j++],--se;);j=T-Z,J=$}}else if(m<se){if(j+=y+m-se,(se-=m)<U){for(U-=se;$[T++]=b[j++],--se;);if(j=0,m<U){for(U-=se=m;$[T++]=b[j++],--se;);j=T-Z,J=$}}}else if(j+=m-se,se<U){for(U-=se;$[T++]=b[j++],--se;);j=T-Z,J=$}for(;2<U;)$[T++]=J[j++],$[T++]=J[j++],$[T++]=J[j++],U-=3;U&&($[T++]=J[j++],1<U&&($[T++]=J[j++]))}else{for(j=T-Z;$[T++]=$[j++],$[T++]=$[j++],$[T++]=$[j++],2<(U-=3););U&&($[T++]=$[j++],1<U&&($[T++]=$[j++]))}break}}break}}while(S<w&&T<u);S-=U=I>>3,A&=(1<<(I-=U<<3))-1,F.next_in=S,F.next_out=T,F.avail_in=S<w?w-S+5:5-(S-w),F.avail_out=T<u?u-T+257:257-(T-u),K.hold=A,K.bits=I}},{}],49:[function(N,V,z){"use strict";var F=N("../utils/common"),H=N("./adler32"),K=N("./crc32"),S=N("./inffast"),w=N("./inftrees"),T=1,v=2,u=0,d=-2,y=1,g=852,m=592;function b(j){return(j>>>24&255)+(j>>>8&65280)+((65280&j)<<8)+((255&j)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new F.Buf16(320),this.work=new F.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(j){var J;return j&&j.state?(J=j.state,j.total_in=j.total_out=J.total=0,j.msg="",J.wrap&&(j.adler=1&J.wrap),J.mode=y,J.last=0,J.havedict=0,J.dmax=32768,J.head=null,J.hold=0,J.bits=0,J.lencode=J.lendyn=new F.Buf32(g),J.distcode=J.distdyn=new F.Buf32(m),J.sane=1,J.back=-1,u):d}function p(j){var J;return j&&j.state?((J=j.state).wsize=0,J.whave=0,J.wnext=0,I(j)):d}function B(j,J){var k,$;return j&&j.state?($=j.state,J<0?(k=0,J=-J):(k=1+(J>>4),J<48&&(J&=15)),J&&(J<8||15<J)?d:($.window!==null&&$.wbits!==J&&($.window=null),$.wrap=k,$.wbits=J,p(j))):d}function ce(j,J){var k,$;return j?($=new A,(j.state=$).window=null,(k=B(j,J))!==u&&(j.state=null),k):d}var R,fe,se=!0;function U(j){if(se){var J;for(R=new F.Buf32(512),fe=new F.Buf32(32),J=0;J<144;)j.lens[J++]=8;for(;J<256;)j.lens[J++]=9;for(;J<280;)j.lens[J++]=7;for(;J<288;)j.lens[J++]=8;for(w(T,j.lens,0,288,R,0,j.work,{bits:9}),J=0;J<32;)j.lens[J++]=5;w(v,j.lens,0,32,fe,0,j.work,{bits:5}),se=!1}j.lencode=R,j.lenbits=9,j.distcode=fe,j.distbits=5}function Z(j,J,k,$){var X,Y=j.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new F.Buf8(Y.wsize)),$>=Y.wsize?(F.arraySet(Y.window,J,k-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):($<(X=Y.wsize-Y.wnext)&&(X=$),F.arraySet(Y.window,J,k-$,X,Y.wnext),($-=X)?(F.arraySet(Y.window,J,k-$,$,0),Y.wnext=$,Y.whave=Y.wsize):(Y.wnext+=X,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=X))),0}z.inflateReset=p,z.inflateReset2=B,z.inflateResetKeep=I,z.inflateInit=function(j){return ce(j,15)},z.inflateInit2=ce,z.inflate=function(j,J){var k,$,X,Y,ve,ue,ge,xe,we,Me,pe,be,D,_e,de,ie,Re,Ae,Ce,me,q,le,ft,Oe,Je=0,Tt=new F.Buf8(4),it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!j||!j.state||!j.output||!j.input&&j.avail_in!==0)return d;(k=j.state).mode===12&&(k.mode=13),ve=j.next_out,X=j.output,ge=j.avail_out,Y=j.next_in,$=j.input,ue=j.avail_in,xe=k.hold,we=k.bits,Me=ue,pe=ge,le=u;e:for(;;)switch(k.mode){case y:if(k.wrap===0){k.mode=13;break}for(;we<16;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}if(2&k.wrap&&xe===35615){Tt[k.check=0]=255&xe,Tt[1]=xe>>>8&255,k.check=K(k.check,Tt,2,0),we=xe=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&xe)<<8)+(xe>>8))%31){j.msg="incorrect header check",k.mode=30;break}if((15&xe)!=8){j.msg="unknown compression method",k.mode=30;break}if(we-=4,q=8+(15&(xe>>>=4)),k.wbits===0)k.wbits=q;else if(q>k.wbits){j.msg="invalid window size",k.mode=30;break}k.dmax=1<<q,j.adler=k.check=1,k.mode=512&xe?10:12,we=xe=0;break;case 2:for(;we<16;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}if(k.flags=xe,(255&k.flags)!=8){j.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){j.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=xe>>8&1),512&k.flags&&(Tt[0]=255&xe,Tt[1]=xe>>>8&255,k.check=K(k.check,Tt,2,0)),we=xe=0,k.mode=3;case 3:for(;we<32;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}k.head&&(k.head.time=xe),512&k.flags&&(Tt[0]=255&xe,Tt[1]=xe>>>8&255,Tt[2]=xe>>>16&255,Tt[3]=xe>>>24&255,k.check=K(k.check,Tt,4,0)),we=xe=0,k.mode=4;case 4:for(;we<16;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}k.head&&(k.head.xflags=255&xe,k.head.os=xe>>8),512&k.flags&&(Tt[0]=255&xe,Tt[1]=xe>>>8&255,k.check=K(k.check,Tt,2,0)),we=xe=0,k.mode=5;case 5:if(1024&k.flags){for(;we<16;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}k.length=xe,k.head&&(k.head.extra_len=xe),512&k.flags&&(Tt[0]=255&xe,Tt[1]=xe>>>8&255,k.check=K(k.check,Tt,2,0)),we=xe=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(ue<(be=k.length)&&(be=ue),be&&(k.head&&(q=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),F.arraySet(k.head.extra,$,Y,be,q)),512&k.flags&&(k.check=K(k.check,$,be,Y)),ue-=be,Y+=be,k.length-=be),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(ue===0)break e;for(be=0;q=$[Y+be++],k.head&&q&&k.length<65536&&(k.head.name+=String.fromCharCode(q)),q&&be<ue;);if(512&k.flags&&(k.check=K(k.check,$,be,Y)),ue-=be,Y+=be,q)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(ue===0)break e;for(be=0;q=$[Y+be++],k.head&&q&&k.length<65536&&(k.head.comment+=String.fromCharCode(q)),q&&be<ue;);if(512&k.flags&&(k.check=K(k.check,$,be,Y)),ue-=be,Y+=be,q)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;we<16;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}if(xe!==(65535&k.check)){j.msg="header crc mismatch",k.mode=30;break}we=xe=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),j.adler=k.check=0,k.mode=12;break;case 10:for(;we<32;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}j.adler=k.check=b(xe),we=xe=0,k.mode=11;case 11:if(k.havedict===0)return j.next_out=ve,j.avail_out=ge,j.next_in=Y,j.avail_in=ue,k.hold=xe,k.bits=we,2;j.adler=k.check=1,k.mode=12;case 12:if(J===5||J===6)break e;case 13:if(k.last){xe>>>=7&we,we-=7&we,k.mode=27;break}for(;we<3;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}switch(k.last=1&xe,we-=1,3&(xe>>>=1)){case 0:k.mode=14;break;case 1:if(U(k),k.mode=20,J!==6)break;xe>>>=2,we-=2;break e;case 2:k.mode=17;break;case 3:j.msg="invalid block type",k.mode=30}xe>>>=2,we-=2;break;case 14:for(xe>>>=7&we,we-=7&we;we<32;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}if((65535&xe)!=(xe>>>16^65535)){j.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&xe,we=xe=0,k.mode=15,J===6)break e;case 15:k.mode=16;case 16:if(be=k.length){if(ue<be&&(be=ue),ge<be&&(be=ge),be===0)break e;F.arraySet(X,$,Y,be,ve),ue-=be,Y+=be,ge-=be,ve+=be,k.length-=be;break}k.mode=12;break;case 17:for(;we<14;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}if(k.nlen=257+(31&xe),xe>>>=5,we-=5,k.ndist=1+(31&xe),xe>>>=5,we-=5,k.ncode=4+(15&xe),xe>>>=4,we-=4,286<k.nlen||30<k.ndist){j.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;we<3;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}k.lens[it[k.have++]]=7&xe,xe>>>=3,we-=3}for(;k.have<19;)k.lens[it[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ft={bits:k.lenbits},le=w(0,k.lens,0,19,k.lencode,0,k.work,ft),k.lenbits=ft.bits,le){j.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;ie=(Je=k.lencode[xe&(1<<k.lenbits)-1])>>>16&255,Re=65535&Je,!((de=Je>>>24)<=we);){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}if(Re<16)xe>>>=de,we-=de,k.lens[k.have++]=Re;else{if(Re===16){for(Oe=de+2;we<Oe;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}if(xe>>>=de,we-=de,k.have===0){j.msg="invalid bit length repeat",k.mode=30;break}q=k.lens[k.have-1],be=3+(3&xe),xe>>>=2,we-=2}else if(Re===17){for(Oe=de+3;we<Oe;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}we-=de,q=0,be=3+(7&(xe>>>=de)),xe>>>=3,we-=3}else{for(Oe=de+7;we<Oe;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}we-=de,q=0,be=11+(127&(xe>>>=de)),xe>>>=7,we-=7}if(k.have+be>k.nlen+k.ndist){j.msg="invalid bit length repeat",k.mode=30;break}for(;be--;)k.lens[k.have++]=q}}if(k.mode===30)break;if(k.lens[256]===0){j.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ft={bits:k.lenbits},le=w(T,k.lens,0,k.nlen,k.lencode,0,k.work,ft),k.lenbits=ft.bits,le){j.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ft={bits:k.distbits},le=w(v,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ft),k.distbits=ft.bits,le){j.msg="invalid distances set",k.mode=30;break}if(k.mode=20,J===6)break e;case 20:k.mode=21;case 21:if(6<=ue&&258<=ge){j.next_out=ve,j.avail_out=ge,j.next_in=Y,j.avail_in=ue,k.hold=xe,k.bits=we,S(j,pe),ve=j.next_out,X=j.output,ge=j.avail_out,Y=j.next_in,$=j.input,ue=j.avail_in,xe=k.hold,we=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;ie=(Je=k.lencode[xe&(1<<k.lenbits)-1])>>>16&255,Re=65535&Je,!((de=Je>>>24)<=we);){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}if(ie&&(240&ie)==0){for(Ae=de,Ce=ie,me=Re;ie=(Je=k.lencode[me+((xe&(1<<Ae+Ce)-1)>>Ae)])>>>16&255,Re=65535&Je,!(Ae+(de=Je>>>24)<=we);){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}xe>>>=Ae,we-=Ae,k.back+=Ae}if(xe>>>=de,we-=de,k.back+=de,k.length=Re,ie===0){k.mode=26;break}if(32&ie){k.back=-1,k.mode=12;break}if(64&ie){j.msg="invalid literal/length code",k.mode=30;break}k.extra=15&ie,k.mode=22;case 22:if(k.extra){for(Oe=k.extra;we<Oe;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}k.length+=xe&(1<<k.extra)-1,xe>>>=k.extra,we-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;ie=(Je=k.distcode[xe&(1<<k.distbits)-1])>>>16&255,Re=65535&Je,!((de=Je>>>24)<=we);){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}if((240&ie)==0){for(Ae=de,Ce=ie,me=Re;ie=(Je=k.distcode[me+((xe&(1<<Ae+Ce)-1)>>Ae)])>>>16&255,Re=65535&Je,!(Ae+(de=Je>>>24)<=we);){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}xe>>>=Ae,we-=Ae,k.back+=Ae}if(xe>>>=de,we-=de,k.back+=de,64&ie){j.msg="invalid distance code",k.mode=30;break}k.offset=Re,k.extra=15&ie,k.mode=24;case 24:if(k.extra){for(Oe=k.extra;we<Oe;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}k.offset+=xe&(1<<k.extra)-1,xe>>>=k.extra,we-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){j.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(ge===0)break e;if(be=pe-ge,k.offset>be){if((be=k.offset-be)>k.whave&&k.sane){j.msg="invalid distance too far back",k.mode=30;break}D=be>k.wnext?(be-=k.wnext,k.wsize-be):k.wnext-be,be>k.length&&(be=k.length),_e=k.window}else _e=X,D=ve-k.offset,be=k.length;for(ge<be&&(be=ge),ge-=be,k.length-=be;X[ve++]=_e[D++],--be;);k.length===0&&(k.mode=21);break;case 26:if(ge===0)break e;X[ve++]=k.length,ge--,k.mode=21;break;case 27:if(k.wrap){for(;we<32;){if(ue===0)break e;ue--,xe|=$[Y++]<<we,we+=8}if(pe-=ge,j.total_out+=pe,k.total+=pe,pe&&(j.adler=k.check=k.flags?K(k.check,X,pe,ve-pe):H(k.check,X,pe,ve-pe)),pe=ge,(k.flags?xe:b(xe))!==k.check){j.msg="incorrect data check",k.mode=30;break}we=xe=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;we<32;){if(ue===0)break e;ue--,xe+=$[Y++]<<we,we+=8}if(xe!==(4294967295&k.total)){j.msg="incorrect length check",k.mode=30;break}we=xe=0}k.mode=29;case 29:le=1;break e;case 30:le=-3;break e;case 31:return-4;case 32:default:return d}return j.next_out=ve,j.avail_out=ge,j.next_in=Y,j.avail_in=ue,k.hold=xe,k.bits=we,(k.wsize||pe!==j.avail_out&&k.mode<30&&(k.mode<27||J!==4))&&Z(j,j.output,j.next_out,pe-j.avail_out)?(k.mode=31,-4):(Me-=j.avail_in,pe-=j.avail_out,j.total_in+=Me,j.total_out+=pe,k.total+=pe,k.wrap&&pe&&(j.adler=k.check=k.flags?K(k.check,X,pe,j.next_out-pe):H(k.check,X,pe,j.next_out-pe)),j.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(Me==0&&pe===0||J===4)&&le===u&&(le=-5),le)},z.inflateEnd=function(j){if(!j||!j.state)return d;var J=j.state;return J.window&&(J.window=null),j.state=null,u},z.inflateGetHeader=function(j,J){var k;return j&&j.state?(2&(k=j.state).wrap)==0?d:((k.head=J).done=!1,u):d},z.inflateSetDictionary=function(j,J){var k,$=J.length;return j&&j.state?(k=j.state).wrap!==0&&k.mode!==11?d:k.mode===11&&H(1,J,$,0)!==k.check?-3:Z(j,J,$,$)?(k.mode=31,-4):(k.havedict=1,u):d},z.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(N,V,z){"use strict";var F=N("../utils/common"),H=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],K=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],S=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];V.exports=function(T,v,u,d,y,g,m,b){var A,I,p,B,ce,R,fe,se,U,Z=b.bits,j=0,J=0,k=0,$=0,X=0,Y=0,ve=0,ue=0,ge=0,xe=0,we=null,Me=0,pe=new F.Buf16(16),be=new F.Buf16(16),D=null,_e=0;for(j=0;j<=15;j++)pe[j]=0;for(J=0;J<d;J++)pe[v[u+J]]++;for(X=Z,$=15;1<=$&&pe[$]===0;$--);if($<X&&(X=$),$===0)return y[g++]=20971520,y[g++]=20971520,b.bits=1,0;for(k=1;k<$&&pe[k]===0;k++);for(X<k&&(X=k),j=ue=1;j<=15;j++)if(ue<<=1,(ue-=pe[j])<0)return-1;if(0<ue&&(T===0||$!==1))return-1;for(be[1]=0,j=1;j<15;j++)be[j+1]=be[j]+pe[j];for(J=0;J<d;J++)v[u+J]!==0&&(m[be[v[u+J]]++]=J);if(R=T===0?(we=D=m,19):T===1?(we=H,Me-=257,D=K,_e-=257,256):(we=S,D=w,-1),j=k,ce=g,ve=J=xe=0,p=-1,B=(ge=1<<(Y=X))-1,T===1&&852<ge||T===2&&592<ge)return 1;for(;;){for(fe=j-ve,U=m[J]<R?(se=0,m[J]):m[J]>R?(se=D[_e+m[J]],we[Me+m[J]]):(se=96,0),A=1<<j-ve,k=I=1<<Y;y[ce+(xe>>ve)+(I-=A)]=fe<<24|se<<16|U|0,I!==0;);for(A=1<<j-1;xe&A;)A>>=1;if(A!==0?(xe&=A-1,xe+=A):xe=0,J++,--pe[j]==0){if(j===$)break;j=v[u+m[J]]}if(X<j&&(xe&B)!==p){for(ve===0&&(ve=X),ce+=k,ue=1<<(Y=j-ve);Y+ve<$&&!((ue-=pe[Y+ve])<=0);)Y++,ue<<=1;if(ge+=1<<Y,T===1&&852<ge||T===2&&592<ge)return 1;y[p=xe&B]=X<<24|Y<<16|ce-g|0}}return xe!==0&&(y[ce+xe]=j-ve<<24|64<<16|0),b.bits=X,0}},{"../utils/common":41}],51:[function(N,V,z){"use strict";V.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(N,V,z){"use strict";var F=N("../utils/common");function H(pe){for(var be=pe.length;0<=--be;)pe[be]=0}var K=15,S=16,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);H(d);var y=new Array(60);H(y);var g=new Array(512);H(g);var m=new Array(256);H(m);var b=new Array(29);H(b);var A,I,p,B=new Array(30);function ce(pe,be,D,_e,de){this.static_tree=pe,this.extra_bits=be,this.extra_base=D,this.elems=_e,this.max_length=de,this.has_stree=pe&&pe.length}function R(pe,be){this.dyn_tree=pe,this.max_code=0,this.stat_desc=be}function fe(pe){return pe<256?g[pe]:g[256+(pe>>>7)]}function se(pe,be){pe.pending_buf[pe.pending++]=255&be,pe.pending_buf[pe.pending++]=be>>>8&255}function U(pe,be,D){pe.bi_valid>S-D?(pe.bi_buf|=be<<pe.bi_valid&65535,se(pe,pe.bi_buf),pe.bi_buf=be>>S-pe.bi_valid,pe.bi_valid+=D-S):(pe.bi_buf|=be<<pe.bi_valid&65535,pe.bi_valid+=D)}function Z(pe,be,D){U(pe,D[2*be],D[2*be+1])}function j(pe,be){for(var D=0;D|=1&pe,pe>>>=1,D<<=1,0<--be;);return D>>>1}function J(pe,be,D){var _e,de,ie=new Array(K+1),Re=0;for(_e=1;_e<=K;_e++)ie[_e]=Re=Re+D[_e-1]<<1;for(de=0;de<=be;de++){var Ae=pe[2*de+1];Ae!==0&&(pe[2*de]=j(ie[Ae]++,Ae))}}function k(pe){var be;for(be=0;be<286;be++)pe.dyn_ltree[2*be]=0;for(be=0;be<30;be++)pe.dyn_dtree[2*be]=0;for(be=0;be<19;be++)pe.bl_tree[2*be]=0;pe.dyn_ltree[512]=1,pe.opt_len=pe.static_len=0,pe.last_lit=pe.matches=0}function $(pe){8<pe.bi_valid?se(pe,pe.bi_buf):0<pe.bi_valid&&(pe.pending_buf[pe.pending++]=pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0}function X(pe,be,D,_e){var de=2*be,ie=2*D;return pe[de]<pe[ie]||pe[de]===pe[ie]&&_e[be]<=_e[D]}function Y(pe,be,D){for(var _e=pe.heap[D],de=D<<1;de<=pe.heap_len&&(de<pe.heap_len&&X(be,pe.heap[de+1],pe.heap[de],pe.depth)&&de++,!X(be,_e,pe.heap[de],pe.depth));)pe.heap[D]=pe.heap[de],D=de,de<<=1;pe.heap[D]=_e}function ve(pe,be,D){var _e,de,ie,Re,Ae=0;if(pe.last_lit!==0)for(;_e=pe.pending_buf[pe.d_buf+2*Ae]<<8|pe.pending_buf[pe.d_buf+2*Ae+1],de=pe.pending_buf[pe.l_buf+Ae],Ae++,_e===0?Z(pe,de,be):(Z(pe,(ie=m[de])+256+1,be),(Re=w[ie])!==0&&U(pe,de-=b[ie],Re),Z(pe,ie=fe(--_e),D),(Re=T[ie])!==0&&U(pe,_e-=B[ie],Re)),Ae<pe.last_lit;);Z(pe,256,be)}function ue(pe,be){var D,_e,de,ie=be.dyn_tree,Re=be.stat_desc.static_tree,Ae=be.stat_desc.has_stree,Ce=be.stat_desc.elems,me=-1;for(pe.heap_len=0,pe.heap_max=573,D=0;D<Ce;D++)ie[2*D]!==0?(pe.heap[++pe.heap_len]=me=D,pe.depth[D]=0):ie[2*D+1]=0;for(;pe.heap_len<2;)ie[2*(de=pe.heap[++pe.heap_len]=me<2?++me:0)]=1,pe.depth[de]=0,pe.opt_len--,Ae&&(pe.static_len-=Re[2*de+1]);for(be.max_code=me,D=pe.heap_len>>1;1<=D;D--)Y(pe,ie,D);for(de=Ce;D=pe.heap[1],pe.heap[1]=pe.heap[pe.heap_len--],Y(pe,ie,1),_e=pe.heap[1],pe.heap[--pe.heap_max]=D,pe.heap[--pe.heap_max]=_e,ie[2*de]=ie[2*D]+ie[2*_e],pe.depth[de]=(pe.depth[D]>=pe.depth[_e]?pe.depth[D]:pe.depth[_e])+1,ie[2*D+1]=ie[2*_e+1]=de,pe.heap[1]=de++,Y(pe,ie,1),2<=pe.heap_len;);pe.heap[--pe.heap_max]=pe.heap[1],function(q,le){var ft,Oe,Je,Tt,it,pt,vr=le.dyn_tree,vt=le.max_code,xt=le.stat_desc.static_tree,Sr=le.stat_desc.has_stree,lt=le.stat_desc.extra_bits,dt=le.stat_desc.extra_base,Mr=le.stat_desc.max_length,ht=0;for(Tt=0;Tt<=K;Tt++)q.bl_count[Tt]=0;for(vr[2*q.heap[q.heap_max]+1]=0,ft=q.heap_max+1;ft<573;ft++)Mr<(Tt=vr[2*vr[2*(Oe=q.heap[ft])+1]+1]+1)&&(Tt=Mr,ht++),vr[2*Oe+1]=Tt,vt<Oe||(q.bl_count[Tt]++,it=0,dt<=Oe&&(it=lt[Oe-dt]),pt=vr[2*Oe],q.opt_len+=pt*(Tt+it),Sr&&(q.static_len+=pt*(xt[2*Oe+1]+it)));if(ht!==0){do{for(Tt=Mr-1;q.bl_count[Tt]===0;)Tt--;q.bl_count[Tt]--,q.bl_count[Tt+1]+=2,q.bl_count[Mr]--,ht-=2}while(0<ht);for(Tt=Mr;Tt!==0;Tt--)for(Oe=q.bl_count[Tt];Oe!==0;)vt<(Je=q.heap[--ft])||(vr[2*Je+1]!==Tt&&(q.opt_len+=(Tt-vr[2*Je+1])*vr[2*Je],vr[2*Je+1]=Tt),Oe--)}}(pe,be),J(ie,me,pe.bl_count)}function ge(pe,be,D){var _e,de,ie=-1,Re=be[1],Ae=0,Ce=7,me=4;for(Re===0&&(Ce=138,me=3),be[2*(D+1)+1]=65535,_e=0;_e<=D;_e++)de=Re,Re=be[2*(_e+1)+1],++Ae<Ce&&de===Re||(Ae<me?pe.bl_tree[2*de]+=Ae:de!==0?(de!==ie&&pe.bl_tree[2*de]++,pe.bl_tree[32]++):Ae<=10?pe.bl_tree[34]++:pe.bl_tree[36]++,ie=de,me=(Ae=0)===Re?(Ce=138,3):de===Re?(Ce=6,3):(Ce=7,4))}function xe(pe,be,D){var _e,de,ie=-1,Re=be[1],Ae=0,Ce=7,me=4;for(Re===0&&(Ce=138,me=3),_e=0;_e<=D;_e++)if(de=Re,Re=be[2*(_e+1)+1],!(++Ae<Ce&&de===Re)){if(Ae<me)for(;Z(pe,de,pe.bl_tree),--Ae!=0;);else de!==0?(de!==ie&&(Z(pe,de,pe.bl_tree),Ae--),Z(pe,16,pe.bl_tree),U(pe,Ae-3,2)):Ae<=10?(Z(pe,17,pe.bl_tree),U(pe,Ae-3,3)):(Z(pe,18,pe.bl_tree),U(pe,Ae-11,7));ie=de,me=(Ae=0)===Re?(Ce=138,3):de===Re?(Ce=6,3):(Ce=7,4)}}H(B);var we=!1;function Me(pe,be,D,_e){var de,ie,Re;U(pe,0+(_e?1:0),3),ie=be,Re=D,$(de=pe),se(de,Re),se(de,~Re),F.arraySet(de.pending_buf,de.window,ie,Re,de.pending),de.pending+=Re}z._tr_init=function(pe){we||(function(){var be,D,_e,de,ie,Re=new Array(K+1);for(de=_e=0;de<28;de++)for(b[de]=_e,be=0;be<1<<w[de];be++)m[_e++]=de;for(m[_e-1]=de,de=ie=0;de<16;de++)for(B[de]=ie,be=0;be<1<<T[de];be++)g[ie++]=de;for(ie>>=7;de<30;de++)for(B[de]=ie<<7,be=0;be<1<<T[de]-7;be++)g[256+ie++]=de;for(D=0;D<=K;D++)Re[D]=0;for(be=0;be<=143;)d[2*be+1]=8,be++,Re[8]++;for(;be<=255;)d[2*be+1]=9,be++,Re[9]++;for(;be<=279;)d[2*be+1]=7,be++,Re[7]++;for(;be<=287;)d[2*be+1]=8,be++,Re[8]++;for(J(d,287,Re),be=0;be<30;be++)y[2*be+1]=5,y[2*be]=j(be,5);A=new ce(d,w,257,286,K),I=new ce(y,T,0,30,K),p=new ce(new Array(0),v,0,19,7)}(),we=!0),pe.l_desc=new R(pe.dyn_ltree,A),pe.d_desc=new R(pe.dyn_dtree,I),pe.bl_desc=new R(pe.bl_tree,p),pe.bi_buf=0,pe.bi_valid=0,k(pe)},z._tr_stored_block=Me,z._tr_flush_block=function(pe,be,D,_e){var de,ie,Re=0;0<pe.level?(pe.strm.data_type===2&&(pe.strm.data_type=function(Ae){var Ce,me=4093624447;for(Ce=0;Ce<=31;Ce++,me>>>=1)if(1&me&&Ae.dyn_ltree[2*Ce]!==0)return 0;if(Ae.dyn_ltree[18]!==0||Ae.dyn_ltree[20]!==0||Ae.dyn_ltree[26]!==0)return 1;for(Ce=32;Ce<256;Ce++)if(Ae.dyn_ltree[2*Ce]!==0)return 1;return 0}(pe)),ue(pe,pe.l_desc),ue(pe,pe.d_desc),Re=function(Ae){var Ce;for(ge(Ae,Ae.dyn_ltree,Ae.l_desc.max_code),ge(Ae,Ae.dyn_dtree,Ae.d_desc.max_code),ue(Ae,Ae.bl_desc),Ce=18;3<=Ce&&Ae.bl_tree[2*u[Ce]+1]===0;Ce--);return Ae.opt_len+=3*(Ce+1)+5+5+4,Ce}(pe),de=pe.opt_len+3+7>>>3,(ie=pe.static_len+3+7>>>3)<=de&&(de=ie)):de=ie=D+5,D+4<=de&&be!==-1?Me(pe,be,D,_e):pe.strategy===4||ie===de?(U(pe,2+(_e?1:0),3),ve(pe,d,y)):(U(pe,4+(_e?1:0),3),function(Ae,Ce,me,q){var le;for(U(Ae,Ce-257,5),U(Ae,me-1,5),U(Ae,q-4,4),le=0;le<q;le++)U(Ae,Ae.bl_tree[2*u[le]+1],3);xe(Ae,Ae.dyn_ltree,Ce-1),xe(Ae,Ae.dyn_dtree,me-1)}(pe,pe.l_desc.max_code+1,pe.d_desc.max_code+1,Re+1),ve(pe,pe.dyn_ltree,pe.dyn_dtree)),k(pe),_e&&$(pe)},z._tr_tally=function(pe,be,D){return pe.pending_buf[pe.d_buf+2*pe.last_lit]=be>>>8&255,pe.pending_buf[pe.d_buf+2*pe.last_lit+1]=255&be,pe.pending_buf[pe.l_buf+pe.last_lit]=255&D,pe.last_lit++,be===0?pe.dyn_ltree[2*D]++:(pe.matches++,be--,pe.dyn_ltree[2*(m[D]+256+1)]++,pe.dyn_dtree[2*fe(be)]++),pe.last_lit===pe.lit_bufsize-1},z._tr_align=function(pe){var be;U(pe,2,3),Z(pe,256,d),(be=pe).bi_valid===16?(se(be,be.bi_buf),be.bi_buf=0,be.bi_valid=0):8<=be.bi_valid&&(be.pending_buf[be.pending++]=255&be.bi_buf,be.bi_buf>>=8,be.bi_valid-=8)}},{"../utils/common":41}],53:[function(N,V,z){"use strict";V.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(N,V,z){"use strict";V.exports=typeof setImmediate=="function"?setImmediate:function(){var F=[].slice.apply(arguments);F.splice(1,0,0),setTimeout.apply(null,F)}},{}]},{},[10])(10)})}).call(this,C!==void 0?C:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[1])(1)})}).call(this,h!==void 0?h:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[1])(1)})}).call(this,a!==void 0?a:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[1])(1)})}).call(this,i!==void 0?i:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[1])(1)})}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[1])(1)})});var W0=M(()=>{});var P8=M((eDe,M6)=>{(function(r){"use strict";var e=function(G){var re,te=new Float64Array(16);if(G)for(re=0;re<G.length;re++)te[re]=G[re];return te},t=function(){throw new Error("no PRNG")},i=new Uint8Array(16),n=new Uint8Array(32);n[0]=9;var s=e(),o=e([1]),a=e([56129,1]),f=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),x=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(G,re,te,P){G[re]=te>>24&255,G[re+1]=te>>16&255,G[re+2]=te>>8&255,G[re+3]=te&255,G[re+4]=P>>24&255,G[re+5]=P>>16&255,G[re+6]=P>>8&255,G[re+7]=P&255}function E(G,re,te,P,oe){var Ee,Ne=0;for(Ee=0;Ee<oe;Ee++)Ne|=G[re+Ee]^te[P+Ee];return(1&Ne-1>>>8)-1}function C(G,re,te,P){return E(G,re,te,P,16)}function L(G,re,te,P){return E(G,re,te,P,32)}function O(G,re,te,P){for(var oe=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,Ee=te[0]&255|(te[1]&255)<<8|(te[2]&255)<<16|(te[3]&255)<<24,Ne=te[4]&255|(te[5]&255)<<8|(te[6]&255)<<16|(te[7]&255)<<24,Be=te[8]&255|(te[9]&255)<<8|(te[10]&255)<<16|(te[11]&255)<<24,Pe=te[12]&255|(te[13]&255)<<8|(te[14]&255)<<16|(te[15]&255)<<24,Et=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,Xe=re[0]&255|(re[1]&255)<<8|(re[2]&255)<<16|(re[3]&255)<<24,bt=re[4]&255|(re[5]&255)<<8|(re[6]&255)<<16|(re[7]&255)<<24,yt=re[8]&255|(re[9]&255)<<8|(re[10]&255)<<16|(re[11]&255)<<24,Dt=re[12]&255|(re[13]&255)<<8|(re[14]&255)<<16|(re[15]&255)<<24,Lt=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,Ot=te[16]&255|(te[17]&255)<<8|(te[18]&255)<<16|(te[19]&255)<<24,Ft=te[20]&255|(te[21]&255)<<8|(te[22]&255)<<16|(te[23]&255)<<24,zt=te[24]&255|(te[25]&255)<<8|(te[26]&255)<<16|(te[27]&255)<<24,Vt=te[28]&255|(te[29]&255)<<8|(te[30]&255)<<16|(te[31]&255)<<24,jt=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,St=oe,Nt=Ee,mt=Ne,It=Be,Ct=Pe,ot=Et,Le=Xe,Ue=bt,rt=yt,Ze=Dt,ze=Lt,tt=Ot,Yt=Ft,er=zt,Wt=Vt,tr=jt,Se,ur=0;ur<20;ur+=2)Se=St+Yt|0,Ct^=Se<<7|Se>>>32-7,Se=Ct+St|0,rt^=Se<<9|Se>>>32-9,Se=rt+Ct|0,Yt^=Se<<13|Se>>>32-13,Se=Yt+rt|0,St^=Se<<18|Se>>>32-18,Se=ot+Nt|0,Ze^=Se<<7|Se>>>32-7,Se=Ze+ot|0,er^=Se<<9|Se>>>32-9,Se=er+Ze|0,Nt^=Se<<13|Se>>>32-13,Se=Nt+er|0,ot^=Se<<18|Se>>>32-18,Se=ze+Le|0,Wt^=Se<<7|Se>>>32-7,Se=Wt+ze|0,mt^=Se<<9|Se>>>32-9,Se=mt+Wt|0,Le^=Se<<13|Se>>>32-13,Se=Le+mt|0,ze^=Se<<18|Se>>>32-18,Se=tr+tt|0,It^=Se<<7|Se>>>32-7,Se=It+tr|0,Ue^=Se<<9|Se>>>32-9,Se=Ue+It|0,tt^=Se<<13|Se>>>32-13,Se=tt+Ue|0,tr^=Se<<18|Se>>>32-18,Se=St+It|0,Nt^=Se<<7|Se>>>32-7,Se=Nt+St|0,mt^=Se<<9|Se>>>32-9,Se=mt+Nt|0,It^=Se<<13|Se>>>32-13,Se=It+mt|0,St^=Se<<18|Se>>>32-18,Se=ot+Ct|0,Le^=Se<<7|Se>>>32-7,Se=Le+ot|0,Ue^=Se<<9|Se>>>32-9,Se=Ue+Le|0,Ct^=Se<<13|Se>>>32-13,Se=Ct+Ue|0,ot^=Se<<18|Se>>>32-18,Se=ze+Ze|0,tt^=Se<<7|Se>>>32-7,Se=tt+ze|0,rt^=Se<<9|Se>>>32-9,Se=rt+tt|0,Ze^=Se<<13|Se>>>32-13,Se=Ze+rt|0,ze^=Se<<18|Se>>>32-18,Se=tr+Wt|0,Yt^=Se<<7|Se>>>32-7,Se=Yt+tr|0,er^=Se<<9|Se>>>32-9,Se=er+Yt|0,Wt^=Se<<13|Se>>>32-13,Se=Wt+er|0,tr^=Se<<18|Se>>>32-18;St=St+oe|0,Nt=Nt+Ee|0,mt=mt+Ne|0,It=It+Be|0,Ct=Ct+Pe|0,ot=ot+Et|0,Le=Le+Xe|0,Ue=Ue+bt|0,rt=rt+yt|0,Ze=Ze+Dt|0,ze=ze+Lt|0,tt=tt+Ot|0,Yt=Yt+Ft|0,er=er+zt|0,Wt=Wt+Vt|0,tr=tr+jt|0,G[0]=St>>>0&255,G[1]=St>>>8&255,G[2]=St>>>16&255,G[3]=St>>>24&255,G[4]=Nt>>>0&255,G[5]=Nt>>>8&255,G[6]=Nt>>>16&255,G[7]=Nt>>>24&255,G[8]=mt>>>0&255,G[9]=mt>>>8&255,G[10]=mt>>>16&255,G[11]=mt>>>24&255,G[12]=It>>>0&255,G[13]=It>>>8&255,G[14]=It>>>16&255,G[15]=It>>>24&255,G[16]=Ct>>>0&255,G[17]=Ct>>>8&255,G[18]=Ct>>>16&255,G[19]=Ct>>>24&255,G[20]=ot>>>0&255,G[21]=ot>>>8&255,G[22]=ot>>>16&255,G[23]=ot>>>24&255,G[24]=Le>>>0&255,G[25]=Le>>>8&255,G[26]=Le>>>16&255,G[27]=Le>>>24&255,G[28]=Ue>>>0&255,G[29]=Ue>>>8&255,G[30]=Ue>>>16&255,G[31]=Ue>>>24&255,G[32]=rt>>>0&255,G[33]=rt>>>8&255,G[34]=rt>>>16&255,G[35]=rt>>>24&255,G[36]=Ze>>>0&255,G[37]=Ze>>>8&255,G[38]=Ze>>>16&255,G[39]=Ze>>>24&255,G[40]=ze>>>0&255,G[41]=ze>>>8&255,G[42]=ze>>>16&255,G[43]=ze>>>24&255,G[44]=tt>>>0&255,G[45]=tt>>>8&255,G[46]=tt>>>16&255,G[47]=tt>>>24&255,G[48]=Yt>>>0&255,G[49]=Yt>>>8&255,G[50]=Yt>>>16&255,G[51]=Yt>>>24&255,G[52]=er>>>0&255,G[53]=er>>>8&255,G[54]=er>>>16&255,G[55]=er>>>24&255,G[56]=Wt>>>0&255,G[57]=Wt>>>8&255,G[58]=Wt>>>16&255,G[59]=Wt>>>24&255,G[60]=tr>>>0&255,G[61]=tr>>>8&255,G[62]=tr>>>16&255,G[63]=tr>>>24&255}function W(G,re,te,P){for(var oe=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,Ee=te[0]&255|(te[1]&255)<<8|(te[2]&255)<<16|(te[3]&255)<<24,Ne=te[4]&255|(te[5]&255)<<8|(te[6]&255)<<16|(te[7]&255)<<24,Be=te[8]&255|(te[9]&255)<<8|(te[10]&255)<<16|(te[11]&255)<<24,Pe=te[12]&255|(te[13]&255)<<8|(te[14]&255)<<16|(te[15]&255)<<24,Et=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,Xe=re[0]&255|(re[1]&255)<<8|(re[2]&255)<<16|(re[3]&255)<<24,bt=re[4]&255|(re[5]&255)<<8|(re[6]&255)<<16|(re[7]&255)<<24,yt=re[8]&255|(re[9]&255)<<8|(re[10]&255)<<16|(re[11]&255)<<24,Dt=re[12]&255|(re[13]&255)<<8|(re[14]&255)<<16|(re[15]&255)<<24,Lt=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,Ot=te[16]&255|(te[17]&255)<<8|(te[18]&255)<<16|(te[19]&255)<<24,Ft=te[20]&255|(te[21]&255)<<8|(te[22]&255)<<16|(te[23]&255)<<24,zt=te[24]&255|(te[25]&255)<<8|(te[26]&255)<<16|(te[27]&255)<<24,Vt=te[28]&255|(te[29]&255)<<8|(te[30]&255)<<16|(te[31]&255)<<24,jt=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,St=oe,Nt=Ee,mt=Ne,It=Be,Ct=Pe,ot=Et,Le=Xe,Ue=bt,rt=yt,Ze=Dt,ze=Lt,tt=Ot,Yt=Ft,er=zt,Wt=Vt,tr=jt,Se,ur=0;ur<20;ur+=2)Se=St+Yt|0,Ct^=Se<<7|Se>>>32-7,Se=Ct+St|0,rt^=Se<<9|Se>>>32-9,Se=rt+Ct|0,Yt^=Se<<13|Se>>>32-13,Se=Yt+rt|0,St^=Se<<18|Se>>>32-18,Se=ot+Nt|0,Ze^=Se<<7|Se>>>32-7,Se=Ze+ot|0,er^=Se<<9|Se>>>32-9,Se=er+Ze|0,Nt^=Se<<13|Se>>>32-13,Se=Nt+er|0,ot^=Se<<18|Se>>>32-18,Se=ze+Le|0,Wt^=Se<<7|Se>>>32-7,Se=Wt+ze|0,mt^=Se<<9|Se>>>32-9,Se=mt+Wt|0,Le^=Se<<13|Se>>>32-13,Se=Le+mt|0,ze^=Se<<18|Se>>>32-18,Se=tr+tt|0,It^=Se<<7|Se>>>32-7,Se=It+tr|0,Ue^=Se<<9|Se>>>32-9,Se=Ue+It|0,tt^=Se<<13|Se>>>32-13,Se=tt+Ue|0,tr^=Se<<18|Se>>>32-18,Se=St+It|0,Nt^=Se<<7|Se>>>32-7,Se=Nt+St|0,mt^=Se<<9|Se>>>32-9,Se=mt+Nt|0,It^=Se<<13|Se>>>32-13,Se=It+mt|0,St^=Se<<18|Se>>>32-18,Se=ot+Ct|0,Le^=Se<<7|Se>>>32-7,Se=Le+ot|0,Ue^=Se<<9|Se>>>32-9,Se=Ue+Le|0,Ct^=Se<<13|Se>>>32-13,Se=Ct+Ue|0,ot^=Se<<18|Se>>>32-18,Se=ze+Ze|0,tt^=Se<<7|Se>>>32-7,Se=tt+ze|0,rt^=Se<<9|Se>>>32-9,Se=rt+tt|0,Ze^=Se<<13|Se>>>32-13,Se=Ze+rt|0,ze^=Se<<18|Se>>>32-18,Se=tr+Wt|0,Yt^=Se<<7|Se>>>32-7,Se=Yt+tr|0,er^=Se<<9|Se>>>32-9,Se=er+Yt|0,Wt^=Se<<13|Se>>>32-13,Se=Wt+er|0,tr^=Se<<18|Se>>>32-18;G[0]=St>>>0&255,G[1]=St>>>8&255,G[2]=St>>>16&255,G[3]=St>>>24&255,G[4]=ot>>>0&255,G[5]=ot>>>8&255,G[6]=ot>>>16&255,G[7]=ot>>>24&255,G[8]=ze>>>0&255,G[9]=ze>>>8&255,G[10]=ze>>>16&255,G[11]=ze>>>24&255,G[12]=tr>>>0&255,G[13]=tr>>>8&255,G[14]=tr>>>16&255,G[15]=tr>>>24&255,G[16]=Le>>>0&255,G[17]=Le>>>8&255,G[18]=Le>>>16&255,G[19]=Le>>>24&255,G[20]=Ue>>>0&255,G[21]=Ue>>>8&255,G[22]=Ue>>>16&255,G[23]=Ue>>>24&255,G[24]=rt>>>0&255,G[25]=rt>>>8&255,G[26]=rt>>>16&255,G[27]=rt>>>24&255,G[28]=Ze>>>0&255,G[29]=Ze>>>8&255,G[30]=Ze>>>16&255,G[31]=Ze>>>24&255}function ee(G,re,te,P){O(G,re,te,P)}function N(G,re,te,P){W(G,re,te,P)}var V=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function z(G,re,te,P,oe,Ee,Ne){var Be=new Uint8Array(16),Pe=new Uint8Array(64),Et,Xe;for(Xe=0;Xe<16;Xe++)Be[Xe]=0;for(Xe=0;Xe<8;Xe++)Be[Xe]=Ee[Xe];for(;oe>=64;){for(ee(Pe,Be,Ne,V),Xe=0;Xe<64;Xe++)G[re+Xe]=te[P+Xe]^Pe[Xe];for(Et=1,Xe=8;Xe<16;Xe++)Et=Et+(Be[Xe]&255)|0,Be[Xe]=Et&255,Et>>>=8;oe-=64,re+=64,P+=64}if(oe>0)for(ee(Pe,Be,Ne,V),Xe=0;Xe<oe;Xe++)G[re+Xe]=te[P+Xe]^Pe[Xe];return 0}function F(G,re,te,P,oe){var Ee=new Uint8Array(16),Ne=new Uint8Array(64),Be,Pe;for(Pe=0;Pe<16;Pe++)Ee[Pe]=0;for(Pe=0;Pe<8;Pe++)Ee[Pe]=P[Pe];for(;te>=64;){for(ee(Ne,Ee,oe,V),Pe=0;Pe<64;Pe++)G[re+Pe]=Ne[Pe];for(Be=1,Pe=8;Pe<16;Pe++)Be=Be+(Ee[Pe]&255)|0,Ee[Pe]=Be&255,Be>>>=8;te-=64,re+=64}if(te>0)for(ee(Ne,Ee,oe,V),Pe=0;Pe<te;Pe++)G[re+Pe]=Ne[Pe];return 0}function H(G,re,te,P,oe){var Ee=new Uint8Array(32);N(Ee,P,oe,V);for(var Ne=new Uint8Array(8),Be=0;Be<8;Be++)Ne[Be]=P[Be+16];return F(G,re,te,Ne,Ee)}function K(G,re,te,P,oe,Ee,Ne){var Be=new Uint8Array(32);N(Be,Ee,Ne,V);for(var Pe=new Uint8Array(8),Et=0;Et<8;Et++)Pe[Et]=Ee[Et+16];return z(G,re,te,P,oe,Pe,Be)}var S=function(G){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var re,te,P,oe,Ee,Ne,Be,Pe;re=G[0]&255|(G[1]&255)<<8,this.r[0]=re&8191,te=G[2]&255|(G[3]&255)<<8,this.r[1]=(re>>>13|te<<3)&8191,P=G[4]&255|(G[5]&255)<<8,this.r[2]=(te>>>10|P<<6)&7939,oe=G[6]&255|(G[7]&255)<<8,this.r[3]=(P>>>7|oe<<9)&8191,Ee=G[8]&255|(G[9]&255)<<8,this.r[4]=(oe>>>4|Ee<<12)&255,this.r[5]=Ee>>>1&8190,Ne=G[10]&255|(G[11]&255)<<8,this.r[6]=(Ee>>>14|Ne<<2)&8191,Be=G[12]&255|(G[13]&255)<<8,this.r[7]=(Ne>>>11|Be<<5)&8065,Pe=G[14]&255|(G[15]&255)<<8,this.r[8]=(Be>>>8|Pe<<8)&8191,this.r[9]=Pe>>>5&127,this.pad[0]=G[16]&255|(G[17]&255)<<8,this.pad[1]=G[18]&255|(G[19]&255)<<8,this.pad[2]=G[20]&255|(G[21]&255)<<8,this.pad[3]=G[22]&255|(G[23]&255)<<8,this.pad[4]=G[24]&255|(G[25]&255)<<8,this.pad[5]=G[26]&255|(G[27]&255)<<8,this.pad[6]=G[28]&255|(G[29]&255)<<8,this.pad[7]=G[30]&255|(G[31]&255)<<8};S.prototype.blocks=function(G,re,te){for(var P=this.fin?0:1<<11,oe,Ee,Ne,Be,Pe,Et,Xe,bt,yt,Dt,Lt,Ot,Ft,zt,Vt,jt,St,Nt,mt,It=this.h[0],Ct=this.h[1],ot=this.h[2],Le=this.h[3],Ue=this.h[4],rt=this.h[5],Ze=this.h[6],ze=this.h[7],tt=this.h[8],Yt=this.h[9],er=this.r[0],Wt=this.r[1],tr=this.r[2],Se=this.r[3],ur=this.r[4],kr=this.r[5],xr=this.r[6],ir=this.r[7],Ar=this.r[8],Ir=this.r[9];te>=16;)oe=G[re+0]&255|(G[re+1]&255)<<8,It+=oe&8191,Ee=G[re+2]&255|(G[re+3]&255)<<8,Ct+=(oe>>>13|Ee<<3)&8191,Ne=G[re+4]&255|(G[re+5]&255)<<8,ot+=(Ee>>>10|Ne<<6)&8191,Be=G[re+6]&255|(G[re+7]&255)<<8,Le+=(Ne>>>7|Be<<9)&8191,Pe=G[re+8]&255|(G[re+9]&255)<<8,Ue+=(Be>>>4|Pe<<12)&8191,rt+=Pe>>>1&8191,Et=G[re+10]&255|(G[re+11]&255)<<8,Ze+=(Pe>>>14|Et<<2)&8191,Xe=G[re+12]&255|(G[re+13]&255)<<8,ze+=(Et>>>11|Xe<<5)&8191,bt=G[re+14]&255|(G[re+15]&255)<<8,tt+=(Xe>>>8|bt<<8)&8191,Yt+=bt>>>5|P,yt=0,Dt=yt,Dt+=It*er,Dt+=Ct*(5*Ir),Dt+=ot*(5*Ar),Dt+=Le*(5*ir),Dt+=Ue*(5*xr),yt=Dt>>>13,Dt&=8191,Dt+=rt*(5*kr),Dt+=Ze*(5*ur),Dt+=ze*(5*Se),Dt+=tt*(5*tr),Dt+=Yt*(5*Wt),yt+=Dt>>>13,Dt&=8191,Lt=yt,Lt+=It*Wt,Lt+=Ct*er,Lt+=ot*(5*Ir),Lt+=Le*(5*Ar),Lt+=Ue*(5*ir),yt=Lt>>>13,Lt&=8191,Lt+=rt*(5*xr),Lt+=Ze*(5*kr),Lt+=ze*(5*ur),Lt+=tt*(5*Se),Lt+=Yt*(5*tr),yt+=Lt>>>13,Lt&=8191,Ot=yt,Ot+=It*tr,Ot+=Ct*Wt,Ot+=ot*er,Ot+=Le*(5*Ir),Ot+=Ue*(5*Ar),yt=Ot>>>13,Ot&=8191,Ot+=rt*(5*ir),Ot+=Ze*(5*xr),Ot+=ze*(5*kr),Ot+=tt*(5*ur),Ot+=Yt*(5*Se),yt+=Ot>>>13,Ot&=8191,Ft=yt,Ft+=It*Se,Ft+=Ct*tr,Ft+=ot*Wt,Ft+=Le*er,Ft+=Ue*(5*Ir),yt=Ft>>>13,Ft&=8191,Ft+=rt*(5*Ar),Ft+=Ze*(5*ir),Ft+=ze*(5*xr),Ft+=tt*(5*kr),Ft+=Yt*(5*ur),yt+=Ft>>>13,Ft&=8191,zt=yt,zt+=It*ur,zt+=Ct*Se,zt+=ot*tr,zt+=Le*Wt,zt+=Ue*er,yt=zt>>>13,zt&=8191,zt+=rt*(5*Ir),zt+=Ze*(5*Ar),zt+=ze*(5*ir),zt+=tt*(5*xr),zt+=Yt*(5*kr),yt+=zt>>>13,zt&=8191,Vt=yt,Vt+=It*kr,Vt+=Ct*ur,Vt+=ot*Se,Vt+=Le*tr,Vt+=Ue*Wt,yt=Vt>>>13,Vt&=8191,Vt+=rt*er,Vt+=Ze*(5*Ir),Vt+=ze*(5*Ar),Vt+=tt*(5*ir),Vt+=Yt*(5*xr),yt+=Vt>>>13,Vt&=8191,jt=yt,jt+=It*xr,jt+=Ct*kr,jt+=ot*ur,jt+=Le*Se,jt+=Ue*tr,yt=jt>>>13,jt&=8191,jt+=rt*Wt,jt+=Ze*er,jt+=ze*(5*Ir),jt+=tt*(5*Ar),jt+=Yt*(5*ir),yt+=jt>>>13,jt&=8191,St=yt,St+=It*ir,St+=Ct*xr,St+=ot*kr,St+=Le*ur,St+=Ue*Se,yt=St>>>13,St&=8191,St+=rt*tr,St+=Ze*Wt,St+=ze*er,St+=tt*(5*Ir),St+=Yt*(5*Ar),yt+=St>>>13,St&=8191,Nt=yt,Nt+=It*Ar,Nt+=Ct*ir,Nt+=ot*xr,Nt+=Le*kr,Nt+=Ue*ur,yt=Nt>>>13,Nt&=8191,Nt+=rt*Se,Nt+=Ze*tr,Nt+=ze*Wt,Nt+=tt*er,Nt+=Yt*(5*Ir),yt+=Nt>>>13,Nt&=8191,mt=yt,mt+=It*Ir,mt+=Ct*Ar,mt+=ot*ir,mt+=Le*xr,mt+=Ue*kr,yt=mt>>>13,mt&=8191,mt+=rt*ur,mt+=Ze*Se,mt+=ze*tr,mt+=tt*Wt,mt+=Yt*er,yt+=mt>>>13,mt&=8191,yt=(yt<<2)+yt|0,yt=yt+Dt|0,Dt=yt&8191,yt=yt>>>13,Lt+=yt,It=Dt,Ct=Lt,ot=Ot,Le=Ft,Ue=zt,rt=Vt,Ze=jt,ze=St,tt=Nt,Yt=mt,re+=16,te-=16;this.h[0]=It,this.h[1]=Ct,this.h[2]=ot,this.h[3]=Le,this.h[4]=Ue,this.h[5]=rt,this.h[6]=Ze,this.h[7]=ze,this.h[8]=tt,this.h[9]=Yt},S.prototype.finish=function(G,re){var te=new Uint16Array(10),P,oe,Ee,Ne;if(this.leftover){for(Ne=this.leftover,this.buffer[Ne++]=1;Ne<16;Ne++)this.buffer[Ne]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(P=this.h[1]>>>13,this.h[1]&=8191,Ne=2;Ne<10;Ne++)this.h[Ne]+=P,P=this.h[Ne]>>>13,this.h[Ne]&=8191;for(this.h[0]+=P*5,P=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=P,P=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=P,te[0]=this.h[0]+5,P=te[0]>>>13,te[0]&=8191,Ne=1;Ne<10;Ne++)te[Ne]=this.h[Ne]+P,P=te[Ne]>>>13,te[Ne]&=8191;for(te[9]-=1<<13,oe=(P^1)-1,Ne=0;Ne<10;Ne++)te[Ne]&=oe;for(oe=~oe,Ne=0;Ne<10;Ne++)this.h[Ne]=this.h[Ne]&oe|te[Ne];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Ee=this.h[0]+this.pad[0],this.h[0]=Ee&65535,Ne=1;Ne<8;Ne++)Ee=(this.h[Ne]+this.pad[Ne]|0)+(Ee>>>16)|0,this.h[Ne]=Ee&65535;G[re+0]=this.h[0]>>>0&255,G[re+1]=this.h[0]>>>8&255,G[re+2]=this.h[1]>>>0&255,G[re+3]=this.h[1]>>>8&255,G[re+4]=this.h[2]>>>0&255,G[re+5]=this.h[2]>>>8&255,G[re+6]=this.h[3]>>>0&255,G[re+7]=this.h[3]>>>8&255,G[re+8]=this.h[4]>>>0&255,G[re+9]=this.h[4]>>>8&255,G[re+10]=this.h[5]>>>0&255,G[re+11]=this.h[5]>>>8&255,G[re+12]=this.h[6]>>>0&255,G[re+13]=this.h[6]>>>8&255,G[re+14]=this.h[7]>>>0&255,G[re+15]=this.h[7]>>>8&255},S.prototype.update=function(G,re,te){var P,oe;if(this.leftover){for(oe=16-this.leftover,oe>te&&(oe=te),P=0;P<oe;P++)this.buffer[this.leftover+P]=G[re+P];if(te-=oe,re+=oe,this.leftover+=oe,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(te>=16&&(oe=te-te%16,this.blocks(G,re,oe),re+=oe,te-=oe),te){for(P=0;P<te;P++)this.buffer[this.leftover+P]=G[re+P];this.leftover+=te}};function w(G,re,te,P,oe,Ee){var Ne=new S(Ee);return Ne.update(te,P,oe),Ne.finish(G,re),0}function T(G,re,te,P,oe,Ee){var Ne=new Uint8Array(16);return w(Ne,0,te,P,oe,Ee),C(G,re,Ne,0)}function v(G,re,te,P,oe){var Ee;if(te<32)return-1;for(K(G,0,re,0,te,P,oe),w(G,16,G,32,te-32,G),Ee=0;Ee<16;Ee++)G[Ee]=0;return 0}function u(G,re,te,P,oe){var Ee,Ne=new Uint8Array(32);if(te<32||(H(Ne,0,32,P,oe),T(re,16,re,32,te-32,Ne)!==0))return-1;for(K(G,0,re,0,te,P,oe),Ee=0;Ee<32;Ee++)G[Ee]=0;return 0}function d(G,re){var te;for(te=0;te<16;te++)G[te]=re[te]|0}function y(G){var re,te,P=1;for(re=0;re<16;re++)te=G[re]+P+65535,P=Math.floor(te/65536),G[re]=te-P*65536;G[0]+=P-1+37*(P-1)}function g(G,re,te){for(var P,oe=~(te-1),Ee=0;Ee<16;Ee++)P=oe&(G[Ee]^re[Ee]),G[Ee]^=P,re[Ee]^=P}function m(G,re){var te,P,oe,Ee=e(),Ne=e();for(te=0;te<16;te++)Ne[te]=re[te];for(y(Ne),y(Ne),y(Ne),P=0;P<2;P++){for(Ee[0]=Ne[0]-65517,te=1;te<15;te++)Ee[te]=Ne[te]-65535-(Ee[te-1]>>16&1),Ee[te-1]&=65535;Ee[15]=Ne[15]-32767-(Ee[14]>>16&1),oe=Ee[15]>>16&1,Ee[14]&=65535,g(Ne,Ee,1-oe)}for(te=0;te<16;te++)G[2*te]=Ne[te]&255,G[2*te+1]=Ne[te]>>8}function b(G,re){var te=new Uint8Array(32),P=new Uint8Array(32);return m(te,G),m(P,re),L(te,0,P,0)}function A(G){var re=new Uint8Array(32);return m(re,G),re[0]&1}function I(G,re){var te;for(te=0;te<16;te++)G[te]=re[2*te]+(re[2*te+1]<<8);G[15]&=32767}function p(G,re,te){for(var P=0;P<16;P++)G[P]=re[P]+te[P]}function B(G,re,te){for(var P=0;P<16;P++)G[P]=re[P]-te[P]}function ce(G,re,te){var P,oe,Ee=0,Ne=0,Be=0,Pe=0,Et=0,Xe=0,bt=0,yt=0,Dt=0,Lt=0,Ot=0,Ft=0,zt=0,Vt=0,jt=0,St=0,Nt=0,mt=0,It=0,Ct=0,ot=0,Le=0,Ue=0,rt=0,Ze=0,ze=0,tt=0,Yt=0,er=0,Wt=0,tr=0,Se=te[0],ur=te[1],kr=te[2],xr=te[3],ir=te[4],Ar=te[5],Ir=te[6],xi=te[7],Pr=te[8],Q=te[9],ne=te[10],ye=te[11],Ie=te[12],Ve=te[13],et=te[14],ct=te[15];P=re[0],Ee+=P*Se,Ne+=P*ur,Be+=P*kr,Pe+=P*xr,Et+=P*ir,Xe+=P*Ar,bt+=P*Ir,yt+=P*xi,Dt+=P*Pr,Lt+=P*Q,Ot+=P*ne,Ft+=P*ye,zt+=P*Ie,Vt+=P*Ve,jt+=P*et,St+=P*ct,P=re[1],Ne+=P*Se,Be+=P*ur,Pe+=P*kr,Et+=P*xr,Xe+=P*ir,bt+=P*Ar,yt+=P*Ir,Dt+=P*xi,Lt+=P*Pr,Ot+=P*Q,Ft+=P*ne,zt+=P*ye,Vt+=P*Ie,jt+=P*Ve,St+=P*et,Nt+=P*ct,P=re[2],Be+=P*Se,Pe+=P*ur,Et+=P*kr,Xe+=P*xr,bt+=P*ir,yt+=P*Ar,Dt+=P*Ir,Lt+=P*xi,Ot+=P*Pr,Ft+=P*Q,zt+=P*ne,Vt+=P*ye,jt+=P*Ie,St+=P*Ve,Nt+=P*et,mt+=P*ct,P=re[3],Pe+=P*Se,Et+=P*ur,Xe+=P*kr,bt+=P*xr,yt+=P*ir,Dt+=P*Ar,Lt+=P*Ir,Ot+=P*xi,Ft+=P*Pr,zt+=P*Q,Vt+=P*ne,jt+=P*ye,St+=P*Ie,Nt+=P*Ve,mt+=P*et,It+=P*ct,P=re[4],Et+=P*Se,Xe+=P*ur,bt+=P*kr,yt+=P*xr,Dt+=P*ir,Lt+=P*Ar,Ot+=P*Ir,Ft+=P*xi,zt+=P*Pr,Vt+=P*Q,jt+=P*ne,St+=P*ye,Nt+=P*Ie,mt+=P*Ve,It+=P*et,Ct+=P*ct,P=re[5],Xe+=P*Se,bt+=P*ur,yt+=P*kr,Dt+=P*xr,Lt+=P*ir,Ot+=P*Ar,Ft+=P*Ir,zt+=P*xi,Vt+=P*Pr,jt+=P*Q,St+=P*ne,Nt+=P*ye,mt+=P*Ie,It+=P*Ve,Ct+=P*et,ot+=P*ct,P=re[6],bt+=P*Se,yt+=P*ur,Dt+=P*kr,Lt+=P*xr,Ot+=P*ir,Ft+=P*Ar,zt+=P*Ir,Vt+=P*xi,jt+=P*Pr,St+=P*Q,Nt+=P*ne,mt+=P*ye,It+=P*Ie,Ct+=P*Ve,ot+=P*et,Le+=P*ct,P=re[7],yt+=P*Se,Dt+=P*ur,Lt+=P*kr,Ot+=P*xr,Ft+=P*ir,zt+=P*Ar,Vt+=P*Ir,jt+=P*xi,St+=P*Pr,Nt+=P*Q,mt+=P*ne,It+=P*ye,Ct+=P*Ie,ot+=P*Ve,Le+=P*et,Ue+=P*ct,P=re[8],Dt+=P*Se,Lt+=P*ur,Ot+=P*kr,Ft+=P*xr,zt+=P*ir,Vt+=P*Ar,jt+=P*Ir,St+=P*xi,Nt+=P*Pr,mt+=P*Q,It+=P*ne,Ct+=P*ye,ot+=P*Ie,Le+=P*Ve,Ue+=P*et,rt+=P*ct,P=re[9],Lt+=P*Se,Ot+=P*ur,Ft+=P*kr,zt+=P*xr,Vt+=P*ir,jt+=P*Ar,St+=P*Ir,Nt+=P*xi,mt+=P*Pr,It+=P*Q,Ct+=P*ne,ot+=P*ye,Le+=P*Ie,Ue+=P*Ve,rt+=P*et,Ze+=P*ct,P=re[10],Ot+=P*Se,Ft+=P*ur,zt+=P*kr,Vt+=P*xr,jt+=P*ir,St+=P*Ar,Nt+=P*Ir,mt+=P*xi,It+=P*Pr,Ct+=P*Q,ot+=P*ne,Le+=P*ye,Ue+=P*Ie,rt+=P*Ve,Ze+=P*et,ze+=P*ct,P=re[11],Ft+=P*Se,zt+=P*ur,Vt+=P*kr,jt+=P*xr,St+=P*ir,Nt+=P*Ar,mt+=P*Ir,It+=P*xi,Ct+=P*Pr,ot+=P*Q,Le+=P*ne,Ue+=P*ye,rt+=P*Ie,Ze+=P*Ve,ze+=P*et,tt+=P*ct,P=re[12],zt+=P*Se,Vt+=P*ur,jt+=P*kr,St+=P*xr,Nt+=P*ir,mt+=P*Ar,It+=P*Ir,Ct+=P*xi,ot+=P*Pr,Le+=P*Q,Ue+=P*ne,rt+=P*ye,Ze+=P*Ie,ze+=P*Ve,tt+=P*et,Yt+=P*ct,P=re[13],Vt+=P*Se,jt+=P*ur,St+=P*kr,Nt+=P*xr,mt+=P*ir,It+=P*Ar,Ct+=P*Ir,ot+=P*xi,Le+=P*Pr,Ue+=P*Q,rt+=P*ne,Ze+=P*ye,ze+=P*Ie,tt+=P*Ve,Yt+=P*et,er+=P*ct,P=re[14],jt+=P*Se,St+=P*ur,Nt+=P*kr,mt+=P*xr,It+=P*ir,Ct+=P*Ar,ot+=P*Ir,Le+=P*xi,Ue+=P*Pr,rt+=P*Q,Ze+=P*ne,ze+=P*ye,tt+=P*Ie,Yt+=P*Ve,er+=P*et,Wt+=P*ct,P=re[15],St+=P*Se,Nt+=P*ur,mt+=P*kr,It+=P*xr,Ct+=P*ir,ot+=P*Ar,Le+=P*Ir,Ue+=P*xi,rt+=P*Pr,Ze+=P*Q,ze+=P*ne,tt+=P*ye,Yt+=P*Ie,er+=P*Ve,Wt+=P*et,tr+=P*ct,Ee+=38*Nt,Ne+=38*mt,Be+=38*It,Pe+=38*Ct,Et+=38*ot,Xe+=38*Le,bt+=38*Ue,yt+=38*rt,Dt+=38*Ze,Lt+=38*ze,Ot+=38*tt,Ft+=38*Yt,zt+=38*er,Vt+=38*Wt,jt+=38*tr,oe=1,P=Ee+oe+65535,oe=Math.floor(P/65536),Ee=P-oe*65536,P=Ne+oe+65535,oe=Math.floor(P/65536),Ne=P-oe*65536,P=Be+oe+65535,oe=Math.floor(P/65536),Be=P-oe*65536,P=Pe+oe+65535,oe=Math.floor(P/65536),Pe=P-oe*65536,P=Et+oe+65535,oe=Math.floor(P/65536),Et=P-oe*65536,P=Xe+oe+65535,oe=Math.floor(P/65536),Xe=P-oe*65536,P=bt+oe+65535,oe=Math.floor(P/65536),bt=P-oe*65536,P=yt+oe+65535,oe=Math.floor(P/65536),yt=P-oe*65536,P=Dt+oe+65535,oe=Math.floor(P/65536),Dt=P-oe*65536,P=Lt+oe+65535,oe=Math.floor(P/65536),Lt=P-oe*65536,P=Ot+oe+65535,oe=Math.floor(P/65536),Ot=P-oe*65536,P=Ft+oe+65535,oe=Math.floor(P/65536),Ft=P-oe*65536,P=zt+oe+65535,oe=Math.floor(P/65536),zt=P-oe*65536,P=Vt+oe+65535,oe=Math.floor(P/65536),Vt=P-oe*65536,P=jt+oe+65535,oe=Math.floor(P/65536),jt=P-oe*65536,P=St+oe+65535,oe=Math.floor(P/65536),St=P-oe*65536,Ee+=oe-1+37*(oe-1),oe=1,P=Ee+oe+65535,oe=Math.floor(P/65536),Ee=P-oe*65536,P=Ne+oe+65535,oe=Math.floor(P/65536),Ne=P-oe*65536,P=Be+oe+65535,oe=Math.floor(P/65536),Be=P-oe*65536,P=Pe+oe+65535,oe=Math.floor(P/65536),Pe=P-oe*65536,P=Et+oe+65535,oe=Math.floor(P/65536),Et=P-oe*65536,P=Xe+oe+65535,oe=Math.floor(P/65536),Xe=P-oe*65536,P=bt+oe+65535,oe=Math.floor(P/65536),bt=P-oe*65536,P=yt+oe+65535,oe=Math.floor(P/65536),yt=P-oe*65536,P=Dt+oe+65535,oe=Math.floor(P/65536),Dt=P-oe*65536,P=Lt+oe+65535,oe=Math.floor(P/65536),Lt=P-oe*65536,P=Ot+oe+65535,oe=Math.floor(P/65536),Ot=P-oe*65536,P=Ft+oe+65535,oe=Math.floor(P/65536),Ft=P-oe*65536,P=zt+oe+65535,oe=Math.floor(P/65536),zt=P-oe*65536,P=Vt+oe+65535,oe=Math.floor(P/65536),Vt=P-oe*65536,P=jt+oe+65535,oe=Math.floor(P/65536),jt=P-oe*65536,P=St+oe+65535,oe=Math.floor(P/65536),St=P-oe*65536,Ee+=oe-1+37*(oe-1),G[0]=Ee,G[1]=Ne,G[2]=Be,G[3]=Pe,G[4]=Et,G[5]=Xe,G[6]=bt,G[7]=yt,G[8]=Dt,G[9]=Lt,G[10]=Ot,G[11]=Ft,G[12]=zt,G[13]=Vt,G[14]=jt,G[15]=St}function R(G,re){ce(G,re,re)}function fe(G,re){var te=e(),P;for(P=0;P<16;P++)te[P]=re[P];for(P=253;P>=0;P--)R(te,te),P!==2&&P!==4&&ce(te,te,re);for(P=0;P<16;P++)G[P]=te[P]}function se(G,re){var te=e(),P;for(P=0;P<16;P++)te[P]=re[P];for(P=250;P>=0;P--)R(te,te),P!==1&&ce(te,te,re);for(P=0;P<16;P++)G[P]=te[P]}function U(G,re,te){var P=new Uint8Array(32),oe=new Float64Array(80),Ee,Ne,Be=e(),Pe=e(),Et=e(),Xe=e(),bt=e(),yt=e();for(Ne=0;Ne<31;Ne++)P[Ne]=re[Ne];for(P[31]=re[31]&127|64,P[0]&=248,I(oe,te),Ne=0;Ne<16;Ne++)Pe[Ne]=oe[Ne],Xe[Ne]=Be[Ne]=Et[Ne]=0;for(Be[0]=Xe[0]=1,Ne=254;Ne>=0;--Ne)Ee=P[Ne>>>3]>>>(Ne&7)&1,g(Be,Pe,Ee),g(Et,Xe,Ee),p(bt,Be,Et),B(Be,Be,Et),p(Et,Pe,Xe),B(Pe,Pe,Xe),R(Xe,bt),R(yt,Be),ce(Be,Et,Be),ce(Et,Pe,bt),p(bt,Be,Et),B(Be,Be,Et),R(Pe,Be),B(Et,Xe,yt),ce(Be,Et,a),p(Be,Be,Xe),ce(Et,Et,Be),ce(Be,Xe,yt),ce(Xe,Pe,oe),R(Pe,bt),g(Be,Pe,Ee),g(Et,Xe,Ee);for(Ne=0;Ne<16;Ne++)oe[Ne+16]=Be[Ne],oe[Ne+32]=Et[Ne],oe[Ne+48]=Pe[Ne],oe[Ne+64]=Xe[Ne];var Dt=oe.subarray(32),Lt=oe.subarray(16);return fe(Dt,Dt),ce(Lt,Lt,Dt),m(G,Lt),0}function Z(G,re){return U(G,re,n)}function j(G,re){return t(re,32),Z(G,re)}function J(G,re,te){var P=new Uint8Array(32);return U(P,te,re),N(G,i,P,V)}var k=v,$=u;function X(G,re,te,P,oe,Ee){var Ne=new Uint8Array(32);return J(Ne,oe,Ee),k(G,re,te,P,Ne)}function Y(G,re,te,P,oe,Ee){var Ne=new Uint8Array(32);return J(Ne,oe,Ee),$(G,re,te,P,Ne)}var ve=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ue(G,re,te,P){for(var oe=new Int32Array(16),Ee=new Int32Array(16),Ne,Be,Pe,Et,Xe,bt,yt,Dt,Lt,Ot,Ft,zt,Vt,jt,St,Nt,mt,It,Ct,ot,Le,Ue,rt,Ze,ze,tt,Yt=G[0],er=G[1],Wt=G[2],tr=G[3],Se=G[4],ur=G[5],kr=G[6],xr=G[7],ir=re[0],Ar=re[1],Ir=re[2],xi=re[3],Pr=re[4],Q=re[5],ne=re[6],ye=re[7],Ie=0;P>=128;){for(Ct=0;Ct<16;Ct++)ot=8*Ct+Ie,oe[Ct]=te[ot+0]<<24|te[ot+1]<<16|te[ot+2]<<8|te[ot+3],Ee[Ct]=te[ot+4]<<24|te[ot+5]<<16|te[ot+6]<<8|te[ot+7];for(Ct=0;Ct<80;Ct++)if(Ne=Yt,Be=er,Pe=Wt,Et=tr,Xe=Se,bt=ur,yt=kr,Dt=xr,Lt=ir,Ot=Ar,Ft=Ir,zt=xi,Vt=Pr,jt=Q,St=ne,Nt=ye,Le=xr,Ue=ye,rt=Ue&65535,Ze=Ue>>>16,ze=Le&65535,tt=Le>>>16,Le=(Se>>>14|Pr<<32-14)^(Se>>>18|Pr<<32-18)^(Pr>>>41-32|Se<<32-(41-32)),Ue=(Pr>>>14|Se<<32-14)^(Pr>>>18|Se<<32-18)^(Se>>>41-32|Pr<<32-(41-32)),rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Le=Se&ur^~Se&kr,Ue=Pr&Q^~Pr&ne,rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Le=ve[Ct*2],Ue=ve[Ct*2+1],rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Le=oe[Ct%16],Ue=Ee[Ct%16],rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Ze+=rt>>>16,ze+=Ze>>>16,tt+=ze>>>16,mt=ze&65535|tt<<16,It=rt&65535|Ze<<16,Le=mt,Ue=It,rt=Ue&65535,Ze=Ue>>>16,ze=Le&65535,tt=Le>>>16,Le=(Yt>>>28|ir<<32-28)^(ir>>>34-32|Yt<<32-(34-32))^(ir>>>39-32|Yt<<32-(39-32)),Ue=(ir>>>28|Yt<<32-28)^(Yt>>>34-32|ir<<32-(34-32))^(Yt>>>39-32|ir<<32-(39-32)),rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Le=Yt&er^Yt&Wt^er&Wt,Ue=ir&Ar^ir&Ir^Ar&Ir,rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Ze+=rt>>>16,ze+=Ze>>>16,tt+=ze>>>16,Dt=ze&65535|tt<<16,Nt=rt&65535|Ze<<16,Le=Et,Ue=zt,rt=Ue&65535,Ze=Ue>>>16,ze=Le&65535,tt=Le>>>16,Le=mt,Ue=It,rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Ze+=rt>>>16,ze+=Ze>>>16,tt+=ze>>>16,Et=ze&65535|tt<<16,zt=rt&65535|Ze<<16,er=Ne,Wt=Be,tr=Pe,Se=Et,ur=Xe,kr=bt,xr=yt,Yt=Dt,Ar=Lt,Ir=Ot,xi=Ft,Pr=zt,Q=Vt,ne=jt,ye=St,ir=Nt,Ct%16==15)for(ot=0;ot<16;ot++)Le=oe[ot],Ue=Ee[ot],rt=Ue&65535,Ze=Ue>>>16,ze=Le&65535,tt=Le>>>16,Le=oe[(ot+9)%16],Ue=Ee[(ot+9)%16],rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,mt=oe[(ot+1)%16],It=Ee[(ot+1)%16],Le=(mt>>>1|It<<32-1)^(mt>>>8|It<<32-8)^mt>>>7,Ue=(It>>>1|mt<<32-1)^(It>>>8|mt<<32-8)^(It>>>7|mt<<32-7),rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,mt=oe[(ot+14)%16],It=Ee[(ot+14)%16],Le=(mt>>>19|It<<32-19)^(It>>>61-32|mt<<32-(61-32))^mt>>>6,Ue=(It>>>19|mt<<32-19)^(mt>>>61-32|It<<32-(61-32))^(It>>>6|mt<<32-6),rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Ze+=rt>>>16,ze+=Ze>>>16,tt+=ze>>>16,oe[ot]=ze&65535|tt<<16,Ee[ot]=rt&65535|Ze<<16;Le=Yt,Ue=ir,rt=Ue&65535,Ze=Ue>>>16,ze=Le&65535,tt=Le>>>16,Le=G[0],Ue=re[0],rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Ze+=rt>>>16,ze+=Ze>>>16,tt+=ze>>>16,G[0]=Yt=ze&65535|tt<<16,re[0]=ir=rt&65535|Ze<<16,Le=er,Ue=Ar,rt=Ue&65535,Ze=Ue>>>16,ze=Le&65535,tt=Le>>>16,Le=G[1],Ue=re[1],rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Ze+=rt>>>16,ze+=Ze>>>16,tt+=ze>>>16,G[1]=er=ze&65535|tt<<16,re[1]=Ar=rt&65535|Ze<<16,Le=Wt,Ue=Ir,rt=Ue&65535,Ze=Ue>>>16,ze=Le&65535,tt=Le>>>16,Le=G[2],Ue=re[2],rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Ze+=rt>>>16,ze+=Ze>>>16,tt+=ze>>>16,G[2]=Wt=ze&65535|tt<<16,re[2]=Ir=rt&65535|Ze<<16,Le=tr,Ue=xi,rt=Ue&65535,Ze=Ue>>>16,ze=Le&65535,tt=Le>>>16,Le=G[3],Ue=re[3],rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Ze+=rt>>>16,ze+=Ze>>>16,tt+=ze>>>16,G[3]=tr=ze&65535|tt<<16,re[3]=xi=rt&65535|Ze<<16,Le=Se,Ue=Pr,rt=Ue&65535,Ze=Ue>>>16,ze=Le&65535,tt=Le>>>16,Le=G[4],Ue=re[4],rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Ze+=rt>>>16,ze+=Ze>>>16,tt+=ze>>>16,G[4]=Se=ze&65535|tt<<16,re[4]=Pr=rt&65535|Ze<<16,Le=ur,Ue=Q,rt=Ue&65535,Ze=Ue>>>16,ze=Le&65535,tt=Le>>>16,Le=G[5],Ue=re[5],rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Ze+=rt>>>16,ze+=Ze>>>16,tt+=ze>>>16,G[5]=ur=ze&65535|tt<<16,re[5]=Q=rt&65535|Ze<<16,Le=kr,Ue=ne,rt=Ue&65535,Ze=Ue>>>16,ze=Le&65535,tt=Le>>>16,Le=G[6],Ue=re[6],rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Ze+=rt>>>16,ze+=Ze>>>16,tt+=ze>>>16,G[6]=kr=ze&65535|tt<<16,re[6]=ne=rt&65535|Ze<<16,Le=xr,Ue=ye,rt=Ue&65535,Ze=Ue>>>16,ze=Le&65535,tt=Le>>>16,Le=G[7],Ue=re[7],rt+=Ue&65535,Ze+=Ue>>>16,ze+=Le&65535,tt+=Le>>>16,Ze+=rt>>>16,ze+=Ze>>>16,tt+=ze>>>16,G[7]=xr=ze&65535|tt<<16,re[7]=ye=rt&65535|Ze<<16,Ie+=128,P-=128}return P}function ge(G,re,te){var P=new Int32Array(8),oe=new Int32Array(8),Ee=new Uint8Array(256),Ne,Be=te;for(P[0]=1779033703,P[1]=3144134277,P[2]=1013904242,P[3]=2773480762,P[4]=1359893119,P[5]=2600822924,P[6]=528734635,P[7]=1541459225,oe[0]=4089235720,oe[1]=2227873595,oe[2]=4271175723,oe[3]=1595750129,oe[4]=2917565137,oe[5]=725511199,oe[6]=4215389547,oe[7]=327033209,ue(P,oe,re,te),te%=128,Ne=0;Ne<te;Ne++)Ee[Ne]=re[Be-te+Ne];for(Ee[te]=128,te=256-128*(te<112?1:0),Ee[te-9]=0,_(Ee,te-8,Be/536870912|0,Be<<3),ue(P,oe,Ee,te),Ne=0;Ne<8;Ne++)_(G,8*Ne,P[Ne],oe[Ne]);return 0}function xe(G,re){var te=e(),P=e(),oe=e(),Ee=e(),Ne=e(),Be=e(),Pe=e(),Et=e(),Xe=e();B(te,G[1],G[0]),B(Xe,re[1],re[0]),ce(te,te,Xe),p(P,G[0],G[1]),p(Xe,re[0],re[1]),ce(P,P,Xe),ce(oe,G[3],re[3]),ce(oe,oe,c),ce(Ee,G[2],re[2]),p(Ee,Ee,Ee),B(Ne,P,te),B(Be,Ee,oe),p(Pe,Ee,oe),p(Et,P,te),ce(G[0],Ne,Be),ce(G[1],Et,Pe),ce(G[2],Pe,Be),ce(G[3],Ne,Et)}function we(G,re,te){var P;for(P=0;P<4;P++)g(G[P],re[P],te)}function Me(G,re){var te=e(),P=e(),oe=e();fe(oe,re[2]),ce(te,re[0],oe),ce(P,re[1],oe),m(G,P),G[31]^=A(te)<<7}function pe(G,re,te){var P,oe;for(d(G[0],s),d(G[1],o),d(G[2],o),d(G[3],s),oe=255;oe>=0;--oe)P=te[oe/8|0]>>(oe&7)&1,we(G,re,P),xe(re,G),xe(G,G),we(G,re,P)}function be(G,re){var te=[e(),e(),e(),e()];d(te[0],l),d(te[1],h),d(te[2],o),ce(te[3],l,h),pe(G,te,re)}function D(G,re,te){var P=new Uint8Array(64),oe=[e(),e(),e(),e()],Ee;for(te||t(re,32),ge(P,re,32),P[0]&=248,P[31]&=127,P[31]|=64,be(oe,P),Me(G,oe),Ee=0;Ee<32;Ee++)re[Ee+32]=G[Ee];return 0}var _e=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function de(G,re){var te,P,oe,Ee;for(P=63;P>=32;--P){for(te=0,oe=P-32,Ee=P-12;oe<Ee;++oe)re[oe]+=te-16*re[P]*_e[oe-(P-32)],te=Math.floor((re[oe]+128)/256),re[oe]-=te*256;re[oe]+=te,re[P]=0}for(te=0,oe=0;oe<32;oe++)re[oe]+=te-(re[31]>>4)*_e[oe],te=re[oe]>>8,re[oe]&=255;for(oe=0;oe<32;oe++)re[oe]-=te*_e[oe];for(P=0;P<32;P++)re[P+1]+=re[P]>>8,G[P]=re[P]&255}function ie(G){var re=new Float64Array(64),te;for(te=0;te<64;te++)re[te]=G[te];for(te=0;te<64;te++)G[te]=0;de(G,re)}function Re(G,re,te,P){var oe=new Uint8Array(64),Ee=new Uint8Array(64),Ne=new Uint8Array(64),Be,Pe,Et=new Float64Array(64),Xe=[e(),e(),e(),e()];ge(oe,P,32),oe[0]&=248,oe[31]&=127,oe[31]|=64;var bt=te+64;for(Be=0;Be<te;Be++)G[64+Be]=re[Be];for(Be=0;Be<32;Be++)G[32+Be]=oe[32+Be];for(ge(Ne,G.subarray(32),te+32),ie(Ne),be(Xe,Ne),Me(G,Xe),Be=32;Be<64;Be++)G[Be]=P[Be];for(ge(Ee,G,te+64),ie(Ee),Be=0;Be<64;Be++)Et[Be]=0;for(Be=0;Be<32;Be++)Et[Be]=Ne[Be];for(Be=0;Be<32;Be++)for(Pe=0;Pe<32;Pe++)Et[Be+Pe]+=Ee[Be]*oe[Pe];return de(G.subarray(32),Et),bt}function Ae(G,re){var te=e(),P=e(),oe=e(),Ee=e(),Ne=e(),Be=e(),Pe=e();return d(G[2],o),I(G[1],re),R(oe,G[1]),ce(Ee,oe,f),B(oe,oe,G[2]),p(Ee,G[2],Ee),R(Ne,Ee),R(Be,Ne),ce(Pe,Be,Ne),ce(te,Pe,oe),ce(te,te,Ee),se(te,te),ce(te,te,oe),ce(te,te,Ee),ce(te,te,Ee),ce(G[0],te,Ee),R(P,G[0]),ce(P,P,Ee),b(P,oe)&&ce(G[0],G[0],x),R(P,G[0]),ce(P,P,Ee),b(P,oe)?-1:(A(G[0])===re[31]>>7&&B(G[0],s,G[0]),ce(G[3],G[0],G[1]),0)}function Ce(G,re,te,P){var oe,Ee=new Uint8Array(32),Ne=new Uint8Array(64),Be=[e(),e(),e(),e()],Pe=[e(),e(),e(),e()];if(te<64||Ae(Pe,P))return-1;for(oe=0;oe<te;oe++)G[oe]=re[oe];for(oe=0;oe<32;oe++)G[oe+32]=P[oe];if(ge(Ne,G,te),ie(Ne),pe(Be,Pe,Ne),be(Pe,re.subarray(32)),xe(Be,Pe),Me(Ee,Be),te-=64,L(re,0,Ee,0)){for(oe=0;oe<te;oe++)G[oe]=0;return-1}for(oe=0;oe<te;oe++)G[oe]=re[oe+64];return te}var me=32,q=24,le=32,ft=16,Oe=32,Je=32,Tt=32,it=32,pt=32,vr=q,vt=le,xt=ft,Sr=64,lt=32,dt=64,Mr=32,ht=64;r.lowlevel={crypto_core_hsalsa20:N,crypto_stream_xor:K,crypto_stream:H,crypto_stream_salsa20_xor:z,crypto_stream_salsa20:F,crypto_onetimeauth:w,crypto_onetimeauth_verify:T,crypto_verify_16:C,crypto_verify_32:L,crypto_secretbox:v,crypto_secretbox_open:u,crypto_scalarmult:U,crypto_scalarmult_base:Z,crypto_box_beforenm:J,crypto_box_afternm:k,crypto_box:X,crypto_box_open:Y,crypto_box_keypair:j,crypto_hash:ge,crypto_sign:Re,crypto_sign_keypair:D,crypto_sign_open:Ce,crypto_secretbox_KEYBYTES:me,crypto_secretbox_NONCEBYTES:q,crypto_secretbox_ZEROBYTES:le,crypto_secretbox_BOXZEROBYTES:ft,crypto_scalarmult_BYTES:Oe,crypto_scalarmult_SCALARBYTES:Je,crypto_box_PUBLICKEYBYTES:Tt,crypto_box_SECRETKEYBYTES:it,crypto_box_BEFORENMBYTES:pt,crypto_box_NONCEBYTES:vr,crypto_box_ZEROBYTES:vt,crypto_box_BOXZEROBYTES:xt,crypto_sign_BYTES:Sr,crypto_sign_PUBLICKEYBYTES:lt,crypto_sign_SECRETKEYBYTES:dt,crypto_sign_SEEDBYTES:Mr,crypto_hash_BYTES:ht,gf:e,D:f,L:_e,pack25519:m,unpack25519:I,M:ce,A:p,S:R,Z:B,pow2523:se,add:xe,set25519:d,modL:de,scalarmult:pe,scalarbase:be};function wt(G,re){if(G.length!==me)throw new Error("bad key size");if(re.length!==q)throw new Error("bad nonce size")}function ri(G,re){if(G.length!==Tt)throw new Error("bad public key size");if(re.length!==it)throw new Error("bad secret key size")}function at(){for(var G=0;G<arguments.length;G++)if(!(arguments[G]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function _t(G){for(var re=0;re<G.length;re++)G[re]=0}r.randomBytes=function(G){var re=new Uint8Array(G);return t(re,G),re},r.secretbox=function(G,re,te){at(G,re,te),wt(te,re);for(var P=new Uint8Array(le+G.length),oe=new Uint8Array(P.length),Ee=0;Ee<G.length;Ee++)P[Ee+le]=G[Ee];return v(oe,P,P.length,re,te),oe.subarray(ft)},r.secretbox.open=function(G,re,te){at(G,re,te),wt(te,re);for(var P=new Uint8Array(ft+G.length),oe=new Uint8Array(P.length),Ee=0;Ee<G.length;Ee++)P[Ee+ft]=G[Ee];return P.length<32||u(oe,P,P.length,re,te)!==0?null:oe.subarray(le)},r.secretbox.keyLength=me,r.secretbox.nonceLength=q,r.secretbox.overheadLength=ft,r.scalarMult=function(G,re){if(at(G,re),G.length!==Je)throw new Error("bad n size");if(re.length!==Oe)throw new Error("bad p size");var te=new Uint8Array(Oe);return U(te,G,re),te},r.scalarMult.base=function(G){if(at(G),G.length!==Je)throw new Error("bad n size");var re=new Uint8Array(Oe);return Z(re,G),re},r.scalarMult.scalarLength=Je,r.scalarMult.groupElementLength=Oe,r.box=function(G,re,te,P){var oe=r.box.before(te,P);return r.secretbox(G,re,oe)},r.box.before=function(G,re){at(G,re),ri(G,re);var te=new Uint8Array(pt);return J(te,G,re),te},r.box.after=r.secretbox,r.box.open=function(G,re,te,P){var oe=r.box.before(te,P);return r.secretbox.open(G,re,oe)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var G=new Uint8Array(Tt),re=new Uint8Array(it);return j(G,re),{publicKey:G,secretKey:re}},r.box.keyPair.fromSecretKey=function(G){if(at(G),G.length!==it)throw new Error("bad secret key size");var re=new Uint8Array(Tt);return Z(re,G),{publicKey:re,secretKey:new Uint8Array(G)}},r.box.publicKeyLength=Tt,r.box.secretKeyLength=it,r.box.sharedKeyLength=pt,r.box.nonceLength=vr,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(G,re){if(at(G,re),re.length!==dt)throw new Error("bad secret key size");var te=new Uint8Array(Sr+G.length);return Re(te,G,G.length,re),te},r.sign.open=function(G,re){if(at(G,re),re.length!==lt)throw new Error("bad public key size");var te=new Uint8Array(G.length),P=Ce(te,G,G.length,re);if(P<0)return null;for(var oe=new Uint8Array(P),Ee=0;Ee<oe.length;Ee++)oe[Ee]=te[Ee];return oe},r.sign.detached=function(G,re){for(var te=r.sign(G,re),P=new Uint8Array(Sr),oe=0;oe<P.length;oe++)P[oe]=te[oe];return P},r.sign.detached.verify=function(G,re,te){if(at(G,re,te),re.length!==Sr)throw new Error("bad signature size");if(te.length!==lt)throw new Error("bad public key size");var P=new Uint8Array(Sr+G.length),oe=new Uint8Array(Sr+G.length),Ee;for(Ee=0;Ee<Sr;Ee++)P[Ee]=re[Ee];for(Ee=0;Ee<G.length;Ee++)P[Ee+Sr]=G[Ee];return Ce(oe,P,P.length,te)>=0},r.sign.keyPair=function(){var G=new Uint8Array(lt),re=new Uint8Array(dt);return D(G,re),{publicKey:G,secretKey:re}},r.sign.keyPair.fromSecretKey=function(G){if(at(G),G.length!==dt)throw new Error("bad secret key size");for(var re=new Uint8Array(lt),te=0;te<re.length;te++)re[te]=G[32+te];return{publicKey:re,secretKey:new Uint8Array(G)}},r.sign.keyPair.fromSeed=function(G){if(at(G),G.length!==Mr)throw new Error("bad seed size");for(var re=new Uint8Array(lt),te=new Uint8Array(dt),P=0;P<32;P++)te[P]=G[P];return D(re,te,!0),{publicKey:re,secretKey:te}},r.sign.publicKeyLength=lt,r.sign.secretKeyLength=dt,r.sign.seedLength=Mr,r.sign.signatureLength=Sr,r.hash=function(G){at(G);var re=new Uint8Array(ht);return ge(re,G,G.length),re},r.hash.hashLength=ht,r.verify=function(G,re){return at(G,re),G.length===0||re.length===0||G.length!==re.length?!1:E(G,0,re,0,G.length)===0},r.setPRNG=function(G){t=G},function(){var G=typeof self!="undefined"?self.crypto||self.msCrypto:null;if(G&&G.getRandomValues){var re=65536;r.setPRNG(function(te,P){var oe,Ee=new Uint8Array(P);for(oe=0;oe<P;oe+=re)G.getRandomValues(Ee.subarray(oe,oe+Math.min(P-oe,re)));for(oe=0;oe<P;oe++)te[oe]=Ee[oe];_t(Ee)})}else typeof ia!="undefined"&&(G=W0(),G&&G.randomBytes&&r.setPRNG(function(te,P){var oe,Ee=G.randomBytes(P);for(oe=0;oe<P;oe++)te[oe]=Ee[oe];_t(Ee)}))}()})(typeof M6!="undefined"&&M6.exports?M6.exports:self.nacl=self.nacl||{})});var N6=M((oI,R6)=>{(function(r,e){"use strict";typeof R6!="undefined"&&R6.exports?R6.exports=e():(r.nacl||(r.nacl={}),r.nacl.util=e())})(oI,function(){"use strict";var r={};function e(t){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t))throw new TypeError("invalid encoding")}return r.decodeUTF8=function(t){if(typeof t!="string")throw new TypeError("expected string");var i,n=unescape(encodeURIComponent(t)),s=new Uint8Array(n.length);for(i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s},r.encodeUTF8=function(t){var i,n=[];for(i=0;i<t.length;i++)n.push(String.fromCharCode(t[i]));return decodeURIComponent(escape(n.join("")))},typeof atob=="undefined"?typeof Buffer.from!="undefined"?(r.encodeBase64=function(t){return Buffer.from(t).toString("base64")},r.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(Buffer.from(t,"base64"),0))}):(r.encodeBase64=function(t){return new Buffer(t).toString("base64")},r.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(new Buffer(t,"base64"),0))}):(r.encodeBase64=function(t){var i,n=[],s=t.length;for(i=0;i<s;i++)n.push(String.fromCharCode(t[i]));return btoa(n.join(""))},r.decodeBase64=function(t){e(t);var i,n=atob(t),s=new Uint8Array(n.length);for(i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}),r})});var O6=M(()=>{});var wi=M((dI,q8)=>{(function(r,e){"use strict";function t(S,w){if(!S)throw new Error(w||"Assertion failed")}function i(S,w){S.super_=w;var T=function(){};T.prototype=w.prototype,S.prototype=new T,S.prototype.constructor=S}function n(S,w,T){if(n.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((w==="le"||w==="be")&&(T=w,w=10),this._init(S||0,w||10,T||"be"))}typeof r=="object"?r.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=O6().Buffer}catch(S){}n.isBN=function(w){return w instanceof n?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===n.wordSize&&Array.isArray(w.words)},n.max=function(w,T){return w.cmp(T)>0?w:T},n.min=function(w,T){return w.cmp(T)<0?w:T},n.prototype._init=function(w,T,v){if(typeof w=="number")return this._initNumber(w,T,v);if(typeof w=="object")return this._initArray(w,T,v);T==="hex"&&(T=16),t(T===(T|0)&&T>=2&&T<=36),w=w.toString().replace(/\s+/g,"");var u=0;w[0]==="-"&&(u++,this.negative=1),u<w.length&&(T===16?this._parseHex(w,u,v):(this._parseBase(w,T,u),v==="le"&&this._initArray(this.toArray(),T,v)))},n.prototype._initNumber=function(w,T,v){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(t(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),T,v)},n.prototype._initArray=function(w,T,v){if(t(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var d,y,g=0;if(v==="be")for(u=w.length-1,d=0;u>=0;u-=3)y=w[u]|w[u-1]<<8|w[u-2]<<16,this.words[d]|=y<<g&67108863,this.words[d+1]=y>>>26-g&67108863,g+=24,g>=26&&(g-=26,d++);else if(v==="le")for(u=0,d=0;u<w.length;u+=3)y=w[u]|w[u+1]<<8|w[u+2]<<16,this.words[d]|=y<<g&67108863,this.words[d+1]=y>>>26-g&67108863,g+=24,g>=26&&(g-=26,d++);return this.strip()};function o(S,w){var T=S.charCodeAt(w);return T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:T-48&15}function a(S,w,T){var v=o(S,T);return T-1>=w&&(v|=o(S,T-1)<<4),v}n.prototype._parseHex=function(w,T,v){this.length=Math.ceil((w.length-T)/6),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var d=0,y=0,g;if(v==="be")for(u=w.length-1;u>=T;u-=2)g=a(w,T,u)<<d,this.words[y]|=g&67108863,d>=18?(d-=18,y+=1,this.words[y]|=g>>>26):d+=8;else{var m=w.length-T;for(u=m%2==0?T+1:T;u<w.length;u+=2)g=a(w,T,u)<<d,this.words[y]|=g&67108863,d>=18?(d-=18,y+=1,this.words[y]|=g>>>26):d+=8}this.strip()};function f(S,w,T,v){for(var u=0,d=Math.min(S.length,T),y=w;y<d;y++){var g=S.charCodeAt(y)-48;u*=v,g>=49?u+=g-49+10:g>=17?u+=g-17+10:u+=g}return u}n.prototype._parseBase=function(w,T,v){this.words=[0],this.length=1;for(var u=0,d=1;d<=67108863;d*=T)u++;u--,d=d/T|0;for(var y=w.length-v,g=y%u,m=Math.min(y,y-g)+v,b=0,A=v;A<m;A+=u)b=f(w,A,A+u,T),this.imuln(d),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(g!==0){var I=1;for(b=f(w,A,w.length,T),A=0;A<g;A++)I*=T;this.imuln(I),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this.strip()},n.prototype.copy=function(w){w.words=new Array(this.length);for(var T=0;T<this.length;T++)w.words[T]=this.words[T];w.length=this.length,w.negative=this.negative,w.red=this.red},n.prototype.clone=function(){var w=new n(null);return this.copy(w),w},n.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(w,T){w=w||10,T=T|0||1;var v;if(w===16||w==="hex"){v="";for(var u=0,d=0,y=0;y<this.length;y++){var g=this.words[y],m=((g<<u|d)&16777215).toString(16);d=g>>>24-u&16777215,d!==0||y!==this.length-1?v=c[6-m.length]+m+v:v=m+v,u+=2,u>=26&&(u-=26,y--)}for(d!==0&&(v=d.toString(16)+v);v.length%T!=0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(w===(w|0)&&w>=2&&w<=36){var b=l[w],A=h[w];v="";var I=this.clone();for(I.negative=0;!I.isZero();){var p=I.modn(A).toString(w);I=I.idivn(A),I.isZero()?v=p+v:v=c[b-p.length]+p+v}for(this.isZero()&&(v="0"+v);v.length%T!=0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}t(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(w,T){return t(typeof s!="undefined"),this.toArrayLike(s,w,T)},n.prototype.toArray=function(w,T){return this.toArrayLike(Array,w,T)},n.prototype.toArrayLike=function(w,T,v){var u=this.byteLength(),d=v||Math.max(1,u);t(u<=d,"byte array longer than desired length"),t(d>0,"Requested array length <= 0"),this.strip();var y=T==="le",g=new w(d),m,b,A=this.clone();if(y){for(b=0;!A.isZero();b++)m=A.andln(255),A.iushrn(8),g[b]=m;for(;b<d;b++)g[b]=0}else{for(b=0;b<d-u;b++)g[b]=0;for(b=0;!A.isZero();b++)m=A.andln(255),A.iushrn(8),g[d-b-1]=m}return g},Math.clz32?n.prototype._countBits=function(w){return 32-Math.clz32(w)}:n.prototype._countBits=function(w){var T=w,v=0;return T>=4096&&(v+=13,T>>>=13),T>=64&&(v+=7,T>>>=7),T>=8&&(v+=4,T>>>=4),T>=2&&(v+=2,T>>>=2),v+T},n.prototype._zeroBits=function(w){if(w===0)return 26;var T=w,v=0;return(T&8191)==0&&(v+=13,T>>>=13),(T&127)==0&&(v+=7,T>>>=7),(T&15)==0&&(v+=4,T>>>=4),(T&3)==0&&(v+=2,T>>>=2),(T&1)==0&&v++,v},n.prototype.bitLength=function(){var w=this.words[this.length-1],T=this._countBits(w);return(this.length-1)*26+T};function x(S){for(var w=new Array(S.bitLength()),T=0;T<w.length;T++){var v=T/26|0,u=T%26;w[T]=(S.words[v]&1<<u)>>>u}return w}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,T=0;T<this.length;T++){var v=this._zeroBits(this.words[T]);if(w+=v,v!==26)break}return w},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},n.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var T=0;T<w.length;T++)this.words[T]=this.words[T]|w.words[T];return this.strip()},n.prototype.ior=function(w){return t((this.negative|w.negative)==0),this.iuor(w)},n.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},n.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},n.prototype.iuand=function(w){var T;this.length>w.length?T=w:T=this;for(var v=0;v<T.length;v++)this.words[v]=this.words[v]&w.words[v];return this.length=T.length,this.strip()},n.prototype.iand=function(w){return t((this.negative|w.negative)==0),this.iuand(w)},n.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},n.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},n.prototype.iuxor=function(w){var T,v;this.length>w.length?(T=this,v=w):(T=w,v=this);for(var u=0;u<v.length;u++)this.words[u]=T.words[u]^v.words[u];if(this!==T)for(;u<T.length;u++)this.words[u]=T.words[u];return this.length=T.length,this.strip()},n.prototype.ixor=function(w){return t((this.negative|w.negative)==0),this.iuxor(w)},n.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},n.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},n.prototype.inotn=function(w){t(typeof w=="number"&&w>=0);var T=Math.ceil(w/26)|0,v=w%26;this._expand(T),v>0&&T--;for(var u=0;u<T;u++)this.words[u]=~this.words[u]&67108863;return v>0&&(this.words[u]=~this.words[u]&67108863>>26-v),this.strip()},n.prototype.notn=function(w){return this.clone().inotn(w)},n.prototype.setn=function(w,T){t(typeof w=="number"&&w>=0);var v=w/26|0,u=w%26;return this._expand(v+1),T?this.words[v]=this.words[v]|1<<u:this.words[v]=this.words[v]&~(1<<u),this.strip()},n.prototype.iadd=function(w){var T;if(this.negative!==0&&w.negative===0)return this.negative=0,T=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,T=this.isub(w),w.negative=1,T._normSign();var v,u;this.length>w.length?(v=this,u=w):(v=w,u=this);for(var d=0,y=0;y<u.length;y++)T=(v.words[y]|0)+(u.words[y]|0)+d,this.words[y]=T&67108863,d=T>>>26;for(;d!==0&&y<v.length;y++)T=(v.words[y]|0)+d,this.words[y]=T&67108863,d=T>>>26;if(this.length=v.length,d!==0)this.words[this.length]=d,this.length++;else if(v!==this)for(;y<v.length;y++)this.words[y]=v.words[y];return this},n.prototype.add=function(w){var T;return w.negative!==0&&this.negative===0?(w.negative=0,T=this.sub(w),w.negative^=1,T):w.negative===0&&this.negative!==0?(this.negative=0,T=w.sub(this),this.negative=1,T):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},n.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var T=this.iadd(w);return w.negative=1,T._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var v=this.cmp(w);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var u,d;v>0?(u=this,d=w):(u=w,d=this);for(var y=0,g=0;g<d.length;g++)T=(u.words[g]|0)-(d.words[g]|0)+y,y=T>>26,this.words[g]=T&67108863;for(;y!==0&&g<u.length;g++)T=(u.words[g]|0)+y,y=T>>26,this.words[g]=T&67108863;if(y===0&&g<u.length&&u!==this)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=Math.max(this.length,g),u!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(w){return this.clone().isub(w)};function _(S,w,T){T.negative=w.negative^S.negative;var v=S.length+w.length|0;T.length=v,v=v-1|0;var u=S.words[0]|0,d=w.words[0]|0,y=u*d,g=y&67108863,m=y/67108864|0;T.words[0]=g;for(var b=1;b<v;b++){for(var A=m>>>26,I=m&67108863,p=Math.min(b,w.length-1),B=Math.max(0,b-S.length+1);B<=p;B++){var ce=b-B|0;u=S.words[ce]|0,d=w.words[B]|0,y=u*d+I,A+=y/67108864|0,I=y&67108863}T.words[b]=I|0,m=A|0}return m!==0?T.words[b]=m|0:T.length--,T.strip()}var E=function(w,T,v){var u=w.words,d=T.words,y=v.words,g=0,m,b,A,I=u[0]|0,p=I&8191,B=I>>>13,ce=u[1]|0,R=ce&8191,fe=ce>>>13,se=u[2]|0,U=se&8191,Z=se>>>13,j=u[3]|0,J=j&8191,k=j>>>13,$=u[4]|0,X=$&8191,Y=$>>>13,ve=u[5]|0,ue=ve&8191,ge=ve>>>13,xe=u[6]|0,we=xe&8191,Me=xe>>>13,pe=u[7]|0,be=pe&8191,D=pe>>>13,_e=u[8]|0,de=_e&8191,ie=_e>>>13,Re=u[9]|0,Ae=Re&8191,Ce=Re>>>13,me=d[0]|0,q=me&8191,le=me>>>13,ft=d[1]|0,Oe=ft&8191,Je=ft>>>13,Tt=d[2]|0,it=Tt&8191,pt=Tt>>>13,vr=d[3]|0,vt=vr&8191,xt=vr>>>13,Sr=d[4]|0,lt=Sr&8191,dt=Sr>>>13,Mr=d[5]|0,ht=Mr&8191,wt=Mr>>>13,ri=d[6]|0,at=ri&8191,_t=ri>>>13,G=d[7]|0,re=G&8191,te=G>>>13,P=d[8]|0,oe=P&8191,Ee=P>>>13,Ne=d[9]|0,Be=Ne&8191,Pe=Ne>>>13;v.negative=w.negative^T.negative,v.length=19,m=Math.imul(p,q),b=Math.imul(p,le),b=b+Math.imul(B,q)|0,A=Math.imul(B,le);var Et=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(R,q),b=Math.imul(R,le),b=b+Math.imul(fe,q)|0,A=Math.imul(fe,le),m=m+Math.imul(p,Oe)|0,b=b+Math.imul(p,Je)|0,b=b+Math.imul(B,Oe)|0,A=A+Math.imul(B,Je)|0;var Xe=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,m=Math.imul(U,q),b=Math.imul(U,le),b=b+Math.imul(Z,q)|0,A=Math.imul(Z,le),m=m+Math.imul(R,Oe)|0,b=b+Math.imul(R,Je)|0,b=b+Math.imul(fe,Oe)|0,A=A+Math.imul(fe,Je)|0,m=m+Math.imul(p,it)|0,b=b+Math.imul(p,pt)|0,b=b+Math.imul(B,it)|0,A=A+Math.imul(B,pt)|0;var bt=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(bt>>>26)|0,bt&=67108863,m=Math.imul(J,q),b=Math.imul(J,le),b=b+Math.imul(k,q)|0,A=Math.imul(k,le),m=m+Math.imul(U,Oe)|0,b=b+Math.imul(U,Je)|0,b=b+Math.imul(Z,Oe)|0,A=A+Math.imul(Z,Je)|0,m=m+Math.imul(R,it)|0,b=b+Math.imul(R,pt)|0,b=b+Math.imul(fe,it)|0,A=A+Math.imul(fe,pt)|0,m=m+Math.imul(p,vt)|0,b=b+Math.imul(p,xt)|0,b=b+Math.imul(B,vt)|0,A=A+Math.imul(B,xt)|0;var yt=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(yt>>>26)|0,yt&=67108863,m=Math.imul(X,q),b=Math.imul(X,le),b=b+Math.imul(Y,q)|0,A=Math.imul(Y,le),m=m+Math.imul(J,Oe)|0,b=b+Math.imul(J,Je)|0,b=b+Math.imul(k,Oe)|0,A=A+Math.imul(k,Je)|0,m=m+Math.imul(U,it)|0,b=b+Math.imul(U,pt)|0,b=b+Math.imul(Z,it)|0,A=A+Math.imul(Z,pt)|0,m=m+Math.imul(R,vt)|0,b=b+Math.imul(R,xt)|0,b=b+Math.imul(fe,vt)|0,A=A+Math.imul(fe,xt)|0,m=m+Math.imul(p,lt)|0,b=b+Math.imul(p,dt)|0,b=b+Math.imul(B,lt)|0,A=A+Math.imul(B,dt)|0;var Dt=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,m=Math.imul(ue,q),b=Math.imul(ue,le),b=b+Math.imul(ge,q)|0,A=Math.imul(ge,le),m=m+Math.imul(X,Oe)|0,b=b+Math.imul(X,Je)|0,b=b+Math.imul(Y,Oe)|0,A=A+Math.imul(Y,Je)|0,m=m+Math.imul(J,it)|0,b=b+Math.imul(J,pt)|0,b=b+Math.imul(k,it)|0,A=A+Math.imul(k,pt)|0,m=m+Math.imul(U,vt)|0,b=b+Math.imul(U,xt)|0,b=b+Math.imul(Z,vt)|0,A=A+Math.imul(Z,xt)|0,m=m+Math.imul(R,lt)|0,b=b+Math.imul(R,dt)|0,b=b+Math.imul(fe,lt)|0,A=A+Math.imul(fe,dt)|0,m=m+Math.imul(p,ht)|0,b=b+Math.imul(p,wt)|0,b=b+Math.imul(B,ht)|0,A=A+Math.imul(B,wt)|0;var Lt=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,m=Math.imul(we,q),b=Math.imul(we,le),b=b+Math.imul(Me,q)|0,A=Math.imul(Me,le),m=m+Math.imul(ue,Oe)|0,b=b+Math.imul(ue,Je)|0,b=b+Math.imul(ge,Oe)|0,A=A+Math.imul(ge,Je)|0,m=m+Math.imul(X,it)|0,b=b+Math.imul(X,pt)|0,b=b+Math.imul(Y,it)|0,A=A+Math.imul(Y,pt)|0,m=m+Math.imul(J,vt)|0,b=b+Math.imul(J,xt)|0,b=b+Math.imul(k,vt)|0,A=A+Math.imul(k,xt)|0,m=m+Math.imul(U,lt)|0,b=b+Math.imul(U,dt)|0,b=b+Math.imul(Z,lt)|0,A=A+Math.imul(Z,dt)|0,m=m+Math.imul(R,ht)|0,b=b+Math.imul(R,wt)|0,b=b+Math.imul(fe,ht)|0,A=A+Math.imul(fe,wt)|0,m=m+Math.imul(p,at)|0,b=b+Math.imul(p,_t)|0,b=b+Math.imul(B,at)|0,A=A+Math.imul(B,_t)|0;var Ot=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(be,q),b=Math.imul(be,le),b=b+Math.imul(D,q)|0,A=Math.imul(D,le),m=m+Math.imul(we,Oe)|0,b=b+Math.imul(we,Je)|0,b=b+Math.imul(Me,Oe)|0,A=A+Math.imul(Me,Je)|0,m=m+Math.imul(ue,it)|0,b=b+Math.imul(ue,pt)|0,b=b+Math.imul(ge,it)|0,A=A+Math.imul(ge,pt)|0,m=m+Math.imul(X,vt)|0,b=b+Math.imul(X,xt)|0,b=b+Math.imul(Y,vt)|0,A=A+Math.imul(Y,xt)|0,m=m+Math.imul(J,lt)|0,b=b+Math.imul(J,dt)|0,b=b+Math.imul(k,lt)|0,A=A+Math.imul(k,dt)|0,m=m+Math.imul(U,ht)|0,b=b+Math.imul(U,wt)|0,b=b+Math.imul(Z,ht)|0,A=A+Math.imul(Z,wt)|0,m=m+Math.imul(R,at)|0,b=b+Math.imul(R,_t)|0,b=b+Math.imul(fe,at)|0,A=A+Math.imul(fe,_t)|0,m=m+Math.imul(p,re)|0,b=b+Math.imul(p,te)|0,b=b+Math.imul(B,re)|0,A=A+Math.imul(B,te)|0;var Ft=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(de,q),b=Math.imul(de,le),b=b+Math.imul(ie,q)|0,A=Math.imul(ie,le),m=m+Math.imul(be,Oe)|0,b=b+Math.imul(be,Je)|0,b=b+Math.imul(D,Oe)|0,A=A+Math.imul(D,Je)|0,m=m+Math.imul(we,it)|0,b=b+Math.imul(we,pt)|0,b=b+Math.imul(Me,it)|0,A=A+Math.imul(Me,pt)|0,m=m+Math.imul(ue,vt)|0,b=b+Math.imul(ue,xt)|0,b=b+Math.imul(ge,vt)|0,A=A+Math.imul(ge,xt)|0,m=m+Math.imul(X,lt)|0,b=b+Math.imul(X,dt)|0,b=b+Math.imul(Y,lt)|0,A=A+Math.imul(Y,dt)|0,m=m+Math.imul(J,ht)|0,b=b+Math.imul(J,wt)|0,b=b+Math.imul(k,ht)|0,A=A+Math.imul(k,wt)|0,m=m+Math.imul(U,at)|0,b=b+Math.imul(U,_t)|0,b=b+Math.imul(Z,at)|0,A=A+Math.imul(Z,_t)|0,m=m+Math.imul(R,re)|0,b=b+Math.imul(R,te)|0,b=b+Math.imul(fe,re)|0,A=A+Math.imul(fe,te)|0,m=m+Math.imul(p,oe)|0,b=b+Math.imul(p,Ee)|0,b=b+Math.imul(B,oe)|0,A=A+Math.imul(B,Ee)|0;var zt=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(zt>>>26)|0,zt&=67108863,m=Math.imul(Ae,q),b=Math.imul(Ae,le),b=b+Math.imul(Ce,q)|0,A=Math.imul(Ce,le),m=m+Math.imul(de,Oe)|0,b=b+Math.imul(de,Je)|0,b=b+Math.imul(ie,Oe)|0,A=A+Math.imul(ie,Je)|0,m=m+Math.imul(be,it)|0,b=b+Math.imul(be,pt)|0,b=b+Math.imul(D,it)|0,A=A+Math.imul(D,pt)|0,m=m+Math.imul(we,vt)|0,b=b+Math.imul(we,xt)|0,b=b+Math.imul(Me,vt)|0,A=A+Math.imul(Me,xt)|0,m=m+Math.imul(ue,lt)|0,b=b+Math.imul(ue,dt)|0,b=b+Math.imul(ge,lt)|0,A=A+Math.imul(ge,dt)|0,m=m+Math.imul(X,ht)|0,b=b+Math.imul(X,wt)|0,b=b+Math.imul(Y,ht)|0,A=A+Math.imul(Y,wt)|0,m=m+Math.imul(J,at)|0,b=b+Math.imul(J,_t)|0,b=b+Math.imul(k,at)|0,A=A+Math.imul(k,_t)|0,m=m+Math.imul(U,re)|0,b=b+Math.imul(U,te)|0,b=b+Math.imul(Z,re)|0,A=A+Math.imul(Z,te)|0,m=m+Math.imul(R,oe)|0,b=b+Math.imul(R,Ee)|0,b=b+Math.imul(fe,oe)|0,A=A+Math.imul(fe,Ee)|0,m=m+Math.imul(p,Be)|0,b=b+Math.imul(p,Pe)|0,b=b+Math.imul(B,Be)|0,A=A+Math.imul(B,Pe)|0;var Vt=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,m=Math.imul(Ae,Oe),b=Math.imul(Ae,Je),b=b+Math.imul(Ce,Oe)|0,A=Math.imul(Ce,Je),m=m+Math.imul(de,it)|0,b=b+Math.imul(de,pt)|0,b=b+Math.imul(ie,it)|0,A=A+Math.imul(ie,pt)|0,m=m+Math.imul(be,vt)|0,b=b+Math.imul(be,xt)|0,b=b+Math.imul(D,vt)|0,A=A+Math.imul(D,xt)|0,m=m+Math.imul(we,lt)|0,b=b+Math.imul(we,dt)|0,b=b+Math.imul(Me,lt)|0,A=A+Math.imul(Me,dt)|0,m=m+Math.imul(ue,ht)|0,b=b+Math.imul(ue,wt)|0,b=b+Math.imul(ge,ht)|0,A=A+Math.imul(ge,wt)|0,m=m+Math.imul(X,at)|0,b=b+Math.imul(X,_t)|0,b=b+Math.imul(Y,at)|0,A=A+Math.imul(Y,_t)|0,m=m+Math.imul(J,re)|0,b=b+Math.imul(J,te)|0,b=b+Math.imul(k,re)|0,A=A+Math.imul(k,te)|0,m=m+Math.imul(U,oe)|0,b=b+Math.imul(U,Ee)|0,b=b+Math.imul(Z,oe)|0,A=A+Math.imul(Z,Ee)|0,m=m+Math.imul(R,Be)|0,b=b+Math.imul(R,Pe)|0,b=b+Math.imul(fe,Be)|0,A=A+Math.imul(fe,Pe)|0;var jt=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(jt>>>26)|0,jt&=67108863,m=Math.imul(Ae,it),b=Math.imul(Ae,pt),b=b+Math.imul(Ce,it)|0,A=Math.imul(Ce,pt),m=m+Math.imul(de,vt)|0,b=b+Math.imul(de,xt)|0,b=b+Math.imul(ie,vt)|0,A=A+Math.imul(ie,xt)|0,m=m+Math.imul(be,lt)|0,b=b+Math.imul(be,dt)|0,b=b+Math.imul(D,lt)|0,A=A+Math.imul(D,dt)|0,m=m+Math.imul(we,ht)|0,b=b+Math.imul(we,wt)|0,b=b+Math.imul(Me,ht)|0,A=A+Math.imul(Me,wt)|0,m=m+Math.imul(ue,at)|0,b=b+Math.imul(ue,_t)|0,b=b+Math.imul(ge,at)|0,A=A+Math.imul(ge,_t)|0,m=m+Math.imul(X,re)|0,b=b+Math.imul(X,te)|0,b=b+Math.imul(Y,re)|0,A=A+Math.imul(Y,te)|0,m=m+Math.imul(J,oe)|0,b=b+Math.imul(J,Ee)|0,b=b+Math.imul(k,oe)|0,A=A+Math.imul(k,Ee)|0,m=m+Math.imul(U,Be)|0,b=b+Math.imul(U,Pe)|0,b=b+Math.imul(Z,Be)|0,A=A+Math.imul(Z,Pe)|0;var St=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(St>>>26)|0,St&=67108863,m=Math.imul(Ae,vt),b=Math.imul(Ae,xt),b=b+Math.imul(Ce,vt)|0,A=Math.imul(Ce,xt),m=m+Math.imul(de,lt)|0,b=b+Math.imul(de,dt)|0,b=b+Math.imul(ie,lt)|0,A=A+Math.imul(ie,dt)|0,m=m+Math.imul(be,ht)|0,b=b+Math.imul(be,wt)|0,b=b+Math.imul(D,ht)|0,A=A+Math.imul(D,wt)|0,m=m+Math.imul(we,at)|0,b=b+Math.imul(we,_t)|0,b=b+Math.imul(Me,at)|0,A=A+Math.imul(Me,_t)|0,m=m+Math.imul(ue,re)|0,b=b+Math.imul(ue,te)|0,b=b+Math.imul(ge,re)|0,A=A+Math.imul(ge,te)|0,m=m+Math.imul(X,oe)|0,b=b+Math.imul(X,Ee)|0,b=b+Math.imul(Y,oe)|0,A=A+Math.imul(Y,Ee)|0,m=m+Math.imul(J,Be)|0,b=b+Math.imul(J,Pe)|0,b=b+Math.imul(k,Be)|0,A=A+Math.imul(k,Pe)|0;var Nt=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,m=Math.imul(Ae,lt),b=Math.imul(Ae,dt),b=b+Math.imul(Ce,lt)|0,A=Math.imul(Ce,dt),m=m+Math.imul(de,ht)|0,b=b+Math.imul(de,wt)|0,b=b+Math.imul(ie,ht)|0,A=A+Math.imul(ie,wt)|0,m=m+Math.imul(be,at)|0,b=b+Math.imul(be,_t)|0,b=b+Math.imul(D,at)|0,A=A+Math.imul(D,_t)|0,m=m+Math.imul(we,re)|0,b=b+Math.imul(we,te)|0,b=b+Math.imul(Me,re)|0,A=A+Math.imul(Me,te)|0,m=m+Math.imul(ue,oe)|0,b=b+Math.imul(ue,Ee)|0,b=b+Math.imul(ge,oe)|0,A=A+Math.imul(ge,Ee)|0,m=m+Math.imul(X,Be)|0,b=b+Math.imul(X,Pe)|0,b=b+Math.imul(Y,Be)|0,A=A+Math.imul(Y,Pe)|0;var mt=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(mt>>>26)|0,mt&=67108863,m=Math.imul(Ae,ht),b=Math.imul(Ae,wt),b=b+Math.imul(Ce,ht)|0,A=Math.imul(Ce,wt),m=m+Math.imul(de,at)|0,b=b+Math.imul(de,_t)|0,b=b+Math.imul(ie,at)|0,A=A+Math.imul(ie,_t)|0,m=m+Math.imul(be,re)|0,b=b+Math.imul(be,te)|0,b=b+Math.imul(D,re)|0,A=A+Math.imul(D,te)|0,m=m+Math.imul(we,oe)|0,b=b+Math.imul(we,Ee)|0,b=b+Math.imul(Me,oe)|0,A=A+Math.imul(Me,Ee)|0,m=m+Math.imul(ue,Be)|0,b=b+Math.imul(ue,Pe)|0,b=b+Math.imul(ge,Be)|0,A=A+Math.imul(ge,Pe)|0;var It=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(Ae,at),b=Math.imul(Ae,_t),b=b+Math.imul(Ce,at)|0,A=Math.imul(Ce,_t),m=m+Math.imul(de,re)|0,b=b+Math.imul(de,te)|0,b=b+Math.imul(ie,re)|0,A=A+Math.imul(ie,te)|0,m=m+Math.imul(be,oe)|0,b=b+Math.imul(be,Ee)|0,b=b+Math.imul(D,oe)|0,A=A+Math.imul(D,Ee)|0,m=m+Math.imul(we,Be)|0,b=b+Math.imul(we,Pe)|0,b=b+Math.imul(Me,Be)|0,A=A+Math.imul(Me,Pe)|0;var Ct=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(Ae,re),b=Math.imul(Ae,te),b=b+Math.imul(Ce,re)|0,A=Math.imul(Ce,te),m=m+Math.imul(de,oe)|0,b=b+Math.imul(de,Ee)|0,b=b+Math.imul(ie,oe)|0,A=A+Math.imul(ie,Ee)|0,m=m+Math.imul(be,Be)|0,b=b+Math.imul(be,Pe)|0,b=b+Math.imul(D,Be)|0,A=A+Math.imul(D,Pe)|0;var ot=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(ot>>>26)|0,ot&=67108863,m=Math.imul(Ae,oe),b=Math.imul(Ae,Ee),b=b+Math.imul(Ce,oe)|0,A=Math.imul(Ce,Ee),m=m+Math.imul(de,Be)|0,b=b+Math.imul(de,Pe)|0,b=b+Math.imul(ie,Be)|0,A=A+Math.imul(ie,Pe)|0;var Le=(g+m|0)+((b&8191)<<13)|0;g=(A+(b>>>13)|0)+(Le>>>26)|0,Le&=67108863,m=Math.imul(Ae,Be),b=Math.imul(Ae,Pe),b=b+Math.imul(Ce,Be)|0,A=Math.imul(Ce,Pe);var Ue=(g+m|0)+((b&8191)<<13)|0;return g=(A+(b>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,y[0]=Et,y[1]=Xe,y[2]=bt,y[3]=yt,y[4]=Dt,y[5]=Lt,y[6]=Ot,y[7]=Ft,y[8]=zt,y[9]=Vt,y[10]=jt,y[11]=St,y[12]=Nt,y[13]=mt,y[14]=It,y[15]=Ct,y[16]=ot,y[17]=Le,y[18]=Ue,g!==0&&(y[19]=g,v.length++),v};Math.imul||(E=_);function C(S,w,T){T.negative=w.negative^S.negative,T.length=S.length+w.length;for(var v=0,u=0,d=0;d<T.length-1;d++){var y=u;u=0;for(var g=v&67108863,m=Math.min(d,w.length-1),b=Math.max(0,d-S.length+1);b<=m;b++){var A=d-b,I=S.words[A]|0,p=w.words[b]|0,B=I*p,ce=B&67108863;y=y+(B/67108864|0)|0,ce=ce+g|0,g=ce&67108863,y=y+(ce>>>26)|0,u+=y>>>26,y&=67108863}T.words[d]=g,v=y,y=u}return v!==0?T.words[d]=v:T.length--,T.strip()}function L(S,w,T){var v=new O;return v.mulp(S,w,T)}n.prototype.mulTo=function(w,T){var v,u=this.length+w.length;return this.length===10&&w.length===10?v=E(this,w,T):u<63?v=_(this,w,T):u<1024?v=C(this,w,T):v=L(this,w,T),v};function O(S,w){this.x=S,this.y=w}O.prototype.makeRBT=function(w){for(var T=new Array(w),v=n.prototype._countBits(w)-1,u=0;u<w;u++)T[u]=this.revBin(u,v,w);return T},O.prototype.revBin=function(w,T,v){if(w===0||w===v-1)return w;for(var u=0,d=0;d<T;d++)u|=(w&1)<<T-d-1,w>>=1;return u},O.prototype.permute=function(w,T,v,u,d,y){for(var g=0;g<y;g++)u[g]=T[w[g]],d[g]=v[w[g]]},O.prototype.transform=function(w,T,v,u,d,y){this.permute(y,w,T,v,u,d);for(var g=1;g<d;g<<=1)for(var m=g<<1,b=Math.cos(2*Math.PI/m),A=Math.sin(2*Math.PI/m),I=0;I<d;I+=m)for(var p=b,B=A,ce=0;ce<g;ce++){var R=v[I+ce],fe=u[I+ce],se=v[I+ce+g],U=u[I+ce+g],Z=p*se-B*U;U=p*U+B*se,se=Z,v[I+ce]=R+se,u[I+ce]=fe+U,v[I+ce+g]=R-se,u[I+ce+g]=fe-U,ce!==m&&(Z=b*p-A*B,B=b*B+A*p,p=Z)}},O.prototype.guessLen13b=function(w,T){var v=Math.max(T,w)|1,u=v&1,d=0;for(v=v/2|0;v;v=v>>>1)d++;return 1<<d+1+u},O.prototype.conjugate=function(w,T,v){if(!(v<=1))for(var u=0;u<v/2;u++){var d=w[u];w[u]=w[v-u-1],w[v-u-1]=d,d=T[u],T[u]=-T[v-u-1],T[v-u-1]=-d}},O.prototype.normalize13b=function(w,T){for(var v=0,u=0;u<T/2;u++){var d=Math.round(w[2*u+1]/T)*8192+Math.round(w[2*u]/T)+v;w[u]=d&67108863,d<67108864?v=0:v=d/67108864|0}return w},O.prototype.convert13b=function(w,T,v,u){for(var d=0,y=0;y<T;y++)d=d+(w[y]|0),v[2*y]=d&8191,d=d>>>13,v[2*y+1]=d&8191,d=d>>>13;for(y=2*T;y<u;++y)v[y]=0;t(d===0),t((d&~8191)==0)},O.prototype.stub=function(w){for(var T=new Array(w),v=0;v<w;v++)T[v]=0;return T},O.prototype.mulp=function(w,T,v){var u=2*this.guessLen13b(w.length,T.length),d=this.makeRBT(u),y=this.stub(u),g=new Array(u),m=new Array(u),b=new Array(u),A=new Array(u),I=new Array(u),p=new Array(u),B=v.words;B.length=u,this.convert13b(w.words,w.length,g,u),this.convert13b(T.words,T.length,A,u),this.transform(g,y,m,b,u,d),this.transform(A,y,I,p,u,d);for(var ce=0;ce<u;ce++){var R=m[ce]*I[ce]-b[ce]*p[ce];b[ce]=m[ce]*p[ce]+b[ce]*I[ce],m[ce]=R}return this.conjugate(m,b,u),this.transform(m,b,B,y,u,d),this.conjugate(B,y,u),this.normalize13b(B,u),v.negative=w.negative^T.negative,v.length=w.length+T.length,v.strip()},n.prototype.mul=function(w){var T=new n(null);return T.words=new Array(this.length+w.length),this.mulTo(w,T)},n.prototype.mulf=function(w){var T=new n(null);return T.words=new Array(this.length+w.length),L(this,w,T)},n.prototype.imul=function(w){return this.clone().mulTo(w,this)},n.prototype.imuln=function(w){t(typeof w=="number"),t(w<67108864);for(var T=0,v=0;v<this.length;v++){var u=(this.words[v]|0)*w,d=(u&67108863)+(T&67108863);T>>=26,T+=u/67108864|0,T+=d>>>26,this.words[v]=d&67108863}return T!==0&&(this.words[v]=T,this.length++),this},n.prototype.muln=function(w){return this.clone().imuln(w)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(w){var T=x(w);if(T.length===0)return new n(1);for(var v=this,u=0;u<T.length&&T[u]===0;u++,v=v.sqr());if(++u<T.length)for(var d=v.sqr();u<T.length;u++,d=d.sqr())T[u]!==0&&(v=v.mul(d));return v},n.prototype.iushln=function(w){t(typeof w=="number"&&w>=0);var T=w%26,v=(w-T)/26,u=67108863>>>26-T<<26-T,d;if(T!==0){var y=0;for(d=0;d<this.length;d++){var g=this.words[d]&u,m=(this.words[d]|0)-g<<T;this.words[d]=m|y,y=g>>>26-T}y&&(this.words[d]=y,this.length++)}if(v!==0){for(d=this.length-1;d>=0;d--)this.words[d+v]=this.words[d];for(d=0;d<v;d++)this.words[d]=0;this.length+=v}return this.strip()},n.prototype.ishln=function(w){return t(this.negative===0),this.iushln(w)},n.prototype.iushrn=function(w,T,v){t(typeof w=="number"&&w>=0);var u;T?u=(T-T%26)/26:u=0;var d=w%26,y=Math.min((w-d)/26,this.length),g=67108863^67108863>>>d<<d,m=v;if(u-=y,u=Math.max(0,u),m){for(var b=0;b<y;b++)m.words[b]=this.words[b];m.length=y}if(y!==0)if(this.length>y)for(this.length-=y,b=0;b<this.length;b++)this.words[b]=this.words[b+y];else this.words[0]=0,this.length=1;var A=0;for(b=this.length-1;b>=0&&(A!==0||b>=u);b--){var I=this.words[b]|0;this.words[b]=A<<26-d|I>>>d,A=I&g}return m&&A!==0&&(m.words[m.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(w,T,v){return t(this.negative===0),this.iushrn(w,T,v)},n.prototype.shln=function(w){return this.clone().ishln(w)},n.prototype.ushln=function(w){return this.clone().iushln(w)},n.prototype.shrn=function(w){return this.clone().ishrn(w)},n.prototype.ushrn=function(w){return this.clone().iushrn(w)},n.prototype.testn=function(w){t(typeof w=="number"&&w>=0);var T=w%26,v=(w-T)/26,u=1<<T;if(this.length<=v)return!1;var d=this.words[v];return!!(d&u)},n.prototype.imaskn=function(w){t(typeof w=="number"&&w>=0);var T=w%26,v=(w-T)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(T!==0&&v++,this.length=Math.min(v,this.length),T!==0){var u=67108863^67108863>>>T<<T;this.words[this.length-1]&=u}return this.strip()},n.prototype.maskn=function(w){return this.clone().imaskn(w)},n.prototype.iaddn=function(w){return t(typeof w=="number"),t(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},n.prototype._iaddn=function(w){this.words[0]+=w;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},n.prototype.isubn=function(w){if(t(typeof w=="number"),t(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this.strip()},n.prototype.addn=function(w){return this.clone().iaddn(w)},n.prototype.subn=function(w){return this.clone().isubn(w)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(w,T,v){var u=w.length+v,d;this._expand(u);var y,g=0;for(d=0;d<w.length;d++){y=(this.words[d+v]|0)+g;var m=(w.words[d]|0)*T;y-=m&67108863,g=(y>>26)-(m/67108864|0),this.words[d+v]=y&67108863}for(;d<this.length-v;d++)y=(this.words[d+v]|0)+g,g=y>>26,this.words[d+v]=y&67108863;if(g===0)return this.strip();for(t(g===-1),g=0,d=0;d<this.length;d++)y=-(this.words[d]|0)+g,g=y>>26,this.words[d]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(w,T){var v=this.length-w.length,u=this.clone(),d=w,y=d.words[d.length-1]|0,g=this._countBits(y);v=26-g,v!==0&&(d=d.ushln(v),u.iushln(v),y=d.words[d.length-1]|0);var m=u.length-d.length,b;if(T!=="mod"){b=new n(null),b.length=m+1,b.words=new Array(b.length);for(var A=0;A<b.length;A++)b.words[A]=0}var I=u.clone()._ishlnsubmul(d,1,m);I.negative===0&&(u=I,b&&(b.words[m]=1));for(var p=m-1;p>=0;p--){var B=(u.words[d.length+p]|0)*67108864+(u.words[d.length+p-1]|0);for(B=Math.min(B/y|0,67108863),u._ishlnsubmul(d,B,p);u.negative!==0;)B--,u.negative=0,u._ishlnsubmul(d,1,p),u.isZero()||(u.negative^=1);b&&(b.words[p]=B)}return b&&b.strip(),u.strip(),T!=="div"&&v!==0&&u.iushrn(v),{div:b||null,mod:u}},n.prototype.divmod=function(w,T,v){if(t(!w.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var u,d,y;return this.negative!==0&&w.negative===0?(y=this.neg().divmod(w,T),T!=="mod"&&(u=y.div.neg()),T!=="div"&&(d=y.mod.neg(),v&&d.negative!==0&&d.iadd(w)),{div:u,mod:d}):this.negative===0&&w.negative!==0?(y=this.divmod(w.neg(),T),T!=="mod"&&(u=y.div.neg()),{div:u,mod:y.mod}):(this.negative&w.negative)!=0?(y=this.neg().divmod(w.neg(),T),T!=="div"&&(d=y.mod.neg(),v&&d.negative!==0&&d.isub(w)),{div:y.div,mod:d}):w.length>this.length||this.cmp(w)<0?{div:new n(0),mod:this}:w.length===1?T==="div"?{div:this.divn(w.words[0]),mod:null}:T==="mod"?{div:null,mod:new n(this.modn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new n(this.modn(w.words[0]))}:this._wordDiv(w,T)},n.prototype.div=function(w){return this.divmod(w,"div",!1).div},n.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},n.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},n.prototype.divRound=function(w){var T=this.divmod(w);if(T.mod.isZero())return T.div;var v=T.div.negative!==0?T.mod.isub(w):T.mod,u=w.ushrn(1),d=w.andln(1),y=v.cmp(u);return y<0||d===1&&y===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},n.prototype.modn=function(w){t(w<=67108863);for(var T=(1<<26)%w,v=0,u=this.length-1;u>=0;u--)v=(T*v+(this.words[u]|0))%w;return v},n.prototype.idivn=function(w){t(w<=67108863);for(var T=0,v=this.length-1;v>=0;v--){var u=(this.words[v]|0)+T*67108864;this.words[v]=u/w|0,T=u%w}return this.strip()},n.prototype.divn=function(w){return this.clone().idivn(w)},n.prototype.egcd=function(w){t(w.negative===0),t(!w.isZero());var T=this,v=w.clone();T.negative!==0?T=T.umod(w):T=T.clone();for(var u=new n(1),d=new n(0),y=new n(0),g=new n(1),m=0;T.isEven()&&v.isEven();)T.iushrn(1),v.iushrn(1),++m;for(var b=v.clone(),A=T.clone();!T.isZero();){for(var I=0,p=1;(T.words[0]&p)==0&&I<26;++I,p<<=1);if(I>0)for(T.iushrn(I);I-- >0;)(u.isOdd()||d.isOdd())&&(u.iadd(b),d.isub(A)),u.iushrn(1),d.iushrn(1);for(var B=0,ce=1;(v.words[0]&ce)==0&&B<26;++B,ce<<=1);if(B>0)for(v.iushrn(B);B-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(b),g.isub(A)),y.iushrn(1),g.iushrn(1);T.cmp(v)>=0?(T.isub(v),u.isub(y),d.isub(g)):(v.isub(T),y.isub(u),g.isub(d))}return{a:y,b:g,gcd:v.iushln(m)}},n.prototype._invmp=function(w){t(w.negative===0),t(!w.isZero());var T=this,v=w.clone();T.negative!==0?T=T.umod(w):T=T.clone();for(var u=new n(1),d=new n(0),y=v.clone();T.cmpn(1)>0&&v.cmpn(1)>0;){for(var g=0,m=1;(T.words[0]&m)==0&&g<26;++g,m<<=1);if(g>0)for(T.iushrn(g);g-- >0;)u.isOdd()&&u.iadd(y),u.iushrn(1);for(var b=0,A=1;(v.words[0]&A)==0&&b<26;++b,A<<=1);if(b>0)for(v.iushrn(b);b-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);T.cmp(v)>=0?(T.isub(v),u.isub(d)):(v.isub(T),d.isub(u))}var I;return T.cmpn(1)===0?I=u:I=d,I.cmpn(0)<0&&I.iadd(w),I},n.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var T=this.clone(),v=w.clone();T.negative=0,v.negative=0;for(var u=0;T.isEven()&&v.isEven();u++)T.iushrn(1),v.iushrn(1);do{for(;T.isEven();)T.iushrn(1);for(;v.isEven();)v.iushrn(1);var d=T.cmp(v);if(d<0){var y=T;T=v,v=y}else if(d===0||v.cmpn(1)===0)break;T.isub(v)}while(!0);return v.iushln(u)},n.prototype.invm=function(w){return this.egcd(w).a.umod(w)},n.prototype.isEven=function(){return(this.words[0]&1)==0},n.prototype.isOdd=function(){return(this.words[0]&1)==1},n.prototype.andln=function(w){return this.words[0]&w},n.prototype.bincn=function(w){t(typeof w=="number");var T=w%26,v=(w-T)/26,u=1<<T;if(this.length<=v)return this._expand(v+1),this.words[v]|=u,this;for(var d=u,y=v;d!==0&&y<this.length;y++){var g=this.words[y]|0;g+=d,d=g>>>26,g&=67108863,this.words[y]=g}return d!==0&&(this.words[y]=d,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(w){var T=w<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;this.strip();var v;if(this.length>1)v=1;else{T&&(w=-w),t(w<=67108863,"Number is too big");var u=this.words[0]|0;v=u===w?0:u<w?-1:1}return this.negative!==0?-v|0:v},n.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var T=this.ucmp(w);return this.negative!==0?-T|0:T},n.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var T=0,v=this.length-1;v>=0;v--){var u=this.words[v]|0,d=w.words[v]|0;if(u!==d){u<d?T=-1:u>d&&(T=1);break}}return T},n.prototype.gtn=function(w){return this.cmpn(w)===1},n.prototype.gt=function(w){return this.cmp(w)===1},n.prototype.gten=function(w){return this.cmpn(w)>=0},n.prototype.gte=function(w){return this.cmp(w)>=0},n.prototype.ltn=function(w){return this.cmpn(w)===-1},n.prototype.lt=function(w){return this.cmp(w)===-1},n.prototype.lten=function(w){return this.cmpn(w)<=0},n.prototype.lte=function(w){return this.cmp(w)<=0},n.prototype.eqn=function(w){return this.cmpn(w)===0},n.prototype.eq=function(w){return this.cmp(w)===0},n.red=function(w){return new H(w)},n.prototype.toRed=function(w){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},n.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(w){return this.red=w,this},n.prototype.forceRed=function(w){return t(!this.red,"Already a number in reduction context"),this._forceRed(w)},n.prototype.redAdd=function(w){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},n.prototype.redIAdd=function(w){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},n.prototype.redSub=function(w){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},n.prototype.redISub=function(w){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},n.prototype.redShl=function(w){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},n.prototype.redMul=function(w){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},n.prototype.redIMul=function(w){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},n.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(w){return t(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var W={k256:null,p224:null,p192:null,p25519:null};function ee(S,w){this.name=S,this.p=new n(w,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ee.prototype._tmp=function(){var w=new n(null);return w.words=new Array(Math.ceil(this.n/13)),w},ee.prototype.ireduce=function(w){var T=w,v;do this.split(T,this.tmp),T=this.imulK(T),T=T.iadd(this.tmp),v=T.bitLength();while(v>this.n);var u=v<this.n?-1:T.ucmp(this.p);return u===0?(T.words[0]=0,T.length=1):u>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},ee.prototype.split=function(w,T){w.iushrn(this.n,0,T)},ee.prototype.imulK=function(w){return w.imul(this.k)};function N(){ee.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(N,ee),N.prototype.split=function(w,T){for(var v=4194303,u=Math.min(w.length,9),d=0;d<u;d++)T.words[d]=w.words[d];if(T.length=u,w.length<=9){w.words[0]=0,w.length=1;return}var y=w.words[9];for(T.words[T.length++]=y&v,d=10;d<w.length;d++){var g=w.words[d]|0;w.words[d-10]=(g&v)<<4|y>>>22,y=g}y>>>=22,w.words[d-10]=y,y===0&&w.length>10?w.length-=10:w.length-=9},N.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var T=0,v=0;v<w.length;v++){var u=w.words[v]|0;T+=u*977,w.words[v]=T&67108863,T=u*64+(T/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function V(){ee.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,ee);function z(){ee.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(z,ee);function F(){ee.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,ee),F.prototype.imulK=function(w){for(var T=0,v=0;v<w.length;v++){var u=(w.words[v]|0)*19+T,d=u&67108863;u>>>=26,w.words[v]=d,T=u}return T!==0&&(w.words[w.length++]=T),w},n._prime=function(w){if(W[w])return W[w];var T;if(w==="k256")T=new N;else if(w==="p224")T=new V;else if(w==="p192")T=new z;else if(w==="p25519")T=new F;else throw new Error("Unknown prime "+w);return W[w]=T,T};function H(S){if(typeof S=="string"){var w=n._prime(S);this.m=w.p,this.prime=w}else t(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}H.prototype._verify1=function(w){t(w.negative===0,"red works only with positives"),t(w.red,"red works only with red numbers")},H.prototype._verify2=function(w,T){t((w.negative|T.negative)==0,"red works only with positives"),t(w.red&&w.red===T.red,"red works only with red numbers")},H.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):w.umod(this.m)._forceRed(this)},H.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},H.prototype.add=function(w,T){this._verify2(w,T);var v=w.add(T);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},H.prototype.iadd=function(w,T){this._verify2(w,T);var v=w.iadd(T);return v.cmp(this.m)>=0&&v.isub(this.m),v},H.prototype.sub=function(w,T){this._verify2(w,T);var v=w.sub(T);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},H.prototype.isub=function(w,T){this._verify2(w,T);var v=w.isub(T);return v.cmpn(0)<0&&v.iadd(this.m),v},H.prototype.shl=function(w,T){return this._verify1(w),this.imod(w.ushln(T))},H.prototype.imul=function(w,T){return this._verify2(w,T),this.imod(w.imul(T))},H.prototype.mul=function(w,T){return this._verify2(w,T),this.imod(w.mul(T))},H.prototype.isqr=function(w){return this.imul(w,w.clone())},H.prototype.sqr=function(w){return this.mul(w,w)},H.prototype.sqrt=function(w){if(w.isZero())return w.clone();var T=this.m.andln(3);if(t(T%2==1),T===3){var v=this.m.add(new n(1)).iushrn(2);return this.pow(w,v)}for(var u=this.m.subn(1),d=0;!u.isZero()&&u.andln(1)===0;)d++,u.iushrn(1);t(!u.isZero());var y=new n(1).toRed(this),g=y.redNeg(),m=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new n(2*b*b).toRed(this);this.pow(b,m).cmp(g)!==0;)b.redIAdd(g);for(var A=this.pow(b,u),I=this.pow(w,u.addn(1).iushrn(1)),p=this.pow(w,u),B=d;p.cmp(y)!==0;){for(var ce=p,R=0;ce.cmp(y)!==0;R++)ce=ce.redSqr();t(R<B);var fe=this.pow(A,new n(1).iushln(B-R-1));I=I.redMul(fe),A=fe.redSqr(),p=p.redMul(A),B=R}return I},H.prototype.invm=function(w){var T=w._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},H.prototype.pow=function(w,T){if(T.isZero())return new n(1).toRed(this);if(T.cmpn(1)===0)return w.clone();var v=4,u=new Array(1<<v);u[0]=new n(1).toRed(this),u[1]=w;for(var d=2;d<u.length;d++)u[d]=this.mul(u[d-1],w);var y=u[0],g=0,m=0,b=T.bitLength()%26;for(b===0&&(b=26),d=T.length-1;d>=0;d--){for(var A=T.words[d],I=b-1;I>=0;I--){var p=A>>I&1;if(y!==u[0]&&(y=this.sqr(y)),p===0&&g===0){m=0;continue}g<<=1,g|=p,m++,!(m!==v&&(d!==0||I!==0))&&(y=this.mul(y,u[g]),m=0,g=0)}b=26}return y},H.prototype.convertTo=function(w){var T=w.umod(this.m);return T===w?T.clone():T},H.prototype.convertFrom=function(w){var T=w.clone();return T.red=null,T},n.mont=function(w){return new K(w)};function K(S){H.call(this,S),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,H),K.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},K.prototype.convertFrom=function(w){var T=this.imod(w.mul(this.rinv));return T.red=null,T},K.prototype.imul=function(w,T){if(w.isZero()||T.isZero())return w.words[0]=0,w.length=1,w;var v=w.imul(T),u=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=v.isub(u).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},K.prototype.mul=function(w,T){if(w.isZero()||T.isZero())return new n(0)._forceRed(this);var v=w.mul(T),u=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=v.isub(u).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},K.prototype.invm=function(w){var T=this.imod(w._invmp(this.m).mul(this.r2));return T._forceRed(this)}})(typeof q8=="undefined"||q8,dI)});var RI=M((qDe,j6)=>{(function(){"use strict";var r=typeof window=="object"?window:{},e=!r.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;e&&(r=global);for(var t=!r.JS_SHA3_NO_COMMON_JS&&typeof j6=="object"&&j6.exports,i="0123456789abcdef".split(""),n=[31,7936,2031616,520093696],s=[1,256,65536,16777216],o=[6,1536,393216,100663296],a=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],l=[128,256],h=["hex","buffer","arrayBuffer","array"],x=function(S,w,T){return function(v){return new H(S,w,S).update(v)[T]()}},_=function(S,w,T){return function(v,u){return new H(S,w,u).update(v)[T]()}},E=function(S,w){var T=x(S,w,"hex");T.create=function(){return new H(S,w,S)},T.update=function(d){return T.create().update(d)};for(var v=0;v<h.length;++v){var u=h[v];T[u]=x(S,w,u)}return T},C=function(S,w){var T=_(S,w,"hex");T.create=function(d){return new H(S,w,d)},T.update=function(d,y){return T.create(y).update(d)};for(var v=0;v<h.length;++v){var u=h[v];T[u]=_(S,w,u)}return T},L=[{name:"keccak",padding:s,bits:c,createMethod:E},{name:"sha3",padding:o,bits:c,createMethod:E},{name:"shake",padding:n,bits:l,createMethod:C}],O={},W=[],ee=0;ee<L.length;++ee)for(var N=L[ee],V=N.bits,z=0;z<V.length;++z){var F=N.name+"_"+V[z];W.push(F),O[F]=N.createMethod(V[z],N.padding)}function H(S,w,T){this.blocks=[],this.s=[],this.padding=w,this.outputBits=T,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(S<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=T>>5,this.extraBytes=(T&31)>>3;for(var v=0;v<50;++v)this.s[v]=0}H.prototype.update=function(S){var w=typeof S!="string";w&&S.constructor===ArrayBuffer&&(S=new Uint8Array(S));for(var T=S.length,v=this.blocks,u=this.byteCount,d=this.blockCount,y=0,g=this.s,m,b;y<T;){if(this.reset)for(this.reset=!1,v[0]=this.block,m=1;m<d+1;++m)v[m]=0;if(w)for(m=this.start;y<T&&m<u;++y)v[m>>2]|=S[y]<<a[m++&3];else for(m=this.start;y<T&&m<u;++y)b=S.charCodeAt(y),b<128?v[m>>2]|=b<<a[m++&3]:b<2048?(v[m>>2]|=(192|b>>6)<<a[m++&3],v[m>>2]|=(128|b&63)<<a[m++&3]):b<55296||b>=57344?(v[m>>2]|=(224|b>>12)<<a[m++&3],v[m>>2]|=(128|b>>6&63)<<a[m++&3],v[m>>2]|=(128|b&63)<<a[m++&3]):(b=65536+((b&1023)<<10|S.charCodeAt(++y)&1023),v[m>>2]|=(240|b>>18)<<a[m++&3],v[m>>2]|=(128|b>>12&63)<<a[m++&3],v[m>>2]|=(128|b>>6&63)<<a[m++&3],v[m>>2]|=(128|b&63)<<a[m++&3]);if(this.lastByteIndex=m,m>=u){for(this.start=m-u,this.block=v[d],m=0;m<d;++m)g[m]^=v[m];K(g),this.reset=!0}else this.start=m}return this},H.prototype.finalize=function(){var S=this.blocks,w=this.lastByteIndex,T=this.blockCount,v=this.s;if(S[w>>2]|=this.padding[w&3],this.lastByteIndex===this.byteCount)for(S[0]=S[T],w=1;w<T+1;++w)S[w]=0;for(S[T-1]|=2147483648,w=0;w<T;++w)v[w]^=S[w];K(v)},H.prototype.toString=H.prototype.hex=function(){this.finalize();for(var S=this.blockCount,w=this.s,T=this.outputBlocks,v=this.extraBytes,u=0,d=0,y="",g;d<T;){for(u=0;u<S&&d<T;++u,++d)g=w[u],y+=i[g>>4&15]+i[g&15]+i[g>>12&15]+i[g>>8&15]+i[g>>20&15]+i[g>>16&15]+i[g>>28&15]+i[g>>24&15];d%S==0&&(K(w),u=0)}return v&&(g=w[u],v>0&&(y+=i[g>>4&15]+i[g&15]),v>1&&(y+=i[g>>12&15]+i[g>>8&15]),v>2&&(y+=i[g>>20&15]+i[g>>16&15])),y},H.prototype.arrayBuffer=function(){this.finalize();var S=this.blockCount,w=this.s,T=this.outputBlocks,v=this.extraBytes,u=0,d=0,y=this.outputBits>>3,g;v?g=new ArrayBuffer(T+1<<2):g=new ArrayBuffer(y);for(var m=new Uint32Array(g);d<T;){for(u=0;u<S&&d<T;++u,++d)m[d]=w[u];d%S==0&&K(w)}return v&&(m[u]=w[u],g=g.slice(0,y)),g},H.prototype.buffer=H.prototype.arrayBuffer,H.prototype.digest=H.prototype.array=function(){this.finalize();for(var S=this.blockCount,w=this.s,T=this.outputBlocks,v=this.extraBytes,u=0,d=0,y=[],g,m;d<T;){for(u=0;u<S&&d<T;++u,++d)g=d<<2,m=w[u],y[g]=m&255,y[g+1]=m>>8&255,y[g+2]=m>>16&255,y[g+3]=m>>24&255;d%S==0&&K(w)}return v&&(g=d<<2,m=w[u],v>0&&(y[g]=m&255),v>1&&(y[g+1]=m>>8&255),v>2&&(y[g+2]=m>>16&255)),y};var K=function(S){var w,T,v,u,d,y,g,m,b,A,I,p,B,ce,R,fe,se,U,Z,j,J,k,$,X,Y,ve,ue,ge,xe,we,Me,pe,be,D,_e,de,ie,Re,Ae,Ce,me,q,le,ft,Oe,Je,Tt,it,pt,vr,vt,xt,Sr,lt,dt,Mr,ht,wt,ri,at,_t,G,re;for(v=0;v<48;v+=2)u=S[0]^S[10]^S[20]^S[30]^S[40],d=S[1]^S[11]^S[21]^S[31]^S[41],y=S[2]^S[12]^S[22]^S[32]^S[42],g=S[3]^S[13]^S[23]^S[33]^S[43],m=S[4]^S[14]^S[24]^S[34]^S[44],b=S[5]^S[15]^S[25]^S[35]^S[45],A=S[6]^S[16]^S[26]^S[36]^S[46],I=S[7]^S[17]^S[27]^S[37]^S[47],p=S[8]^S[18]^S[28]^S[38]^S[48],B=S[9]^S[19]^S[29]^S[39]^S[49],w=p^(y<<1|g>>>31),T=B^(g<<1|y>>>31),S[0]^=w,S[1]^=T,S[10]^=w,S[11]^=T,S[20]^=w,S[21]^=T,S[30]^=w,S[31]^=T,S[40]^=w,S[41]^=T,w=u^(m<<1|b>>>31),T=d^(b<<1|m>>>31),S[2]^=w,S[3]^=T,S[12]^=w,S[13]^=T,S[22]^=w,S[23]^=T,S[32]^=w,S[33]^=T,S[42]^=w,S[43]^=T,w=y^(A<<1|I>>>31),T=g^(I<<1|A>>>31),S[4]^=w,S[5]^=T,S[14]^=w,S[15]^=T,S[24]^=w,S[25]^=T,S[34]^=w,S[35]^=T,S[44]^=w,S[45]^=T,w=m^(p<<1|B>>>31),T=b^(B<<1|p>>>31),S[6]^=w,S[7]^=T,S[16]^=w,S[17]^=T,S[26]^=w,S[27]^=T,S[36]^=w,S[37]^=T,S[46]^=w,S[47]^=T,w=A^(u<<1|d>>>31),T=I^(d<<1|u>>>31),S[8]^=w,S[9]^=T,S[18]^=w,S[19]^=T,S[28]^=w,S[29]^=T,S[38]^=w,S[39]^=T,S[48]^=w,S[49]^=T,ce=S[0],R=S[1],Je=S[11]<<4|S[10]>>>28,Tt=S[10]<<4|S[11]>>>28,ge=S[20]<<3|S[21]>>>29,xe=S[21]<<3|S[20]>>>29,at=S[31]<<9|S[30]>>>23,_t=S[30]<<9|S[31]>>>23,q=S[40]<<18|S[41]>>>14,le=S[41]<<18|S[40]>>>14,D=S[2]<<1|S[3]>>>31,_e=S[3]<<1|S[2]>>>31,fe=S[13]<<12|S[12]>>>20,se=S[12]<<12|S[13]>>>20,it=S[22]<<10|S[23]>>>22,pt=S[23]<<10|S[22]>>>22,we=S[33]<<13|S[32]>>>19,Me=S[32]<<13|S[33]>>>19,G=S[42]<<2|S[43]>>>30,re=S[43]<<2|S[42]>>>30,lt=S[5]<<30|S[4]>>>2,dt=S[4]<<30|S[5]>>>2,de=S[14]<<6|S[15]>>>26,ie=S[15]<<6|S[14]>>>26,U=S[25]<<11|S[24]>>>21,Z=S[24]<<11|S[25]>>>21,vr=S[34]<<15|S[35]>>>17,vt=S[35]<<15|S[34]>>>17,pe=S[45]<<29|S[44]>>>3,be=S[44]<<29|S[45]>>>3,X=S[6]<<28|S[7]>>>4,Y=S[7]<<28|S[6]>>>4,Mr=S[17]<<23|S[16]>>>9,ht=S[16]<<23|S[17]>>>9,Re=S[26]<<25|S[27]>>>7,Ae=S[27]<<25|S[26]>>>7,j=S[36]<<21|S[37]>>>11,J=S[37]<<21|S[36]>>>11,xt=S[47]<<24|S[46]>>>8,Sr=S[46]<<24|S[47]>>>8,ft=S[8]<<27|S[9]>>>5,Oe=S[9]<<27|S[8]>>>5,ve=S[18]<<20|S[19]>>>12,ue=S[19]<<20|S[18]>>>12,wt=S[29]<<7|S[28]>>>25,ri=S[28]<<7|S[29]>>>25,Ce=S[38]<<8|S[39]>>>24,me=S[39]<<8|S[38]>>>24,k=S[48]<<14|S[49]>>>18,$=S[49]<<14|S[48]>>>18,S[0]=ce^~fe&U,S[1]=R^~se&Z,S[10]=X^~ve&ge,S[11]=Y^~ue&xe,S[20]=D^~de&Re,S[21]=_e^~ie&Ae,S[30]=ft^~Je&it,S[31]=Oe^~Tt&pt,S[40]=lt^~Mr&wt,S[41]=dt^~ht&ri,S[2]=fe^~U&j,S[3]=se^~Z&J,S[12]=ve^~ge&we,S[13]=ue^~xe&Me,S[22]=de^~Re&Ce,S[23]=ie^~Ae&me,S[32]=Je^~it&vr,S[33]=Tt^~pt&vt,S[42]=Mr^~wt&at,S[43]=ht^~ri&_t,S[4]=U^~j&k,S[5]=Z^~J&$,S[14]=ge^~we&pe,S[15]=xe^~Me&be,S[24]=Re^~Ce&q,S[25]=Ae^~me&le,S[34]=it^~vr&xt,S[35]=pt^~vt&Sr,S[44]=wt^~at&G,S[45]=ri^~_t&re,S[6]=j^~k&ce,S[7]=J^~$&R,S[16]=we^~pe&X,S[17]=Me^~be&Y,S[26]=Ce^~q&D,S[27]=me^~le&_e,S[36]=vr^~xt&ft,S[37]=vt^~Sr&Oe,S[46]=at^~G&lt,S[47]=_t^~re&dt,S[8]=k^~ce&fe,S[9]=$^~R&se,S[18]=pe^~X&ve,S[19]=be^~Y&ue,S[28]=q^~D&de,S[29]=le^~_e&ie,S[38]=xt^~ft&Je,S[39]=Sr^~Oe&Tt,S[48]=G^~lt&Mr,S[49]=re^~dt&ht,S[0]^=f[v],S[1]^=f[v+1]};if(t)j6.exports=O;else for(var ee=0;ee<W.length;++ee)r[W[ee]]=O[W[ee]]})()});var ln=M((uFe,fT)=>{fT.exports=aT;function aT(r,e){if(!r)throw new Error(e||"Assertion failed")}aT.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)}});var dr=M((lFe,y4)=>{typeof Object.create=="function"?y4.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:y4.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}});var fa=M(Wr=>{"use strict";var tce=ln(),rce=dr();Wr.inherits=rce;function ice(r,e){return(r.charCodeAt(e)&64512)!=55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)==56320}function nce(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!=0&&(r="0"+r),n=0;n<r.length;n+=2)t.push(parseInt(r[n]+r[n+1],16))}else for(var i=0,n=0;n<r.length;n++){var s=r.charCodeAt(n);s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=s&63|128):ice(r,n)?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=s&63|128):(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=s&63|128)}else for(n=0;n<r.length;n++)t[n]=r[n]|0;return t}Wr.toArray=nce;function sce(r){for(var e="",t=0;t<r.length;t++)e+=uT(r[t].toString(16));return e}Wr.toHex=sce;function cT(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}Wr.htonl=cT;function oce(r,e){for(var t="",i=0;i<r.length;i++){var n=r[i];e==="little"&&(n=cT(n)),t+=lT(n.toString(16))}return t}Wr.toHex32=oce;function uT(r){return r.length===1?"0"+r:r}Wr.zero2=uT;function lT(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}Wr.zero8=lT;function ace(r,e,t,i){var n=t-e;tce(n%4==0);for(var s=new Array(n/4),o=0,a=e;o<s.length;o++,a+=4){var f;i==="big"?f=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:f=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],s[o]=f>>>0}return s}Wr.join32=ace;function fce(r,e){for(var t=new Array(r.length*4),i=0,n=0;i<r.length;i++,n+=4){var s=r[i];e==="big"?(t[n]=s>>>24,t[n+1]=s>>>16&255,t[n+2]=s>>>8&255,t[n+3]=s&255):(t[n+3]=s>>>24,t[n+2]=s>>>16&255,t[n+1]=s>>>8&255,t[n]=s&255)}return t}Wr.split32=fce;function cce(r,e){return r>>>e|r<<32-e}Wr.rotr32=cce;function uce(r,e){return r<<e|r>>>32-e}Wr.rotl32=uce;function lce(r,e){return r+e>>>0}Wr.sum32=lce;function dce(r,e,t){return r+e+t>>>0}Wr.sum32_3=dce;function hce(r,e,t,i){return r+e+t+i>>>0}Wr.sum32_4=hce;function pce(r,e,t,i,n){return r+e+t+i+n>>>0}Wr.sum32_5=pce;function bce(r,e,t,i){var n=r[e],s=r[e+1],o=i+s>>>0,a=(o<i?1:0)+t+n;r[e]=a>>>0,r[e+1]=o}Wr.sum64=bce;function yce(r,e,t,i){var n=e+i>>>0,s=(n<e?1:0)+r+t;return s>>>0}Wr.sum64_hi=yce;function mce(r,e,t,i){var n=e+i;return n>>>0}Wr.sum64_lo=mce;function gce(r,e,t,i,n,s,o,a){var f=0,c=e;c=c+i>>>0,f+=c<e?1:0,c=c+s>>>0,f+=c<s?1:0,c=c+a>>>0,f+=c<a?1:0;var l=r+t+n+o+f;return l>>>0}Wr.sum64_4_hi=gce;function vce(r,e,t,i,n,s,o,a){var f=e+i+s+a;return f>>>0}Wr.sum64_4_lo=vce;function xce(r,e,t,i,n,s,o,a,f,c){var l=0,h=e;h=h+i>>>0,l+=h<e?1:0,h=h+s>>>0,l+=h<s?1:0,h=h+a>>>0,l+=h<a?1:0,h=h+c>>>0,l+=h<c?1:0;var x=r+t+n+o+f+l;return x>>>0}Wr.sum64_5_hi=xce;function wce(r,e,t,i,n,s,o,a,f,c){var l=e+i+s+a+c;return l>>>0}Wr.sum64_5_lo=wce;function _ce(r,e,t){var i=e<<32-t|r>>>t;return i>>>0}Wr.rotr64_hi=_ce;function Ece(r,e,t){var i=r<<32-t|e>>>t;return i>>>0}Wr.rotr64_lo=Ece;function Sce(r,e,t){return r>>>t}Wr.shr64_hi=Sce;function Ace(r,e,t){var i=r<<32-t|e>>>t;return i>>>0}Wr.shr64_lo=Ace});var td=M(hT=>{"use strict";var dT=fa(),Ice=ln();function Z6(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}hT.BlockHash=Z6;Z6.prototype.update=function(e,t){if(e=dT.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=dT.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};Z6.prototype.digest=function(e){return this.update(this._pad()),Ice(this.pending===null),this._digest(e)};Z6.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,n=new Array(i+this.padLength);n[0]=128;for(var s=1;s<i;s++)n[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)n[s++]=0;n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=e>>>24&255,n[s++]=e>>>16&255,n[s++]=e>>>8&255,n[s++]=e&255}else for(n[s++]=e&255,n[s++]=e>>>8&255,n[s++]=e>>>16&255,n[s++]=e>>>24&255,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,o=8;o<this.padLength;o++)n[s++]=0;return n}});var m4=M(Xf=>{"use strict";var Tce=fa(),Ka=Tce.rotr32;function kce(r,e,t,i){if(r===0)return pT(e,t,i);if(r===1||r===3)return yT(e,t,i);if(r===2)return bT(e,t,i)}Xf.ft_1=kce;function pT(r,e,t){return r&e^~r&t}Xf.ch32=pT;function bT(r,e,t){return r&e^r&t^e&t}Xf.maj32=bT;function yT(r,e,t){return r^e^t}Xf.p32=yT;function Cce(r){return Ka(r,2)^Ka(r,13)^Ka(r,22)}Xf.s0_256=Cce;function Bce(r){return Ka(r,6)^Ka(r,11)^Ka(r,25)}Xf.s1_256=Bce;function Mce(r){return Ka(r,7)^Ka(r,18)^r>>>3}Xf.g0_256=Mce;function Rce(r){return Ka(r,17)^Ka(r,19)^r>>>10}Xf.g1_256=Rce});var vT=M((bFe,gT)=>{"use strict";var rd=fa(),Nce=td(),Pce=m4(),g4=rd.rotl32,Bp=rd.sum32,qce=rd.sum32_5,Oce=Pce.ft_1,mT=Nce.BlockHash,Dce=[1518500249,1859775393,2400959708,3395469782];function za(){if(!(this instanceof za))return new za;mT.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}rd.inherits(za,mT);gT.exports=za;za.blockSize=512;za.outSize=160;za.hmacStrength=80;za.padLength=64;za.prototype._update=function(e,t){for(var i=this.W,n=0;n<16;n++)i[n]=e[t+n];for(;n<i.length;n++)i[n]=g4(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4];for(n=0;n<i.length;n++){var l=~~(n/20),h=qce(g4(s,5),Oce(l,o,a,f),c,i[n],Dce[l]);c=f,f=a,a=g4(o,30),o=s,s=h}this.h[0]=Bp(this.h[0],s),this.h[1]=Bp(this.h[1],o),this.h[2]=Bp(this.h[2],a),this.h[3]=Bp(this.h[3],f),this.h[4]=Bp(this.h[4],c)};za.prototype._digest=function(e){return e==="hex"?rd.toHex32(this.h,"big"):rd.split32(this.h,"big")}});var v4=M((yFe,wT)=>{"use strict";var id=fa(),Lce=td(),nd=m4(),Uce=ln(),ca=id.sum32,Fce=id.sum32_4,Kce=id.sum32_5,zce=nd.ch32,jce=nd.maj32,Vce=nd.s0_256,Hce=nd.s1_256,$ce=nd.g0_256,Gce=nd.g1_256,xT=Lce.BlockHash,Yce=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ja(){if(!(this instanceof ja))return new ja;xT.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Yce,this.W=new Array(64)}id.inherits(ja,xT);wT.exports=ja;ja.blockSize=512;ja.outSize=256;ja.hmacStrength=192;ja.padLength=64;ja.prototype._update=function(e,t){for(var i=this.W,n=0;n<16;n++)i[n]=e[t+n];for(;n<i.length;n++)i[n]=Fce(Gce(i[n-2]),i[n-7],$ce(i[n-15]),i[n-16]);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4],l=this.h[5],h=this.h[6],x=this.h[7];for(Uce(this.k.length===i.length),n=0;n<i.length;n++){var _=Kce(x,Hce(c),zce(c,l,h),this.k[n],i[n]),E=ca(Vce(s),jce(s,o,a));x=h,h=l,l=c,c=ca(f,_),f=a,a=o,o=s,s=ca(_,E)}this.h[0]=ca(this.h[0],s),this.h[1]=ca(this.h[1],o),this.h[2]=ca(this.h[2],a),this.h[3]=ca(this.h[3],f),this.h[4]=ca(this.h[4],c),this.h[5]=ca(this.h[5],l),this.h[6]=ca(this.h[6],h),this.h[7]=ca(this.h[7],x)};ja.prototype._digest=function(e){return e==="hex"?id.toHex32(this.h,"big"):id.split32(this.h,"big")}});var ST=M((mFe,ET)=>{"use strict";var x4=fa(),_T=v4();function Qf(){if(!(this instanceof Qf))return new Qf;_T.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}x4.inherits(Qf,_T);ET.exports=Qf;Qf.blockSize=512;Qf.outSize=224;Qf.hmacStrength=192;Qf.padLength=64;Qf.prototype._digest=function(e){return e==="hex"?x4.toHex32(this.h.slice(0,7),"big"):x4.split32(this.h.slice(0,7),"big")}});var E4=M((gFe,kT)=>{"use strict";var Cs=fa(),Wce=td(),Zce=ln(),Va=Cs.rotr64_hi,Ha=Cs.rotr64_lo,AT=Cs.shr64_hi,IT=Cs.shr64_lo,Q0=Cs.sum64,w4=Cs.sum64_hi,_4=Cs.sum64_lo,Jce=Cs.sum64_4_hi,Xce=Cs.sum64_4_lo,Qce=Cs.sum64_5_hi,eue=Cs.sum64_5_lo,TT=Wce.BlockHash,tue=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ua(){if(!(this instanceof ua))return new ua;TT.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=tue,this.W=new Array(160)}Cs.inherits(ua,TT);kT.exports=ua;ua.blockSize=1024;ua.outSize=512;ua.hmacStrength=192;ua.padLength=128;ua.prototype._prepareBlock=function(e,t){for(var i=this.W,n=0;n<32;n++)i[n]=e[t+n];for(;n<i.length;n+=2){var s=due(i[n-4],i[n-3]),o=hue(i[n-4],i[n-3]),a=i[n-14],f=i[n-13],c=uue(i[n-30],i[n-29]),l=lue(i[n-30],i[n-29]),h=i[n-32],x=i[n-31];i[n]=Jce(s,o,a,f,c,l,h,x),i[n+1]=Xce(s,o,a,f,c,l,h,x)}};ua.prototype._update=function(e,t){this._prepareBlock(e,t);var i=this.W,n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4],c=this.h[5],l=this.h[6],h=this.h[7],x=this.h[8],_=this.h[9],E=this.h[10],C=this.h[11],L=this.h[12],O=this.h[13],W=this.h[14],ee=this.h[15];Zce(this.k.length===i.length);for(var N=0;N<i.length;N+=2){var V=W,z=ee,F=fue(x,_),H=cue(x,_),K=rue(x,_,E,C,L,O),S=iue(x,_,E,C,L,O),w=this.k[N],T=this.k[N+1],v=i[N],u=i[N+1],d=Qce(V,z,F,H,K,S,w,T,v,u),y=eue(V,z,F,H,K,S,w,T,v,u);V=oue(n,s),z=aue(n,s),F=nue(n,s,o,a,f,c),H=sue(n,s,o,a,f,c);var g=w4(V,z,F,H),m=_4(V,z,F,H);W=L,ee=O,L=E,O=C,E=x,C=_,x=w4(l,h,d,y),_=_4(h,h,d,y),l=f,h=c,f=o,c=a,o=n,a=s,n=w4(d,y,g,m),s=_4(d,y,g,m)}Q0(this.h,0,n,s),Q0(this.h,2,o,a),Q0(this.h,4,f,c),Q0(this.h,6,l,h),Q0(this.h,8,x,_),Q0(this.h,10,E,C),Q0(this.h,12,L,O),Q0(this.h,14,W,ee)};ua.prototype._digest=function(e){return e==="hex"?Cs.toHex32(this.h,"big"):Cs.split32(this.h,"big")};function rue(r,e,t,i,n){var s=r&t^~r&n;return s<0&&(s+=4294967296),s}function iue(r,e,t,i,n,s){var o=e&i^~e&s;return o<0&&(o+=4294967296),o}function nue(r,e,t,i,n){var s=r&t^r&n^t&n;return s<0&&(s+=4294967296),s}function sue(r,e,t,i,n,s){var o=e&i^e&s^i&s;return o<0&&(o+=4294967296),o}function oue(r,e){var t=Va(r,e,28),i=Va(e,r,2),n=Va(e,r,7),s=t^i^n;return s<0&&(s+=4294967296),s}function aue(r,e){var t=Ha(r,e,28),i=Ha(e,r,2),n=Ha(e,r,7),s=t^i^n;return s<0&&(s+=4294967296),s}function fue(r,e){var t=Va(r,e,14),i=Va(r,e,18),n=Va(e,r,9),s=t^i^n;return s<0&&(s+=4294967296),s}function cue(r,e){var t=Ha(r,e,14),i=Ha(r,e,18),n=Ha(e,r,9),s=t^i^n;return s<0&&(s+=4294967296),s}function uue(r,e){var t=Va(r,e,1),i=Va(r,e,8),n=AT(r,e,7),s=t^i^n;return s<0&&(s+=4294967296),s}function lue(r,e){var t=Ha(r,e,1),i=Ha(r,e,8),n=IT(r,e,7),s=t^i^n;return s<0&&(s+=4294967296),s}function due(r,e){var t=Va(r,e,19),i=Va(e,r,29),n=AT(r,e,6),s=t^i^n;return s<0&&(s+=4294967296),s}function hue(r,e){var t=Ha(r,e,19),i=Ha(e,r,29),n=IT(r,e,6),s=t^i^n;return s<0&&(s+=4294967296),s}});var MT=M((vFe,BT)=>{"use strict";var S4=fa(),CT=E4();function e0(){if(!(this instanceof e0))return new e0;CT.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}S4.inherits(e0,CT);BT.exports=e0;e0.blockSize=1024;e0.outSize=384;e0.hmacStrength=192;e0.padLength=128;e0.prototype._digest=function(e){return e==="hex"?S4.toHex32(this.h.slice(0,12),"big"):S4.split32(this.h.slice(0,12),"big")}});var RT=M(sd=>{"use strict";sd.sha1=vT();sd.sha224=ST();sd.sha256=v4();sd.sha384=MT();sd.sha512=E4()});var LT=M(DT=>{"use strict";var nu=fa(),pue=td(),J6=nu.rotl32,NT=nu.sum32,Mp=nu.sum32_3,PT=nu.sum32_4,qT=pue.BlockHash;function $a(){if(!(this instanceof $a))return new $a;qT.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}nu.inherits($a,qT);DT.ripemd160=$a;$a.blockSize=512;$a.outSize=160;$a.hmacStrength=192;$a.padLength=64;$a.prototype._update=function(e,t){for(var i=this.h[0],n=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],f=i,c=n,l=s,h=o,x=a,_=0;_<80;_++){var E=NT(J6(PT(i,OT(_,n,s,o),e[mue[_]+t],bue(_)),vue[_]),a);i=a,a=o,o=J6(s,10),s=n,n=E,E=NT(J6(PT(f,OT(79-_,c,l,h),e[gue[_]+t],yue(_)),xue[_]),x),f=x,x=h,h=J6(l,10),l=c,c=E}E=Mp(this.h[1],s,h),this.h[1]=Mp(this.h[2],o,x),this.h[2]=Mp(this.h[3],a,f),this.h[3]=Mp(this.h[4],i,c),this.h[4]=Mp(this.h[0],n,l),this.h[0]=E};$a.prototype._digest=function(e){return e==="hex"?nu.toHex32(this.h,"little"):nu.split32(this.h,"little")};function OT(r,e,t,i){return r<=15?e^t^i:r<=31?e&t|~e&i:r<=47?(e|~t)^i:r<=63?e&i|t&~i:e^(t|~i)}function bue(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function yue(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var mue=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],gue=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],vue=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],xue=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var FT=M((_Fe,UT)=>{"use strict";var wue=fa(),_ue=ln();function od(r,e,t){if(!(this instanceof od))return new od(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(wue.toArray(e,t))}UT.exports=od;od.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),_ue(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};od.prototype.update=function(e,t){return this.inner.update(e,t),this};od.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var Rp=M(KT=>{var Pn=KT;Pn.utils=fa();Pn.common=td();Pn.sha=RT();Pn.ripemd=LT();Pn.hmac=FT();Pn.sha1=Pn.sha.sha1;Pn.sha256=Pn.sha.sha256;Pn.sha224=Pn.sha.sha224;Pn.sha384=Pn.sha.sha384;Pn.sha512=Pn.sha.sha512;Pn.ripemd160=Pn.ripemd.ripemd160});var da=M(Zr=>{"use strict";var Uue=ln(),Fue=dr();Zr.inherits=Fue;function Kue(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!=0&&(r="0"+r),i=0;i<r.length;i+=2)t.push(parseInt(r[i]+r[i+1],16))}else for(var i=0;i<r.length;i++){var n=r.charCodeAt(i),s=n>>8,o=n&255;s?t.push(s,o):t.push(o)}else for(i=0;i<r.length;i++)t[i]=r[i]|0;return t}Zr.toArray=Kue;function zue(r){for(var e="",t=0;t<r.length;t++)e+=fk(r[t].toString(16));return e}Zr.toHex=zue;function ak(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}Zr.htonl=ak;function jue(r,e){for(var t="",i=0;i<r.length;i++){var n=r[i];e==="little"&&(n=ak(n)),t+=ck(n.toString(16))}return t}Zr.toHex32=jue;function fk(r){return r.length===1?"0"+r:r}Zr.zero2=fk;function ck(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}Zr.zero8=ck;function Vue(r,e,t,i){var n=t-e;Uue(n%4==0);for(var s=new Array(n/4),o=0,a=e;o<s.length;o++,a+=4){var f;i==="big"?f=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:f=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],s[o]=f>>>0}return s}Zr.join32=Vue;function Hue(r,e){for(var t=new Array(r.length*4),i=0,n=0;i<r.length;i++,n+=4){var s=r[i];e==="big"?(t[n]=s>>>24,t[n+1]=s>>>16&255,t[n+2]=s>>>8&255,t[n+3]=s&255):(t[n+3]=s>>>24,t[n+2]=s>>>16&255,t[n+1]=s>>>8&255,t[n]=s&255)}return t}Zr.split32=Hue;function $ue(r,e){return r>>>e|r<<32-e}Zr.rotr32=$ue;function Gue(r,e){return r<<e|r>>>32-e}Zr.rotl32=Gue;function Yue(r,e){return r+e>>>0}Zr.sum32=Yue;function Wue(r,e,t){return r+e+t>>>0}Zr.sum32_3=Wue;function Zue(r,e,t,i){return r+e+t+i>>>0}Zr.sum32_4=Zue;function Jue(r,e,t,i,n){return r+e+t+i+n>>>0}Zr.sum32_5=Jue;function Xue(r,e,t,i){var n=r[e],s=r[e+1],o=i+s>>>0,a=(o<i?1:0)+t+n;r[e]=a>>>0,r[e+1]=o}Zr.sum64=Xue;function Que(r,e,t,i){var n=e+i>>>0,s=(n<e?1:0)+r+t;return s>>>0}Zr.sum64_hi=Que;function ele(r,e,t,i){var n=e+i;return n>>>0}Zr.sum64_lo=ele;function tle(r,e,t,i,n,s,o,a){var f=0,c=e;c=c+i>>>0,f+=c<e?1:0,c=c+s>>>0,f+=c<s?1:0,c=c+a>>>0,f+=c<a?1:0;var l=r+t+n+o+f;return l>>>0}Zr.sum64_4_hi=tle;function rle(r,e,t,i,n,s,o,a){var f=e+i+s+a;return f>>>0}Zr.sum64_4_lo=rle;function ile(r,e,t,i,n,s,o,a,f,c){var l=0,h=e;h=h+i>>>0,l+=h<e?1:0,h=h+s>>>0,l+=h<s?1:0,h=h+a>>>0,l+=h<a?1:0,h=h+c>>>0,l+=h<c?1:0;var x=r+t+n+o+f+l;return x>>>0}Zr.sum64_5_hi=ile;function nle(r,e,t,i,n,s,o,a,f,c){var l=e+i+s+a+c;return l>>>0}Zr.sum64_5_lo=nle;function sle(r,e,t){var i=e<<32-t|r>>>t;return i>>>0}Zr.rotr64_hi=sle;function ole(r,e,t){var i=r<<32-t|e>>>t;return i>>>0}Zr.rotr64_lo=ole;function ale(r,e,t){return r>>>t}Zr.shr64_hi=ale;function fle(r,e,t){var i=r<<32-t|e>>>t;return i>>>0}Zr.shr64_lo=fle});var ud=M(lk=>{"use strict";var uk=da(),cle=ln();function cy(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}lk.BlockHash=cy;cy.prototype.update=function(e,t){if(e=uk.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=uk.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};cy.prototype.digest=function(e){return this.update(this._pad()),cle(this.pending===null),this._digest(e)};cy.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,n=new Array(i+this.padLength);n[0]=128;for(var s=1;s<i;s++)n[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)n[s++]=0;n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=e>>>24&255,n[s++]=e>>>16&255,n[s++]=e>>>8&255,n[s++]=e&255}else for(n[s++]=e&255,n[s++]=e>>>8&255,n[s++]=e>>>16&255,n[s++]=e>>>24&255,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,o=8;o<this.padLength;o++)n[s++]=0;return n}});var L4=M(t0=>{"use strict";var ule=da(),Za=ule.rotr32;function lle(r,e,t,i){if(r===0)return dk(e,t,i);if(r===1||r===3)return pk(e,t,i);if(r===2)return hk(e,t,i)}t0.ft_1=lle;function dk(r,e,t){return r&e^~r&t}t0.ch32=dk;function hk(r,e,t){return r&e^r&t^e&t}t0.maj32=hk;function pk(r,e,t){return r^e^t}t0.p32=pk;function dle(r){return Za(r,2)^Za(r,13)^Za(r,22)}t0.s0_256=dle;function hle(r){return Za(r,6)^Za(r,11)^Za(r,25)}t0.s1_256=hle;function ple(r){return Za(r,7)^Za(r,18)^r>>>3}t0.g0_256=ple;function ble(r){return Za(r,17)^Za(r,19)^r>>>10}t0.g1_256=ble});var mk=M((cKe,yk)=>{"use strict";var ld=da(),yle=ud(),mle=L4(),U4=ld.rotl32,Np=ld.sum32,gle=ld.sum32_5,vle=mle.ft_1,bk=yle.BlockHash,xle=[1518500249,1859775393,2400959708,3395469782];function Ja(){if(!(this instanceof Ja))return new Ja;bk.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ld.inherits(Ja,bk);yk.exports=Ja;Ja.blockSize=512;Ja.outSize=160;Ja.hmacStrength=80;Ja.padLength=64;Ja.prototype._update=function(e,t){for(var i=this.W,n=0;n<16;n++)i[n]=e[t+n];for(;n<i.length;n++)i[n]=U4(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4];for(n=0;n<i.length;n++){var l=~~(n/20),h=gle(U4(s,5),vle(l,o,a,f),c,i[n],xle[l]);c=f,f=a,a=U4(o,30),o=s,s=h}this.h[0]=Np(this.h[0],s),this.h[1]=Np(this.h[1],o),this.h[2]=Np(this.h[2],a),this.h[3]=Np(this.h[3],f),this.h[4]=Np(this.h[4],c)};Ja.prototype._digest=function(e){return e==="hex"?ld.toHex32(this.h,"big"):ld.split32(this.h,"big")}});var F4=M((uKe,vk)=>{"use strict";var dd=da(),wle=ud(),hd=L4(),_le=ln(),ha=dd.sum32,Ele=dd.sum32_4,Sle=dd.sum32_5,Ale=hd.ch32,Ile=hd.maj32,Tle=hd.s0_256,kle=hd.s1_256,Cle=hd.g0_256,Ble=hd.g1_256,gk=wle.BlockHash,Mle=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Xa(){if(!(this instanceof Xa))return new Xa;gk.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Mle,this.W=new Array(64)}dd.inherits(Xa,gk);vk.exports=Xa;Xa.blockSize=512;Xa.outSize=256;Xa.hmacStrength=192;Xa.padLength=64;Xa.prototype._update=function(e,t){for(var i=this.W,n=0;n<16;n++)i[n]=e[t+n];for(;n<i.length;n++)i[n]=Ele(Ble(i[n-2]),i[n-7],Cle(i[n-15]),i[n-16]);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4],l=this.h[5],h=this.h[6],x=this.h[7];for(_le(this.k.length===i.length),n=0;n<i.length;n++){var _=Sle(x,kle(c),Ale(c,l,h),this.k[n],i[n]),E=ha(Tle(s),Ile(s,o,a));x=h,h=l,l=c,c=ha(f,_),f=a,a=o,o=s,s=ha(_,E)}this.h[0]=ha(this.h[0],s),this.h[1]=ha(this.h[1],o),this.h[2]=ha(this.h[2],a),this.h[3]=ha(this.h[3],f),this.h[4]=ha(this.h[4],c),this.h[5]=ha(this.h[5],l),this.h[6]=ha(this.h[6],h),this.h[7]=ha(this.h[7],x)};Xa.prototype._digest=function(e){return e==="hex"?dd.toHex32(this.h,"big"):dd.split32(this.h,"big")}});var _k=M((lKe,wk)=>{"use strict";var K4=da(),xk=F4();function r0(){if(!(this instanceof r0))return new r0;xk.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}K4.inherits(r0,xk);wk.exports=r0;r0.blockSize=512;r0.outSize=224;r0.hmacStrength=192;r0.padLength=64;r0.prototype._digest=function(e){return e==="hex"?K4.toHex32(this.h.slice(0,7),"big"):K4.split32(this.h.slice(0,7),"big")}});var V4=M((dKe,Ik)=>{"use strict";var Bs=da(),Rle=ud(),Nle=ln(),Qa=Bs.rotr64_hi,ef=Bs.rotr64_lo,Ek=Bs.shr64_hi,Sk=Bs.shr64_lo,ic=Bs.sum64,z4=Bs.sum64_hi,j4=Bs.sum64_lo,Ple=Bs.sum64_4_hi,qle=Bs.sum64_4_lo,Ole=Bs.sum64_5_hi,Dle=Bs.sum64_5_lo,Ak=Rle.BlockHash,Lle=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function pa(){if(!(this instanceof pa))return new pa;Ak.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Lle,this.W=new Array(160)}Bs.inherits(pa,Ak);Ik.exports=pa;pa.blockSize=1024;pa.outSize=512;pa.hmacStrength=192;pa.padLength=128;pa.prototype._prepareBlock=function(e,t){for(var i=this.W,n=0;n<32;n++)i[n]=e[t+n];for(;n<i.length;n+=2){var s=Wle(i[n-4],i[n-3]),o=Zle(i[n-4],i[n-3]),a=i[n-14],f=i[n-13],c=Gle(i[n-30],i[n-29]),l=Yle(i[n-30],i[n-29]),h=i[n-32],x=i[n-31];i[n]=Ple(s,o,a,f,c,l,h,x),i[n+1]=qle(s,o,a,f,c,l,h,x)}};pa.prototype._update=function(e,t){this._prepareBlock(e,t);var i=this.W,n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4],c=this.h[5],l=this.h[6],h=this.h[7],x=this.h[8],_=this.h[9],E=this.h[10],C=this.h[11],L=this.h[12],O=this.h[13],W=this.h[14],ee=this.h[15];Nle(this.k.length===i.length);for(var N=0;N<i.length;N+=2){var V=W,z=ee,F=Hle(x,_),H=$le(x,_),K=Ule(x,_,E,C,L,O),S=Fle(x,_,E,C,L,O),w=this.k[N],T=this.k[N+1],v=i[N],u=i[N+1],d=Ole(V,z,F,H,K,S,w,T,v,u),y=Dle(V,z,F,H,K,S,w,T,v,u);V=jle(n,s),z=Vle(n,s),F=Kle(n,s,o,a,f,c),H=zle(n,s,o,a,f,c);var g=z4(V,z,F,H),m=j4(V,z,F,H);W=L,ee=O,L=E,O=C,E=x,C=_,x=z4(l,h,d,y),_=j4(h,h,d,y),l=f,h=c,f=o,c=a,o=n,a=s,n=z4(d,y,g,m),s=j4(d,y,g,m)}ic(this.h,0,n,s),ic(this.h,2,o,a),ic(this.h,4,f,c),ic(this.h,6,l,h),ic(this.h,8,x,_),ic(this.h,10,E,C),ic(this.h,12,L,O),ic(this.h,14,W,ee)};pa.prototype._digest=function(e){return e==="hex"?Bs.toHex32(this.h,"big"):Bs.split32(this.h,"big")};function Ule(r,e,t,i,n){var s=r&t^~r&n;return s<0&&(s+=4294967296),s}function Fle(r,e,t,i,n,s){var o=e&i^~e&s;return o<0&&(o+=4294967296),o}function Kle(r,e,t,i,n){var s=r&t^r&n^t&n;return s<0&&(s+=4294967296),s}function zle(r,e,t,i,n,s){var o=e&i^e&s^i&s;return o<0&&(o+=4294967296),o}function jle(r,e){var t=Qa(r,e,28),i=Qa(e,r,2),n=Qa(e,r,7),s=t^i^n;return s<0&&(s+=4294967296),s}function Vle(r,e){var t=ef(r,e,28),i=ef(e,r,2),n=ef(e,r,7),s=t^i^n;return s<0&&(s+=4294967296),s}function Hle(r,e){var t=Qa(r,e,14),i=Qa(r,e,18),n=Qa(e,r,9),s=t^i^n;return s<0&&(s+=4294967296),s}function $le(r,e){var t=ef(r,e,14),i=ef(r,e,18),n=ef(e,r,9),s=t^i^n;return s<0&&(s+=4294967296),s}function Gle(r,e){var t=Qa(r,e,1),i=Qa(r,e,8),n=Ek(r,e,7),s=t^i^n;return s<0&&(s+=4294967296),s}function Yle(r,e){var t=ef(r,e,1),i=ef(r,e,8),n=Sk(r,e,7),s=t^i^n;return s<0&&(s+=4294967296),s}function Wle(r,e){var t=Qa(r,e,19),i=Qa(e,r,29),n=Ek(r,e,6),s=t^i^n;return s<0&&(s+=4294967296),s}function Zle(r,e){var t=ef(r,e,19),i=ef(e,r,29),n=Sk(r,e,6),s=t^i^n;return s<0&&(s+=4294967296),s}});var Ck=M((hKe,kk)=>{"use strict";var H4=da(),Tk=V4();function i0(){if(!(this instanceof i0))return new i0;Tk.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}H4.inherits(i0,Tk);kk.exports=i0;i0.blockSize=1024;i0.outSize=384;i0.hmacStrength=192;i0.padLength=128;i0.prototype._digest=function(e){return e==="hex"?H4.toHex32(this.h.slice(0,12),"big"):H4.split32(this.h.slice(0,12),"big")}});var Bk=M(pd=>{"use strict";pd.sha1=mk();pd.sha224=_k();pd.sha256=F4();pd.sha384=Ck();pd.sha512=V4()});var Ok=M(qk=>{"use strict";var fu=da(),Jle=ud(),uy=fu.rotl32,Mk=fu.sum32,Pp=fu.sum32_3,Rk=fu.sum32_4,Nk=Jle.BlockHash;function tf(){if(!(this instanceof tf))return new tf;Nk.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}fu.inherits(tf,Nk);qk.ripemd160=tf;tf.blockSize=512;tf.outSize=160;tf.hmacStrength=192;tf.padLength=64;tf.prototype._update=function(e,t){for(var i=this.h[0],n=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],f=i,c=n,l=s,h=o,x=a,_=0;_<80;_++){var E=Mk(uy(Rk(i,Pk(_,n,s,o),e[ede[_]+t],Xle(_)),rde[_]),a);i=a,a=o,o=uy(s,10),s=n,n=E,E=Mk(uy(Rk(f,Pk(79-_,c,l,h),e[tde[_]+t],Qle(_)),ide[_]),x),f=x,x=h,h=uy(l,10),l=c,c=E}E=Pp(this.h[1],s,h),this.h[1]=Pp(this.h[2],o,x),this.h[2]=Pp(this.h[3],a,f),this.h[3]=Pp(this.h[4],i,c),this.h[4]=Pp(this.h[0],n,l),this.h[0]=E};tf.prototype._digest=function(e){return e==="hex"?fu.toHex32(this.h,"little"):fu.split32(this.h,"little")};function Pk(r,e,t,i){return r<=15?e^t^i:r<=31?e&t|~e&i:r<=47?(e|~t)^i:r<=63?e&i|t&~i:e^(t|~i)}function Xle(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function Qle(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var ede=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],tde=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],rde=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ide=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Lk=M((yKe,Dk)=>{"use strict";var nde=da(),sde=ln();function bd(r,e,t){if(!(this instanceof bd))return new bd(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(nde.toArray(e,t))}Dk.exports=bd;bd.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),sde(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};bd.prototype.update=function(e,t){return this.inner.update(e,t),this};bd.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var Fk=M(Uk=>{var On=Uk;On.utils=da();On.common=ud();On.sha=Bk();On.ripemd=Ok();On.hmac=Lk();On.sha1=On.sha.sha1;On.sha256=On.sha.sha256;On.sha224=On.sha.sha224;On.sha384=On.sha.sha384;On.sha512=On.sha.sha512;On.ripemd160=On.ripemd.ripemd160});var nC=M((ize,iC)=>{"use strict";var py="qpzry9x8gf2tvdw0s3jn54khce6mua7l",G4={};for(var by=0;by<py.length;by++){if(yy=py.charAt(by),G4[yy]!==void 0)throw new TypeError(yy+" is ambiguous");G4[yy]=by}var yy;function md(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function tC(r){for(var e=1,t=0;t<r.length;++t){var i=r.charCodeAt(t);if(i<33||i>126)return"Invalid prefix ("+r+")";e=md(e)^i>>5}for(e=md(e),t=0;t<r.length;++t){var n=r.charCodeAt(t);e=md(e)^n&31}return e}function ude(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var i=tC(r);if(typeof i=="string")throw new Error(i);for(var n=r+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5!=0)throw new Error("Non 5-bit word");i=md(i)^o,n+=py.charAt(o)}for(s=0;s<6;++s)i=md(i);for(i^=1,s=0;s<6;++s){var a=i>>(5-s)*5&31;n+=py.charAt(a)}return n}function rC(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),i=r.toUpperCase();if(r!==t&&r!==i)return"Mixed-case string "+r;r=t;var n=r.lastIndexOf("1");if(n===-1)return"No separator character for "+r;if(n===0)return"Missing prefix for "+r;var s=r.slice(0,n),o=r.slice(n+1);if(o.length<6)return"Data too short";var a=tC(s);if(typeof a=="string")return a;for(var f=[],c=0;c<o.length;++c){var l=o.charAt(c),h=G4[l];if(h===void 0)return"Unknown character "+l;a=md(a)^h,!(c+6>=o.length)&&f.push(h)}return a!==1?"Invalid checksum for "+r:{prefix:s,words:f}}function lde(){var r=rC.apply(null,arguments);if(typeof r=="object")return r}function dde(r){var e=rC.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function my(r,e,t,i){for(var n=0,s=0,o=(1<<t)-1,a=[],f=0;f<r.length;++f)for(n=n<<e|r[f],s+=e;s>=t;)s-=t,a.push(n>>s&o);if(i)s>0&&a.push(n<<t-s&o);else{if(s>=e)return"Excess padding";if(n<<t-s&o)return"Non-zero padding"}return a}function hde(r){var e=my(r,8,5,!0);if(Array.isArray(e))return e}function pde(r){var e=my(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function bde(r){var e=my(r,5,8,!1);if(Array.isArray(e))return e}function yde(r){var e=my(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}iC.exports={decodeUnsafe:lde,decode:dde,encode:ude,toWordsUnsafe:hde,toWords:pde,fromWordsUnsafe:bde,fromWords:yde}});var yC=M((Jze,bC)=>{"use strict";function Ide({mustBeMetaMask:r=!1,silent:e=!1,timeout:t=3e3}={}){n();let i=!1;return new Promise(s=>{window.ethereum?o():(window.addEventListener("ethereum#initialized",o,{once:!0}),setTimeout(()=>{o()},t));function o(){if(i)return;i=!0,window.removeEventListener("ethereum#initialized",o);let{ethereum:a}=window;a&&(!r||a.isMetaMask)?s(a):(!e&&console.error("@metamask/detect-provider:",r&&a?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum."),s(null))}});function n(){if(typeof r!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof e!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof t!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}bC.exports=Ide});var vy=M((Xze,gy)=>{(function(){"use strict";var r="input is invalid type",e="finalize already called",t=typeof window=="object",i=t?window:{};i.JS_SHA3_NO_WINDOW&&(t=!1);var n=!t&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=global:n&&(i=self);var o=!i.JS_SHA3_NO_COMMON_JS&&typeof gy=="object"&&gy.exports,a=typeof define=="function"&&define.amd,f=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",c="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],x=[1,256,65536,16777216],_=[6,1536,393216,100663296],E=[0,8,16,24],C=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],L=[224,256,384,512],O=[128,256],W=["hex","buffer","arrayBuffer","array","digest"],ee={"128":168,"256":136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(R){return Object.prototype.toString.call(R)==="[object Array]"}),f&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(R){return typeof R=="object"&&R.buffer&&R.buffer.constructor===ArrayBuffer});for(var N=function(R,fe,se){return function(U){return new p(R,fe,R).update(U)[se]()}},V=function(R,fe,se){return function(U,Z){return new p(R,fe,Z).update(U)[se]()}},z=function(R,fe,se){return function(U,Z,j,J){return u["cshake"+R].update(U,Z,j,J)[se]()}},F=function(R,fe,se){return function(U,Z,j,J){return u["kmac"+R].update(U,Z,j,J)[se]()}},H=function(R,fe,se,U){for(var Z=0;Z<W.length;++Z){var j=W[Z];R[j]=fe(se,U,j)}return R},K=function(R,fe){var se=N(R,fe,"hex");return se.create=function(){return new p(R,fe,R)},se.update=function(U){return se.create().update(U)},H(se,N,R,fe)},S=function(R,fe){var se=V(R,fe,"hex");return se.create=function(U){return new p(R,fe,U)},se.update=function(U,Z){return se.create(Z).update(U)},H(se,V,R,fe)},w=function(R,fe){var se=ee[R],U=z(R,fe,"hex");return U.create=function(Z,j,J){return!j&&!J?u["shake"+R].create(Z):new p(R,fe,Z).bytepad([j,J],se)},U.update=function(Z,j,J,k){return U.create(j,J,k).update(Z)},H(U,z,R,fe)},T=function(R,fe){var se=ee[R],U=F(R,fe,"hex");return U.create=function(Z,j,J){return new B(R,fe,j).bytepad(["KMAC",J],se).bytepad([Z],se)},U.update=function(Z,j,J,k){return U.create(Z,J,k).update(j)},H(U,F,R,fe)},v=[{name:"keccak",padding:x,bits:L,createMethod:K},{name:"sha3",padding:_,bits:L,createMethod:K},{name:"shake",padding:l,bits:O,createMethod:S},{name:"cshake",padding:h,bits:O,createMethod:w},{name:"kmac",padding:h,bits:O,createMethod:T}],u={},d=[],y=0;y<v.length;++y)for(var g=v[y],m=g.bits,b=0;b<m.length;++b){var A=g.name+"_"+m[b];if(d.push(A),u[A]=g.createMethod(m[b],g.padding),g.name!=="sha3"){var I=g.name+m[b];d.push(I),u[I]=u[A]}}function p(R,fe,se){this.blocks=[],this.s=[],this.padding=fe,this.outputBits=se,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(R<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=se>>5,this.extraBytes=(se&31)>>3;for(var U=0;U<50;++U)this.s[U]=0}p.prototype.update=function(R){if(this.finalized)throw new Error(e);var fe,se=typeof R;if(se!=="string"){if(se==="object"){if(R===null)throw new Error(r);if(f&&R.constructor===ArrayBuffer)R=new Uint8Array(R);else if(!Array.isArray(R)&&(!f||!ArrayBuffer.isView(R)))throw new Error(r)}else throw new Error(r);fe=!0}for(var U=this.blocks,Z=this.byteCount,j=R.length,J=this.blockCount,k=0,$=this.s,X,Y;k<j;){if(this.reset)for(this.reset=!1,U[0]=this.block,X=1;X<J+1;++X)U[X]=0;if(fe)for(X=this.start;k<j&&X<Z;++k)U[X>>2]|=R[k]<<E[X++&3];else for(X=this.start;k<j&&X<Z;++k)Y=R.charCodeAt(k),Y<128?U[X>>2]|=Y<<E[X++&3]:Y<2048?(U[X>>2]|=(192|Y>>6)<<E[X++&3],U[X>>2]|=(128|Y&63)<<E[X++&3]):Y<55296||Y>=57344?(U[X>>2]|=(224|Y>>12)<<E[X++&3],U[X>>2]|=(128|Y>>6&63)<<E[X++&3],U[X>>2]|=(128|Y&63)<<E[X++&3]):(Y=65536+((Y&1023)<<10|R.charCodeAt(++k)&1023),U[X>>2]|=(240|Y>>18)<<E[X++&3],U[X>>2]|=(128|Y>>12&63)<<E[X++&3],U[X>>2]|=(128|Y>>6&63)<<E[X++&3],U[X>>2]|=(128|Y&63)<<E[X++&3]);if(this.lastByteIndex=X,X>=Z){for(this.start=X-Z,this.block=U[J],X=0;X<J;++X)$[X]^=U[X];ce($),this.reset=!0}else this.start=X}return this},p.prototype.encode=function(R,fe){var se=R&255,U=1,Z=[se];for(R=R>>8,se=R&255;se>0;)Z.unshift(se),R=R>>8,se=R&255,++U;return fe?Z.push(U):Z.unshift(U),this.update(Z),Z.length},p.prototype.encodeString=function(R){var fe,se=typeof R;if(se!=="string"){if(se==="object"){if(R===null)throw new Error(r);if(f&&R.constructor===ArrayBuffer)R=new Uint8Array(R);else if(!Array.isArray(R)&&(!f||!ArrayBuffer.isView(R)))throw new Error(r)}else throw new Error(r);fe=!0}var U=0,Z=R.length;if(fe)U=Z;else for(var j=0;j<R.length;++j){var J=R.charCodeAt(j);J<128?U+=1:J<2048?U+=2:J<55296||J>=57344?U+=3:(J=65536+((J&1023)<<10|R.charCodeAt(++j)&1023),U+=4)}return U+=this.encode(U*8),this.update(R),U},p.prototype.bytepad=function(R,fe){for(var se=this.encode(fe),U=0;U<R.length;++U)se+=this.encodeString(R[U]);var Z=fe-se%fe,j=[];return j.length=Z,this.update(j),this},p.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var R=this.blocks,fe=this.lastByteIndex,se=this.blockCount,U=this.s;if(R[fe>>2]|=this.padding[fe&3],this.lastByteIndex===this.byteCount)for(R[0]=R[se],fe=1;fe<se+1;++fe)R[fe]=0;for(R[se-1]|=2147483648,fe=0;fe<se;++fe)U[fe]^=R[fe];ce(U)}},p.prototype.toString=p.prototype.hex=function(){this.finalize();for(var R=this.blockCount,fe=this.s,se=this.outputBlocks,U=this.extraBytes,Z=0,j=0,J="",k;j<se;){for(Z=0;Z<R&&j<se;++Z,++j)k=fe[Z],J+=c[k>>4&15]+c[k&15]+c[k>>12&15]+c[k>>8&15]+c[k>>20&15]+c[k>>16&15]+c[k>>28&15]+c[k>>24&15];j%R==0&&(ce(fe),Z=0)}return U&&(k=fe[Z],J+=c[k>>4&15]+c[k&15],U>1&&(J+=c[k>>12&15]+c[k>>8&15]),U>2&&(J+=c[k>>20&15]+c[k>>16&15])),J},p.prototype.arrayBuffer=function(){this.finalize();var R=this.blockCount,fe=this.s,se=this.outputBlocks,U=this.extraBytes,Z=0,j=0,J=this.outputBits>>3,k;U?k=new ArrayBuffer(se+1<<2):k=new ArrayBuffer(J);for(var $=new Uint32Array(k);j<se;){for(Z=0;Z<R&&j<se;++Z,++j)$[j]=fe[Z];j%R==0&&ce(fe)}return U&&($[Z]=fe[Z],k=k.slice(0,J)),k},p.prototype.buffer=p.prototype.arrayBuffer,p.prototype.digest=p.prototype.array=function(){this.finalize();for(var R=this.blockCount,fe=this.s,se=this.outputBlocks,U=this.extraBytes,Z=0,j=0,J=[],k,$;j<se;){for(Z=0;Z<R&&j<se;++Z,++j)k=j<<2,$=fe[Z],J[k]=$&255,J[k+1]=$>>8&255,J[k+2]=$>>16&255,J[k+3]=$>>24&255;j%R==0&&ce(fe)}return U&&(k=j<<2,$=fe[Z],J[k]=$&255,U>1&&(J[k+1]=$>>8&255),U>2&&(J[k+2]=$>>16&255)),J};function B(R,fe,se){p.call(this,R,fe,se)}B.prototype=new p,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),p.prototype.finalize.call(this)};var ce=function(R){var fe,se,U,Z,j,J,k,$,X,Y,ve,ue,ge,xe,we,Me,pe,be,D,_e,de,ie,Re,Ae,Ce,me,q,le,ft,Oe,Je,Tt,it,pt,vr,vt,xt,Sr,lt,dt,Mr,ht,wt,ri,at,_t,G,re,te,P,oe,Ee,Ne,Be,Pe,Et,Xe,bt,yt,Dt,Lt,Ot,Ft;for(U=0;U<48;U+=2)Z=R[0]^R[10]^R[20]^R[30]^R[40],j=R[1]^R[11]^R[21]^R[31]^R[41],J=R[2]^R[12]^R[22]^R[32]^R[42],k=R[3]^R[13]^R[23]^R[33]^R[43],$=R[4]^R[14]^R[24]^R[34]^R[44],X=R[5]^R[15]^R[25]^R[35]^R[45],Y=R[6]^R[16]^R[26]^R[36]^R[46],ve=R[7]^R[17]^R[27]^R[37]^R[47],ue=R[8]^R[18]^R[28]^R[38]^R[48],ge=R[9]^R[19]^R[29]^R[39]^R[49],fe=ue^(J<<1|k>>>31),se=ge^(k<<1|J>>>31),R[0]^=fe,R[1]^=se,R[10]^=fe,R[11]^=se,R[20]^=fe,R[21]^=se,R[30]^=fe,R[31]^=se,R[40]^=fe,R[41]^=se,fe=Z^($<<1|X>>>31),se=j^(X<<1|$>>>31),R[2]^=fe,R[3]^=se,R[12]^=fe,R[13]^=se,R[22]^=fe,R[23]^=se,R[32]^=fe,R[33]^=se,R[42]^=fe,R[43]^=se,fe=J^(Y<<1|ve>>>31),se=k^(ve<<1|Y>>>31),R[4]^=fe,R[5]^=se,R[14]^=fe,R[15]^=se,R[24]^=fe,R[25]^=se,R[34]^=fe,R[35]^=se,R[44]^=fe,R[45]^=se,fe=$^(ue<<1|ge>>>31),se=X^(ge<<1|ue>>>31),R[6]^=fe,R[7]^=se,R[16]^=fe,R[17]^=se,R[26]^=fe,R[27]^=se,R[36]^=fe,R[37]^=se,R[46]^=fe,R[47]^=se,fe=Y^(Z<<1|j>>>31),se=ve^(j<<1|Z>>>31),R[8]^=fe,R[9]^=se,R[18]^=fe,R[19]^=se,R[28]^=fe,R[29]^=se,R[38]^=fe,R[39]^=se,R[48]^=fe,R[49]^=se,xe=R[0],we=R[1],_t=R[11]<<4|R[10]>>>28,G=R[10]<<4|R[11]>>>28,le=R[20]<<3|R[21]>>>29,ft=R[21]<<3|R[20]>>>29,Dt=R[31]<<9|R[30]>>>23,Lt=R[30]<<9|R[31]>>>23,ht=R[40]<<18|R[41]>>>14,wt=R[41]<<18|R[40]>>>14,pt=R[2]<<1|R[3]>>>31,vr=R[3]<<1|R[2]>>>31,Me=R[13]<<12|R[12]>>>20,pe=R[12]<<12|R[13]>>>20,re=R[22]<<10|R[23]>>>22,te=R[23]<<10|R[22]>>>22,Oe=R[33]<<13|R[32]>>>19,Je=R[32]<<13|R[33]>>>19,Ot=R[42]<<2|R[43]>>>30,Ft=R[43]<<2|R[42]>>>30,Be=R[5]<<30|R[4]>>>2,Pe=R[4]<<30|R[5]>>>2,vt=R[14]<<6|R[15]>>>26,xt=R[15]<<6|R[14]>>>26,be=R[25]<<11|R[24]>>>21,D=R[24]<<11|R[25]>>>21,P=R[34]<<15|R[35]>>>17,oe=R[35]<<15|R[34]>>>17,Tt=R[45]<<29|R[44]>>>3,it=R[44]<<29|R[45]>>>3,Ae=R[6]<<28|R[7]>>>4,Ce=R[7]<<28|R[6]>>>4,Et=R[17]<<23|R[16]>>>9,Xe=R[16]<<23|R[17]>>>9,Sr=R[26]<<25|R[27]>>>7,lt=R[27]<<25|R[26]>>>7,_e=R[36]<<21|R[37]>>>11,de=R[37]<<21|R[36]>>>11,Ee=R[47]<<24|R[46]>>>8,Ne=R[46]<<24|R[47]>>>8,ri=R[8]<<27|R[9]>>>5,at=R[9]<<27|R[8]>>>5,me=R[18]<<20|R[19]>>>12,q=R[19]<<20|R[18]>>>12,bt=R[29]<<7|R[28]>>>25,yt=R[28]<<7|R[29]>>>25,dt=R[38]<<8|R[39]>>>24,Mr=R[39]<<8|R[38]>>>24,ie=R[48]<<14|R[49]>>>18,Re=R[49]<<14|R[48]>>>18,R[0]=xe^~Me&be,R[1]=we^~pe&D,R[10]=Ae^~me&le,R[11]=Ce^~q&ft,R[20]=pt^~vt&Sr,R[21]=vr^~xt&lt,R[30]=ri^~_t&re,R[31]=at^~G&te,R[40]=Be^~Et&bt,R[41]=Pe^~Xe&yt,R[2]=Me^~be&_e,R[3]=pe^~D&de,R[12]=me^~le&Oe,R[13]=q^~ft&Je,R[22]=vt^~Sr&dt,R[23]=xt^~lt&Mr,R[32]=_t^~re&P,R[33]=G^~te&oe,R[42]=Et^~bt&Dt,R[43]=Xe^~yt&Lt,R[4]=be^~_e&ie,R[5]=D^~de&Re,R[14]=le^~Oe&Tt,R[15]=ft^~Je&it,R[24]=Sr^~dt&ht,R[25]=lt^~Mr&wt,R[34]=re^~P&Ee,R[35]=te^~oe&Ne,R[44]=bt^~Dt&Ot,R[45]=yt^~Lt&Ft,R[6]=_e^~ie&xe,R[7]=de^~Re&we,R[16]=Oe^~Tt&Ae,R[17]=Je^~it&Ce,R[26]=dt^~ht&pt,R[27]=Mr^~wt&vr,R[36]=P^~Ee&ri,R[37]=oe^~Ne&at,R[46]=Dt^~Ot&Be,R[47]=Lt^~Ft&Pe,R[8]=ie^~xe&Me,R[9]=Re^~we&pe,R[18]=Tt^~Ae&me,R[19]=it^~Ce&q,R[28]=ht^~pt&vt,R[29]=wt^~vr&xt,R[38]=Ee^~ri&_t,R[39]=Ne^~at&G,R[48]=Ot^~Be&Et,R[49]=Ft^~Pe&Xe,R[0]^=C[U],R[1]^=C[U+1]};if(o)gy.exports=u;else{for(y=0;y<d.length;++y)i[d[y]]=u[d[y]];a&&define(function(){return u})}})()});var xC=M(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.getLength=nc.decode=nc.encode=void 0;var Tde=wi();function mC(r){if(Array.isArray(r)){for(var e=[],t=0;t<r.length;t++)e.push(mC(r[t]));var i=Buffer.concat(e);return Buffer.concat([gC(i.length,192),i])}else{var n=iv(r);return n.length===1&&n[0]<128?n:Buffer.concat([gC(n.length,128),n])}}nc.encode=mC;function ev(r,e){if(r.slice(0,2)==="00")throw new Error("invalid RLP: extra zeros");return parseInt(r,e)}function gC(r,e){if(r<56)return Buffer.from([r+e]);var t=rv(r),i=t.length/2,n=rv(e+55+i);return Buffer.from(n+t,"hex")}function kde(r,e){if(e===void 0&&(e=!1),!r||r.length===0)return Buffer.from([]);var t=iv(r),i=tv(t);if(e)return i;if(i.remainder.length!==0)throw new Error("invalid remainder");return i.data}nc.decode=kde;function Cde(r){if(!r||r.length===0)return Buffer.from([]);var e=iv(r),t=e[0];if(t<=127)return e.length;if(t<=183)return t-127;if(t<=191)return t-182;if(t<=247)return t-191;var i=t-246,n=ev(e.slice(1,i).toString("hex"),16);return i+n}nc.getLength=Cde;function tv(r){var e,t,i,n,s,o=[],a=r[0];if(a<=127)return{data:r.slice(0,1),remainder:r.slice(1)};if(a<=183){if(e=a-127,a===128?i=Buffer.from([]):i=r.slice(1,e),e===2&&i[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:i,remainder:r.slice(e)}}else if(a<=191){if(t=a-182,r.length-1<t)throw new Error("invalid RLP: not enough bytes for string length");if(e=ev(r.slice(1,t).toString("hex"),16),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(i=r.slice(t,e+t),i.length<e)throw new Error("invalid RLP: not enough bytes for string");return{data:i,remainder:r.slice(e+t)}}else if(a<=247){for(e=a-191,n=r.slice(1,e);n.length;)s=tv(n),o.push(s.data),n=s.remainder;return{data:o,remainder:r.slice(e)}}else{t=a-246,e=ev(r.slice(1,t).toString("hex"),16);var f=t+e;if(f>r.length)throw new Error("invalid rlp: total length is larger than the data");if(n=r.slice(t,f),n.length===0)throw new Error("invalid rlp, List has a invalid length");for(;n.length;)s=tv(n),o.push(s.data),n=s.remainder;return{data:o,remainder:r.slice(f)}}}function vC(r){return r.slice(0,2)==="0x"}function Bde(r){return typeof r!="string"?r:vC(r)?r.slice(2):r}function rv(r){if(r<0)throw new Error("Invalid integer as argument, must be unsigned!");var e=r.toString(16);return e.length%2?"0"+e:e}function Mde(r){return r.length%2?"0"+r:r}function Rde(r){var e=rv(r);return Buffer.from(e,"hex")}function iv(r){if(!Buffer.isBuffer(r)){if(typeof r=="string")return vC(r)?Buffer.from(Mde(Bde(r)),"hex"):Buffer.from(r);if(typeof r=="number"||typeof r=="bigint")return r?Rde(r):Buffer.from([]);if(r==null)return Buffer.from([]);if(r instanceof Uint8Array)return Buffer.from(r);if(Tde.isBN(r))return Buffer.from(r.toArray());throw new Error("invalid type")}return r}});var _d=M(xy=>{"use strict";xy.byteLength=qde;xy.toByteArray=Dde;xy.fromByteArray=Fde;var sf=[],mo=[],Nde=typeof Uint8Array!="undefined"?Uint8Array:Array,nv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var wd=0,Pde=nv.length;wd<Pde;++wd)sf[wd]=nv[wd],mo[nv.charCodeAt(wd)]=wd;mo["-".charCodeAt(0)]=62;mo["_".charCodeAt(0)]=63;function wC(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function qde(r){var e=wC(r),t=e[0],i=e[1];return(t+i)*3/4-i}function Ode(r,e,t){return(e+t)*3/4-t}function Dde(r){var e,t=wC(r),i=t[0],n=t[1],s=new Nde(Ode(r,i,n)),o=0,a=n>0?i-4:i,f;for(f=0;f<a;f+=4)e=mo[r.charCodeAt(f)]<<18|mo[r.charCodeAt(f+1)]<<12|mo[r.charCodeAt(f+2)]<<6|mo[r.charCodeAt(f+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return n===2&&(e=mo[r.charCodeAt(f)]<<2|mo[r.charCodeAt(f+1)]>>4,s[o++]=e&255),n===1&&(e=mo[r.charCodeAt(f)]<<10|mo[r.charCodeAt(f+1)]<<4|mo[r.charCodeAt(f+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Lde(r){return sf[r>>18&63]+sf[r>>12&63]+sf[r>>6&63]+sf[r&63]}function Ude(r,e,t){for(var i,n=[],s=e;s<t;s+=3)i=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),n.push(Lde(i));return n.join("")}function Fde(r){for(var e,t=r.length,i=t%3,n=[],s=16383,o=0,a=t-i;o<a;o+=s)n.push(Ude(r,o,o+s>a?a:o+s));return i===1?(e=r[t-1],n.push(sf[e>>2]+sf[e<<4&63]+"==")):i===2&&(e=(r[t-2]<<8)+r[t-1],n.push(sf[e>>10]+sf[e>>4&63]+sf[e<<2&63]+"=")),n.join("")}});var Ed=M(sv=>{sv.read=function(r,e,t,i,n){var s,o,a=n*8-i-1,f=(1<<a)-1,c=f>>1,l=-7,h=t?n-1:0,x=t?-1:1,_=r[e+h];for(h+=x,s=_&(1<<-l)-1,_>>=-l,l+=a;l>0;s=s*256+r[e+h],h+=x,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=i;l>0;o=o*256+r[e+h],h+=x,l-=8);if(s===0)s=1-c;else{if(s===f)return o?NaN:(_?-1:1)*Infinity;o=o+Math.pow(2,i),s=s-c}return(_?-1:1)*o*Math.pow(2,s-i)};sv.write=function(r,e,t,i,n,s){var o,a,f,c=s*8-n-1,l=(1<<c)-1,h=l>>1,x=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:s-1,E=i?1:-1,C=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-o))<1&&(o--,f*=2),o+h>=1?e+=x/f:e+=x*Math.pow(2,1-h),e*f>=2&&(o++,f/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*f-1)*Math.pow(2,n),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,n),o=0));n>=8;r[t+_]=a&255,_+=E,a/=256,n-=8);for(o=o<<n|a,c+=n;c>0;r[t+_]=o&255,_+=E,o/=256,c-=8);r[t+_-E]|=C*128}});var Fi=M(Ad=>{"use strict";var ov=_d(),Sd=Ed(),_C=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ad.Buffer=Qe;Ad.SlowBuffer=$de;Ad.INSPECT_MAX_BYTES=50;var wy=2147483647;Ad.kMaxLength=wy;Qe.TYPED_ARRAY_SUPPORT=Kde();!Qe.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Kde(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(t){return!1}}Object.defineProperty(Qe.prototype,"parent",{enumerable:!0,get:function(){if(!!Qe.isBuffer(this))return this.buffer}});Object.defineProperty(Qe.prototype,"offset",{enumerable:!0,get:function(){if(!!Qe.isBuffer(this))return this.byteOffset}});function n0(r){if(r>wy)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,Qe.prototype),e}function Qe(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return av(r)}return EC(r,e,t)}Qe.poolSize=8192;function EC(r,e,t){if(typeof r=="string")return jde(r,e);if(ArrayBuffer.isView(r))return Vde(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(of(r,ArrayBuffer)||r&&of(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(of(r,SharedArrayBuffer)||r&&of(r.buffer,SharedArrayBuffer)))return cv(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return Qe.from(i,e,t);var n=Hde(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Qe.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Qe.from=function(r,e,t){return EC(r,e,t)};Object.setPrototypeOf(Qe.prototype,Uint8Array.prototype);Object.setPrototypeOf(Qe,Uint8Array);function SC(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function zde(r,e,t){return SC(r),r<=0?n0(r):e!==void 0?typeof t=="string"?n0(r).fill(e,t):n0(r).fill(e):n0(r)}Qe.alloc=function(r,e,t){return zde(r,e,t)};function av(r){return SC(r),n0(r<0?0:uv(r)|0)}Qe.allocUnsafe=function(r){return av(r)};Qe.allocUnsafeSlow=function(r){return av(r)};function jde(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Qe.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=AC(r,e)|0,i=n0(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function fv(r){for(var e=r.length<0?0:uv(r.length)|0,t=n0(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function Vde(r){if(of(r,Uint8Array)){var e=new Uint8Array(r);return cv(e.buffer,e.byteOffset,e.byteLength)}return fv(r)}function cv(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,Qe.prototype),i}function Hde(r){if(Qe.isBuffer(r)){var e=uv(r.length)|0,t=n0(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||dv(r.length)?n0(0):fv(r);if(r.type==="Buffer"&&Array.isArray(r.data))return fv(r.data)}function uv(r){if(r>=wy)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+wy.toString(16)+" bytes");return r|0}function $de(r){return+r!=r&&(r=0),Qe.alloc(+r)}Qe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Qe.prototype};Qe.compare=function(e,t){if(of(e,Uint8Array)&&(e=Qe.from(e,e.offset,e.byteLength)),of(t,Uint8Array)&&(t=Qe.from(t,t.offset,t.byteLength)),!Qe.isBuffer(e)||!Qe.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};Qe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Qe.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Qe.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=Qe.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(of(o,Uint8Array))s+o.length>n.length?Qe.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(Qe.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function AC(r,e){if(Qe.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||of(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return lv(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return NC(r).length;default:if(n)return i?-1:lv(r).length;e=(""+e).toLowerCase(),n=!0}}Qe.byteLength=AC;function Gde(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return ihe(this,e,t);case"utf8":case"utf-8":return kC(this,e,t);case"ascii":return the(this,e,t);case"latin1":case"binary":return rhe(this,e,t);case"base64":return Qde(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nhe(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}Qe.prototype._isBuffer=!0;function lu(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}Qe.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)lu(this,t,t+1);return this};Qe.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)lu(this,t,t+3),lu(this,t+1,t+2);return this};Qe.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)lu(this,t,t+7),lu(this,t+1,t+6),lu(this,t+2,t+5),lu(this,t+3,t+4);return this};Qe.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?kC(this,0,e):Gde.apply(this,arguments)};Qe.prototype.toLocaleString=Qe.prototype.toString;Qe.prototype.equals=function(e){if(!Qe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Qe.compare(this,e)===0};Qe.prototype.inspect=function(){var e="",t=Ad.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};_C&&(Qe.prototype[_C]=Qe.prototype.inspect);Qe.prototype.compare=function(e,t,i,n,s){if(of(e,Uint8Array)&&(e=Qe.from(e,e.offset,e.byteLength)),!Qe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,f=Math.min(o,a),c=this.slice(n,s),l=e.slice(t,i),h=0;h<f;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0};function IC(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,dv(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=Qe.from(e,i)),Qe.isBuffer(e))return e.length===0?-1:TC(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):TC(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function TC(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function f(_,E){return s===1?_[E]:_.readUInt16BE(E*s)}var c;if(n){var l=-1;for(c=t;c<o;c++)if(f(r,c)===f(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===a)return l*s}else l!==-1&&(c-=c-l),l=-1}else for(t+a>o&&(t=o-a),c=t;c>=0;c--){for(var h=!0,x=0;x<a;x++)if(f(r,c+x)!==f(e,x)){h=!1;break}if(h)return c}return-1}Qe.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};Qe.prototype.indexOf=function(e,t,i){return IC(this,e,t,i,!0)};Qe.prototype.lastIndexOf=function(e,t,i){return IC(this,e,t,i,!1)};function Yde(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(dv(a))return o;r[t+o]=a}return o}function Wde(r,e,t,i){return _y(lv(e,r.length-t),r,t,i)}function Zde(r,e,t,i){return _y(ahe(e),r,t,i)}function Jde(r,e,t,i){return _y(NC(e),r,t,i)}function Xde(r,e,t,i){return _y(fhe(e,r.length-t),r,t,i)}Qe.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Yde(this,e,t,i);case"utf8":case"utf-8":return Wde(this,e,t,i);case"ascii":case"latin1":case"binary":return Zde(this,e,t,i);case"base64":return Jde(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xde(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};Qe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Qde(r,e,t){return e===0&&t===r.length?ov.fromByteArray(r):ov.fromByteArray(r.slice(e,t))}function kC(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var f,c,l,h;switch(a){case 1:s<128&&(o=s);break;case 2:f=r[n+1],(f&192)==128&&(h=(s&31)<<6|f&63,h>127&&(o=h));break;case 3:f=r[n+1],c=r[n+2],(f&192)==128&&(c&192)==128&&(h=(s&15)<<12|(f&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:f=r[n+1],c=r[n+2],l=r[n+3],(f&192)==128&&(c&192)==128&&(l&192)==128&&(h=(s&15)<<18|(f&63)<<12|(c&63)<<6|l&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return ehe(i)}var CC=4096;function ehe(r){var e=r.length;if(e<=CC)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=CC));return t}function the(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function rhe(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function ihe(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=che[r[s]];return n}function nhe(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}Qe.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,Qe.prototype),n};function hn(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Qe.prototype.readUintLE=Qe.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||hn(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};Qe.prototype.readUintBE=Qe.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||hn(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};Qe.prototype.readUint8=Qe.prototype.readUInt8=function(e,t){return e=e>>>0,t||hn(e,1,this.length),this[e]};Qe.prototype.readUint16LE=Qe.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||hn(e,2,this.length),this[e]|this[e+1]<<8};Qe.prototype.readUint16BE=Qe.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||hn(e,2,this.length),this[e]<<8|this[e+1]};Qe.prototype.readUint32LE=Qe.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||hn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Qe.prototype.readUint32BE=Qe.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||hn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Qe.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||hn(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};Qe.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||hn(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};Qe.prototype.readInt8=function(e,t){return e=e>>>0,t||hn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Qe.prototype.readInt16LE=function(e,t){e=e>>>0,t||hn(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Qe.prototype.readInt16BE=function(e,t){e=e>>>0,t||hn(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Qe.prototype.readInt32LE=function(e,t){return e=e>>>0,t||hn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Qe.prototype.readInt32BE=function(e,t){return e=e>>>0,t||hn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Qe.prototype.readFloatLE=function(e,t){return e=e>>>0,t||hn(e,4,this.length),Sd.read(this,e,!0,23,4)};Qe.prototype.readFloatBE=function(e,t){return e=e>>>0,t||hn(e,4,this.length),Sd.read(this,e,!1,23,4)};Qe.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||hn(e,8,this.length),Sd.read(this,e,!0,52,8)};Qe.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||hn(e,8,this.length),Sd.read(this,e,!1,52,8)};function Ms(r,e,t,i,n,s){if(!Qe.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}Qe.prototype.writeUintLE=Qe.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Ms(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};Qe.prototype.writeUintBE=Qe.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Ms(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};Qe.prototype.writeUint8=Qe.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,1,255,0),this[t]=e&255,t+1};Qe.prototype.writeUint16LE=Qe.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Qe.prototype.writeUint16BE=Qe.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Qe.prototype.writeUint32LE=Qe.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Qe.prototype.writeUint32BE=Qe.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Qe.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Ms(this,e,t,i,s-1,-s)}var o=0,a=1,f=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&f===0&&this[t+o-1]!==0&&(f=1),this[t+o]=(e/a>>0)-f&255;return t+i};Qe.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Ms(this,e,t,i,s-1,-s)}var o=i-1,a=1,f=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&f===0&&this[t+o+1]!==0&&(f=1),this[t+o]=(e/a>>0)-f&255;return t+i};Qe.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Qe.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Qe.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Qe.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Qe.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function BC(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function MC(r,e,t,i,n){return e=+e,t=t>>>0,n||BC(r,e,t,4,34028234663852886e22,-34028234663852886e22),Sd.write(r,e,t,i,23,4),t+4}Qe.prototype.writeFloatLE=function(e,t,i){return MC(this,e,t,!0,i)};Qe.prototype.writeFloatBE=function(e,t,i){return MC(this,e,t,!1,i)};function RC(r,e,t,i,n){return e=+e,t=t>>>0,n||BC(r,e,t,8,17976931348623157e292,-17976931348623157e292),Sd.write(r,e,t,i,52,8),t+8}Qe.prototype.writeDoubleLE=function(e,t,i){return RC(this,e,t,!0,i)};Qe.prototype.writeDoubleBE=function(e,t,i){return RC(this,e,t,!1,i)};Qe.prototype.copy=function(e,t,i,n){if(!Qe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};Qe.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Qe.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=Qe.isBuffer(e)?e:Qe.from(e,n),f=a.length;if(f===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%f]}return this};var she=/[^+/0-9A-Za-z-_]/g;function ohe(r){if(r=r.split("=")[0],r=r.trim().replace(she,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function lv(r,e){e=e||Infinity;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function ahe(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function fhe(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function NC(r){return ov.toByteArray(ohe(r))}function _y(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function of(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function dv(r){return r!==r}var che=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var fr=M((hv,qC)=>{var Ey=Fi(),af=Ey.Buffer;function PC(r,e){for(var t in r)e[t]=r[t]}af.from&&af.alloc&&af.allocUnsafe&&af.allocUnsafeSlow?qC.exports=Ey:(PC(Ey,hv),hv.Buffer=du);function du(r,e,t){return af(r,e,t)}du.prototype=Object.create(af.prototype);PC(af,du);du.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return af(r,e,t)};du.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var i=af(r);return e!==void 0?typeof t=="string"?i.fill(e,t):i.fill(e):i.fill(0),i};du.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return af(r)};du.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Ey.SlowBuffer(r)}});var s0=M((ije,UC)=>{var uhe=vy().keccak256,lhe=wi(),pv=xC(),us=fr().Buffer,dhe=us.from("1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347","hex"),hhe=us.from("56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421","hex"),phe=us.from("c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","hex"),OC=r=>r==="0x0"?pv.encode(us.alloc(0)):pv.encode(r),bhe=pv.decode,bv=r=>r==="0x0"?us.alloc(0):Sy(r),DC=r=>bv(mhe(r)),yv=r=>r instanceof Array?yv(OC(r)):ghe(r),mv=r=>vhe(bv(r),32),yhe=(...r)=>{r[0]=mv(r[0]);let e=(t,i)=>{let n=us.concat([mv(i),t]);return DC(n)};return yv(r.reduce(e))};UC.exports={keccak:DC,encode:OC,decode:bhe,toBuffer:bv,toHex:yv,toWord:mv,mappingAt:yhe,KECCAK256_RLP_ARRAY:dhe,KECCAK256_RLP_NULL:hhe,KECCAK256_NULL:phe};function mhe(r){return r=Sy(r),uhe.create().update(r).digest()}function Sy(r){if(!us.isBuffer(r))if(Array.isArray(r))r=us.from(r);else if(typeof r=="string")whe(r)?r=us.from(LC(_he(r)),"hex"):r=us.from(r);else if(typeof r=="number")r=She(r);else if(r==null)r=us.allocUnsafe(0);else if(lhe.isBN(r))r=r.toArrayLike(us);else if(r.toArray)r=us.from(r.toArray());else throw new Error("invalid type");return r}function ghe(r){return r=Sy(r),"0x"+r.toString("hex")}function vhe(r,e,t){t===void 0&&(t=!1);var i=xhe(e);return r=Sy(r),t?r.length<e?(r.copy(i),i):r.slice(0,e):r.length<e?(r.copy(i,e-r.length),i):r.slice(-e)}function xhe(r){return us.allocUnsafe(r).fill(0)}function whe(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}function LC(r){var e=r;if(typeof e!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function _he(r){return typeof r!="string"?r:Ehe(r)?r.slice(2):r}function Ehe(r){if(typeof r!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof r+", while checking isHexPrefixed.");return r.slice(0,2)==="0x"}function She(r){var e=Ahe(r);return new us(LC(e.slice(2)),"hex")}function Ahe(r){var e=r.toString(16);return"0x"+e}});var hu=M((nje,zC)=>{var{encode:Ihe,toHex:FC}=s0(),KC=class extends Array{constructor(e,t){super(...t);e.forEach((i,n)=>{Object.defineProperty(this,i,{value:this[n],writable:!1})}),Object.defineProperty(this,"fields",{value:e,writable:!1}),Object.defineProperty(this,"buffer",{get:function(){return Ihe(this.raw)}}),Object.defineProperty(this,"hex",{get:function(){return FC(this.buffer)}}),Object.defineProperty(this,"raw",{get:function(){return this.fields.map((i,n)=>this[n])}}),Object.defineProperty(this,"object",{get:function(){let i={};return this.fields.forEach((n,s)=>{this[s]instanceof Array?i[n]=this[s]:i[n]=FC(this[s])}),i}}),Object.defineProperty(this,"json",{get:function(){return JSON.stringify(this.object)}})}serialize(){return this.buffer}toBuffer(){return this.buffer}toHex(){return this.hex}toObject(){return this.object}toString(){return this.json}toJson(){return this.json}};zC.exports=KC});var $C=M((sje,HC)=>{var{keccak:Ay,encode:jC,decode:VC,toBuffer:Id}=s0(),The=hu(),Rs=class extends The{static get fields(){return["nonce","balance","storageRoot","codeHash"]}static get NULL(){return new Rs([Id(),Id(),Ay(jC()),Ay()])}constructor(e=Rs.NULL){super(Rs.fields,e)}static fromBuffer(e){return e?new Rs(VC(e)):new Rs}static fromHex(e){return e?new Rs(VC(e)):new Rs}static fromRaw(e){return new Rs(e)}static fromObject(e){return Rs.fromRpc(e)}static fromRpc(e){return e?new Rs([Id(e.nonce),Id(e.balance),Id(e.storageHash||e.storageRoot||Ay(jC())),Id(e.codeHash||e.codeRoot||Ay())]):new Rs}};HC.exports=Rs});var WC=M((oje,YC)=>{var{decode:GC,toBuffer:$n,KECCAK256_RLP_ARRAY:khe,KECCAK256_NULL:gv}=s0(),Che=hu(),Iy=class extends Che{static get fields(){return["parentHash","sha3Uncles","miner","stateRoot","transactionsRoot","receiptRoot","logsBloom","difficulty","number","gasLimit","gasUsed","timestamp","extraData","mixHash","nonce"]}constructor(e=this.NULL){super(Iy.fields,e)}static fromBuffer(e){return e?new this(GC(e)):new this}static fromHex(e){return e?new this(GC(e)):new this}static fromRaw(e){return new this(e)}static fromObject(e){return this.fromRpc(e)}static fromRpc(e){return e?new this([$n(e.parentHash),$n(e.sha3Uncles)||khe,$n(e.miner),$n(e.stateRoot)||gv,$n(e.transactionsRoot)||gv,$n(e.receiptsRoot)||$n(e.receiptRoot)||gv,$n(e.logsBloom),$n(e.difficulty),$n(e.number),$n(e.gasLimit),$n(e.gasUsed),$n(e.timestamp),$n(e.extraData),$n(e.mixHash),$n(e.nonce)]):new this}};YC.exports=Iy});var xv=M((aje,JC)=>{var{decode:ZC,toBuffer:vv}=s0(),Bhe=hu(),go=class extends Bhe{static get fields(){return["address","topics","data"]}constructor(e=go.NULL){super(go.fields,e)}static fromBuffer(e){return e?new go(ZC(e)):new go}static fromHex(e){return e?new go(ZC(e)):new go}static fromRaw(e){return new go(e)}static fromObject(e){return go.fromRpc(e)}static fromRpc(e){let t=[];for(var i=0;i<e.topics.length;i++)t.push(vv(e.topics[i]));return new go([vv(e.address),t,vv(e.data)])}};JC.exports=go});var eB=M((fje,QC)=>{var{keccak:Mhe,encode:XC,decode:wv,toHex:Rhe}=s0(),Nhe=hu(),Js=class extends Nhe{static get fields(){return["rootNode"]}static get NULL(){return new Js([XC()])}constructor(e=Js.NULL){let t=e.map(i=>Rhe(Mhe(XC(i))));super(t,e)}static fromBuffer(e){return e?new Js(wv(e)):new Js}static fromHex(e){return e?new Js(wv(e)):new Js}static fromRaw(e){return new Js(e)}static fromObject(e){return Js.fromRpc(e)}static fromRpc(e){if(e){let t=e.map(i=>wv(i));return new Js(t)}}static fromStack(e){let t=e.map(i=>i.raw);return new Js(t)}};QC.exports=Js});var iB=M((cje,rB)=>{var{decode:tB,toBuffer:_v}=s0(),Phe=hu(),qhe=xv(),vo=class extends Phe{static get fields(){return["postTransactionState","cumulativeGasUsed","bloomFilter","setOfLogs"]}constructor(e=vo.NULL){super(vo.fields,e)}static fromBuffer(e){return e?new vo(tB(e)):new vo}static fromHex(e){return e?new vo(tB(e)):new vo}static fromRaw(e){return new vo(e)}static fromObject(e){return vo.fromRpc(e)}static fromRpc(e){let t=[];for(var i=0;i<e.logs.length;i++)t.push(qhe.fromRpc(e.logs[i]));return new vo([_v(e.status||e.root),_v(e.cumulativeGasUsed),_v(e.logsBloom),t])}};rB.exports=vo});var oB=M((uje,sB)=>{var{decode:nB,toBuffer:o0}=s0(),Ohe=hu(),xo=class extends Ohe{static get fields(){return["nonce","gasPrice","gasLimit","to","value","data","v","r","s"]}constructor(e=xo.NULL){super(xo.fields,e)}static fromBuffer(e){return e?new xo(nB(e)):new xo}static fromHex(e){return e?new xo(nB(e)):new xo}static fromRaw(e){return new xo(e)}static fromObject(e){return xo.fromRpc(e)}static fromRpc(e){return new xo([o0(e.nonce),o0(e.gasPrice),o0(e.gas||e.gasLimit),o0(e.to),o0(e.value),o0(e.input||e.data),o0(e.v),o0(e.r),o0(e.s)])}};sB.exports=xo});var fB=M((lje,aB)=>{var Dhe=$C(),Lhe=WC(),Uhe=xv(),Fhe=eB(),Khe=iB(),zhe=oB();aB.exports={Account:Dhe,Header:Lhe,Log:Uhe,Proof:Fhe,Receipt:Khe,Transaction:zhe}});var lB=M((hje,uB)=>{uB.exports=function(r){var e=function(a){var f=a.indexOf("//");return f>-1?a.slice(0,f):a},t=function(){var a=!1;return function(f){return f==="/*"?(a=!0,!1):f==="*/"?(a=!1,!1):!a}},i=function(a){return a.trim()},n=function(a){return function(f){var c="$"+a.length+"$";return a.push(f),c}},s=function(a){var f=/^\$(\d+)\$$/;return function(c){var l=c.match(f);return l?a[+l[1]]:c}},o=[];return r.replace(/"(\\"|[^"\n])*?"|'(\\'|[^'\n])*?'/gm,n(o)).replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(i).filter(Boolean).map(e).map(i).filter(Boolean).join(`
`).split(/\s+|\n+/gm).filter(t()).map(s(o))}});var mB=M((pje,yB)=>{var u1e=lB(),l1e=536870911,d1e=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],dB=function(r){var e=r.shift();if(e!=="{")return e;e={};for(var t="";r.length;)switch(r[0]){case"}":return r.shift(),e;case":":r.shift(),e[t]=dB(r);break;default:t=r.shift()}},hB=function(r){for(var e={};r.length;)switch(r[0]){case"[":case",":{r.shift();var t=r.shift();t==="("&&(t=r.shift(),r.shift());var i=[];if(r[0][0]==="."&&(i=r[0].substr(1).split("."),r.shift()),r[0]!=="=")throw new Error("Unexpected token in field options: "+r[0]);if(r.shift(),r[0]==="]")throw new Error("Unexpected ] in field option");var n=[t].concat(i),s=n.pop(),o=n.reduce(function(a,f,c){return a[f]==null&&(a[f]={}),a[f]},e);o[s]=dB(r);break}case"]":return r.shift(),e;default:throw new Error("Unexpected token in field options: "+r[0])}throw new Error("No closing tag for field options")},Ev=function(r){for(var e={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};r.length;)switch(r[0]){case"=":r.shift(),e.tag=Number(r.shift());break;case"map":if(e.type="map",e.map={from:null,to:null},r.shift(),r[0]!=="<")throw new Error("Unexpected token in map type: "+r[0]);if(r.shift(),e.map.from=r.shift(),r[0]!==",")throw new Error("Unexpected token in map type: "+r[0]);if(r.shift(),e.map.to=r.shift(),r[0]!==">")throw new Error("Unexpected token in map type: "+r[0]);r.shift(),e.name=r.shift();break;case"repeated":case"required":case"optional":var t=r.shift();e.required=t==="required",e.repeated=t==="repeated",e.type=r.shift(),e.name=r.shift();break;case"[":e.options=hB(r);break;case";":if(e.name===null)throw new Error("Missing field name");if(e.type===null)throw new Error("Missing type in message field: "+e.name);if(e.tag===-1)throw new Error("Missing tag number in message field: "+e.name);return r.shift(),e;default:throw new Error("Unexpected token in message field: "+r[0])}throw new Error("No ; found for message field")},h1e=function(r){for(var e={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};r.length;)switch(r[0]){case"map":case"repeated":case"optional":case"required":e.fields.push(Ev(r));break;case"enum":e.enums.push(bB(r));break;case"message":e.messages.push(Sv(r));break;case"extensions":e.extensions=p1e(r);break;case"oneof":r.shift();var t=r.shift();if(r[0]!=="{")throw new Error("Unexpected token in oneof: "+r[0]);for(r.shift();r[0]!=="}";){r.unshift("optional");var i=Ev(r);i.oneof=t,e.fields.push(i)}r.shift();break;case"extend":e.extends.push(pB(r));break;case";":r.shift();break;case"reserved":for(r.shift();r[0]!==";";)r.shift();break;case"option":var n=Fp(r);if(e.options[n.name]!==void 0)throw new Error("Duplicate option "+n.name);e.options[n.name]=n.value;break;default:r.unshift("optional"),e.fields.push(Ev(r))}return e},pB=function(r){var e={name:r[1],message:Sv(r)};return e},p1e=function(r){r.shift();var e=Number(r.shift());if(isNaN(e))throw new Error("Invalid from in extensions definition");if(r.shift()!=="to")throw new Error("Expected keyword 'to' in extensions definition");var t=r.shift();if(t==="max"&&(t=l1e),t=Number(t),isNaN(t))throw new Error("Invalid to in extensions definition");if(r.shift()!==";")throw new Error("Missing ; in extensions definition");return{from:e,to:t}},Sv=function(r){r.shift();var e=1,t=[],i={name:r.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if(r[0]!=="{")throw new Error("Expected { but found "+r[0]);for(r.shift();r.length;){if(r[0]==="{"?e++:r[0]==="}"&&e--,!e)return r.shift(),t=h1e(t),i.enums=t.enums,i.messages=t.messages,i.fields=t.fields,i.extends=t.extends,i.extensions=t.extensions,i.options=t.options,i;t.push(r.shift())}if(e)throw new Error("No closing tag for message")},b1e=function(r){r.shift();var e=r.shift();if(r[0]!==";")throw new Error("Expected ; but found "+r[0]);return r.shift(),e},y1e=function(r){if(r.shift(),r[0]!=="=")throw new Error("Expected = but found "+r[0]);r.shift();var e=r.shift();switch(e){case'"proto2"':e=2;break;case'"proto3"':e=3;break;default:throw new Error("Expected protobuf syntax version but found "+e)}if(r[0]!==";")throw new Error("Expected ; but found "+r[0]);return r.shift(),e},m1e=function(r){if(r.length<4)throw new Error("Invalid enum value: "+r.slice(0,3).join(" "));if(r[1]!=="=")throw new Error("Expected = but found "+r[1]);if(r[3]!==";"&&r[3]!=="[")throw new Error("Expected ; or [ but found "+r[1]);var e=r.shift();r.shift();var t={value:null,options:{}};return t.value=Number(r.shift()),r[0]==="["&&(t.options=hB(r)),r.shift(),{name:e,val:t}},bB=function(r){r.shift();var e={},t={name:r.shift(),values:{},options:{}};if(r[0]!=="{")throw new Error("Expected { but found "+r[0]);for(r.shift();r.length;){if(r[0]==="}")return r.shift(),r[0]===";"&&r.shift(),t;if(r[0]==="option"){e=Fp(r),t.options[e.name]=e.value;continue}var i=m1e(r);t.values[i.name]=i.val}throw new Error("No closing tag for enum")},Fp=function(r){for(var e=null,t=null,i=function(s){return s==="true"?!0:s==="false"?!1:s.replace(/^"+|"+$/gm,"")};r.length;){if(r[0]===";")return r.shift(),{name:e,value:t};switch(r[0]){case"option":r.shift();var n=r[0]==="(";if(n&&r.shift(),e=r.shift(),n){if(r[0]!==")")throw new Error("Expected ) but found "+r[0]);r.shift()}r[0][0]==="."&&(e+=r.shift());break;case"=":if(r.shift(),e===null)throw new Error("Expected key for option with value: "+r[0]);if(t=i(r.shift()),e==="optimize_for"&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(t))throw new Error("Unexpected value for option optimize_for: "+t);t==="{"&&(t=Av(r));break;default:throw new Error("Unexpected token in option: "+r[0])}}},Av=function(r){for(var e=function(o){return o==="true"?!0:o==="false"?!1:o.replace(/^"+|"+$/gm,"")},t={};r.length;){if(r[0]==="}")return r.shift(),t;var i=r[0]==="(";i&&r.shift();var n=r.shift();if(i){if(r[0]!==")")throw new Error("Expected ) but found "+r[0]);r.shift()}var s=null;switch(r[0]){case":":if(t[n]!==void 0)throw new Error("Duplicate option map key "+n);r.shift(),s=e(r.shift()),s==="{"&&(s=Av(r)),t[n]=s,r[0]===";"&&r.shift();break;case"{":if(r.shift(),s=Av(r),t[n]===void 0&&(t[n]=[]),!Array.isArray(t[n]))throw new Error("Duplicate option map key "+n);t[n].push(s);break;default:throw new Error("Unexpected token in option map: "+r[0])}}throw new Error("No closing tag for option map")},g1e=function(r){r.shift();var e=r.shift().replace(/^"+|"+$/gm,"");if(r[0]!==";")throw new Error("Unexpected token: "+r[0]+'. Expected ";"');return r.shift(),e},v1e=function(r){r.shift();var e={name:r.shift(),methods:[],options:{}};if(r[0]!=="{")throw new Error("Expected { but found "+r[0]);for(r.shift();r.length;){if(r[0]==="}")return r.shift(),r[0]===";"&&r.shift(),e;switch(r[0]){case"option":var t=Fp(r);if(e.options[t.name]!==void 0)throw new Error("Duplicate option "+t.name);e.options[t.name]=t.value;break;case"rpc":e.methods.push(x1e(r));break;default:throw new Error("Unexpected token in service: "+r[0])}}throw new Error("No closing tag for service")},x1e=function(r){r.shift();var e={name:r.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if(r[0]!=="(")throw new Error("Expected ( but found "+r[0]);if(r.shift(),r[0]==="stream"&&(r.shift(),e.client_streaming=!0),e.input_type=r.shift(),r[0]!==")")throw new Error("Expected ) but found "+r[0]);if(r.shift(),r[0]!=="returns")throw new Error("Expected returns but found "+r[0]);if(r.shift(),r[0]!=="(")throw new Error("Expected ( but found "+r[0]);if(r.shift(),r[0]==="stream"&&(r.shift(),e.server_streaming=!0),e.output_type=r.shift(),r[0]!==")")throw new Error("Expected ) but found "+r[0]);if(r.shift(),r[0]===";")return r.shift(),e;if(r[0]!=="{")throw new Error("Expected { but found "+r[0]);for(r.shift();r.length;){if(r[0]==="}")return r.shift(),r[0]===";"&&r.shift(),e;if(r[0]==="option"){var t=Fp(r);if(e.options[t.name]!==void 0)throw new Error("Duplicate option "+t.name);e.options[t.name]=t.value}else throw new Error("Unexpected token in rpc options: "+r[0])}throw new Error("No closing tag for rpc")},w1e=function(r){for(var e=u1e(r.toString()),t=0;t<e.length;t++)if(/^("|')([^'"]*)$/.test(e[t])){var i;for(e[t].length===1?i=t+1:i=t,i;i<e.length;i++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(e[i])){e=e.slice(0,t).concat(e.slice(t,i+1).join("")).concat(e.slice(i+1));break}}for(var n={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},s=!0;e.length;){switch(e[0]){case"package":n.package=b1e(e);break;case"syntax":if(!s)throw new Error("Protobuf syntax version should be first thing in file");n.syntax=y1e(e);break;case"message":n.messages.push(Sv(e));break;case"enum":n.enums.push(bB(e));break;case"option":var o=Fp(e);if(n.options[o.name])throw new Error("Duplicate option "+o.name);n.options[o.name]=o.value;break;case"import":n.imports.push(g1e(e));break;case"extend":n.extends.push(pB(e));break;case"service":n.services||(n.services=[]),n.services.push(v1e(e));break;default:throw new Error("Unexpected token: "+e[0])}s=!1}return n.extends.forEach(function(a){n.messages.forEach(function(f){f.name===a.name&&a.message.fields.forEach(function(c){if(!f.extensions||c.tag<f.extensions.from||c.tag>f.extensions.to)throw new Error(f.name+" does not declare "+c.tag+" as an extension number");f.fields.push(c)})})}),n.messages.forEach(function(a){a.fields.forEach(function(f){var c,l,h,x;function _(C){return C.name===f.type}function E(C){return C.name===h}if(f.options&&f.options.packed==="true"&&d1e.indexOf(f.type)===-1){if(f.type.indexOf(".")===-1){if(a.enums&&a.enums.some(_))return}else{if(c=f.type.split("."),c.length>2)throw new Error("what is this?");if(l=c[0],h=c[1],n.messages.some(function(C){if(C.name===l)return x=C,C}),x&&x.enums&&x.enums.some(E))return}throw new Error("Fields of type "+f.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),n};yB.exports=w1e});var EB=M((bje,_B)=>{var gB=function(r,e){var t=r.repeated?"repeated":r.required?"required":"optional";r.type==="map"&&(t="map<"+r.map.from+","+r.map.to+">"),r.oneof&&(t="");var i=Object.keys(r.options||{}).map(function(n){return n+" = "+r.options[n]}).join(",");return i&&(i=" ["+i+"]"),e.push((t?t+" ":"")+(r.map==="map"?"":r.type+" ")+r.name+" = "+r.tag+i+";"),e},vB=function(r,e){e.push("message "+r.name+" {"),r.options||(r.options={}),Kp(r.options,e),r.enums||(r.enums=[]),r.enums.forEach(function(i){e.push(xB(i,[]))}),r.messages||(r.messages=[]),r.messages.forEach(function(i){e.push(vB(i,[]))});var t={};return r.fields||(r.fields=[]),r.fields.forEach(function(i){i.oneof?(t[i.oneof]||(t[i.oneof]=[]),t[i.oneof].push(gB(i,[]))):e.push(gB(i,[]))}),Object.keys(t).forEach(function(i){t[i].unshift("oneof "+i+" {"),t[i].push("}"),e.push(t[i])}),e.push("}",""),e},xB=function(r,e){e.push("enum "+r.name+" {"),r.options||(r.options={});var t=Kp(r.options,[]);return t.length>1&&e.push(t.slice(0,-1)),Object.keys(r.values).map(function(i){var n=_1e(r.values[i]);e.push([i+" = "+n+";"])}),e.push("}",""),e},_1e=function(r,e){var t=Object.keys(r.options||{}).map(function(n){return n+" = "+r.options[n]}).join(",");t&&(t=" ["+t+"]");var i=r.value+t;return i},Kp=function(r,e){var t=Object.keys(r);return t.forEach(function(i){var n=r[i];~i.indexOf(".")&&(i="("+i+")");var s=typeof n;s==="object"?(n=Iv(n,[]),n.length&&e.push("option "+i+" = {",n,"};")):(s==="string"&&i!=="optimize_for"&&(n='"'+n+'"'),e.push("option "+i+" = "+n+";"))}),t.length>0&&e.push(""),e},Iv=function(r,e){var t=Object.keys(r);return t.forEach(function(i){var n=r[i],s=typeof n;s==="object"?Array.isArray(n)?n.forEach(function(o){o=Iv(o,[]),o.length&&e.push(i+" {",o,"}")}):(n=Iv(n,[]),n.length&&e.push(i+" {",n,"}")):(s==="string"&&(n='"'+n+'"'),e.push(i+": "+n))}),e},E1e=function(r,e){return e.push("service "+r.name+" {"),r.options||(r.options={}),Kp(r.options,e),r.methods||(r.methods=[]),r.methods.forEach(function(t){e.push(S1e(t,[]))}),e.push("}",""),e},S1e=function(r,e){var t="rpc "+r.name+"(";r.client_streaming&&(t+="stream "),t+=r.input_type+") returns (",r.server_streaming&&(t+="stream "),t+=r.output_type+")",r.options||(r.options={});var i=Kp(r.options,[]);return i.length>1?e.push(t+" {",i.slice(0,-1),"}"):e.push(t+";"),e},wB=function(r){return function(e){return Array.isArray(e)?e.map(wB(r+"  ")).join(`
`):r+e}};_B.exports=function(r){var e=[];return e.push('syntax = "proto'+r.syntax+'";',""),r.package&&e.push("package "+r.package+";",""),r.options||(r.options={}),Kp(r.options,e),r.enums||(r.enums=[]),r.enums.forEach(function(t){xB(t,e)}),r.messages||(r.messages=[]),r.messages.forEach(function(t){vB(t,e)}),r.services&&r.services.forEach(function(t){E1e(t,e)}),e.map(wB("")).join(`
`)}});var AB=M((yje,Ty)=>{var SB=mB(),A1e=EB();Ty.exports=SB;Ty.exports.parse=SB;Ty.exports.stringify=A1e});var Ns=M((mje,IB)=>{"use strict";function I1e(r,e,t,i){return e.bytes=t.bytes=0,{type:r,encode:e,decode:t,encodingLength:i}}IB.exports=I1e});var BB=M((gje,CB)=>{CB.exports=kB;var TB=128,T1e=127,k1e=~T1e,C1e=Math.pow(2,31);function kB(r,e,t){e=e||[],t=t||0;for(var i=t;r>=C1e;)e[t++]=r&255|TB,r/=128;for(;r&k1e;)e[t++]=r&255|TB,r>>>=7;return e[t]=r|0,kB.bytes=t-i+1,e}});var NB=M((vje,RB)=>{RB.exports=Tv;var B1e=128,MB=127;function Tv(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o)throw Tv.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&MB)<<i:(s&MB)*Math.pow(2,i),i+=7}while(s>=B1e);return Tv.bytes=n-e,t}});var qB=M((xje,PB)=>{var M1e=Math.pow(2,7),R1e=Math.pow(2,14),N1e=Math.pow(2,21),P1e=Math.pow(2,28),q1e=Math.pow(2,35),O1e=Math.pow(2,42),D1e=Math.pow(2,49),L1e=Math.pow(2,56),U1e=Math.pow(2,63);PB.exports=function(r){return r<M1e?1:r<R1e?2:r<N1e?3:r<P1e?4:r<q1e?5:r<O1e?6:r<D1e?7:r<L1e?8:r<U1e?9:10}});var ls=M((wje,OB)=>{OB.exports={encode:BB(),decode:NB(),encodingLength:qB()}});var KB=M((_je,FB)=>{"use strict";var zp=ls(),F1e=Ns();function DB(r){return r.byteLength}function K1e(r){let e=DB(r);return zp.encodingLength(e)+e}function LB(r,e,t,i){let n=i,s=DB(r);zp.encode(s,e,i),i+=zp.encode.bytes,e.set(r,i),i+=s,LB.bytes=i-n}function UB(r,e,t){let i=t,n=zp.decode(r,t);t+=zp.decode.bytes;let s=r.slice(t,t+n);return t+=s.length,UB.bytes=t-i,s}FB.exports=F1e(2,LB,UB,K1e)});var jB=M((Eje,zB)=>{"use strict";function z1e(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var i=0;i<r.length;i++){var n=r.charAt(i),s=n.charCodeAt(0);if(e[s]!==255)throw new TypeError(n+" is ambiguous");e[s]=i}var o=r.length,a=r.charAt(0),f=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function l(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var E=0,C=0,L=0,O=_.length;L!==O&&_[L]===0;)L++,E++;for(var W=(O-L)*c+1>>>0,ee=new Uint8Array(W);L!==O;){for(var N=_[L],V=0,z=W-1;(N!==0||V<C)&&z!==-1;z--,V++)N+=256*ee[z]>>>0,ee[z]=N%o>>>0,N=N/o>>>0;if(N!==0)throw new Error("Non-zero carry");C=V,L++}for(var F=W-C;F!==W&&ee[F]===0;)F++;for(var H=a.repeat(E);F<W;++F)H+=r.charAt(ee[F]);return H}function h(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var E=0;if(_[E]!==" "){for(var C=0,L=0;_[E]===a;)C++,E++;for(var O=(_.length-E)*f+1>>>0,W=new Uint8Array(O);_[E];){var ee=e[_.charCodeAt(E)];if(ee===255)return;for(var N=0,V=O-1;(ee!==0||N<L)&&V!==-1;V--,N++)ee+=o*W[V]>>>0,W[V]=ee%256>>>0,ee=ee/256>>>0;if(ee!==0)throw new Error("Non-zero carry");L=N,E++}if(_[E]!==" "){for(var z=O-L;z!==O&&W[z]===0;)z++;for(var F=new Uint8Array(C+(O-z)),H=C;z!==O;)F[H++]=W[z++];return F}}}function x(_){var E=h(_);if(E)return E;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:h,decode:x}}zB.exports=z1e});var ky=M((Sje,VB)=>{"use strict";var j1e=new TextDecoder,V1e=r=>j1e.decode(r),H1e=new TextEncoder,$1e=r=>H1e.encode(r);function G1e(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}VB.exports={decodeText:V1e,encodeText:$1e,concat:G1e}});var GB=M((Aje,$B)=>{"use strict";var{encodeText:Y1e}=ky(),HB=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=Y1e(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};$B.exports=HB});var WB=M((Ije,YB)=>{"use strict";var W1e=(r,e,t)=>{let i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,f=0;for(let c=0;c<n;++c){let l=i[r[c]];if(l===void 0)throw new SyntaxError("Invalid character "+r[c]);a=a<<t|l,o+=t,o>=8&&(o-=8,s[f++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},Z1e=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let f=0;f<r.length;++f)for(a=a<<8|r[f],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},J1e=r=>e=>({encode(t){return Z1e(t,e,r)},decode(t){return W1e(t,e,r)}});YB.exports={rfc4648:J1e}});var QB=M((Tje,XB)=>{"use strict";var jp=jB(),X1e=GB(),{rfc4648:Dn}=WB(),{decodeText:Q1e,encodeText:epe}=ky(),tpe=()=>({encode:Q1e,decode:epe}),ZB=[["identity","\0",tpe,""],["base2","0",Dn(1),"01"],["base8","7",Dn(3),"01234567"],["base10","9",jp,"0123456789"],["base16","f",Dn(4),"0123456789abcdef"],["base16upper","F",Dn(4),"0123456789ABCDEF"],["base32hex","v",Dn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",Dn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",Dn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",Dn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",Dn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",Dn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",Dn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",Dn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",Dn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",jp,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",jp,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",jp,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",jp,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",Dn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",Dn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",Dn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",Dn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],JB=ZB.reduce((r,e)=>(r[e[0]]=new X1e(e[0],e[1],e[2],e[3]),r),{}),rpe=ZB.reduce((r,e)=>(r[e[1]]=JB[e[0]],r),{});XB.exports={names:JB,codes:rpe}});var ff=M((a0,tM)=>{"use strict";var Td=QB(),{encodeText:ipe,decodeText:Cy,concat:eM}=ky();function npe(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:i}=pu(r);return fpe(t,e),eM([i,e],i.length+e.length)}function spe(r,e){let t=pu(r),i=ipe(t.encode(e));return eM([t.codeBuf,i],t.codeBuf.length+i.length)}function ope(r){r instanceof Uint8Array&&(r=Cy(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),pu(r[0]).decode(r.substring(1))}function ape(r){if(r instanceof Uint8Array&&(r=Cy(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return pu(r[0]).name}catch(e){return!1}}function fpe(r,e){pu(r).decode(Cy(e))}function pu(r){if(Object.prototype.hasOwnProperty.call(Td.names,r))return Td.names[r];if(Object.prototype.hasOwnProperty.call(Td.codes,r))return Td.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function cpe(r){return r instanceof Uint8Array&&(r=Cy(r)),pu(r[0])}a0=tM.exports=npe;a0.encode=spe;a0.decode=ope;a0.isEncoded=ape;a0.encoding=pu;a0.encodingFromData=cpe;var upe=Object.freeze(Td.names),lpe=Object.freeze(Td.codes);a0.names=upe;a0.codes=lpe});var Ai=M((kje,rM)=>{"use strict";var{encoding:dpe}=ff(),hpe=new TextEncoder;function ppe(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function bpe(r,e="utf8"){return e==="utf8"||e==="utf-8"?hpe.encode(r):e==="ascii"?ppe(r):dpe(e).decode(r)}rM.exports=bpe});var Kr=M((Cje,iM)=>{"use strict";var{encoding:ype}=ff(),mpe=new TextDecoder("utf8");function gpe(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function vpe(r,e="utf8"){return e==="utf8"||e==="utf-8"?mpe.decode(r):e==="ascii"?gpe(r):ype(e).encode(r)}iM.exports=vpe});var aM=M((Bje,oM)=>{"use strict";var Vp=ls(),kv=Ai(),xpe=Kr(),wpe=Ns();function _pe(r){let e=kv(r).byteLength;return Vp.encodingLength(e)+e}function nM(r,e,t,i){let n=i,s=kv(r).byteLength;Vp.encode(s,e,i,"utf-8"),i+=Vp.encode.bytes;let o=kv(r);e.set(o,i),i+=o.length,nM.bytes=i-n}function sM(r,e,t){let i=t,n=Vp.decode(r,t);t+=Vp.decode.bytes;let s=xpe(r.subarray(t,t+n));return t+=n,sM.bytes=t-i,s}oM.exports=wpe(2,nM,sM,_pe)});var lM=M((Mje,uM)=>{"use strict";var Epe=Ns();function Spe(){return 1}function fM(r,e,t,i){e[i]=r?1:0,fM.bytes=1}function cM(r,e,t){let i=r[t]>0;return cM.bytes=1,i}uM.exports=Epe(0,fM,cM,Spe)});var bM=M((Rje,pM)=>{"use strict";var Hp=ls(),Ape=Ns();function dM(r,e,t,i){Hp.encode(r<0?r+4294967296:r,e,i),dM.bytes=Hp.encode.bytes}function hM(r,e,t){let i=Hp.decode(r,t);return hM.bytes=Hp.decode.bytes,i>2147483647?i-4294967296:i}function Ipe(r){return Hp.encodingLength(r<0?r+4294967296:r)}pM.exports=Ape(0,dM,hM,Ipe)});var mM=M((Nje,yM)=>{"use strict";var sc=ls(),Tpe=Ns();function Cv(r,e,t,i){if(r<0){let n=i+9;for(sc.encode(r*-1,e,i),i+=sc.encode.bytes-1,e[i]=e[i]|128;i<n-1;)i++,e[i]=255;e[n]=1,Cv.bytes=10}else sc.encode(r,e,i),Cv.bytes=sc.encode.bytes}function Bv(r,e,t){let i=sc.decode(r,t);if(i>=Math.pow(2,63)){let n=9;for(;r[t+n-1]===255;)n--;n=n||9;let s=r.subarray(t,t+n);s[n-1]=s[n-1]&127,i=-1*sc.decode(s,0),Bv.bytes=10}else Bv.bytes=sc.decode.bytes;return i}function kpe(r){return r<0?10:sc.encodingLength(r)}yM.exports=Tpe(0,Cv,Bv,kpe)});var gM=M(By=>{var $p=ls();By.encode=function r(e,t,i){e=e>=0?e*2:e*-2-1;var n=$p.encode(e,t,i);return r.bytes=$p.encode.bytes,n};By.decode=function r(e,t){var i=$p.decode(e,t);return r.bytes=$p.decode.bytes,i&1?(i+1)/-2:i/2};By.encodingLength=function(r){return $p.encodingLength(r>=0?r*2:r*-2-1)}});var _M=M((qje,wM)=>{"use strict";var Gp=gM(),Cpe=Ns();function vM(r,e,t,i){Gp.encode(r,e,i),vM.bytes=Gp.encode.bytes}function xM(r,e,t){let i=Gp.decode(r,t);return xM.bytes=Gp.decode.bytes,i}wM.exports=Cpe(0,vM,xM,Gp.encodingLength)});var IM=M((Oje,AM)=>{"use strict";var Yp=ls(),Bpe=Ns();function EM(r,e,t,i){Yp.encode(r,e,i),EM.bytes=Yp.encode.bytes}function SM(r,e,t){let i=Yp.decode(r,t);return SM.bytes=Yp.decode.bytes,i}AM.exports=Bpe(0,EM,SM,Yp.encodingLength)});var BM=M((Dje,CM)=>{"use strict";var Mpe=Ns();function Rpe(){return 8}function TM(r,e,t,i){for(let n of r)e[i]=n,i++;TM.bytes=8}function kM(r,e,t){let i=r.slice(t,t+8);return kM.bytes=8,i}CM.exports=Mpe(1,TM,kM,Rpe)});var PM=M((Lje,NM)=>{"use strict";var Npe=Ns();function Ppe(){return 8}function MM(r,e,t,i){t.setFloat64(i,r,!0),MM.bytes=8}function RM(r,e,t){let i=e.getFloat64(t,!0);return RM.bytes=8,i}NM.exports=Npe(1,MM,RM,Ppe)});var LM=M((Uje,DM)=>{"use strict";var qpe=Ns();function Ope(r){return 4}function qM(r,e,t,i){t.setUint32(i,r,!0),qM.bytes=4}function OM(r,e,t){let i=e.getUint32(t,!0);return OM.bytes=4,i}DM.exports=qpe(5,qM,OM,Ope)});var zM=M((Fje,KM)=>{"use strict";var Dpe=Ns();function Lpe(r){return 4}function UM(r,e,t,i){t.setInt32(i,r,!0),UM.bytes=4}function FM(r,e,t){let i=e.getInt32(t,!0);return FM.bytes=4,i}KM.exports=Dpe(5,UM,FM,Lpe)});var $M=M((Kje,HM)=>{"use strict";var Upe=Ns();function Fpe(){return 4}function jM(r,e,t,i){t.setFloat32(i,r,!0),jM.bytes=4}function VM(r,e,t){let i=e.getFloat32(t,!0);return VM.bytes=4,i}HM.exports=Upe(5,jM,VM,Fpe)});var GM=M(rn=>{"use strict";rn.make=Ns();rn.bytes=KB();rn.string=aM();rn.bool=lM();rn.int32=bM();rn.int64=mM();rn.sint32=rn.sint64=_M();rn.uint32=rn.uint64=rn.enum=rn.varint=IM();rn.fixed64=rn.sfixed64=BM();rn.double=PM();rn.fixed32=LM();rn.sfixed32=zM();rn.float=$M()});var My=M(YM=>{"use strict";YM.defined=function(r){return r!=null&&(typeof r!="number"||!isNaN(r))}});var XM=M((Vje,JM)=>{"use strict";var cf=ls(),Kpe=My().defined;function WM(r){return`${r.substring(0,1).toUpperCase()}${r.substring(1)}`}function ZM(r,e,t,i){if(Object.prototype.hasOwnProperty.call(r,e))return;let n=WM(e);Object.defineProperties(r,{[e]:{enumerable:!0,configurable:!0,set:s=>{t=s},get:()=>t===void 0?i:t},[`has${n}`]:{configurable:!0,value:()=>t!==void 0},[`set${n}`]:{configurable:!0,value:s=>{t=s}},[`get${n}`]:{configurable:!0,value:()=>t},[`clear${n}`]:{configurable:!0,value:()=>{t=void 0,r[e]=void 0}}})}function zpe(r,e,t){let i=[],n={},s=[],o=[];for(var a=0;a<t.length;a++){let c=r.fields[a];n[c.tag]=a;let l=c.options&&c.options.default,h=e(c.type,r.id,!1);o[a]=[l,h&&h.values],r.fields[a].packed=c.repeated&&c.options&&c.options.packed&&c.options.packed!=="false",c.required&&i.push(c.name),c.oneof&&s.push(c.name)}function f(c,l,h,x,_,E,C){let L=l.name;if(l.oneof){let ee=Object.keys(h);for(var O=0;O<ee.length;O++)if(s.indexOf(ee[O])>-1){let N=WM(ee[O]);delete h[`has${N}`],delete h[`get${N}`],delete h[`set${N}`],delete h[`clear${N}`],delete h[ee[O]]}}let W;if(c.message){let ee=cf.decode(x,E);E+=cf.decode.bytes;let N=c.decode(x,_,E,E+ee);l.map?(W=h[L]||{},W[N.key]=N.value):l.repeated?(W=h[L]||[],W.push(N)):W=N}else l.repeated?(W=h[L]||[],W.push(c.decode(x,_,E))):W=c.decode(x,_,E);return ZM(h,L,W),E+=c.decode.bytes,E}return function c(l,h,x,_){if(x==null&&(x=0),_==null&&(_=l.length),!(_<=l.length&&x<=l.length))throw new Error("Decoded message is not valid");h||(h=new DataView(l.buffer,l.byteOffset,l.byteLength));for(var E=x,C={},L;;){if(_<=x){var O="",W=0;for(W=0;W<i.length;W++)if(O=i[W],!Kpe(C[O]))throw new Error("Decoded message is not valid, missing required field: "+O);var ee,N;for(W=0;W<t.length;W++){L=r.fields[W],N=o[W][0],ee=o[W][1],O=L.name;let v;if(!Object.prototype.hasOwnProperty.call(C,O)){var V=!1;if(L.oneof){for(var z=Object.keys(C),F=0;F<z.length;F++)if(s.indexOf(z[F])>-1){V=!0;break}}V||(ee?L.repeated?N=[]:(N=N&&ee[N]?ee[N].value:ee[Object.keys(ee)[0]].value,N=parseInt(N||0,10)):(v=Vpe(L),N=Hpe(L,N)),ZM(C,O,N,v))}}return c.bytes=x-E,C}var H=cf.decode(l,x);x+=cf.decode.bytes;var K=H>>3,S=n[K];if(S==null){x=jpe(H&7,l,h,x);continue}var w=t[S];if(L=r.fields[S],L.packed){var T=cf.decode(l,x);for(x+=cf.decode.bytes,T+=x;x<T;)x=f(w,L,C,l,h,x,S)}else x=f(w,L,C,l,h,x,S)}}}var jpe=function(r,e,t,i){switch(r){case 0:return cf.decode(e,i),i+cf.decode.bytes;case 1:return i+8;case 2:var n=cf.decode(e,i);return i+cf.decode.bytes+n;case 3:case 4:throw new Error("Groups are not supported");case 5:return i+4;default:throw new Error("Unknown wire type: "+r)}},Vpe=function(r){if(r.map)return{};if(r.repeated)return[];switch(r.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},Hpe=function(r,e){if(e===void 0)return e;switch(r.type){case"bool":return e==="true";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(e,10);default:return e}};JM.exports=zpe});var tR=M((Hje,eR)=>{"use strict";var QM=My().defined,kd=ls();function $pe(r,e,t,i,n){let s=Object.keys(i),o=t.length,a={};for(let c=0;c<o;c++){a[c]={p:kd.encode(r.fields[c].tag<<3|2),h:kd.encode(r.fields[c].tag<<3|t[c].type)};let l=r.fields[c];r.fields[c].packed=l.repeated&&l.options&&l.options.packed&&l.options.packed!=="false"}function f(c,l,h,x,_,E,C){let L=0;if(!E)for(L=0;L<x.length;L++)c[h++]=x[L];return _.message&&(kd.encode(_.encodingLength(C),c,h),h+=kd.encode.bytes),_.encode(C,c,l,h),h+_.encode.bytes}return function c(l,h,x,_=0){h==null&&(h=new Uint8Array(n(l))),x==null&&(x=new DataView(h.buffer,h.byteOffset,h.byteLength));let E=_,C=Object.keys(l),L=0,O=!1;for(L=0;L<s.length;L++){let W=s[L],ee=i[L];if(C.indexOf(ee)>-1){if(O)throw new Error("only one of the properties defined in oneof "+W+" can be set");O=!0}}for(L=0;L<o;L++){let W=t[L],ee=r.fields[L],N=l[ee.name],V=0;if(!QM(N)){if(ee.required)throw new Error(ee.name+" is required");continue}let z=a[L].p,F=a[L].h,H=ee.packed;if(ee.map){let K=Object.keys(N);for(V=0;V<K.length;V++)K[V]={key:K[V],value:N[K[V]]};N=K}if(H){let K=0;for(V=0;V<N.length;V++)!Object.prototype.hasOwnProperty.call(N,V)||(K+=W.encodingLength(N[V]));if(K){for(V=0;V<F.length;V++)h[_++]=z[V];kd.encode(K,h,_),_+=kd.encode.bytes}}if(ee.repeated){let K;for(V=0;V<N.length;V++)K=N[V],!!QM(K)&&(_=f(h,x,_,F,W,H,K))}else _=f(h,x,_,F,W,H,N)}return c.bytes=_-E,h}}eR.exports=$pe});var iR=M(($je,rR)=>{"use strict";var Ry=My().defined,Wp=ls();function Gpe(r,e,t){let i=Object.keys(t),n=e.length,s=new Array(n);for(let o=0;o<r.fields.length;o++){s[o]=Wp.encodingLength(r.fields[o].tag<<3|e[o].type);let a=r.fields[o];r.fields[o].packed=a.repeated&&a.options&&a.options.packed&&a.options.packed!=="false"}return function(a){let f=0,c=0,l=0;for(c=0;c<i.length;c++){let h=i[c],x=t[h],_=!1;for(l=0;l<x.length;l++)if(Ry(a[x[l]])){if(_)throw new Error("only one of the properties defined in oneof "+h+" can be set");_=!0}}for(c=0;c<n;c++){let h=e[c],x=r.fields[c],_=a[x.name],E=s[c],C;if(!Ry(_)){if(x.required)throw new Error(x.name+" is required");continue}if(x.map){let L=Object.keys(_);for(l=0;l<L.length;l++)L[l]={key:L[l],value:_[L[l]]};_=L}if(x.packed){let L=0;for(l=0;l<_.length;l++)!Ry(_[l])||(C=h.encodingLength(_[l]),L+=C,h.message&&(L+=Wp.encodingLength(C)));L&&(f+=E+L+Wp.encodingLength(L))}else if(x.repeated)for(l=0;l<_.length;l++)!Ry(_[l])||(C=h.encodingLength(_[l]),f+=E+C+(h.message?Wp.encodingLength(C):0));else C=h.encodingLength(_),f+=E+C+(h.message?Wp.encodingLength(C):0)}return f}}rR.exports=Gpe});var sR=M((Gje,nR)=>{"use strict";var Mv=GM(),Ype=XM(),Wpe=tR(),Zpe=iR(),Zp=ls(),Jpe=function(r){if(!r)return null;let e={};return Object.keys(r).forEach(function(t){e[t]=r[t].value}),e};nR.exports=function(r,e){let t={},i={},n={},s=function(c,l){c.enums&&c.enums.forEach(function(h){h.id=l+(l?".":"")+h.name,i[h.id]=h,s(h,h.id)}),c.messages&&c.messages.forEach(function(h){h.id=l+(l?".":"")+h.name,t[h.id]=h,h.fields.forEach(function(x){if(!x.map)return;let _="Map_"+x.map.from+"_"+x.map.to,E={name:_,enums:[],messages:[],fields:[{name:"key",type:x.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:x.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:l+(l?".":"")+_};t[E.id]||(t[E.id]=E,c.messages.push(E)),x.type=_,x.repeated=!0}),s(h,h.id)})};s(r,"");let o=function(c){let l=Object.keys(c.values||[]).map(function(_){return parseInt(c.values[_].value,10)}),h=function _(E,C,L,O){if(!l.length||l.indexOf(E)===-1)throw new Error("Invalid enum value: "+E);return Zp.encode(E,C,O),_.bytes=Zp.encode.bytes,C},x=function _(E,C,L){var O=Zp.decode(E,L);if(!l.length||l.indexOf(O)===-1)throw new Error("Invalid enum value: "+O);return _.bytes=Zp.decode.bytes,O};return Mv.make(0,h,x,Zp.encodingLength)},a=function(c,l){c.messages.forEach(function(L){l[L.name]=f(L.name,c.id)}),c.enums.forEach(function(L){l[L.name]=Jpe(L.values)}),l.type=2,l.message=!0,l.name=c.name;let h={};c.fields.forEach(function(L){!L.oneof||(h[L.oneof]||(h[L.oneof]=[]),h[L.oneof].push(L.name))});let x=c.fields.map(function(L){return f(L.type,c.id)}),_=Zpe(c,x,h),E=Wpe(c,f,x,h,_),C=Ype(c,f,x);return E.bytes=C.bytes=0,l.buffer=!0,l.encode=E,l.decode=C,l.encodingLength=_,l},f=function(c,l,h){if(e&&e[c])return e[c];if(Mv[c])return Mv[c];let x=(l?l+"."+c:c).split(".").map(function(E,C,L){return L.slice(0,C).concat(c).join(".")}).reverse().reduce(function(E,C){return E||t[C]||i[C]},null);if(h===!1)return x;if(!x)throw new Error("Could not resolve "+c);return x.values?o(x):n[x.id]||a(x,n[x.id]={})};return(r.enums||[]).concat((r.messages||[]).map(function(c){return f(c.id)}))}});var fR=M((Yje,aR)=>{"use strict";var oR=AB(),Xpe=sR(),Qpe=function(r){if(!r)return null;var e={};return Object.keys(r).forEach(function(t){e[t]=r[t].value}),e};aR.exports=function(r,e){if(e||(e={}),!r)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var t=typeof r=="object"&&!(r instanceof Uint8Array)?r:oR.parse(r),i=function(){var n=this;Xpe(t,e.encodings||{}).forEach(function(s){n[s.name]=Qpe(s.values)||s})};return i.prototype.toString=function(){return oR.stringify(t)},i.prototype.toJSON=function(){return t},new i}});var wR=M((lVe,xR)=>{"use strict";var vR=class{constructor(e,t,i,n){this.name=e,this.code=t,this.alphabet=n,i&&n&&(this.engine=i(n))}encode(e){return this.engine.encode(e)}decode(e){return this.engine.decode(e)}isImplemented(){return this.engine}};xR.exports=vR});var ER=M((dVe,_R)=>{"use strict";var Ly=fr().Buffer;function i2e(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var i=0;i<r.length;i++){var n=r.charAt(i),s=n.charCodeAt(0);if(e[s]!==255)throw new TypeError(n+" is ambiguous");e[s]=i}var o=r.length,a=r.charAt(0),f=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function l(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=Ly.from(_)),!Ly.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var E=0,C=0,L=0,O=_.length;L!==O&&_[L]===0;)L++,E++;for(var W=(O-L)*c+1>>>0,ee=new Uint8Array(W);L!==O;){for(var N=_[L],V=0,z=W-1;(N!==0||V<C)&&z!==-1;z--,V++)N+=256*ee[z]>>>0,ee[z]=N%o>>>0,N=N/o>>>0;if(N!==0)throw new Error("Non-zero carry");C=V,L++}for(var F=W-C;F!==W&&ee[F]===0;)F++;for(var H=a.repeat(E);F<W;++F)H+=r.charAt(ee[F]);return H}function h(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return Ly.alloc(0);var E=0;if(_[E]!==" "){for(var C=0,L=0;_[E]===a;)C++,E++;for(var O=(_.length-E)*f+1>>>0,W=new Uint8Array(O);_[E];){var ee=e[_.charCodeAt(E)];if(ee===255)return;for(var N=0,V=O-1;(ee!==0||N<L)&&V!==-1;V--,N++)ee+=o*W[V]>>>0,W[V]=ee%256>>>0,ee=ee/256>>>0;if(ee!==0)throw new Error("Non-zero carry");L=N,E++}if(_[E]!==" "){for(var z=O-L;z!==O&&W[z]===0;)z++;var F=Ly.allocUnsafe(C+(O-z));F.fill(0,0,C);for(var H=C;z!==O;)F[H++]=W[z++];return F}}}function x(_){var E=h(_);if(E)return E;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:h,decode:x}}_R.exports=i2e});var IR=M((hVe,AR)=>{"use strict";var{Buffer:SR}=Fi();AR.exports=function(e){return{encode(t){return typeof t=="string"?SR.from(t).toString("hex"):t.toString("hex")},decode(t){for(let i of t)if(e.indexOf(i)<0)throw new Error("invalid base16 character");return SR.from(t,"hex")}}}});var CR=M((pVe,kR)=>{"use strict";function n2e(r,e){r=r.replace(new RegExp("=","g"),"");let t=r.length,i=0,n=0,s=0,o=new Uint8Array(t*5/8|0);for(let a=0;a<t;a++)n=n<<5|e.indexOf(r[a]),i+=5,i>=8&&(o[s++]=n>>>i-8&255,i-=8);return o.buffer}function TR(r,e){let t=r.byteLength,i=new Uint8Array(r),n=e.indexOf("=")===e.length-1;n&&(e=e.substring(0,e.length-1));let s=0,o=0,a="";for(let f=0;f<t;f++)for(o=o<<8|i[f],s+=8;s>=5;)a+=e[o>>>s-5&31],s-=5;if(s>0&&(a+=e[o<<5-s&31]),n)for(;a.length%8!=0;)a+="=";return a}kR.exports=function(e){return{encode(t){return typeof t=="string"?TR(Uint8Array.from(t),e):TR(t,e)},decode(t){for(let i of t)if(e.indexOf(i)<0)throw new Error("invalid base32 character");return n2e(t,e)}}}});var RR=M((bVe,MR)=>{"use strict";var{Buffer:BR}=Fi();MR.exports=function(e){let t=e.indexOf("=")>-1,i=e.indexOf("-")>-1&&e.indexOf("_")>-1;return{encode(n){let s="";typeof n=="string"?s=BR.from(n).toString("base64"):s=n.toString("base64"),i&&(s=s.replace(/\+/g,"-").replace(/\//g,"_"));let o=s.indexOf("=");return o>0&&!t&&(s=s.substring(0,o)),s},decode(n){for(let s of n)if(e.indexOf(s)<0)throw new Error("invalid base64 character");return BR.from(n,"base64")}}}});var OR=M((yVe,qR)=>{"use strict";var s2e=wR(),Qp=ER(),o2e=IR(),e2=CR(),Uy=RR(),NR=[["base1","1","","1"],["base2","0",Qp,"01"],["base8","7",Qp,"01234567"],["base10","9",Qp,"0123456789"],["base16","f",o2e,"0123456789abcdef"],["base32","b",e2,"abcdefghijklmnopqrstuvwxyz234567"],["base32pad","c",e2,"abcdefghijklmnopqrstuvwxyz234567="],["base32hex","v",e2,"0123456789abcdefghijklmnopqrstuv"],["base32hexpad","t",e2,"0123456789abcdefghijklmnopqrstuv="],["base32z","h",e2,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",Qp,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",Qp,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",Uy,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",Uy,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",Uy,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",Uy,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],PR=NR.reduce((r,e)=>(r[e[0]]=new s2e(e[0],e[1],e[2],e[3]),r),{}),a2e=NR.reduce((r,e)=>(r[e[1]]=PR[e[0]],r),{});qR.exports={names:PR,codes:a2e}});var UR=M((mu,LR)=>{"use strict";var{Buffer:yu}=Fi(),Bd=OR();mu=LR.exports=DR;mu.encode=f2e;mu.decode=c2e;mu.isEncoded=u2e;mu.names=Object.freeze(Object.keys(Bd.names));mu.codes=Object.freeze(Object.keys(Bd.codes));function DR(r,e){if(!e)throw new Error("requires an encoded buffer");let t=t2(r),i=yu.from(t.code),n=t.name;return l2e(n,e),yu.concat([i,e])}function f2e(r,e){let t=t2(r),i=t.name;return DR(i,yu.from(t.encode(e)))}function c2e(r){yu.isBuffer(r)&&(r=r.toString());let e=r.substring(0,1);r=r.substring(1,r.length),typeof r=="string"&&(r=yu.from(r));let t=t2(e);return yu.from(t.decode(r.toString()))}function u2e(r){if(yu.isBuffer(r)&&(r=r.toString()),Object.prototype.toString.call(r)!=="[object String]")return!1;let e=r.substring(0,1);try{return t2(e).name}catch(t){return!1}}function l2e(r,e){t2(r).decode(e.toString())}function t2(r){let e;if(Bd.names[r])e=Bd.names[r];else if(Bd.codes[r])e=Bd.codes[r];else throw new Error("Unsupported encoding");if(!e.isImplemented())throw new Error("Base "+r+" is not implemented yet");return e}});var FR=M(Fy=>{"use strict";Fy.names=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"dbl-sha2-256":86,"sha3-224":23,"sha3-256":22,"sha3-384":21,"sha3-512":20,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"murmur3-128":34,"murmur3-32":35,md4:212,md5:213,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"Skein256-8":45825,"Skein256-16":45826,"Skein256-24":45827,"Skein256-32":45828,"Skein256-40":45829,"Skein256-48":45830,"Skein256-56":45831,"Skein256-64":45832,"Skein256-72":45833,"Skein256-80":45834,"Skein256-88":45835,"Skein256-96":45836,"Skein256-104":45837,"Skein256-112":45838,"Skein256-120":45839,"Skein256-128":45840,"Skein256-136":45841,"Skein256-144":45842,"Skein256-152":45843,"Skein256-160":45844,"Skein256-168":45845,"Skein256-176":45846,"Skein256-184":45847,"Skein256-192":45848,"Skein256-200":45849,"Skein256-208":45850,"Skein256-216":45851,"Skein256-224":45852,"Skein256-232":45853,"Skein256-240":45854,"Skein256-248":45855,"Skein256-256":45856,"Skein512-8":45857,"Skein512-16":45858,"Skein512-24":45859,"Skein512-32":45860,"Skein512-40":45861,"Skein512-48":45862,"Skein512-56":45863,"Skein512-64":45864,"Skein512-72":45865,"Skein512-80":45866,"Skein512-88":45867,"Skein512-96":45868,"Skein512-104":45869,"Skein512-112":45870,"Skein512-120":45871,"Skein512-128":45872,"Skein512-136":45873,"Skein512-144":45874,"Skein512-152":45875,"Skein512-160":45876,"Skein512-168":45877,"Skein512-176":45878,"Skein512-184":45879,"Skein512-192":45880,"Skein512-200":45881,"Skein512-208":45882,"Skein512-216":45883,"Skein512-224":45884,"Skein512-232":45885,"Skein512-240":45886,"Skein512-248":45887,"Skein512-256":45888,"Skein512-264":45889,"Skein512-272":45890,"Skein512-280":45891,"Skein512-288":45892,"Skein512-296":45893,"Skein512-304":45894,"Skein512-312":45895,"Skein512-320":45896,"Skein512-328":45897,"Skein512-336":45898,"Skein512-344":45899,"Skein512-352":45900,"Skein512-360":45901,"Skein512-368":45902,"Skein512-376":45903,"Skein512-384":45904,"Skein512-392":45905,"Skein512-400":45906,"Skein512-408":45907,"Skein512-416":45908,"Skein512-424":45909,"Skein512-432":45910,"Skein512-440":45911,"Skein512-448":45912,"Skein512-456":45913,"Skein512-464":45914,"Skein512-472":45915,"Skein512-480":45916,"Skein512-488":45917,"Skein512-496":45918,"Skein512-504":45919,"Skein512-512":45920,"Skein1024-8":45921,"Skein1024-16":45922,"Skein1024-24":45923,"Skein1024-32":45924,"Skein1024-40":45925,"Skein1024-48":45926,"Skein1024-56":45927,"Skein1024-64":45928,"Skein1024-72":45929,"Skein1024-80":45930,"Skein1024-88":45931,"Skein1024-96":45932,"Skein1024-104":45933,"Skein1024-112":45934,"Skein1024-120":45935,"Skein1024-128":45936,"Skein1024-136":45937,"Skein1024-144":45938,"Skein1024-152":45939,"Skein1024-160":45940,"Skein1024-168":45941,"Skein1024-176":45942,"Skein1024-184":45943,"Skein1024-192":45944,"Skein1024-200":45945,"Skein1024-208":45946,"Skein1024-216":45947,"Skein1024-224":45948,"Skein1024-232":45949,"Skein1024-240":45950,"Skein1024-248":45951,"Skein1024-256":45952,"Skein1024-264":45953,"Skein1024-272":45954,"Skein1024-280":45955,"Skein1024-288":45956,"Skein1024-296":45957,"Skein1024-304":45958,"Skein1024-312":45959,"Skein1024-320":45960,"Skein1024-328":45961,"Skein1024-336":45962,"Skein1024-344":45963,"Skein1024-352":45964,"Skein1024-360":45965,"Skein1024-368":45966,"Skein1024-376":45967,"Skein1024-384":45968,"Skein1024-392":45969,"Skein1024-400":45970,"Skein1024-408":45971,"Skein1024-416":45972,"Skein1024-424":45973,"Skein1024-432":45974,"Skein1024-440":45975,"Skein1024-448":45976,"Skein1024-456":45977,"Skein1024-464":45978,"Skein1024-472":45979,"Skein1024-480":45980,"Skein1024-488":45981,"Skein1024-496":45982,"Skein1024-504":45983,"Skein1024-512":45984,"Skein1024-520":45985,"Skein1024-528":45986,"Skein1024-536":45987,"Skein1024-544":45988,"Skein1024-552":45989,"Skein1024-560":45990,"Skein1024-568":45991,"Skein1024-576":45992,"Skein1024-584":45993,"Skein1024-592":45994,"Skein1024-600":45995,"Skein1024-608":45996,"Skein1024-616":45997,"Skein1024-624":45998,"Skein1024-632":45999,"Skein1024-640":46e3,"Skein1024-648":46001,"Skein1024-656":46002,"Skein1024-664":46003,"Skein1024-672":46004,"Skein1024-680":46005,"Skein1024-688":46006,"Skein1024-696":46007,"Skein1024-704":46008,"Skein1024-712":46009,"Skein1024-720":46010,"Skein1024-728":46011,"Skein1024-736":46012,"Skein1024-744":46013,"Skein1024-752":46014,"Skein1024-760":46015,"Skein1024-768":46016,"Skein1024-776":46017,"Skein1024-784":46018,"Skein1024-792":46019,"Skein1024-800":46020,"Skein1024-808":46021,"Skein1024-816":46022,"Skein1024-824":46023,"Skein1024-832":46024,"Skein1024-840":46025,"Skein1024-848":46026,"Skein1024-856":46027,"Skein1024-864":46028,"Skein1024-872":46029,"Skein1024-880":46030,"Skein1024-888":46031,"Skein1024-896":46032,"Skein1024-904":46033,"Skein1024-912":46034,"Skein1024-920":46035,"Skein1024-928":46036,"Skein1024-936":46037,"Skein1024-944":46038,"Skein1024-952":46039,"Skein1024-960":46040,"Skein1024-968":46041,"Skein1024-976":46042,"Skein1024-984":46043,"Skein1024-992":46044,"Skein1024-1000":46045,"Skein1024-1008":46046,"Skein1024-1016":46047,"Skein1024-1024":46048});Fy.codes=Object.freeze({0:"identity",17:"sha1",18:"sha2-256",19:"sha2-512",86:"dbl-sha2-256",23:"sha3-224",22:"sha3-256",21:"sha3-384",20:"sha3-512",24:"shake-128",25:"shake-256",26:"keccak-224",27:"keccak-256",28:"keccak-384",29:"keccak-512",34:"murmur3-128",35:"murmur3-32",212:"md4",213:"md5",45569:"blake2b-8",45570:"blake2b-16",45571:"blake2b-24",45572:"blake2b-32",45573:"blake2b-40",45574:"blake2b-48",45575:"blake2b-56",45576:"blake2b-64",45577:"blake2b-72",45578:"blake2b-80",45579:"blake2b-88",45580:"blake2b-96",45581:"blake2b-104",45582:"blake2b-112",45583:"blake2b-120",45584:"blake2b-128",45585:"blake2b-136",45586:"blake2b-144",45587:"blake2b-152",45588:"blake2b-160",45589:"blake2b-168",45590:"blake2b-176",45591:"blake2b-184",45592:"blake2b-192",45593:"blake2b-200",45594:"blake2b-208",45595:"blake2b-216",45596:"blake2b-224",45597:"blake2b-232",45598:"blake2b-240",45599:"blake2b-248",45600:"blake2b-256",45601:"blake2b-264",45602:"blake2b-272",45603:"blake2b-280",45604:"blake2b-288",45605:"blake2b-296",45606:"blake2b-304",45607:"blake2b-312",45608:"blake2b-320",45609:"blake2b-328",45610:"blake2b-336",45611:"blake2b-344",45612:"blake2b-352",45613:"blake2b-360",45614:"blake2b-368",45615:"blake2b-376",45616:"blake2b-384",45617:"blake2b-392",45618:"blake2b-400",45619:"blake2b-408",45620:"blake2b-416",45621:"blake2b-424",45622:"blake2b-432",45623:"blake2b-440",45624:"blake2b-448",45625:"blake2b-456",45626:"blake2b-464",45627:"blake2b-472",45628:"blake2b-480",45629:"blake2b-488",45630:"blake2b-496",45631:"blake2b-504",45632:"blake2b-512",45633:"blake2s-8",45634:"blake2s-16",45635:"blake2s-24",45636:"blake2s-32",45637:"blake2s-40",45638:"blake2s-48",45639:"blake2s-56",45640:"blake2s-64",45641:"blake2s-72",45642:"blake2s-80",45643:"blake2s-88",45644:"blake2s-96",45645:"blake2s-104",45646:"blake2s-112",45647:"blake2s-120",45648:"blake2s-128",45649:"blake2s-136",45650:"blake2s-144",45651:"blake2s-152",45652:"blake2s-160",45653:"blake2s-168",45654:"blake2s-176",45655:"blake2s-184",45656:"blake2s-192",45657:"blake2s-200",45658:"blake2s-208",45659:"blake2s-216",45660:"blake2s-224",45661:"blake2s-232",45662:"blake2s-240",45663:"blake2s-248",45664:"blake2s-256",45825:"Skein256-8",45826:"Skein256-16",45827:"Skein256-24",45828:"Skein256-32",45829:"Skein256-40",45830:"Skein256-48",45831:"Skein256-56",45832:"Skein256-64",45833:"Skein256-72",45834:"Skein256-80",45835:"Skein256-88",45836:"Skein256-96",45837:"Skein256-104",45838:"Skein256-112",45839:"Skein256-120",45840:"Skein256-128",45841:"Skein256-136",45842:"Skein256-144",45843:"Skein256-152",45844:"Skein256-160",45845:"Skein256-168",45846:"Skein256-176",45847:"Skein256-184",45848:"Skein256-192",45849:"Skein256-200",45850:"Skein256-208",45851:"Skein256-216",45852:"Skein256-224",45853:"Skein256-232",45854:"Skein256-240",45855:"Skein256-248",45856:"Skein256-256",45857:"Skein512-8",45858:"Skein512-16",45859:"Skein512-24",45860:"Skein512-32",45861:"Skein512-40",45862:"Skein512-48",45863:"Skein512-56",45864:"Skein512-64",45865:"Skein512-72",45866:"Skein512-80",45867:"Skein512-88",45868:"Skein512-96",45869:"Skein512-104",45870:"Skein512-112",45871:"Skein512-120",45872:"Skein512-128",45873:"Skein512-136",45874:"Skein512-144",45875:"Skein512-152",45876:"Skein512-160",45877:"Skein512-168",45878:"Skein512-176",45879:"Skein512-184",45880:"Skein512-192",45881:"Skein512-200",45882:"Skein512-208",45883:"Skein512-216",45884:"Skein512-224",45885:"Skein512-232",45886:"Skein512-240",45887:"Skein512-248",45888:"Skein512-256",45889:"Skein512-264",45890:"Skein512-272",45891:"Skein512-280",45892:"Skein512-288",45893:"Skein512-296",45894:"Skein512-304",45895:"Skein512-312",45896:"Skein512-320",45897:"Skein512-328",45898:"Skein512-336",45899:"Skein512-344",45900:"Skein512-352",45901:"Skein512-360",45902:"Skein512-368",45903:"Skein512-376",45904:"Skein512-384",45905:"Skein512-392",45906:"Skein512-400",45907:"Skein512-408",45908:"Skein512-416",45909:"Skein512-424",45910:"Skein512-432",45911:"Skein512-440",45912:"Skein512-448",45913:"Skein512-456",45914:"Skein512-464",45915:"Skein512-472",45916:"Skein512-480",45917:"Skein512-488",45918:"Skein512-496",45919:"Skein512-504",45920:"Skein512-512",45921:"Skein1024-8",45922:"Skein1024-16",45923:"Skein1024-24",45924:"Skein1024-32",45925:"Skein1024-40",45926:"Skein1024-48",45927:"Skein1024-56",45928:"Skein1024-64",45929:"Skein1024-72",45930:"Skein1024-80",45931:"Skein1024-88",45932:"Skein1024-96",45933:"Skein1024-104",45934:"Skein1024-112",45935:"Skein1024-120",45936:"Skein1024-128",45937:"Skein1024-136",45938:"Skein1024-144",45939:"Skein1024-152",45940:"Skein1024-160",45941:"Skein1024-168",45942:"Skein1024-176",45943:"Skein1024-184",45944:"Skein1024-192",45945:"Skein1024-200",45946:"Skein1024-208",45947:"Skein1024-216",45948:"Skein1024-224",45949:"Skein1024-232",45950:"Skein1024-240",45951:"Skein1024-248",45952:"Skein1024-256",45953:"Skein1024-264",45954:"Skein1024-272",45955:"Skein1024-280",45956:"Skein1024-288",45957:"Skein1024-296",45958:"Skein1024-304",45959:"Skein1024-312",45960:"Skein1024-320",45961:"Skein1024-328",45962:"Skein1024-336",45963:"Skein1024-344",45964:"Skein1024-352",45965:"Skein1024-360",45966:"Skein1024-368",45967:"Skein1024-376",45968:"Skein1024-384",45969:"Skein1024-392",45970:"Skein1024-400",45971:"Skein1024-408",45972:"Skein1024-416",45973:"Skein1024-424",45974:"Skein1024-432",45975:"Skein1024-440",45976:"Skein1024-448",45977:"Skein1024-456",45978:"Skein1024-464",45979:"Skein1024-472",45980:"Skein1024-480",45981:"Skein1024-488",45982:"Skein1024-496",45983:"Skein1024-504",45984:"Skein1024-512",45985:"Skein1024-520",45986:"Skein1024-528",45987:"Skein1024-536",45988:"Skein1024-544",45989:"Skein1024-552",45990:"Skein1024-560",45991:"Skein1024-568",45992:"Skein1024-576",45993:"Skein1024-584",45994:"Skein1024-592",45995:"Skein1024-600",45996:"Skein1024-608",45997:"Skein1024-616",45998:"Skein1024-624",45999:"Skein1024-632",46e3:"Skein1024-640",46001:"Skein1024-648",46002:"Skein1024-656",46003:"Skein1024-664",46004:"Skein1024-672",46005:"Skein1024-680",46006:"Skein1024-688",46007:"Skein1024-696",46008:"Skein1024-704",46009:"Skein1024-712",46010:"Skein1024-720",46011:"Skein1024-728",46012:"Skein1024-736",46013:"Skein1024-744",46014:"Skein1024-752",46015:"Skein1024-760",46016:"Skein1024-768",46017:"Skein1024-776",46018:"Skein1024-784",46019:"Skein1024-792",46020:"Skein1024-800",46021:"Skein1024-808",46022:"Skein1024-816",46023:"Skein1024-824",46024:"Skein1024-832",46025:"Skein1024-840",46026:"Skein1024-848",46027:"Skein1024-856",46028:"Skein1024-864",46029:"Skein1024-872",46030:"Skein1024-880",46031:"Skein1024-888",46032:"Skein1024-896",46033:"Skein1024-904",46034:"Skein1024-912",46035:"Skein1024-920",46036:"Skein1024-928",46037:"Skein1024-936",46038:"Skein1024-944",46039:"Skein1024-952",46040:"Skein1024-960",46041:"Skein1024-968",46042:"Skein1024-976",46043:"Skein1024-984",46044:"Skein1024-992",46045:"Skein1024-1000",46046:"Skein1024-1008",46047:"Skein1024-1016",46048:"Skein1024-1024"});Fy.defaultLengths=Object.freeze({17:20,18:32,19:64,86:32,23:28,22:32,21:48,20:64,24:32,25:64,26:28,27:32,28:48,29:64,34:32,45569:1,45570:2,45571:3,45572:4,45573:5,45574:6,45575:7,45576:8,45577:9,45578:10,45579:11,45580:12,45581:13,45582:14,45583:15,45584:16,45585:17,45586:18,45587:19,45588:20,45589:21,45590:22,45591:23,45592:24,45593:25,45594:26,45595:27,45596:28,45597:29,45598:30,45599:31,45600:32,45601:33,45602:34,45603:35,45604:36,45605:37,45606:38,45607:39,45608:40,45609:41,45610:42,45611:43,45612:44,45613:45,45614:46,45615:47,45616:48,45617:49,45618:50,45619:51,45620:52,45621:53,45622:54,45623:55,45624:56,45625:57,45626:58,45627:59,45628:60,45629:61,45630:62,45631:63,45632:64,45633:1,45634:2,45635:3,45636:4,45637:5,45638:6,45639:7,45640:8,45641:9,45642:10,45643:11,45644:12,45645:13,45646:14,45647:15,45648:16,45649:17,45650:18,45651:19,45652:20,45653:21,45654:22,45655:23,45656:24,45657:25,45658:26,45659:27,45660:28,45661:29,45662:30,45663:31,45664:32,45825:1,45826:2,45827:3,45828:4,45829:5,45830:6,45831:7,45832:8,45833:9,45834:10,45835:11,45836:12,45837:13,45838:14,45839:15,45840:16,45841:17,45842:18,45843:19,45844:20,45845:21,45846:22,45847:23,45848:24,45849:25,45850:26,45851:27,45852:28,45853:29,45854:30,45855:31,45856:32,45857:1,45858:2,45859:3,45860:4,45861:5,45862:6,45863:7,45864:8,45865:9,45866:10,45867:11,45868:12,45869:13,45870:14,45871:15,45872:16,45873:17,45874:18,45875:19,45876:20,45877:21,45878:22,45879:23,45880:24,45881:25,45882:26,45883:27,45884:28,45885:29,45886:30,45887:31,45888:32,45889:33,45890:34,45891:35,45892:36,45893:37,45894:38,45895:39,45896:40,45897:41,45898:42,45899:43,45900:44,45901:45,45902:46,45903:47,45904:48,45905:49,45906:50,45907:51,45908:52,45909:53,45910:54,45911:55,45912:56,45913:57,45914:58,45915:59,45916:60,45917:61,45918:62,45919:63,45920:64,45921:1,45922:2,45923:3,45924:4,45925:5,45926:6,45927:7,45928:8,45929:9,45930:10,45931:11,45932:12,45933:13,45934:14,45935:15,45936:16,45937:17,45938:18,45939:19,45940:20,45941:21,45942:22,45943:23,45944:24,45945:25,45946:26,45947:27,45948:28,45949:29,45950:30,45951:31,45952:32,45953:33,45954:34,45955:35,45956:36,45957:37,45958:38,45959:39,45960:40,45961:41,45962:42,45963:43,45964:44,45965:45,45966:46,45967:47,45968:48,45969:49,45970:50,45971:51,45972:52,45973:53,45974:54,45975:55,45976:56,45977:57,45978:58,45979:59,45980:60,45981:61,45982:62,45983:63,45984:64,45985:65,45986:66,45987:67,45988:68,45989:69,45990:70,45991:71,45992:72,45993:73,45994:74,45995:75,45996:76,45997:77,45998:78,45999:79,46e3:80,46001:81,46002:82,46003:83,46004:84,46005:85,46006:86,46007:87,46008:88,46009:89,46010:90,46011:91,46012:92,46013:93,46014:94,46015:95,46016:96,46017:97,46018:98,46019:99,46020:100,46021:101,46022:102,46023:103,46024:104,46025:105,46026:106,46027:107,46028:108,46029:109,46030:110,46031:111,46032:112,46033:113,46034:114,46035:115,46036:116,46037:117,46038:118,46039:119,46040:120,46041:121,46042:122,46043:123,46044:124,46045:125,46046:126,46047:127,46048:128})});var jR=M(Yi=>{"use strict";var{Buffer:f0}=Fi(),KR=UR(),Md=ls(),oc=FR();Yi.names=oc.names;Yi.codes=oc.codes;Yi.defaultLengths=oc.defaultLengths;Yi.toHexString=function(e){if(!f0.isBuffer(e))throw new Error("must be passed a buffer");return e.toString("hex")};Yi.fromHexString=function(e){return f0.from(e,"hex")};Yi.toB58String=function(e){if(!f0.isBuffer(e))throw new Error("must be passed a buffer");return KR.encode("base58btc",e).toString().slice(1)};Yi.fromB58String=function(e){let t=e;return f0.isBuffer(e)&&(t=e.toString()),KR.decode("z"+t)};Yi.decode=function(e){if(!f0.isBuffer(e))throw new Error("multihash must be a Buffer");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");let t=Md.decode(e);if(!Yi.isValidCode(t))throw new Error(`multihash unknown function code: 0x${t.toString(16)}`);e=e.slice(Md.decode.bytes);let i=Md.decode(e);if(i<0)throw new Error(`multihash invalid length: ${i}`);if(e=e.slice(Md.decode.bytes),e.length!==i)throw new Error(`multihash length inconsistent: 0x${e.toString("hex")}`);return{code:t,name:oc.codes[t],length:i,digest:e}};Yi.encode=function(e,t,i){if(!e||t===void 0)throw new Error("multihash encode requires at least two args: digest, code");let n=Yi.coerceCode(t);if(!f0.isBuffer(e))throw new Error("digest should be a Buffer");if(i==null&&(i=e.length),i&&e.length!==i)throw new Error("digest length should be equal to specified length.");return f0.concat([f0.from(Md.encode(n)),f0.from(Md.encode(i)),e])};Yi.coerceCode=function(e){let t=e;if(typeof e=="string"){if(oc.names[e]===void 0)throw new Error(`Unrecognized hash function named: ${e}`);t=oc.names[e]}if(typeof t!="number")throw new Error(`Hash function code should be a number. Got: ${t}`);if(oc.codes[t]===void 0&&!Yi.isAppCode(t))throw new Error(`Unrecognized function code: ${t}`);return t};Yi.isAppCode=function(e){return e>0&&e<16};Yi.isValidCode=function(e){return!!(Yi.isAppCode(e)||oc.codes[e])};function zR(r){Yi.decode(r)}Yi.validate=zR;Yi.prefix=function(e){return zR(e),e.slice(0,2)}});var qv=M((vVe,VR)=>{var d2e="Input must be an string, Buffer or Uint8Array";function h2e(r){var e;if(r instanceof Uint8Array)e=r;else if(r instanceof Buffer)e=new Uint8Array(r);else if(typeof r=="string")e=new Uint8Array(Buffer.from(r,"utf8"));else throw new Error(d2e);return e}function p2e(r){return Array.prototype.map.call(r,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Ky(r){return(4294967296+r).toString(16).substring(1)}function b2e(r,e,t){for(var i=`
`+r+" = ",n=0;n<e.length;n+=2){if(t===32)i+=Ky(e[n]).toUpperCase(),i+=" ",i+=Ky(e[n+1]).toUpperCase();else if(t===64)i+=Ky(e[n+1]).toUpperCase(),i+=Ky(e[n]).toUpperCase();else throw new Error("Invalid size "+t);n%6==4?i+=`
`+new Array(r.length+4).join(" "):n<e.length-2&&(i+=" ")}console.log(i)}function y2e(r,e,t){for(var i=new Date().getTime(),n=new Uint8Array(e),s=0;s<e;s++)n[s]=s%256;var o=new Date().getTime();for(console.log("Generated random input in "+(o-i)+"ms"),i=o,s=0;s<t;s++){var a=r(n),f=new Date().getTime(),c=f-i;i=f,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}VR.exports={normalizeInput:h2e,toHex:p2e,debugPrint:b2e,testSpeed:y2e}});var QR=M((xVe,XR)=>{var HR=qv();function zy(r,e,t){var i=r[e]+r[t],n=r[e+1]+r[t+1];i>=4294967296&&n++,r[e]=i,r[e+1]=n}function $R(r,e,t,i){var n=r[e]+t;t<0&&(n+=4294967296);var s=r[e+1]+i;n>=4294967296&&s++,r[e]=n,r[e+1]=s}function m2e(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function ac(r,e,t,i,n,s){var o=r2[n],a=r2[n+1],f=r2[s],c=r2[s+1];zy(cr,r,e),$R(cr,r,o,a);var l=cr[i]^cr[r],h=cr[i+1]^cr[r+1];cr[i]=h,cr[i+1]=l,zy(cr,t,i),l=cr[e]^cr[t],h=cr[e+1]^cr[t+1],cr[e]=l>>>24^h<<8,cr[e+1]=h>>>24^l<<8,zy(cr,r,e),$R(cr,r,f,c),l=cr[i]^cr[r],h=cr[i+1]^cr[r+1],cr[i]=l>>>16^h<<16,cr[i+1]=h>>>16^l<<16,zy(cr,t,i),l=cr[e]^cr[t],h=cr[e+1]^cr[t+1],cr[e]=h>>>31^l<<1,cr[e+1]=l>>>31^h<<1}var GR=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),g2e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Gn=new Uint8Array(g2e.map(function(r){return r*2})),cr=new Uint32Array(32),r2=new Uint32Array(32);function YR(r,e){var t=0;for(t=0;t<16;t++)cr[t]=r.h[t],cr[t+16]=GR[t];for(cr[24]=cr[24]^r.t,cr[25]=cr[25]^r.t/4294967296,e&&(cr[28]=~cr[28],cr[29]=~cr[29]),t=0;t<32;t++)r2[t]=m2e(r.b,4*t);for(t=0;t<12;t++)ac(0,8,16,24,Gn[t*16+0],Gn[t*16+1]),ac(2,10,18,26,Gn[t*16+2],Gn[t*16+3]),ac(4,12,20,28,Gn[t*16+4],Gn[t*16+5]),ac(6,14,22,30,Gn[t*16+6],Gn[t*16+7]),ac(0,10,20,30,Gn[t*16+8],Gn[t*16+9]),ac(2,12,22,24,Gn[t*16+10],Gn[t*16+11]),ac(4,14,16,26,Gn[t*16+12],Gn[t*16+13]),ac(6,8,18,28,Gn[t*16+14],Gn[t*16+15]);for(t=0;t<16;t++)r.h[t]=r.h[t]^cr[t]^cr[t+16]}function WR(r,e){if(r===0||r>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var t={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:r},i=0;i<16;i++)t.h[i]=GR[i];var n=e?e.length:0;return t.h[0]^=16842752^n<<8^r,e&&(Ov(t,e),t.c=128),t}function Ov(r,e){for(var t=0;t<e.length;t++)r.c===128&&(r.t+=r.c,YR(r,!1),r.c=0),r.b[r.c++]=e[t]}function ZR(r){for(r.t+=r.c;r.c<128;)r.b[r.c++]=0;YR(r,!0);for(var e=new Uint8Array(r.outlen),t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3);return e}function JR(r,e,t){t=t||64,r=HR.normalizeInput(r);var i=WR(t,e);return Ov(i,r),ZR(i)}function v2e(r,e,t){var i=JR(r,e,t);return HR.toHex(i)}XR.exports={blake2b:JR,blake2bHex:v2e,blake2bInit:WR,blake2bUpdate:Ov,blake2bFinal:ZR}});var aN=M((wVe,oN)=>{var eN=qv();function x2e(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function fc(r,e,t,i,n,s){Ur[r]=Ur[r]+Ur[e]+n,Ur[i]=jy(Ur[i]^Ur[r],16),Ur[t]=Ur[t]+Ur[i],Ur[e]=jy(Ur[e]^Ur[t],12),Ur[r]=Ur[r]+Ur[e]+s,Ur[i]=jy(Ur[i]^Ur[r],8),Ur[t]=Ur[t]+Ur[i],Ur[e]=jy(Ur[e]^Ur[t],7)}function jy(r,e){return r>>>e^r<<32-e}var tN=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yn=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Ur=new Uint32Array(16),Ln=new Uint32Array(16);function rN(r,e){var t=0;for(t=0;t<8;t++)Ur[t]=r.h[t],Ur[t+8]=tN[t];for(Ur[12]^=r.t,Ur[13]^=r.t/4294967296,e&&(Ur[14]=~Ur[14]),t=0;t<16;t++)Ln[t]=x2e(r.b,4*t);for(t=0;t<10;t++)fc(0,4,8,12,Ln[Yn[t*16+0]],Ln[Yn[t*16+1]]),fc(1,5,9,13,Ln[Yn[t*16+2]],Ln[Yn[t*16+3]]),fc(2,6,10,14,Ln[Yn[t*16+4]],Ln[Yn[t*16+5]]),fc(3,7,11,15,Ln[Yn[t*16+6]],Ln[Yn[t*16+7]]),fc(0,5,10,15,Ln[Yn[t*16+8]],Ln[Yn[t*16+9]]),fc(1,6,11,12,Ln[Yn[t*16+10]],Ln[Yn[t*16+11]]),fc(2,7,8,13,Ln[Yn[t*16+12]],Ln[Yn[t*16+13]]),fc(3,4,9,14,Ln[Yn[t*16+14]],Ln[Yn[t*16+15]]);for(t=0;t<8;t++)r.h[t]^=Ur[t]^Ur[t+8]}function iN(r,e){if(!(r>0&&r<=32))throw new Error("Incorrect output length, should be in [1, 32]");var t=e?e.length:0;if(e&&!(t>0&&t<=32))throw new Error("Incorrect key length, should be in [1, 32]");var i={h:new Uint32Array(tN),b:new Uint32Array(64),c:0,t:0,outlen:r};return i.h[0]^=16842752^t<<8^r,t>0&&(Dv(i,e),i.c=64),i}function Dv(r,e){for(var t=0;t<e.length;t++)r.c===64&&(r.t+=r.c,rN(r,!1),r.c=0),r.b[r.c++]=e[t]}function nN(r){for(r.t+=r.c;r.c<64;)r.b[r.c++]=0;rN(r,!0);for(var e=new Uint8Array(r.outlen),t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3)&255;return e}function sN(r,e,t){t=t||32,r=eN.normalizeInput(r);var i=iN(t,e);return Dv(i,r),nN(i)}function w2e(r,e,t){var i=sN(r,e,t);return eN.toHex(i)}oN.exports={blake2s:sN,blake2sHex:w2e,blake2sInit:iN,blake2sUpdate:Dv,blake2sFinal:nN}});var Lv=M((_Ve,fN)=>{var i2=QR(),n2=aN();fN.exports={blake2b:i2.blake2b,blake2bHex:i2.blake2bHex,blake2bInit:i2.blake2bInit,blake2bUpdate:i2.blake2bUpdate,blake2bFinal:i2.blake2bFinal,blake2s:n2.blake2s,blake2sHex:n2.blake2sHex,blake2sInit:n2.blake2sInit,blake2sUpdate:n2.blake2sUpdate,blake2sFinal:n2.blake2sFinal}});var lN=M((EVe,uN)=>{"use strict";var Rd=Lv(),_2e=45569,E2e=45633,S2e={init:Rd.blake2bInit,update:Rd.blake2bUpdate,digest:Rd.blake2bFinal},A2e={init:Rd.blake2sInit,update:Rd.blake2sUpdate,digest:Rd.blake2sFinal},cN=class{constructor(e,t){this.hf=t,this.ctx=this.hf.init(e,null)}update(e){if(this.ctx===null)throw new Error("blake2 context is null. (already called digest?)");return this.hf.update(this.ctx,e),this}digest(){let e=this.ctx;return this.ctx=null,Buffer.from(this.hf.digest(e))}};function I2e(r){function e(i,n){return()=>new cN(i,n)}var t;for(t=0;t<64;t++)r[_2e+t]=e(t+1,S2e);for(t=0;t<32;t++)r[E2e+t]=e(t+1,A2e)}uN.exports={addFuncs:I2e}});var hN=M((SVe,dN)=>{"use strict";var uf=vy(),T2e=[[20,uf.sha3_512],[21,uf.sha3_384],[22,uf.sha3_256],[23,uf.sha3_224],[24,uf.shake128,256],[25,uf.shake256,512],[26,uf.keccak224],[27,uf.keccak256],[28,uf.keccak384],[29,uf.keccak512]],Uv=class{constructor(e,t){this.hf=e,this.arg=t,this.input=null}update(e){return this.input=e,this}digest(){let e=this.input,t=this.arg;return Buffer.from(this.hf(e,t),"hex")}};function k2e(r){for(let e of T2e){let t=e[0],i=e[1];e.length===3?r[t]=()=>new Uv(i,e[2]):r[t]=()=>new Uv(i)}}dN.exports={addFuncs:k2e}});var Vy=M((AVe,pN)=>{pN.exports=!1});var c0=M((IVe,Kv)=>{"use strict";var Fv=65536,C2e=4294967295;function B2e(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var M2e=fr().Buffer,Hy=global.crypto||global.msCrypto;Hy&&Hy.getRandomValues?Kv.exports=R2e:Kv.exports=B2e;function R2e(r,e){if(r>C2e)throw new RangeError("requested too many random bytes");var t=M2e.allocUnsafe(r);if(r>0)if(r>Fv)for(var i=0;i<r;i+=Fv)Hy.getRandomValues(t.slice(i,i+Fv));else Hy.getRandomValues(t);return typeof e=="function"?process.nextTick(function(){e(null,t)}):t}});var Wn=M((TVe,zv)=>{"use strict";var Nd=typeof Reflect=="object"?Reflect:null,bN=Nd&&typeof Nd.apply=="function"?Nd.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},$y;Nd&&typeof Nd.ownKeys=="function"?$y=Nd.ownKeys:Object.getOwnPropertySymbols?$y=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:$y=function(e){return Object.getOwnPropertyNames(e)};function N2e(r){console&&console.warn&&console.warn(r)}var yN=Number.isNaN||function(e){return e!==e};function Hr(){Hr.init.call(this)}zv.exports=Hr;zv.exports.once=D2e;Hr.EventEmitter=Hr;Hr.prototype._events=void 0;Hr.prototype._eventsCount=0;Hr.prototype._maxListeners=void 0;var mN=10;function Gy(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Hr,"defaultMaxListeners",{enumerable:!0,get:function(){return mN},set:function(r){if(typeof r!="number"||r<0||yN(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");mN=r}});Hr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Hr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||yN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function gN(r){return r._maxListeners===void 0?Hr.defaultMaxListeners:r._maxListeners}Hr.prototype.getMaxListeners=function(){return gN(this)};Hr.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var f=s[e];if(f===void 0)return!1;if(typeof f=="function")bN(f,this,t);else for(var c=f.length,l=EN(f,c),i=0;i<c;++i)bN(l[i],this,t);return!0};function vN(r,e,t,i){var n,s,o;if(Gy(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o=="function"?o=s[e]=i?[t,o]:[o,t]:i?o.unshift(t):o.push(t),n=gN(r),n>0&&o.length>n&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=e,a.count=o.length,N2e(a)}return r}Hr.prototype.addListener=function(e,t){return vN(this,e,t,!1)};Hr.prototype.on=Hr.prototype.addListener;Hr.prototype.prependListener=function(e,t){return vN(this,e,t,!0)};function P2e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xN(r,e,t){var i={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},n=P2e.bind(i);return n.listener=t,i.wrapFn=n,n}Hr.prototype.once=function(e,t){return Gy(t),this.on(e,xN(this,e,t)),this};Hr.prototype.prependOnceListener=function(e,t){return Gy(t),this.prependListener(e,xN(this,e,t)),this};Hr.prototype.removeListener=function(e,t){var i,n,s,o,a;if(Gy(t),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(s=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){a=i[o].listener,s=o;break}if(s<0)return this;s===0?i.shift():q2e(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};Hr.prototype.off=Hr.prototype.removeListener;Hr.prototype.removeAllListeners=function(e){var t,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),o;for(n=0;n<s.length;++n)o=s[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function wN(r,e,t){var i=r._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?O2e(n):EN(n,n.length)}Hr.prototype.listeners=function(e){return wN(this,e,!0)};Hr.prototype.rawListeners=function(e){return wN(this,e,!1)};Hr.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):_N.call(r,e)};Hr.prototype.listenerCount=_N;function _N(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Hr.prototype.eventNames=function(){return this._eventsCount>0?$y(this._events):[]};function EN(r,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=r[i];return t}function q2e(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function O2e(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function D2e(r,e){return new Promise(function(t,i){function n(o){r.removeListener(e,s),i(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",n),t([].slice.call(arguments))}SN(r,e,s,{once:!0}),e!=="error"&&L2e(r,n,{once:!0})})}function L2e(r,e,t){typeof r.on=="function"&&SN(r,"error",e,t)}function SN(r,e,t,i){if(typeof r.on=="function")i.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function n(s){i.once&&r.removeEventListener(e,n),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}});var jv=M((kVe,AN)=>{AN.exports=Wn().EventEmitter});var Vv=M(()=>{});var CN=M((MVe,kN)=>{"use strict";function IN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function U2e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(t),!0).forEach(function(i){F2e(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):IN(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function F2e(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function K2e(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function TN(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function z2e(r,e,t){return e&&TN(r.prototype,e),t&&TN(r,t),r}var j2e=Fi(),Yy=j2e.Buffer,V2e=Vv(),Hv=V2e.inspect,H2e=Hv&&Hv.custom||"inspect";function $2e(r,e,t){Yy.prototype.copy.call(r,e,t)}kN.exports=function(){function r(){K2e(this,r),this.head=null,this.tail=null,this.length=0}return z2e(r,[{key:"push",value:function(t){var i={data:t,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(t){var i={data:t,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=t+i.data;return n}},{key:"concat",value:function(t){if(this.length===0)return Yy.alloc(0);for(var i=Yy.allocUnsafe(t>>>0),n=this.head,s=0;n;)$2e(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(t,i){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):t===this.head.data.length?n=this.shift():n=i?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var i=this.head,n=1,s=i.data;for(t-=s.length;i=i.next;){var o=i.data,a=t>o.length?o.length:t;if(a===o.length?s+=o:s+=o.slice(0,t),t-=a,t===0){a===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(t){var i=Yy.allocUnsafe(t),n=this.head,s=1;for(n.data.copy(i),t-=n.data.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(o.copy(i,i.length-t,0,a),t-=a,t===0){a===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++s}return this.length-=s,i}},{key:H2e,value:function(t,i){return Hv(this,U2e({},i,{depth:0,customInspect:!1}))}}]),r}()});var Gv=M((RVe,MN)=>{"use strict";function G2e(r,e){var t=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick($v,this,r)):process.nextTick($v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(s){!e&&s?t._writableState?t._writableState.errorEmitted?process.nextTick(Wy,t):(t._writableState.errorEmitted=!0,process.nextTick(BN,t,s)):process.nextTick(BN,t,s):e?(process.nextTick(Wy,t),e(s)):process.nextTick(Wy,t)}),this)}function BN(r,e){$v(r,e),Wy(r)}function Wy(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function Y2e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function $v(r,e){r.emit("error",e)}function W2e(r,e){var t=r._readableState,i=r._writableState;t&&t.autoDestroy||i&&i.autoDestroy?r.destroy(e):r.emit("error",e)}MN.exports={destroy:G2e,undestroy:Y2e,errorOrDestroy:W2e}});var gu=M((NVe,PN)=>{"use strict";function Z2e(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var RN={};function wo(r,e,t){t||(t=Error);function i(s,o,a){return typeof e=="string"?e:e(s,o,a)}var n=function(s){Z2e(o,s);function o(a,f,c){return s.call(this,i(a,f,c))||this}return o}(t);n.prototype.name=t.name,n.prototype.code=r,RN[r]=n}function NN(r,e){if(Array.isArray(r)){var t=r.length;return r=r.map(function(i){return String(i)}),t>2?"one of ".concat(e," ").concat(r.slice(0,t-1).join(", "),", or ")+r[t-1]:t===2?"one of ".concat(e," ").concat(r[0]," or ").concat(r[1]):"of ".concat(e," ").concat(r[0])}else return"of ".concat(e," ").concat(String(r))}function J2e(r,e,t){return r.substr(!t||t<0?0:+t,e.length)===e}function X2e(r,e,t){return(t===void 0||t>r.length)&&(t=r.length),r.substring(t-e.length,t)===e}function Q2e(r,e,t){return typeof t!="number"&&(t=0),t+e.length>r.length?!1:r.indexOf(e,t)!==-1}wo("ERR_INVALID_OPT_VALUE",function(r,e){return'The value "'+e+'" is invalid for option "'+r+'"'},TypeError);wo("ERR_INVALID_ARG_TYPE",function(r,e,t){var i;typeof e=="string"&&J2e(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(X2e(r," argument"))n="The ".concat(r," ").concat(i," ").concat(NN(e,"type"));else{var s=Q2e(r,".")?"property":"argument";n='The "'.concat(r,'" ').concat(s," ").concat(i," ").concat(NN(e,"type"))}return n+=". Received type ".concat(typeof t),n},TypeError);wo("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");wo("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"});wo("ERR_STREAM_PREMATURE_CLOSE","Premature close");wo("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"});wo("ERR_MULTIPLE_CALLBACK","Callback called multiple times");wo("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");wo("ERR_STREAM_WRITE_AFTER_END","write after end");wo("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);wo("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError);wo("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");PN.exports.codes=RN});var Yv=M((PVe,qN)=>{"use strict";var ebe=gu().codes.ERR_INVALID_OPT_VALUE;function tbe(r,e,t){return r.highWaterMark!=null?r.highWaterMark:e?r[t]:null}function rbe(r,e,t,i){var n=tbe(e,i,t);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?t:"highWaterMark";throw new ebe(s,n)}return Math.floor(n)}return r.objectMode?16:16*1024}qN.exports={getHighWaterMark:rbe}});var DN=M((qVe,ON)=>{ON.exports=ibe;function ibe(r,e){if(Wv("noDeprecation"))return r;var t=!1;function i(){if(!t){if(Wv("throwDeprecation"))throw new Error(e);Wv("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}return i}function Wv(r){try{if(!global.localStorage)return!1}catch(t){return!1}var e=global.localStorage[r];return e==null?!1:String(e).toLowerCase()==="true"}});var Xv=M((OVe,jN)=>{"use strict";jN.exports=Mi;function LN(r){var e=this;this.next=null,this.entry=null,this.finish=function(){Bbe(e,r)}}var Pd;Mi.WritableState=s2;var nbe={deprecate:DN()},UN=jv(),Zy=Fi().Buffer,sbe=global.Uint8Array||function(){};function obe(r){return Zy.from(r)}function abe(r){return Zy.isBuffer(r)||r instanceof sbe}var Zv=Gv(),fbe=Yv(),cbe=fbe.getHighWaterMark,cc=gu().codes,ube=cc.ERR_INVALID_ARG_TYPE,lbe=cc.ERR_METHOD_NOT_IMPLEMENTED,dbe=cc.ERR_MULTIPLE_CALLBACK,hbe=cc.ERR_STREAM_CANNOT_PIPE,pbe=cc.ERR_STREAM_DESTROYED,bbe=cc.ERR_STREAM_NULL_VALUES,ybe=cc.ERR_STREAM_WRITE_AFTER_END,mbe=cc.ERR_UNKNOWN_ENCODING,qd=Zv.errorOrDestroy;dr()(Mi,UN);function gbe(){}function s2(r,e,t){Pd=Pd||vu(),r=r||{},typeof t!="boolean"&&(t=e instanceof Pd),this.objectMode=!!r.objectMode,t&&(this.objectMode=this.objectMode||!!r.writableObjectMode),this.highWaterMark=cbe(this,r,"writableHighWaterMark",t),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=r.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){Abe(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=r.emitClose!==!1,this.autoDestroy=!!r.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new LN(this)}s2.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};(function(){try{Object.defineProperty(s2.prototype,"buffer",{get:nbe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(r){}})();var Jy;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Jy=Function.prototype[Symbol.hasInstance],Object.defineProperty(Mi,Symbol.hasInstance,{value:function(e){return Jy.call(this,e)?!0:this!==Mi?!1:e&&e._writableState instanceof s2}})):Jy=function(e){return e instanceof this};function Mi(r){Pd=Pd||vu();var e=this instanceof Pd;if(!e&&!Jy.call(Mi,this))return new Mi(r);this._writableState=new s2(r,this,e),this.writable=!0,r&&(typeof r.write=="function"&&(this._write=r.write),typeof r.writev=="function"&&(this._writev=r.writev),typeof r.destroy=="function"&&(this._destroy=r.destroy),typeof r.final=="function"&&(this._final=r.final)),UN.call(this)}Mi.prototype.pipe=function(){qd(this,new hbe)};function vbe(r,e){var t=new ybe;qd(r,t),process.nextTick(e,t)}function xbe(r,e,t,i){var n;return t===null?n=new bbe:typeof t!="string"&&!e.objectMode&&(n=new ube("chunk",["string","Buffer"],t)),n?(qd(r,n),process.nextTick(i,n),!1):!0}Mi.prototype.write=function(r,e,t){var i=this._writableState,n=!1,s=!i.objectMode&&abe(r);return s&&!Zy.isBuffer(r)&&(r=obe(r)),typeof e=="function"&&(t=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof t!="function"&&(t=gbe),i.ending?vbe(this,t):(s||xbe(this,i,r,t))&&(i.pendingcb++,n=_be(this,i,s,r,e,t)),n};Mi.prototype.cork=function(){this._writableState.corked++};Mi.prototype.uncork=function(){var r=this._writableState;r.corked&&(r.corked--,!r.writing&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&KN(this,r))};Mi.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new mbe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Mi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function wbe(r,e,t){return!r.objectMode&&r.decodeStrings!==!1&&typeof e=="string"&&(e=Zy.from(e,t)),e}Object.defineProperty(Mi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _be(r,e,t,i,n,s){if(!t){var o=wbe(e,i,n);i!==o&&(t=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:t,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Jv(r,e,!1,a,i,n,s);return f}function Jv(r,e,t,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new pbe("write")):t?r._writev(n,e.onwrite):r._write(n,s,e.onwrite),e.sync=!1}function Ebe(r,e,t,i,n){--e.pendingcb,t?(process.nextTick(n,i),process.nextTick(o2,r,e),r._writableState.errorEmitted=!0,qd(r,i)):(n(i),r._writableState.errorEmitted=!0,qd(r,i),o2(r,e))}function Sbe(r){r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0}function Abe(r,e){var t=r._writableState,i=t.sync,n=t.writecb;if(typeof n!="function")throw new dbe;if(Sbe(t),e)Ebe(r,t,i,e,n);else{var s=zN(t)||r.destroyed;!s&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&KN(r,t),i?process.nextTick(FN,r,t,s,n):FN(r,t,s,n)}}function FN(r,e,t,i){t||Ibe(r,e),e.pendingcb--,i(),o2(r,e)}function Ibe(r,e){e.length===0&&e.needDrain&&(e.needDrain=!1,r.emit("drain"))}function KN(r,e){e.bufferProcessing=!0;var t=e.bufferedRequest;if(r._writev&&t&&t.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=t;for(var o=0,a=!0;t;)n[o]=t,t.isBuf||(a=!1),t=t.next,o+=1;n.allBuffers=a,Jv(r,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new LN(e),e.bufferedRequestCount=0}else{for(;t;){var f=t.chunk,c=t.encoding,l=t.callback,h=e.objectMode?1:f.length;if(Jv(r,e,!1,h,f,c,l),t=t.next,e.bufferedRequestCount--,e.writing)break}t===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=t,e.bufferProcessing=!1}Mi.prototype._write=function(r,e,t){t(new lbe("_write()"))};Mi.prototype._writev=null;Mi.prototype.end=function(r,e,t){var i=this._writableState;return typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null),r!=null&&this.write(r,e),i.corked&&(i.corked=1,this.uncork()),i.ending||Cbe(this,i,t),this};Object.defineProperty(Mi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function zN(r){return r.ending&&r.length===0&&r.bufferedRequest===null&&!r.finished&&!r.writing}function Tbe(r,e){r._final(function(t){e.pendingcb--,t&&qd(r,t),e.prefinished=!0,r.emit("prefinish"),o2(r,e)})}function kbe(r,e){!e.prefinished&&!e.finalCalled&&(typeof r._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Tbe,r,e)):(e.prefinished=!0,r.emit("prefinish")))}function o2(r,e){var t=zN(e);if(t&&(kbe(r,e),e.pendingcb===0&&(e.finished=!0,r.emit("finish"),e.autoDestroy))){var i=r._readableState;(!i||i.autoDestroy&&i.endEmitted)&&r.destroy()}return t}function Cbe(r,e,t){e.ending=!0,o2(r,e),t&&(e.finished?process.nextTick(t):r.once("finish",t)),e.ended=!0,r.writable=!1}function Bbe(r,e,t){var i=r.entry;for(r.entry=null;i;){var n=i.callback;e.pendingcb--,n(t),i=i.next}e.corkedRequestsFree.next=r}Object.defineProperty(Mi.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Mi.prototype.destroy=Zv.destroy;Mi.prototype._undestroy=Zv.undestroy;Mi.prototype._destroy=function(r,e){e(r)}});var vu=M((DVe,HN)=>{"use strict";var Mbe=Object.keys||function(r){var e=[];for(var t in r)e.push(t);return e};HN.exports=lf;var VN=tx(),Qv=Xv();dr()(lf,VN);for(ex=Mbe(Qv.prototype),Xy=0;Xy<ex.length;Xy++)Qy=ex[Xy],lf.prototype[Qy]||(lf.prototype[Qy]=Qv.prototype[Qy]);var ex,Qy,Xy;function lf(r){if(!(this instanceof lf))return new lf(r);VN.call(this,r),Qv.call(this,r),this.allowHalfOpen=!0,r&&(r.readable===!1&&(this.readable=!1),r.writable===!1&&(this.writable=!1),r.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Rbe)))}Object.defineProperty(lf.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(lf.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(lf.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Rbe(){this._writableState.ended||process.nextTick(Nbe,this)}function Nbe(r){r.end()}Object.defineProperty(lf.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var em=M(GN=>{"use strict";var rx=fr().Buffer,$N=rx.isEncoding||function(r){switch(r=""+r,r&&r.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Pbe(r){if(!r)return"utf8";for(var e;;)switch(r){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return r;default:if(e)return;r=(""+r).toLowerCase(),e=!0}}function qbe(r){var e=Pbe(r);if(typeof e!="string"&&(rx.isEncoding===$N||!$N(r)))throw new Error("Unknown encoding: "+r);return e||r}GN.StringDecoder=a2;function a2(r){this.encoding=qbe(r);var e;switch(this.encoding){case"utf16le":this.text=Kbe,this.end=zbe,e=4;break;case"utf8":this.fillLast=Lbe,e=4;break;case"base64":this.text=jbe,this.end=Vbe,e=3;break;default:this.write=Hbe,this.end=$be;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=rx.allocUnsafe(e)}a2.prototype.write=function(r){if(r.length===0)return"";var e,t;if(this.lastNeed){if(e=this.fillLast(r),e===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<r.length?e?e+this.text(r,t):this.text(r,t):e||""};a2.prototype.end=Fbe;a2.prototype.text=Ube;a2.prototype.fillLast=function(r){if(this.lastNeed<=r.length)return r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,r.length),this.lastNeed-=r.length};function ix(r){return r<=127?0:r>>5==6?2:r>>4==14?3:r>>3==30?4:r>>6==2?-1:-2}function Obe(r,e,t){var i=e.length-1;if(i<t)return 0;var n=ix(e[i]);return n>=0?(n>0&&(r.lastNeed=n-1),n):--i<t||n===-2?0:(n=ix(e[i]),n>=0?(n>0&&(r.lastNeed=n-2),n):--i<t||n===-2?0:(n=ix(e[i]),n>=0?(n>0&&(n===2?n=0:r.lastNeed=n-3),n):0))}function Dbe(r,e,t){if((e[0]&192)!=128)return r.lastNeed=0,"\uFFFD";if(r.lastNeed>1&&e.length>1){if((e[1]&192)!=128)return r.lastNeed=1,"\uFFFD";if(r.lastNeed>2&&e.length>2&&(e[2]&192)!=128)return r.lastNeed=2,"\uFFFD"}}function Lbe(r){var e=this.lastTotal-this.lastNeed,t=Dbe(this,r,e);if(t!==void 0)return t;if(this.lastNeed<=r.length)return r.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,e,0,r.length),this.lastNeed-=r.length}function Ube(r,e){var t=Obe(this,r,e);if(!this.lastNeed)return r.toString("utf8",e);this.lastTotal=t;var i=r.length-(t-this.lastNeed);return r.copy(this.lastChar,0,i),r.toString("utf8",e,i)}function Fbe(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+"\uFFFD":e}function Kbe(r,e){if((r.length-e)%2==0){var t=r.toString("utf16le",e);if(t){var i=t.charCodeAt(t.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=r[r.length-1],r.toString("utf16le",e,r.length-1)}function zbe(r){var e=r&&r.length?this.write(r):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}function jbe(r,e){var t=(r.length-e)%3;return t===0?r.toString("base64",e):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=r[r.length-1]:(this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1]),r.toString("base64",e,r.length-t))}function Vbe(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Hbe(r){return r.toString(this.encoding)}function $be(r){return r&&r.length?this.write(r):""}});var tm=M((UVe,ZN)=>{"use strict";var YN=gu().codes.ERR_STREAM_PREMATURE_CLOSE;function Gbe(r){var e=!1;return function(){if(!e){e=!0;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];r.apply(this,i)}}}function Ybe(){}function Wbe(r){return r.setHeader&&typeof r.abort=="function"}function WN(r,e,t){if(typeof e=="function")return WN(r,null,e);e||(e={}),t=Gbe(t||Ybe);var i=e.readable||e.readable!==!1&&r.readable,n=e.writable||e.writable!==!1&&r.writable,s=function(){r.writable||a()},o=r._writableState&&r._writableState.finished,a=function(){n=!1,o=!0,i||t.call(r)},f=r._readableState&&r._readableState.endEmitted,c=function(){i=!1,f=!0,n||t.call(r)},l=function(E){t.call(r,E)},h=function(){var E;if(i&&!f)return(!r._readableState||!r._readableState.ended)&&(E=new YN),t.call(r,E);if(n&&!o)return(!r._writableState||!r._writableState.ended)&&(E=new YN),t.call(r,E)},x=function(){r.req.on("finish",a)};return Wbe(r)?(r.on("complete",a),r.on("abort",h),r.req?x():r.on("request",x)):n&&!r._writableState&&(r.on("end",s),r.on("close",s)),r.on("end",c),r.on("finish",a),e.error!==!1&&r.on("error",l),r.on("close",h),function(){r.removeListener("complete",a),r.removeListener("abort",h),r.removeListener("request",x),r.req&&r.req.removeListener("finish",a),r.removeListener("end",s),r.removeListener("close",s),r.removeListener("finish",a),r.removeListener("end",c),r.removeListener("error",l),r.removeListener("close",h)}}ZN.exports=WN});var XN=M((FVe,JN)=>{"use strict";var rm;function uc(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Zbe=tm(),lc=Symbol("lastResolve"),xu=Symbol("lastReject"),f2=Symbol("error"),im=Symbol("ended"),wu=Symbol("lastPromise"),nx=Symbol("handlePromise"),_u=Symbol("stream");function dc(r,e){return{value:r,done:e}}function Jbe(r){var e=r[lc];if(e!==null){var t=r[_u].read();t!==null&&(r[wu]=null,r[lc]=null,r[xu]=null,e(dc(t,!1)))}}function Xbe(r){process.nextTick(Jbe,r)}function Qbe(r,e){return function(t,i){r.then(function(){if(e[im]){t(dc(void 0,!0));return}e[nx](t,i)},i)}}var e6e=Object.getPrototypeOf(function(){}),t6e=Object.setPrototypeOf((rm={get stream(){return this[_u]},next:function(){var e=this,t=this[f2];if(t!==null)return Promise.reject(t);if(this[im])return Promise.resolve(dc(void 0,!0));if(this[_u].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[f2]?a(e[f2]):o(dc(void 0,!0))})});var i=this[wu],n;if(i)n=new Promise(Qbe(i,this));else{var s=this[_u].read();if(s!==null)return Promise.resolve(dc(s,!1));n=new Promise(this[nx])}return this[wu]=n,n}},uc(rm,Symbol.asyncIterator,function(){return this}),uc(rm,"return",function(){var e=this;return new Promise(function(t,i){e[_u].destroy(null,function(n){if(n){i(n);return}t(dc(void 0,!0))})})}),rm),e6e),r6e=function(e){var t,i=Object.create(t6e,(t={},uc(t,_u,{value:e,writable:!0}),uc(t,lc,{value:null,writable:!0}),uc(t,xu,{value:null,writable:!0}),uc(t,f2,{value:null,writable:!0}),uc(t,im,{value:e._readableState.endEmitted,writable:!0}),uc(t,nx,{value:function(s,o){var a=i[_u].read();a?(i[wu]=null,i[lc]=null,i[xu]=null,s(dc(a,!1))):(i[lc]=s,i[xu]=o)},writable:!0}),t));return i[wu]=null,Zbe(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[xu];s!==null&&(i[wu]=null,i[lc]=null,i[xu]=null,s(n)),i[f2]=n;return}var o=i[lc];o!==null&&(i[wu]=null,i[lc]=null,i[xu]=null,o(dc(void 0,!0))),i[im]=!0}),e.on("readable",Xbe.bind(null,i)),i};JN.exports=r6e});var eP=M((KVe,QN)=>{QN.exports=function(){throw new Error("Readable.from is not available in the browser")}});var tx=M((jVe,uP)=>{"use strict";uP.exports=Or;var Od;Or.ReadableState=rP;var zVe=Wn().EventEmitter,tP=function(e,t){return e.listeners(t).length},c2=jv(),nm=Fi().Buffer,i6e=global.Uint8Array||function(){};function n6e(r){return nm.from(r)}function s6e(r){return nm.isBuffer(r)||r instanceof i6e}var sx=Vv(),gr;sx&&sx.debuglog?gr=sx.debuglog("stream"):gr=function(){};var o6e=CN(),ox=Gv(),a6e=Yv(),f6e=a6e.getHighWaterMark,sm=gu().codes,c6e=sm.ERR_INVALID_ARG_TYPE,u6e=sm.ERR_STREAM_PUSH_AFTER_EOF,l6e=sm.ERR_METHOD_NOT_IMPLEMENTED,d6e=sm.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Dd,ax,fx;dr()(Or,c2);var u2=ox.errorOrDestroy,cx=["error","close","destroy","pause","resume"];function h6e(r,e,t){if(typeof r.prependListener=="function")return r.prependListener(e,t);!r._events||!r._events[e]?r.on(e,t):Array.isArray(r._events[e])?r._events[e].unshift(t):r._events[e]=[t,r._events[e]]}function rP(r,e,t){Od=Od||vu(),r=r||{},typeof t!="boolean"&&(t=e instanceof Od),this.objectMode=!!r.objectMode,t&&(this.objectMode=this.objectMode||!!r.readableObjectMode),this.highWaterMark=f6e(this,r,"readableHighWaterMark",t),this.buffer=new o6e,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=r.emitClose!==!1,this.autoDestroy=!!r.autoDestroy,this.destroyed=!1,this.defaultEncoding=r.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,r.encoding&&(Dd||(Dd=em().StringDecoder),this.decoder=new Dd(r.encoding),this.encoding=r.encoding)}function Or(r){if(Od=Od||vu(),!(this instanceof Or))return new Or(r);var e=this instanceof Od;this._readableState=new rP(r,this,e),this.readable=!0,r&&(typeof r.read=="function"&&(this._read=r.read),typeof r.destroy=="function"&&(this._destroy=r.destroy)),c2.call(this)}Object.defineProperty(Or.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Or.prototype.destroy=ox.destroy;Or.prototype._undestroy=ox.undestroy;Or.prototype._destroy=function(r,e){e(r)};Or.prototype.push=function(r,e){var t=this._readableState,i;return t.objectMode?i=!0:typeof r=="string"&&(e=e||t.defaultEncoding,e!==t.encoding&&(r=nm.from(r,e),e=""),i=!0),iP(this,r,e,!1,i)};Or.prototype.unshift=function(r){return iP(this,r,null,!0,!1)};function iP(r,e,t,i,n){gr("readableAddChunk",e);var s=r._readableState;if(e===null)s.reading=!1,y6e(r,s);else{var o;if(n||(o=p6e(s,e)),o)u2(r,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==nm.prototype&&(e=n6e(e)),i)s.endEmitted?u2(r,new d6e):ux(r,s,e,!0);else if(s.ended)u2(r,new u6e);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!t?(e=s.decoder.write(e),s.objectMode||e.length!==0?ux(r,s,e,!1):lx(r,s)):ux(r,s,e,!1)}else i||(s.reading=!1,lx(r,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function ux(r,e,t,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,r.emit("data",t)):(e.length+=e.objectMode?1:t.length,i?e.buffer.unshift(t):e.buffer.push(t),e.needReadable&&om(r)),lx(r,e)}function p6e(r,e){var t;return!s6e(e)&&typeof e!="string"&&e!==void 0&&!r.objectMode&&(t=new c6e("chunk",["string","Buffer","Uint8Array"],e)),t}Or.prototype.isPaused=function(){return this._readableState.flowing===!1};Or.prototype.setEncoding=function(r){Dd||(Dd=em().StringDecoder);var e=new Dd(r);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var t=this._readableState.buffer.head,i="";t!==null;)i+=e.write(t.data),t=t.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var nP=1073741824;function b6e(r){return r>=nP?r=nP:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r}function sP(r,e){return r<=0||e.length===0&&e.ended?0:e.objectMode?1:r!==r?e.flowing&&e.length?e.buffer.head.data.length:e.length:(r>e.highWaterMark&&(e.highWaterMark=b6e(r)),r<=e.length?r:e.ended?e.length:(e.needReadable=!0,0))}Or.prototype.read=function(r){gr("read",r),r=parseInt(r,10);var e=this._readableState,t=r;if(r!==0&&(e.emittedReadable=!1),r===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return gr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?hx(this):om(this),null;if(r=sP(r,e),r===0&&e.ended)return e.length===0&&hx(this),null;var i=e.needReadable;gr("need readable",i),(e.length===0||e.length-r<e.highWaterMark)&&(i=!0,gr("length less than watermark",i)),e.ended||e.reading?(i=!1,gr("reading or ended",i)):i&&(gr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(r=sP(t,e)));var n;return r>0?n=fP(r,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,r=0):(e.length-=r,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),t!==r&&e.ended&&hx(this)),n!==null&&this.emit("data",n),n};function y6e(r,e){if(gr("onEofChunk"),!e.ended){if(e.decoder){var t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?om(r):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,oP(r)))}}function om(r){var e=r._readableState;gr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(gr("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(oP,r))}function oP(r){var e=r._readableState;gr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(r.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,dx(r)}function lx(r,e){e.readingMore||(e.readingMore=!0,process.nextTick(m6e,r,e))}function m6e(r,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var t=e.length;if(gr("maybeReadMore read 0"),r.read(0),t===e.length)break}e.readingMore=!1}Or.prototype._read=function(r){u2(this,new l6e("_read()"))};Or.prototype.pipe=function(r,e){var t=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1,gr("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&r!==process.stdout&&r!==process.stderr,s=n?a:C;i.endEmitted?process.nextTick(s):t.once("end",s),r.on("unpipe",o);function o(L,O){gr("onunpipe"),L===t&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,l())}function a(){gr("onend"),r.end()}var f=g6e(t);r.on("drain",f);var c=!1;function l(){gr("cleanup"),r.removeListener("close",_),r.removeListener("finish",E),r.removeListener("drain",f),r.removeListener("error",x),r.removeListener("unpipe",o),t.removeListener("end",a),t.removeListener("end",C),t.removeListener("data",h),c=!0,i.awaitDrain&&(!r._writableState||r._writableState.needDrain)&&f()}t.on("data",h);function h(L){gr("ondata");var O=r.write(L);gr("dest.write",O),O===!1&&((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&cP(i.pipes,r)!==-1)&&!c&&(gr("false write response, pause",i.awaitDrain),i.awaitDrain++),t.pause())}function x(L){gr("onerror",L),C(),r.removeListener("error",x),tP(r,"error")===0&&u2(r,L)}h6e(r,"error",x);function _(){r.removeListener("finish",E),C()}r.once("close",_);function E(){gr("onfinish"),r.removeListener("close",_),C()}r.once("finish",E);function C(){gr("unpipe"),t.unpipe(r)}return r.emit("pipe",t),i.flowing||(gr("pipe resume"),t.resume()),r};function g6e(r){return function(){var t=r._readableState;gr("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&tP(r,"data")&&(t.flowing=!0,dx(r))}}Or.prototype.unpipe=function(r){var e=this._readableState,t={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return r&&r!==e.pipes?this:(r||(r=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,r&&r.emit("unpipe",this,t),this);if(!r){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=cP(e.pipes,r);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),r.emit("unpipe",this,t),this)};Or.prototype.on=function(r,e){var t=c2.prototype.on.call(this,r,e),i=this._readableState;return r==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):r==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,gr("on readable",i.length,i.reading),i.length?om(this):i.reading||process.nextTick(v6e,this)),t};Or.prototype.addListener=Or.prototype.on;Or.prototype.removeListener=function(r,e){var t=c2.prototype.removeListener.call(this,r,e);return r==="readable"&&process.nextTick(aP,this),t};Or.prototype.removeAllListeners=function(r){var e=c2.prototype.removeAllListeners.apply(this,arguments);return(r==="readable"||r===void 0)&&process.nextTick(aP,this),e};function aP(r){var e=r._readableState;e.readableListening=r.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:r.listenerCount("data")>0&&r.resume()}function v6e(r){gr("readable nexttick read 0"),r.read(0)}Or.prototype.resume=function(){var r=this._readableState;return r.flowing||(gr("resume"),r.flowing=!r.readableListening,x6e(this,r)),r.paused=!1,this};function x6e(r,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(w6e,r,e))}function w6e(r,e){gr("resume",e.reading),e.reading||r.read(0),e.resumeScheduled=!1,r.emit("resume"),dx(r),e.flowing&&!e.reading&&r.read(0)}Or.prototype.pause=function(){return gr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(gr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function dx(r){var e=r._readableState;for(gr("flow",e.flowing);e.flowing&&r.read()!==null;);}Or.prototype.wrap=function(r){var e=this,t=this._readableState,i=!1;r.on("end",function(){if(gr("wrapped end"),t.decoder&&!t.ended){var o=t.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),r.on("data",function(o){if(gr("wrapped data"),t.decoder&&(o=t.decoder.write(o)),!(t.objectMode&&o==null)&&!(!t.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,r.pause())}});for(var n in r)this[n]===void 0&&typeof r[n]=="function"&&(this[n]=function(a){return function(){return r[a].apply(r,arguments)}}(n));for(var s=0;s<cx.length;s++)r.on(cx[s],this.emit.bind(this,cx[s]));return this._read=function(o){gr("wrapped _read",o),i&&(i=!1,r.resume())},this};typeof Symbol=="function"&&(Or.prototype[Symbol.asyncIterator]=function(){return ax===void 0&&(ax=XN()),ax(this)});Object.defineProperty(Or.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Or.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Or.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Or._fromList=fP;Object.defineProperty(Or.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function fP(r,e){if(e.length===0)return null;var t;return e.objectMode?t=e.buffer.shift():!r||r>=e.length?(e.decoder?t=e.buffer.join(""):e.buffer.length===1?t=e.buffer.first():t=e.buffer.concat(e.length),e.buffer.clear()):t=e.buffer.consume(r,e.decoder),t}function hx(r){var e=r._readableState;gr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(_6e,e,r))}function _6e(r,e){if(gr("endReadableNT",r.endEmitted,r.length),!r.endEmitted&&r.length===0&&(r.endEmitted=!0,e.readable=!1,e.emit("end"),r.autoDestroy)){var t=e._writableState;(!t||t.autoDestroy&&t.finished)&&e.destroy()}}typeof Symbol=="function"&&(Or.from=function(r,e){return fx===void 0&&(fx=eP()),fx(Or,r,e)});function cP(r,e){for(var t=0,i=r.length;t<i;t++)if(r[t]===e)return t;return-1}});var px=M((VVe,dP)=>{"use strict";dP.exports=u0;var am=gu().codes,E6e=am.ERR_METHOD_NOT_IMPLEMENTED,S6e=am.ERR_MULTIPLE_CALLBACK,A6e=am.ERR_TRANSFORM_ALREADY_TRANSFORMING,I6e=am.ERR_TRANSFORM_WITH_LENGTH_0,fm=vu();dr()(u0,fm);function T6e(r,e){var t=this._transformState;t.transforming=!1;var i=t.writecb;if(i===null)return this.emit("error",new S6e);t.writechunk=null,t.writecb=null,e!=null&&this.push(e),i(r);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function u0(r){if(!(this instanceof u0))return new u0(r);fm.call(this,r),this._transformState={afterTransform:T6e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",k6e)}function k6e(){var r=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,t){lP(r,e,t)}):lP(this,null,null)}u0.prototype.push=function(r,e){return this._transformState.needTransform=!1,fm.prototype.push.call(this,r,e)};u0.prototype._transform=function(r,e,t){t(new E6e("_transform()"))};u0.prototype._write=function(r,e,t){var i=this._transformState;if(i.writecb=t,i.writechunk=r,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};u0.prototype._read=function(r){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};u0.prototype._destroy=function(r,e){fm.prototype._destroy.call(this,r,function(t){e(t)})};function lP(r,e,t){if(e)return r.emit("error",e);if(t!=null&&r.push(t),r._writableState.length)throw new I6e;if(r._transformState.transforming)throw new A6e;return r.push(null)}});var bP=M((HVe,pP)=>{"use strict";pP.exports=l2;var hP=px();dr()(l2,hP);function l2(r){if(!(this instanceof l2))return new l2(r);hP.call(this,r)}l2.prototype._transform=function(r,e,t){t(null,r)}});var xP=M(($Ve,vP)=>{"use strict";var bx;function C6e(r){var e=!1;return function(){e||(e=!0,r.apply(void 0,arguments))}}var yP=gu().codes,B6e=yP.ERR_MISSING_ARGS,M6e=yP.ERR_STREAM_DESTROYED;function mP(r){if(r)throw r}function R6e(r){return r.setHeader&&typeof r.abort=="function"}function N6e(r,e,t,i){i=C6e(i);var n=!1;r.on("close",function(){n=!0}),bx===void 0&&(bx=tm()),bx(r,{readable:e,writable:t},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,R6e(r))return r.abort();if(typeof r.destroy=="function")return r.destroy();i(o||new M6e("pipe"))}}}function gP(r){r()}function P6e(r,e){return r.pipe(e)}function q6e(r){return!r.length||typeof r[r.length-1]!="function"?mP:r.pop()}function O6e(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var i=q6e(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new B6e("streams");var n,s=e.map(function(o,a){var f=a<e.length-1,c=a>0;return N6e(o,f,c,function(l){n||(n=l),l&&s.forEach(gP),!f&&(s.forEach(gP),i(n))})});return e.reduce(P6e)}vP.exports=O6e});var cm=M((_o,wP)=>{_o=wP.exports=tx();_o.Stream=_o;_o.Readable=_o;_o.Writable=Xv();_o.Duplex=vu();_o.Transform=px();_o.PassThrough=bP();_o.finished=tm();_o.pipeline=xP()});var yx=M((GVe,EP)=>{"use strict";var um=fr().Buffer,_P=cm().Transform,D6e=dr();function L6e(r,e){if(!um.isBuffer(r)&&typeof r!="string")throw new TypeError(e+" must be a string or a buffer")}function hc(r){_P.call(this),this._block=um.allocUnsafe(r),this._blockSize=r,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}D6e(hc,_P);hc.prototype._transform=function(r,e,t){var i=null;try{this.update(r,e)}catch(n){i=n}t(i)};hc.prototype._flush=function(r){var e=null;try{this.push(this.digest())}catch(t){e=t}r(e)};hc.prototype.update=function(r,e){if(L6e(r,"Data"),this._finalized)throw new Error("Digest already called");um.isBuffer(r)||(r=um.from(r,e));for(var t=this._block,i=0;this._blockOffset+r.length-i>=this._blockSize;){for(var n=this._blockOffset;n<this._blockSize;)t[n++]=r[i++];this._update(),this._blockOffset=0}for(;i<r.length;)t[this._blockOffset++]=r[i++];for(var s=0,o=r.length*8;o>0;++s)this._length[s]+=o,o=this._length[s]/4294967296|0,o>0&&(this._length[s]-=4294967296*o);return this};hc.prototype._update=function(){throw new Error("_update is not implemented")};hc.prototype.digest=function(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();r!==void 0&&(e=e.toString(r)),this._block.fill(0),this._blockOffset=0;for(var t=0;t<4;++t)this._length[t]=0;return e};hc.prototype._digest=function(){throw new Error("_digest is not implemented")};EP.exports=hc});var hm=M((YVe,AP)=>{"use strict";var U6e=dr(),SP=yx(),F6e=fr().Buffer,K6e=new Array(16);function lm(){SP.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}U6e(lm,SP);lm.prototype._update=function(){for(var r=K6e,e=0;e<16;++e)r[e]=this._block.readInt32LE(e*4);var t=this._a,i=this._b,n=this._c,s=this._d;t=Zn(t,i,n,s,r[0],3614090360,7),s=Zn(s,t,i,n,r[1],3905402710,12),n=Zn(n,s,t,i,r[2],606105819,17),i=Zn(i,n,s,t,r[3],3250441966,22),t=Zn(t,i,n,s,r[4],4118548399,7),s=Zn(s,t,i,n,r[5],1200080426,12),n=Zn(n,s,t,i,r[6],2821735955,17),i=Zn(i,n,s,t,r[7],4249261313,22),t=Zn(t,i,n,s,r[8],1770035416,7),s=Zn(s,t,i,n,r[9],2336552879,12),n=Zn(n,s,t,i,r[10],4294925233,17),i=Zn(i,n,s,t,r[11],2304563134,22),t=Zn(t,i,n,s,r[12],1804603682,7),s=Zn(s,t,i,n,r[13],4254626195,12),n=Zn(n,s,t,i,r[14],2792965006,17),i=Zn(i,n,s,t,r[15],1236535329,22),t=Jn(t,i,n,s,r[1],4129170786,5),s=Jn(s,t,i,n,r[6],3225465664,9),n=Jn(n,s,t,i,r[11],643717713,14),i=Jn(i,n,s,t,r[0],3921069994,20),t=Jn(t,i,n,s,r[5],3593408605,5),s=Jn(s,t,i,n,r[10],38016083,9),n=Jn(n,s,t,i,r[15],3634488961,14),i=Jn(i,n,s,t,r[4],3889429448,20),t=Jn(t,i,n,s,r[9],568446438,5),s=Jn(s,t,i,n,r[14],3275163606,9),n=Jn(n,s,t,i,r[3],4107603335,14),i=Jn(i,n,s,t,r[8],1163531501,20),t=Jn(t,i,n,s,r[13],2850285829,5),s=Jn(s,t,i,n,r[2],4243563512,9),n=Jn(n,s,t,i,r[7],1735328473,14),i=Jn(i,n,s,t,r[12],2368359562,20),t=Xn(t,i,n,s,r[5],4294588738,4),s=Xn(s,t,i,n,r[8],2272392833,11),n=Xn(n,s,t,i,r[11],1839030562,16),i=Xn(i,n,s,t,r[14],4259657740,23),t=Xn(t,i,n,s,r[1],2763975236,4),s=Xn(s,t,i,n,r[4],1272893353,11),n=Xn(n,s,t,i,r[7],4139469664,16),i=Xn(i,n,s,t,r[10],3200236656,23),t=Xn(t,i,n,s,r[13],681279174,4),s=Xn(s,t,i,n,r[0],3936430074,11),n=Xn(n,s,t,i,r[3],3572445317,16),i=Xn(i,n,s,t,r[6],76029189,23),t=Xn(t,i,n,s,r[9],3654602809,4),s=Xn(s,t,i,n,r[12],3873151461,11),n=Xn(n,s,t,i,r[15],530742520,16),i=Xn(i,n,s,t,r[2],3299628645,23),t=Qn(t,i,n,s,r[0],4096336452,6),s=Qn(s,t,i,n,r[7],1126891415,10),n=Qn(n,s,t,i,r[14],2878612391,15),i=Qn(i,n,s,t,r[5],4237533241,21),t=Qn(t,i,n,s,r[12],1700485571,6),s=Qn(s,t,i,n,r[3],2399980690,10),n=Qn(n,s,t,i,r[10],4293915773,15),i=Qn(i,n,s,t,r[1],2240044497,21),t=Qn(t,i,n,s,r[8],1873313359,6),s=Qn(s,t,i,n,r[15],4264355552,10),n=Qn(n,s,t,i,r[6],2734768916,15),i=Qn(i,n,s,t,r[13],1309151649,21),t=Qn(t,i,n,s,r[4],4149444226,6),s=Qn(s,t,i,n,r[11],3174756917,10),n=Qn(n,s,t,i,r[2],718787259,15),i=Qn(i,n,s,t,r[9],3951481745,21),this._a=this._a+t|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+s|0};lm.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var r=F6e.allocUnsafe(16);return r.writeInt32LE(this._a,0),r.writeInt32LE(this._b,4),r.writeInt32LE(this._c,8),r.writeInt32LE(this._d,12),r};function dm(r,e){return r<<e|r>>>32-e}function Zn(r,e,t,i,n,s,o){return dm(r+(e&t|~e&i)+n+s|0,o)+e|0}function Jn(r,e,t,i,n,s,o){return dm(r+(e&i|t&~i)+n+s|0,o)+e|0}function Xn(r,e,t,i,n,s,o){return dm(r+(e^t^i)+n+s|0,o)+e|0}function Qn(r,e,t,i,n,s,o){return dm(r+(t^(e|~i))+n+s|0,o)+e|0}AP.exports=lm});var bm=M((WVe,RP)=>{"use strict";var mx=Fi().Buffer,z6e=dr(),IP=yx(),j6e=new Array(16),d2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h2=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p2=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b2=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],y2=[0,1518500249,1859775393,2400959708,2840853838],m2=[1352829926,1548603684,1836072691,2053994217,0];function pm(){IP.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}z6e(pm,IP);pm.prototype._update=function(){for(var r=j6e,e=0;e<16;++e)r[e]=this._block.readInt32LE(e*4);for(var t=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,o=this._e|0,a=this._a|0,f=this._b|0,c=this._c|0,l=this._d|0,h=this._e|0,x=0;x<80;x+=1){var _,E;x<16?(_=TP(t,i,n,s,o,r[d2[x]],y2[0],p2[x]),E=MP(a,f,c,l,h,r[h2[x]],m2[0],b2[x])):x<32?(_=kP(t,i,n,s,o,r[d2[x]],y2[1],p2[x]),E=BP(a,f,c,l,h,r[h2[x]],m2[1],b2[x])):x<48?(_=CP(t,i,n,s,o,r[d2[x]],y2[2],p2[x]),E=CP(a,f,c,l,h,r[h2[x]],m2[2],b2[x])):x<64?(_=BP(t,i,n,s,o,r[d2[x]],y2[3],p2[x]),E=kP(a,f,c,l,h,r[h2[x]],m2[3],b2[x])):(_=MP(t,i,n,s,o,r[d2[x]],y2[4],p2[x]),E=TP(a,f,c,l,h,r[h2[x]],m2[4],b2[x])),t=o,o=s,s=Eu(n,10),n=i,i=_,a=h,h=l,l=Eu(c,10),c=f,f=E}var C=this._b+n+l|0;this._b=this._c+s+h|0,this._c=this._d+o+a|0,this._d=this._e+t+f|0,this._e=this._a+i+c|0,this._a=C};pm.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var r=mx.alloc?mx.alloc(20):new mx(20);return r.writeInt32LE(this._a,0),r.writeInt32LE(this._b,4),r.writeInt32LE(this._c,8),r.writeInt32LE(this._d,12),r.writeInt32LE(this._e,16),r};function Eu(r,e){return r<<e|r>>>32-e}function TP(r,e,t,i,n,s,o,a){return Eu(r+(e^t^i)+s+o|0,a)+n|0}function kP(r,e,t,i,n,s,o,a){return Eu(r+(e&t|~e&i)+s+o|0,a)+n|0}function CP(r,e,t,i,n,s,o,a){return Eu(r+((e|~t)^i)+s+o|0,a)+n|0}function BP(r,e,t,i,n,s,o,a){return Eu(r+(e&i|t&~i)+s+o|0,a)+n|0}function MP(r,e,t,i,n,s,o,a){return Eu(r+(e^(t|~i))+s+o|0,a)+n|0}RP.exports=pm});var Su=M((ZVe,PP)=>{var NP=fr().Buffer;function ym(r,e){this._block=NP.alloc(r),this._finalSize=e,this._blockSize=r,this._len=0}ym.prototype.update=function(r,e){typeof r=="string"&&(e=e||"utf8",r=NP.from(r,e));for(var t=this._block,i=this._blockSize,n=r.length,s=this._len,o=0;o<n;){for(var a=s%i,f=Math.min(n-o,i-a),c=0;c<f;c++)t[a+c]=r[o+c];s+=f,o+=f,s%i==0&&this._update(t)}return this._len+=n,this};ym.prototype.digest=function(r){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var t=this._len*8;if(t<=4294967295)this._block.writeUInt32BE(t,this._blockSize-4);else{var i=(t&4294967295)>>>0,n=(t-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var s=this._hash();return r?s.toString(r):s};ym.prototype._update=function(){throw new Error("_update must be implemented by subclass")};PP.exports=ym});var DP=M((JVe,OP)=>{var V6e=dr(),qP=Su(),H6e=fr().Buffer,$6e=[1518500249,1859775393,2400959708|0,3395469782|0],G6e=new Array(80);function g2(){this.init(),this._w=G6e,qP.call(this,64,56)}V6e(g2,qP);g2.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Y6e(r){return r<<5|r>>>27}function W6e(r){return r<<30|r>>>2}function Z6e(r,e,t,i){return r===0?e&t|~e&i:r===2?e&t|e&i|t&i:e^t^i}g2.prototype._update=function(r){for(var e=this._w,t=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=r.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var f=0;f<80;++f){var c=~~(f/20),l=Y6e(t)+Z6e(c,i,n,s)+o+e[f]+$6e[c]|0;o=s,s=n,n=W6e(i),i=t,t=l}this._a=t+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};g2.prototype._hash=function(){var r=H6e.allocUnsafe(20);return r.writeInt32BE(this._a|0,0),r.writeInt32BE(this._b|0,4),r.writeInt32BE(this._c|0,8),r.writeInt32BE(this._d|0,12),r.writeInt32BE(this._e|0,16),r};OP.exports=g2});var FP=M((XVe,UP)=>{var J6e=dr(),LP=Su(),X6e=fr().Buffer,Q6e=[1518500249,1859775393,2400959708|0,3395469782|0],eye=new Array(80);function v2(){this.init(),this._w=eye,LP.call(this,64,56)}J6e(v2,LP);v2.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function tye(r){return r<<1|r>>>31}function rye(r){return r<<5|r>>>27}function iye(r){return r<<30|r>>>2}function nye(r,e,t,i){return r===0?e&t|~e&i:r===2?e&t|e&i|t&i:e^t^i}v2.prototype._update=function(r){for(var e=this._w,t=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=r.readInt32BE(a*4);for(;a<80;++a)e[a]=tye(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var f=0;f<80;++f){var c=~~(f/20),l=rye(t)+nye(c,i,n,s)+o+e[f]+Q6e[c]|0;o=s,s=n,n=iye(i),i=t,t=l}this._a=t+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};v2.prototype._hash=function(){var r=X6e.allocUnsafe(20);return r.writeInt32BE(this._a|0,0),r.writeInt32BE(this._b|0,4),r.writeInt32BE(this._c|0,8),r.writeInt32BE(this._d|0,12),r.writeInt32BE(this._e|0,16),r};UP.exports=v2});var gx=M((QVe,zP)=>{var sye=dr(),KP=Su(),oye=fr().Buffer,aye=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],fye=new Array(64);function x2(){this.init(),this._w=fye,KP.call(this,64,56)}sye(x2,KP);x2.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function cye(r,e,t){return t^r&(e^t)}function uye(r,e,t){return r&e|t&(r|e)}function lye(r){return(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10)}function dye(r){return(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7)}function hye(r){return(r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3}function pye(r){return(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10}x2.prototype._update=function(r){for(var e=this._w,t=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,f=this._g|0,c=this._h|0,l=0;l<16;++l)e[l]=r.readInt32BE(l*4);for(;l<64;++l)e[l]=pye(e[l-2])+e[l-7]+hye(e[l-15])+e[l-16]|0;for(var h=0;h<64;++h){var x=c+dye(o)+cye(o,a,f)+aye[h]+e[h]|0,_=lye(t)+uye(t,i,n)|0;c=f,f=a,a=o,o=s+x|0,s=n,n=i,i=t,t=x+_|0}this._a=t+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=f+this._g|0,this._h=c+this._h|0};x2.prototype._hash=function(){var r=oye.allocUnsafe(32);return r.writeInt32BE(this._a,0),r.writeInt32BE(this._b,4),r.writeInt32BE(this._c,8),r.writeInt32BE(this._d,12),r.writeInt32BE(this._e,16),r.writeInt32BE(this._f,20),r.writeInt32BE(this._g,24),r.writeInt32BE(this._h,28),r};zP.exports=x2});var VP=M((eHe,jP)=>{var bye=dr(),yye=gx(),mye=Su(),gye=fr().Buffer,vye=new Array(64);function mm(){this.init(),this._w=vye,mye.call(this,64,56)}bye(mm,yye);mm.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};mm.prototype._hash=function(){var r=gye.allocUnsafe(28);return r.writeInt32BE(this._a,0),r.writeInt32BE(this._b,4),r.writeInt32BE(this._c,8),r.writeInt32BE(this._d,12),r.writeInt32BE(this._e,16),r.writeInt32BE(this._f,20),r.writeInt32BE(this._g,24),r};jP.exports=mm});var vx=M((tHe,JP)=>{var xye=dr(),HP=Su(),wye=fr().Buffer,$P=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],_ye=new Array(160);function w2(){this.init(),this._w=_ye,HP.call(this,128,112)}xye(w2,HP);w2.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function GP(r,e,t){return t^r&(e^t)}function YP(r,e,t){return r&e|t&(r|e)}function WP(r,e){return(r>>>28|e<<4)^(e>>>2|r<<30)^(e>>>7|r<<25)}function ZP(r,e){return(r>>>14|e<<18)^(r>>>18|e<<14)^(e>>>9|r<<23)}function Eye(r,e){return(r>>>1|e<<31)^(r>>>8|e<<24)^r>>>7}function Sye(r,e){return(r>>>1|e<<31)^(r>>>8|e<<24)^(r>>>7|e<<25)}function Aye(r,e){return(r>>>19|e<<13)^(e>>>29|r<<3)^r>>>6}function Iye(r,e){return(r>>>19|e<<13)^(e>>>29|r<<3)^(r>>>6|e<<26)}function pn(r,e){return r>>>0<e>>>0?1:0}w2.prototype._update=function(r){for(var e=this._w,t=this._ah|0,i=this._bh|0,n=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,f=this._gh|0,c=this._hh|0,l=this._al|0,h=this._bl|0,x=this._cl|0,_=this._dl|0,E=this._el|0,C=this._fl|0,L=this._gl|0,O=this._hl|0,W=0;W<32;W+=2)e[W]=r.readInt32BE(W*4),e[W+1]=r.readInt32BE(W*4+4);for(;W<160;W+=2){var ee=e[W-15*2],N=e[W-15*2+1],V=Eye(ee,N),z=Sye(N,ee);ee=e[W-2*2],N=e[W-2*2+1];var F=Aye(ee,N),H=Iye(N,ee),K=e[W-7*2],S=e[W-7*2+1],w=e[W-16*2],T=e[W-16*2+1],v=z+S|0,u=V+K+pn(v,z)|0;v=v+H|0,u=u+F+pn(v,H)|0,v=v+T|0,u=u+w+pn(v,T)|0,e[W]=u,e[W+1]=v}for(var d=0;d<160;d+=2){u=e[d],v=e[d+1];var y=YP(t,i,n),g=YP(l,h,x),m=WP(t,l),b=WP(l,t),A=ZP(o,E),I=ZP(E,o),p=$P[d],B=$P[d+1],ce=GP(o,a,f),R=GP(E,C,L),fe=O+I|0,se=c+A+pn(fe,O)|0;fe=fe+R|0,se=se+ce+pn(fe,R)|0,fe=fe+B|0,se=se+p+pn(fe,B)|0,fe=fe+v|0,se=se+u+pn(fe,v)|0;var U=b+g|0,Z=m+y+pn(U,b)|0;c=f,O=L,f=a,L=C,a=o,C=E,E=_+fe|0,o=s+se+pn(E,_)|0,s=n,_=x,n=i,x=h,i=t,h=l,l=fe+U|0,t=se+Z+pn(l,fe)|0}this._al=this._al+l|0,this._bl=this._bl+h|0,this._cl=this._cl+x|0,this._dl=this._dl+_|0,this._el=this._el+E|0,this._fl=this._fl+C|0,this._gl=this._gl+L|0,this._hl=this._hl+O|0,this._ah=this._ah+t+pn(this._al,l)|0,this._bh=this._bh+i+pn(this._bl,h)|0,this._ch=this._ch+n+pn(this._cl,x)|0,this._dh=this._dh+s+pn(this._dl,_)|0,this._eh=this._eh+o+pn(this._el,E)|0,this._fh=this._fh+a+pn(this._fl,C)|0,this._gh=this._gh+f+pn(this._gl,L)|0,this._hh=this._hh+c+pn(this._hl,O)|0};w2.prototype._hash=function(){var r=wye.allocUnsafe(64);function e(t,i,n){r.writeInt32BE(t,n),r.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),r};JP.exports=w2});var QP=M((rHe,XP)=>{var Tye=dr(),kye=vx(),Cye=Su(),Bye=fr().Buffer,Mye=new Array(160);function gm(){this.init(),this._w=Mye,Cye.call(this,128,112)}Tye(gm,kye);gm.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};gm.prototype._hash=function(){var r=Bye.allocUnsafe(48);function e(t,i,n){r.writeInt32BE(t,n),r.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),r};XP.exports=gm});var vm=M((l0,eq)=>{var l0=eq.exports=function(e){e=e.toLowerCase();var t=l0[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};l0.sha=DP();l0.sha1=FP();l0.sha224=VP();l0.sha256=gx();l0.sha384=QP();l0.sha512=vx()});var rq=M((iHe,tq)=>{tq.exports=Xs;function Xs(r){if(r)return Rye(r)}function Rye(r){for(var e in Xs.prototype)r[e]=Xs.prototype[e];return r}Xs.prototype.on=Xs.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks[r]=this._callbacks[r]||[]).push(e),this};Xs.prototype.once=function(r,e){var t=this;this._callbacks=this._callbacks||{};function i(){t.off(r,i),e.apply(this,arguments)}return i.fn=e,this.on(r,i),this};Xs.prototype.off=Xs.prototype.removeListener=Xs.prototype.removeAllListeners=Xs.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks[r];if(!t)return this;if(arguments.length==1)return delete this._callbacks[r],this;for(var i,n=0;n<t.length;n++)if(i=t[n],i===e||i.fn===e){t.splice(n,1);break}return this};Xs.prototype.emit=function(r){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),t=this._callbacks[r];if(t){t=t.slice(0);for(var i=0,n=t.length;i<n;++i)t[i].apply(this,e)}return this};Xs.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks[r]||[]};Xs.prototype.hasListeners=function(r){return!!this.listeners(r).length}});var sq=M((nHe,nq)=>{var iq=rq();function _2(){iq.call(this)}_2.prototype=new iq;nq.exports=_2;_2.Stream=_2;_2.prototype.pipe=function(r,e){var t=this;function i(l){r.writable&&r.write(l)===!1&&t.pause&&t.pause()}t.on("data",i);function n(){t.readable&&t.resume&&t.resume()}r.on("drain",n),!r._isStdio&&(!e||e.end!==!1)&&(t.on("end",o),t.on("close",a));var s=!1;function o(){s||(s=!0,r.end())}function a(){s||(s=!0,typeof r.destroy=="function"&&r.destroy())}function f(l){if(c(),!this.hasListeners("error"))throw l}t.on("error",f),r.on("error",f);function c(){t.off("data",i),r.off("drain",n),t.off("end",o),t.off("close",a),t.off("error",f),r.off("error",f),t.off("end",c),t.off("close",c),r.off("end",c),r.off("close",c)}return t.on("end",c),t.on("close",c),r.on("end",c),r.on("close",c),r.emit("pipe",t),r}});var d0=M((sHe,fq)=>{var oq=fr().Buffer,aq=sq().Transform,Nye=em().StringDecoder,Pye=dr();function ba(r){aq.call(this),this.hashMode=typeof r=="string",this.hashMode?this[r]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Pye(ba,aq);ba.prototype.update=function(r,e,t){typeof r=="string"&&(r=oq.from(r,e));var i=this._update(r);return this.hashMode?this:(t&&(i=this._toString(i,t)),i)};ba.prototype.setAutoPadding=function(){};ba.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};ba.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};ba.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};ba.prototype._transform=function(r,e,t){var i;try{this.hashMode?this._update(r):this.push(this._update(r))}catch(n){i=n}finally{t(i)}};ba.prototype._flush=function(r){var e;try{this.push(this.__final())}catch(t){e=t}r(e)};ba.prototype._finalOrDigest=function(r){var e=this.__final()||oq.alloc(0);return r&&(e=this._toString(e,r,!0)),e};ba.prototype._toString=function(r,e,t){if(this._decoder||(this._decoder=new Nye(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(r);return t&&(i+=this._decoder.end()),i};fq.exports=ba});var Ld=M((oHe,uq)=>{"use strict";var qye=dr(),Oye=hm(),Dye=bm(),Lye=vm(),cq=d0();function xm(r){cq.call(this,"digest"),this._hash=r}qye(xm,cq);xm.prototype._update=function(r){this._hash.update(r)};xm.prototype._final=function(){return this._hash.digest()};uq.exports=function(e){return e=e.toLowerCase(),e==="md5"?new Oye:e==="rmd160"||e==="ripemd160"?new Dye:new xm(Lye(e))}});var hq=M((aHe,dq)=>{"use strict";var Uye=dr(),Au=fr().Buffer,lq=d0(),Fye=Au.alloc(128),Ud=64;function wm(r,e){lq.call(this,"digest"),typeof e=="string"&&(e=Au.from(e)),this._alg=r,this._key=e,e.length>Ud?e=r(e):e.length<Ud&&(e=Au.concat([e,Fye],Ud));for(var t=this._ipad=Au.allocUnsafe(Ud),i=this._opad=Au.allocUnsafe(Ud),n=0;n<Ud;n++)t[n]=e[n]^54,i[n]=e[n]^92;this._hash=[t]}Uye(wm,lq);wm.prototype._update=function(r){this._hash.push(r)};wm.prototype._final=function(){var r=this._alg(Au.concat(this._hash));return this._alg(Au.concat([this._opad,r]))};dq.exports=wm});var xx=M((fHe,pq)=>{var Kye=hm();pq.exports=function(r){return new Kye().update(r).digest()}});var Ex=M((cHe,yq)=>{"use strict";var zye=dr(),jye=hq(),bq=d0(),E2=fr().Buffer,Vye=xx(),wx=bm(),_x=vm(),Hye=E2.alloc(128);function S2(r,e){bq.call(this,"digest"),typeof e=="string"&&(e=E2.from(e));var t=r==="sha512"||r==="sha384"?128:64;if(this._alg=r,this._key=e,e.length>t){var i=r==="rmd160"?new wx:_x(r);e=i.update(e).digest()}else e.length<t&&(e=E2.concat([e,Hye],t));for(var n=this._ipad=E2.allocUnsafe(t),s=this._opad=E2.allocUnsafe(t),o=0;o<t;o++)n[o]=e[o]^54,s[o]=e[o]^92;this._hash=r==="rmd160"?new wx:_x(r),this._hash.update(n)}zye(S2,bq);S2.prototype._update=function(r){this._hash.update(r)};S2.prototype._final=function(){var r=this._hash.digest(),e=this._alg==="rmd160"?new wx:_x(this._alg);return e.update(this._opad).update(r).digest()};yq.exports=function(e,t){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new S2("rmd160",t):e==="md5"?new jye(Vye,t):new S2(e,t)}});var Sx=M((uHe,$ye)=>{$ye.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var gq=M((lHe,mq)=>{mq.exports=Sx()});var Ax=M((dHe,vq)=>{var Gye=Math.pow(2,30)-1;vq.exports=function(r,e){if(typeof r!="number")throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>Gye||e!==e)throw new TypeError("Bad key length")}});var Ix=M((hHe,wq)=>{var _m;global.process&&global.process.browser?_m="utf-8":global.process&&global.process.version?(xq=parseInt(process.version.split(".")[0].slice(1),10),_m=xq>=6?"utf-8":"binary"):_m="utf-8";var xq;wq.exports=_m});var kx=M((pHe,_q)=>{var Tx=fr().Buffer;_q.exports=function(r,e,t){if(Tx.isBuffer(r))return r;if(typeof r=="string")return Tx.from(r,e);if(ArrayBuffer.isView(r))return Tx.from(r.buffer);throw new TypeError(t+" must be a string, a Buffer, a typed array or a DataView")}});var Cx=M((bHe,Iq)=>{var Yye=xx(),Wye=bm(),Zye=vm(),Iu=fr().Buffer,Jye=Ax(),Eq=Ix(),Sq=kx(),Xye=Iu.alloc(128),Em={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Aq(r,e,t){var i=Qye(r),n=r==="sha512"||r==="sha384"?128:64;e.length>n?e=i(e):e.length<n&&(e=Iu.concat([e,Xye],n));for(var s=Iu.allocUnsafe(n+Em[r]),o=Iu.allocUnsafe(n+Em[r]),a=0;a<n;a++)s[a]=e[a]^54,o[a]=e[a]^92;var f=Iu.allocUnsafe(n+t+4);s.copy(f,0,0,n),this.ipad1=f,this.ipad2=s,this.opad=o,this.alg=r,this.blocksize=n,this.hash=i,this.size=Em[r]}Aq.prototype.run=function(r,e){r.copy(e,this.blocksize);var t=this.hash(e);return t.copy(this.opad,this.blocksize),this.hash(this.opad)};function Qye(r){function e(i){return Zye(r).update(i).digest()}function t(i){return new Wye().update(i).digest()}return r==="rmd160"||r==="ripemd160"?t:r==="md5"?Yye:e}function eme(r,e,t,i,n){Jye(t,i),r=Sq(r,Eq,"Password"),e=Sq(e,Eq,"Salt"),n=n||"sha1";var s=new Aq(n,r,e.length),o=Iu.allocUnsafe(i),a=Iu.allocUnsafe(e.length+4);e.copy(a,0,0,e.length);for(var f=0,c=Em[n],l=Math.ceil(i/c),h=1;h<=l;h++){a.writeUInt32BE(h,e.length);for(var x=s.run(a,s.ipad1),_=x,E=1;E<t;E++){_=s.run(_,s.ipad2);for(var C=0;C<c;C++)x[C]^=_[C]}x.copy(o,f),f+=c}return o}Iq.exports=eme});var Nq=M((yHe,Rq)=>{var Tq=fr().Buffer,tme=Ax(),kq=Ix(),Cq=Cx(),Bq=kx(),Sm,A2=global.crypto&&global.crypto.subtle,rme={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Bx=[];function ime(r){if(global.process&&!global.process.browser||!A2||!A2.importKey||!A2.deriveBits)return Promise.resolve(!1);if(Bx[r]!==void 0)return Bx[r];Sm=Sm||Tq.alloc(8);var e=Mq(Sm,Sm,10,128,r).then(function(){return!0}).catch(function(){return!1});return Bx[r]=e,e}var Tu;function Mx(){return Tu||(global.process&&global.process.nextTick?Tu=global.process.nextTick:global.queueMicrotask?Tu=global.queueMicrotask:global.setImmediate?Tu=global.setImmediate:Tu=global.setTimeout,Tu)}function Mq(r,e,t,i,n){return A2.importKey("raw",r,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return A2.deriveBits({name:"PBKDF2",salt:e,iterations:t,hash:{name:n}},s,i<<3)}).then(function(s){return Tq.from(s)})}function nme(r,e){r.then(function(t){Mx()(function(){e(null,t)})},function(t){Mx()(function(){e(t)})})}Rq.exports=function(r,e,t,i,n,s){typeof n=="function"&&(s=n,n=void 0),n=n||"sha1";var o=rme[n.toLowerCase()];if(!o||typeof global.Promise!="function"){Mx()(function(){var a;try{a=Cq(r,e,t,i,n)}catch(f){return s(f)}s(null,a)});return}if(tme(t,i),r=Bq(r,kq,"Password"),e=Bq(e,kq,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");nme(ime(o).then(function(a){return a?Mq(r,e,t,i,o):Cq(r,e,t,i,n)}),s)}});var Nx=M(Rx=>{Rx.pbkdf2=Nq();Rx.pbkdf2Sync=Cx()});var Px=M(Eo=>{"use strict";Eo.readUInt32BE=function(e,t){var i=e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t];return i>>>0};Eo.writeUInt32BE=function(e,t,i){e[0+i]=t>>>24,e[1+i]=t>>>16&255,e[2+i]=t>>>8&255,e[3+i]=t&255};Eo.ip=function(e,t,i,n){for(var s=0,o=0,a=6;a>=0;a-=2){for(var f=0;f<=24;f+=8)s<<=1,s|=t>>>f+a&1;for(var f=0;f<=24;f+=8)s<<=1,s|=e>>>f+a&1}for(var a=6;a>=0;a-=2){for(var f=1;f<=25;f+=8)o<<=1,o|=t>>>f+a&1;for(var f=1;f<=25;f+=8)o<<=1,o|=e>>>f+a&1}i[n+0]=s>>>0,i[n+1]=o>>>0};Eo.rip=function(e,t,i,n){for(var s=0,o=0,a=0;a<4;a++)for(var f=24;f>=0;f-=8)s<<=1,s|=t>>>f+a&1,s<<=1,s|=e>>>f+a&1;for(var a=4;a<8;a++)for(var f=24;f>=0;f-=8)o<<=1,o|=t>>>f+a&1,o<<=1,o|=e>>>f+a&1;i[n+0]=s>>>0,i[n+1]=o>>>0};Eo.pc1=function(e,t,i,n){for(var s=0,o=0,a=7;a>=5;a--){for(var f=0;f<=24;f+=8)s<<=1,s|=t>>f+a&1;for(var f=0;f<=24;f+=8)s<<=1,s|=e>>f+a&1}for(var f=0;f<=24;f+=8)s<<=1,s|=t>>f+a&1;for(var a=1;a<=3;a++){for(var f=0;f<=24;f+=8)o<<=1,o|=t>>f+a&1;for(var f=0;f<=24;f+=8)o<<=1,o|=e>>f+a&1}for(var f=0;f<=24;f+=8)o<<=1,o|=e>>f+a&1;i[n+0]=s>>>0,i[n+1]=o>>>0};Eo.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var Am=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Eo.pc2=function(e,t,i,n){for(var s=0,o=0,a=Am.length>>>1,f=0;f<a;f++)s<<=1,s|=e>>>Am[f]&1;for(var f=a;f<Am.length;f++)o<<=1,o|=t>>>Am[f]&1;i[n+0]=s>>>0,i[n+1]=o>>>0};Eo.expand=function(e,t,i){var n=0,s=0;n=(e&1)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(var o=11;o>=3;o-=4)s|=e>>>o&63,s<<=6;s|=(e&31)<<1|e>>>31,t[i+0]=n>>>0,t[i+1]=s>>>0};var Pq=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Eo.substitute=function(e,t){for(var i=0,n=0;n<4;n++){var s=e>>>18-n*6&63,o=Pq[n*64+s];i<<=4,i|=o}for(var n=0;n<4;n++){var s=t>>>18-n*6&63,o=Pq[4*64+n*64+s];i<<=4,i|=o}return i>>>0};var qq=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Eo.permute=function(e){for(var t=0,i=0;i<qq.length;i++)t<<=1,t|=e>>>qq[i]&1;return t>>>0};Eo.padSplit=function(e,t,i){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var s=[],o=0;o<t;o+=i)s.push(n.slice(o,o+i));return s.join(" ")}});var Im=M((vHe,Oq)=>{"use strict";var sme=ln();function So(r){this.options=r,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}Oq.exports=So;So.prototype._init=function(){};So.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};So.prototype._buffer=function(e,t){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<i;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=i,i};So.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize};So.prototype._updateEncrypt=function(e){var t=0,i=0,n=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(n*this.blockSize);this.bufferOff!==0&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(s,i)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,s,i),i+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return s};So.prototype._updateDecrypt=function(e){for(var t=0,i=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),i+=this._flushBuffer(s,i);return t+=this._buffer(e,t),s};So.prototype.final=function(e){var t;e&&(t=this.update(e));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),t?t.concat(i):i};So.prototype._pad=function(e,t){if(t===0)return!1;for(;t<e.length;)e[t++]=0;return!0};So.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};So.prototype._unpad=function(e){return e};So.prototype._finalDecrypt=function(){sme.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var qx=M((xHe,Uq)=>{"use strict";var Dq=ln(),ome=dr(),nn=Px(),Lq=Im();function ame(){this.tmp=new Array(2),this.keys=null}function df(r){Lq.call(this,r);var e=new ame;this._desState=e,this.deriveKeys(e,r.key)}ome(df,Lq);Uq.exports=df;df.create=function(e){return new df(e)};var fme=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];df.prototype.deriveKeys=function(e,t){e.keys=new Array(16*2),Dq.equal(t.length,this.blockSize,"Invalid key length");var i=nn.readUInt32BE(t,0),n=nn.readUInt32BE(t,4);nn.pc1(i,n,e.tmp,0),i=e.tmp[0],n=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var o=fme[s>>>1];i=nn.r28shl(i,o),n=nn.r28shl(n,o),nn.pc2(i,n,e.keys,s)}};df.prototype._update=function(e,t,i,n){var s=this._desState,o=nn.readUInt32BE(e,t),a=nn.readUInt32BE(e,t+4);nn.ip(o,a,s.tmp,0),o=s.tmp[0],a=s.tmp[1],this.type==="encrypt"?this._encrypt(s,o,a,s.tmp,0):this._decrypt(s,o,a,s.tmp,0),o=s.tmp[0],a=s.tmp[1],nn.writeUInt32BE(i,o,n),nn.writeUInt32BE(i,a,n+4)};df.prototype._pad=function(e,t){for(var i=e.length-t,n=t;n<e.length;n++)e[n]=i;return!0};df.prototype._unpad=function(e){for(var t=e[e.length-1],i=e.length-t;i<e.length;i++)Dq.equal(e[i],t);return e.slice(0,e.length-t)};df.prototype._encrypt=function(e,t,i,n,s){for(var o=t,a=i,f=0;f<e.keys.length;f+=2){var c=e.keys[f],l=e.keys[f+1];nn.expand(a,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var h=nn.substitute(c,l),x=nn.permute(h),_=a;a=(o^x)>>>0,o=_}nn.rip(a,o,n,s)};df.prototype._decrypt=function(e,t,i,n,s){for(var o=i,a=t,f=e.keys.length-2;f>=0;f-=2){var c=e.keys[f],l=e.keys[f+1];nn.expand(o,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var h=nn.substitute(c,l),x=nn.permute(h),_=o;o=(a^x)>>>0,a=_}nn.rip(o,a,n,s)}});var Kq=M(Fq=>{"use strict";var cme=ln(),ume=dr(),Tm={};function lme(r){cme.equal(r.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=r[e]}function dme(r){function e(s){r.call(this,s),this._cbcInit()}ume(e,r);for(var t=Object.keys(Tm),i=0;i<t.length;i++){var n=t[i];e.prototype[n]=Tm[n]}return e.create=function(o){return new e(o)},e}Fq.instantiate=dme;Tm._cbcInit=function(){var e=new lme(this.options.iv);this._cbcState=e};Tm._update=function(e,t,i,n){var s=this._cbcState,o=this.constructor.super_.prototype,a=s.iv;if(this.type==="encrypt"){for(var f=0;f<this.blockSize;f++)a[f]^=e[t+f];o._update.call(this,a,0,i,n);for(var f=0;f<this.blockSize;f++)a[f]=i[n+f]}else{o._update.call(this,e,t,i,n);for(var f=0;f<this.blockSize;f++)i[n+f]^=a[f];for(var f=0;f<this.blockSize;f++)a[f]=e[t+f]}}});var Vq=M((_He,jq)=>{"use strict";var hme=ln(),pme=dr(),zq=Im(),pc=qx();function bme(r,e){hme.equal(e.length,24,"Invalid key length");var t=e.slice(0,8),i=e.slice(8,16),n=e.slice(16,24);r==="encrypt"?this.ciphers=[pc.create({type:"encrypt",key:t}),pc.create({type:"decrypt",key:i}),pc.create({type:"encrypt",key:n})]:this.ciphers=[pc.create({type:"decrypt",key:n}),pc.create({type:"encrypt",key:i}),pc.create({type:"decrypt",key:t})]}function ku(r){zq.call(this,r);var e=new bme(this.type,this.options.key);this._edeState=e}pme(ku,zq);jq.exports=ku;ku.create=function(e){return new ku(e)};ku.prototype._update=function(e,t,i,n){var s=this._edeState;s.ciphers[0]._update(e,t,i,n),s.ciphers[1]._update(i,n,i,n),s.ciphers[2]._update(i,n,i,n)};ku.prototype._pad=pc.prototype._pad;ku.prototype._unpad=pc.prototype._unpad});var Hq=M(Fd=>{"use strict";Fd.utils=Px();Fd.Cipher=Im();Fd.DES=qx();Fd.CBC=Kq();Fd.EDE=Vq()});var Yq=M((SHe,Gq)=>{var $q=d0(),h0=Hq(),yme=dr(),Cu=fr().Buffer,I2={"des-ede3-cbc":h0.CBC.instantiate(h0.EDE),"des-ede3":h0.EDE,"des-ede-cbc":h0.CBC.instantiate(h0.EDE),"des-ede":h0.EDE,"des-cbc":h0.CBC.instantiate(h0.DES),"des-ecb":h0.DES};I2.des=I2["des-cbc"];I2.des3=I2["des-ede3-cbc"];Gq.exports=km;yme(km,$q);function km(r){$q.call(this);var e=r.mode.toLowerCase(),t=I2[e],i;r.decrypt?i="decrypt":i="encrypt";var n=r.key;Cu.isBuffer(n)||(n=Cu.from(n)),(e==="des-ede"||e==="des-ede-cbc")&&(n=Cu.concat([n,n.slice(0,8)]));var s=r.iv;Cu.isBuffer(s)||(s=Cu.from(s)),this._des=t.create({key:n,iv:s,type:i})}km.prototype._update=function(r){return Cu.from(this._des.update(r))};km.prototype._final=function(){return Cu.from(this._des.final())}});var Wq=M(Ox=>{Ox.encrypt=function(r,e){return r._cipher.encryptBlock(e)};Ox.decrypt=function(r,e){return r._cipher.decryptBlock(e)}});var Kd=M((IHe,Zq)=>{Zq.exports=function(e,t){for(var i=Math.min(e.length,t.length),n=new Buffer(i),s=0;s<i;++s)n[s]=e[s]^t[s];return n}});var Xq=M(Dx=>{var Jq=Kd();Dx.encrypt=function(r,e){var t=Jq(e,r._prev);return r._prev=r._cipher.encryptBlock(t),r._prev};Dx.decrypt=function(r,e){var t=r._prev;r._prev=e;var i=r._cipher.decryptBlock(e);return Jq(i,t)}});var tO=M(eO=>{var T2=fr().Buffer,mme=Kd();function Qq(r,e,t){var i=e.length,n=mme(e,r._cache);return r._cache=r._cache.slice(i),r._prev=T2.concat([r._prev,t?e:n]),n}eO.encrypt=function(r,e,t){for(var i=T2.allocUnsafe(0),n;e.length;)if(r._cache.length===0&&(r._cache=r._cipher.encryptBlock(r._prev),r._prev=T2.allocUnsafe(0)),r._cache.length<=e.length)n=r._cache.length,i=T2.concat([i,Qq(r,e.slice(0,n),t)]),e=e.slice(n);else{i=T2.concat([i,Qq(r,e,t)]);break}return i}});var iO=M(rO=>{var Lx=fr().Buffer;function gme(r,e,t){var i=r._cipher.encryptBlock(r._prev),n=i[0]^e;return r._prev=Lx.concat([r._prev.slice(1),Lx.from([t?e:n])]),n}rO.encrypt=function(r,e,t){for(var i=e.length,n=Lx.allocUnsafe(i),s=-1;++s<i;)n[s]=gme(r,e[s],t);return n}});var sO=M(nO=>{var Cm=fr().Buffer;function vme(r,e,t){for(var i,n=-1,s=8,o=0,a,f;++n<s;)i=r._cipher.encryptBlock(r._prev),a=e&1<<7-n?128:0,f=i[0]^a,o+=(f&128)>>n%8,r._prev=xme(r._prev,t?a:f);return o}function xme(r,e){var t=r.length,i=-1,n=Cm.allocUnsafe(r.length);for(r=Cm.concat([r,Cm.from([e])]);++i<t;)n[i]=r[i]<<1|r[i+1]>>7;return n}nO.encrypt=function(r,e,t){for(var i=e.length,n=Cm.allocUnsafe(i),s=-1;++s<i;)n[s]=vme(r,e[s],t);return n}});var aO=M(oO=>{var wme=Kd();function _me(r){return r._prev=r._cipher.encryptBlock(r._prev),r._prev}oO.encrypt=function(r,e){for(;r._cache.length<e.length;)r._cache=Buffer.concat([r._cache,_me(r)]);var t=r._cache.slice(0,e.length);return r._cache=r._cache.slice(e.length),wme(e,t)}});var Ux=M((RHe,fO)=>{function Eme(r){for(var e=r.length,t;e--;)if(t=r.readUInt8(e),t===255)r.writeUInt8(0,e);else{t++,r.writeUInt8(t,e);break}}fO.exports=Eme});var Kx=M(uO=>{var Sme=Kd(),cO=fr().Buffer,Ame=Ux();function Ime(r){var e=r._cipher.encryptBlockRaw(r._prev);return Ame(r._prev),e}var Fx=16;uO.encrypt=function(r,e){var t=Math.ceil(e.length/Fx),i=r._cache.length;r._cache=cO.concat([r._cache,cO.allocUnsafe(t*Fx)]);for(var n=0;n<t;n++){var s=Ime(r),o=i+n*Fx;r._cache.writeUInt32BE(s[0],o+0),r._cache.writeUInt32BE(s[1],o+4),r._cache.writeUInt32BE(s[2],o+8),r._cache.writeUInt32BE(s[3],o+12)}var a=r._cache.slice(0,e.length);return r._cache=r._cache.slice(e.length),Sme(e,a)}});var zx=M((PHe,Tme)=>{Tme.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var Mm=M((qHe,dO)=>{var kme={ECB:Wq(),CBC:Xq(),CFB:tO(),CFB8:iO(),CFB1:sO(),OFB:aO(),CTR:Kx(),GCM:Kx()},Bm=zx();for(var lO in Bm)Bm[lO].module=kme[Bm[lO].mode];dO.exports=Bm});var k2=M((OHe,pO)=>{var Rm=fr().Buffer;function jx(r){Rm.isBuffer(r)||(r=Rm.from(r));for(var e=r.length/4|0,t=new Array(e),i=0;i<e;i++)t[i]=r.readUInt32BE(i*4);return t}function Vx(r){for(var e=0;e<r.length;r++)r[e]=0}function hO(r,e,t,i,n){for(var s=t[0],o=t[1],a=t[2],f=t[3],c=r[0]^e[0],l=r[1]^e[1],h=r[2]^e[2],x=r[3]^e[3],_,E,C,L,O=4,W=1;W<n;W++)_=s[c>>>24]^o[l>>>16&255]^a[h>>>8&255]^f[x&255]^e[O++],E=s[l>>>24]^o[h>>>16&255]^a[x>>>8&255]^f[c&255]^e[O++],C=s[h>>>24]^o[x>>>16&255]^a[c>>>8&255]^f[l&255]^e[O++],L=s[x>>>24]^o[c>>>16&255]^a[l>>>8&255]^f[h&255]^e[O++],c=_,l=E,h=C,x=L;return _=(i[c>>>24]<<24|i[l>>>16&255]<<16|i[h>>>8&255]<<8|i[x&255])^e[O++],E=(i[l>>>24]<<24|i[h>>>16&255]<<16|i[x>>>8&255]<<8|i[c&255])^e[O++],C=(i[h>>>24]<<24|i[x>>>16&255]<<16|i[c>>>8&255]<<8|i[l&255])^e[O++],L=(i[x>>>24]<<24|i[c>>>16&255]<<16|i[l>>>8&255]<<8|i[h&255])^e[O++],_=_>>>0,E=E>>>0,C=C>>>0,L=L>>>0,[_,E,C,L]}var Cme=[0,1,2,4,8,16,32,64,128,27,54],Wi=function(){for(var r=new Array(256),e=0;e<256;e++)e<128?r[e]=e<<1:r[e]=e<<1^283;for(var t=[],i=[],n=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,f=0;f<256;++f){var c=a^a<<1^a<<2^a<<3^a<<4;c=c>>>8^c&255^99,t[o]=c,i[c]=o;var l=r[o],h=r[l],x=r[h],_=r[c]*257^c*16843008;n[0][o]=_<<24|_>>>8,n[1][o]=_<<16|_>>>16,n[2][o]=_<<8|_>>>24,n[3][o]=_,_=x*16843009^h*65537^l*257^o*16843008,s[0][c]=_<<24|_>>>8,s[1][c]=_<<16|_>>>16,s[2][c]=_<<8|_>>>24,s[3][c]=_,o===0?o=a=1:(o=l^r[r[r[x^l]]],a^=r[r[a]])}return{SBOX:t,INV_SBOX:i,SUB_MIX:n,INV_SUB_MIX:s}}();function Ao(r){this._key=jx(r),this._reset()}Ao.blockSize=4*4;Ao.keySize=256/8;Ao.prototype.blockSize=Ao.blockSize;Ao.prototype.keySize=Ao.keySize;Ao.prototype._reset=function(){for(var r=this._key,e=r.length,t=e+6,i=(t+1)*4,n=[],s=0;s<e;s++)n[s]=r[s];for(s=e;s<i;s++){var o=n[s-1];s%e==0?(o=o<<8|o>>>24,o=Wi.SBOX[o>>>24]<<24|Wi.SBOX[o>>>16&255]<<16|Wi.SBOX[o>>>8&255]<<8|Wi.SBOX[o&255],o^=Cme[s/e|0]<<24):e>6&&s%e==4&&(o=Wi.SBOX[o>>>24]<<24|Wi.SBOX[o>>>16&255]<<16|Wi.SBOX[o>>>8&255]<<8|Wi.SBOX[o&255]),n[s]=n[s-e]^o}for(var a=[],f=0;f<i;f++){var c=i-f,l=n[c-(f%4?0:4)];f<4||c<=4?a[f]=l:a[f]=Wi.INV_SUB_MIX[0][Wi.SBOX[l>>>24]]^Wi.INV_SUB_MIX[1][Wi.SBOX[l>>>16&255]]^Wi.INV_SUB_MIX[2][Wi.SBOX[l>>>8&255]]^Wi.INV_SUB_MIX[3][Wi.SBOX[l&255]]}this._nRounds=t,this._keySchedule=n,this._invKeySchedule=a};Ao.prototype.encryptBlockRaw=function(r){return r=jx(r),hO(r,this._keySchedule,Wi.SUB_MIX,Wi.SBOX,this._nRounds)};Ao.prototype.encryptBlock=function(r){var e=this.encryptBlockRaw(r),t=Rm.allocUnsafe(16);return t.writeUInt32BE(e[0],0),t.writeUInt32BE(e[1],4),t.writeUInt32BE(e[2],8),t.writeUInt32BE(e[3],12),t};Ao.prototype.decryptBlock=function(r){r=jx(r);var e=r[1];r[1]=r[3],r[3]=e;var t=hO(r,this._invKeySchedule,Wi.INV_SUB_MIX,Wi.INV_SBOX,this._nRounds),i=Rm.allocUnsafe(16);return i.writeUInt32BE(t[0],0),i.writeUInt32BE(t[3],4),i.writeUInt32BE(t[2],8),i.writeUInt32BE(t[1],12),i};Ao.prototype.scrub=function(){Vx(this._keySchedule),Vx(this._invKeySchedule),Vx(this._key)};pO.exports.AES=Ao});var mO=M((DHe,yO)=>{var zd=fr().Buffer,Bme=zd.alloc(16,0);function Mme(r){return[r.readUInt32BE(0),r.readUInt32BE(4),r.readUInt32BE(8),r.readUInt32BE(12)]}function bO(r){var e=zd.allocUnsafe(16);return e.writeUInt32BE(r[0]>>>0,0),e.writeUInt32BE(r[1]>>>0,4),e.writeUInt32BE(r[2]>>>0,8),e.writeUInt32BE(r[3]>>>0,12),e}function C2(r){this.h=r,this.state=zd.alloc(16,0),this.cache=zd.allocUnsafe(0)}C2.prototype.ghash=function(r){for(var e=-1;++e<r.length;)this.state[e]^=r[e];this._multiply()};C2.prototype._multiply=function(){for(var r=Mme(this.h),e=[0,0,0,0],t,i,n,s=-1;++s<128;){for(i=(this.state[~~(s/8)]&1<<7-s%8)!=0,i&&(e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3]),n=(r[3]&1)!=0,t=3;t>0;t--)r[t]=r[t]>>>1|(r[t-1]&1)<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=bO(e)};C2.prototype.update=function(r){this.cache=zd.concat([this.cache,r]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};C2.prototype.final=function(r,e){return this.cache.length&&this.ghash(zd.concat([this.cache,Bme],16)),this.ghash(bO([0,r,0,e])),this.state};yO.exports=C2});var Hx=M((LHe,xO)=>{var Rme=k2(),Ps=fr().Buffer,gO=d0(),Nme=dr(),vO=mO(),Pme=Kd(),qme=Ux();function Ome(r,e){var t=0;r.length!==e.length&&t++;for(var i=Math.min(r.length,e.length),n=0;n<i;++n)t+=r[n]^e[n];return t}function Dme(r,e,t){if(e.length===12)return r._finID=Ps.concat([e,Ps.from([0,0,0,1])]),Ps.concat([e,Ps.from([0,0,0,2])]);var i=new vO(t),n=e.length,s=n%16;i.update(e),s&&(s=16-s,i.update(Ps.alloc(s,0))),i.update(Ps.alloc(8,0));var o=n*8,a=Ps.alloc(8);a.writeUIntBE(o,0,8),i.update(a),r._finID=i.state;var f=Ps.from(r._finID);return qme(f),f}function Bu(r,e,t,i){gO.call(this);var n=Ps.alloc(4,0);this._cipher=new Rme.AES(e);var s=this._cipher.encryptBlock(n);this._ghash=new vO(s),t=Dme(this,t,s),this._prev=Ps.from(t),this._cache=Ps.allocUnsafe(0),this._secCache=Ps.allocUnsafe(0),this._decrypt=i,this._alen=0,this._len=0,this._mode=r,this._authTag=null,this._called=!1}Nme(Bu,gO);Bu.prototype._update=function(r){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Ps.alloc(e,0),this._ghash.update(e))}this._called=!0;var t=this._mode.encrypt(this,r);return this._decrypt?this._ghash.update(r):this._ghash.update(t),this._len+=r.length,t};Bu.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var r=Pme(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&Ome(r,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=r,this._cipher.scrub()};Bu.prototype.getAuthTag=function(){if(this._decrypt||!Ps.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Bu.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Bu.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};xO.exports=Bu});var Gx=M((UHe,_O)=>{var Lme=k2(),$x=fr().Buffer,wO=d0(),Ume=dr();function Nm(r,e,t,i){wO.call(this),this._cipher=new Lme.AES(e),this._prev=$x.from(t),this._cache=$x.allocUnsafe(0),this._secCache=$x.allocUnsafe(0),this._decrypt=i,this._mode=r}Ume(Nm,wO);Nm.prototype._update=function(r){return this._mode.encrypt(this,r,this._decrypt)};Nm.prototype._final=function(){this._cipher.scrub()};_O.exports=Nm});var B2=M((FHe,EO)=>{var Mu=fr().Buffer,Fme=hm();function Kme(r,e,t,i){if(Mu.isBuffer(r)||(r=Mu.from(r,"binary")),e&&(Mu.isBuffer(e)||(e=Mu.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=t/8,s=Mu.alloc(n),o=Mu.alloc(i||0),a=Mu.alloc(0);n>0||i>0;){var f=new Fme;f.update(a),f.update(r),e&&f.update(e),a=f.digest();var c=0;if(n>0){var l=s.length-n;c=Math.min(n,a.length),a.copy(s,l,0,c),n-=c}if(c<a.length&&i>0){var h=o.length-i,x=Math.min(i,a.length-c);a.copy(o,h,c,c+x),i-=x}}return a.fill(0),{key:s,iv:o}}EO.exports=Kme});var TO=M(Yx=>{var SO=Mm(),zme=Hx(),p0=fr().Buffer,jme=Gx(),AO=d0(),Vme=k2(),Hme=B2(),$me=dr();function M2(r,e,t){AO.call(this),this._cache=new Pm,this._cipher=new Vme.AES(e),this._prev=p0.from(t),this._mode=r,this._autopadding=!0}$me(M2,AO);M2.prototype._update=function(r){this._cache.add(r);for(var e,t,i=[];e=this._cache.get();)t=this._mode.encrypt(this,e),i.push(t);return p0.concat(i)};var Gme=p0.alloc(16,16);M2.prototype._final=function(){var r=this._cache.flush();if(this._autopadding)return r=this._mode.encrypt(this,r),this._cipher.scrub(),r;if(!r.equals(Gme))throw this._cipher.scrub(),new Error("data not multiple of block length")};M2.prototype.setAutoPadding=function(r){return this._autopadding=!!r,this};function Pm(){this.cache=p0.allocUnsafe(0)}Pm.prototype.add=function(r){this.cache=p0.concat([this.cache,r])};Pm.prototype.get=function(){if(this.cache.length>15){var r=this.cache.slice(0,16);return this.cache=this.cache.slice(16),r}return null};Pm.prototype.flush=function(){for(var r=16-this.cache.length,e=p0.allocUnsafe(r),t=-1;++t<r;)e.writeUInt8(r,t);return p0.concat([this.cache,e])};function IO(r,e,t){var i=SO[r.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=p0.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);if(typeof t=="string"&&(t=p0.from(t)),i.mode!=="GCM"&&t.length!==i.iv)throw new TypeError("invalid iv length "+t.length);return i.type==="stream"?new jme(i.module,e,t):i.type==="auth"?new zme(i.module,e,t):new M2(i.module,e,t)}function Yme(r,e){var t=SO[r.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var i=Hme(e,!1,t.key,t.iv);return IO(r,i.key,i.iv)}Yx.createCipheriv=IO;Yx.createCipher=Yme});var MO=M(Wx=>{var Wme=Hx(),jd=fr().Buffer,kO=Mm(),Zme=Gx(),CO=d0(),Jme=k2(),Xme=B2(),Qme=dr();function R2(r,e,t){CO.call(this),this._cache=new qm,this._last=void 0,this._cipher=new Jme.AES(e),this._prev=jd.from(t),this._mode=r,this._autopadding=!0}Qme(R2,CO);R2.prototype._update=function(r){this._cache.add(r);for(var e,t,i=[];e=this._cache.get(this._autopadding);)t=this._mode.decrypt(this,e),i.push(t);return jd.concat(i)};R2.prototype._final=function(){var r=this._cache.flush();if(this._autopadding)return e5e(this._mode.decrypt(this,r));if(r)throw new Error("data not multiple of block length")};R2.prototype.setAutoPadding=function(r){return this._autopadding=!!r,this};function qm(){this.cache=jd.allocUnsafe(0)}qm.prototype.add=function(r){this.cache=jd.concat([this.cache,r])};qm.prototype.get=function(r){var e;if(r){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};qm.prototype.flush=function(){if(this.cache.length)return this.cache};function e5e(r){var e=r[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var t=-1;++t<e;)if(r[t+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return r.slice(0,16-e)}function BO(r,e,t){var i=kO[r.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof t=="string"&&(t=jd.from(t)),i.mode!=="GCM"&&t.length!==i.iv)throw new TypeError("invalid iv length "+t.length);if(typeof e=="string"&&(e=jd.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);return i.type==="stream"?new Zme(i.module,e,t,!0):i.type==="auth"?new Wme(i.module,e,t,!0):new R2(i.module,e,t)}function t5e(r,e){var t=kO[r.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var i=Xme(e,!1,t.key,t.iv);return BO(r,i.key,i.iv)}Wx.createDecipher=t5e;Wx.createDecipheriv=BO});var Om=M(ya=>{var RO=TO(),NO=MO(),r5e=zx();function i5e(){return Object.keys(r5e)}ya.createCipher=ya.Cipher=RO.createCipher;ya.createCipheriv=ya.Cipheriv=RO.createCipheriv;ya.createDecipher=ya.Decipher=NO.createDecipher;ya.createDecipheriv=ya.Decipheriv=NO.createDecipheriv;ya.listCiphers=ya.getCiphers=i5e});var PO=M(b0=>{b0["des-ecb"]={key:8,iv:0};b0["des-cbc"]=b0.des={key:8,iv:8};b0["des-ede3-cbc"]=b0.des3={key:24,iv:8};b0["des-ede3"]={key:24,iv:0};b0["des-ede-cbc"]={key:16,iv:8};b0["des-ede"]={key:16,iv:0}});var UO=M(ma=>{var qO=Yq(),Zx=Om(),bc=Mm(),y0=PO(),OO=B2();function n5e(r,e){r=r.toLowerCase();var t,i;if(bc[r])t=bc[r].key,i=bc[r].iv;else if(y0[r])t=y0[r].key*8,i=y0[r].iv;else throw new TypeError("invalid suite type");var n=OO(e,!1,t,i);return DO(r,n.key,n.iv)}function s5e(r,e){r=r.toLowerCase();var t,i;if(bc[r])t=bc[r].key,i=bc[r].iv;else if(y0[r])t=y0[r].key*8,i=y0[r].iv;else throw new TypeError("invalid suite type");var n=OO(e,!1,t,i);return LO(r,n.key,n.iv)}function DO(r,e,t){if(r=r.toLowerCase(),bc[r])return Zx.createCipheriv(r,e,t);if(y0[r])return new qO({key:e,iv:t,mode:r});throw new TypeError("invalid suite type")}function LO(r,e,t){if(r=r.toLowerCase(),bc[r])return Zx.createDecipheriv(r,e,t);if(y0[r])return new qO({key:e,iv:t,mode:r,decrypt:!0});throw new TypeError("invalid suite type")}function o5e(){return Object.keys(y0).concat(Zx.getCiphers())}ma.createCipher=ma.Cipher=n5e;ma.createCipheriv=ma.Cipheriv=DO;ma.createDecipher=ma.Decipher=s5e;ma.createDecipheriv=ma.Decipheriv=LO;ma.listCiphers=ma.getCiphers=o5e});var Dm=M(($He,Qx)=>{var Jx;Qx.exports=function(e){return Jx||(Jx=new yc(null)),Jx.generate(e)};function yc(r){this.rand=r}Qx.exports.Rand=yc;yc.prototype.generate=function(e){return this._rand(e)};yc.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),i=0;i<t.length;i++)t[i]=this.rand.getByte();return t};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?yc.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?yc.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(yc.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(Xx=W0(),typeof Xx.randomBytes!="function")throw new Error("Not supported");yc.prototype._rand=function(e){return Xx.randomBytes(e)}}catch(r){}var Xx});var ew=M((GHe,FO)=>{var Ru=wi(),a5e=Dm();function Nu(r){this.rand=r||new a5e.Rand}FO.exports=Nu;Nu.create=function(e){return new Nu(e)};Nu.prototype._randbelow=function(e){var t=e.bitLength(),i=Math.ceil(t/8);do var n=new Ru(this.rand.generate(i));while(n.cmp(e)>=0);return n};Nu.prototype._randrange=function(e,t){var i=t.sub(e);return e.add(this._randbelow(i))};Nu.prototype.test=function(e,t,i){var n=e.bitLength(),s=Ru.mont(e),o=new Ru(1).toRed(s);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),f=0;!a.testn(f);f++);for(var c=e.shrn(f),l=a.toRed(s),h=!0;t>0;t--){var x=this._randrange(new Ru(2),a);i&&i(x);var _=x.toRed(s).redPow(c);if(!(_.cmp(o)===0||_.cmp(l)===0)){for(var E=1;E<f;E++){if(_=_.redSqr(),_.cmp(o)===0)return!1;if(_.cmp(l)===0)break}if(E===f)return!1}}return h};Nu.prototype.getDivisor=function(e,t){var i=e.bitLength(),n=Ru.mont(e),s=new Ru(1).toRed(n);t||(t=Math.max(1,i/48|0));for(var o=e.subn(1),a=0;!o.testn(a);a++);for(var f=e.shrn(a),c=o.toRed(n);t>0;t--){var l=this._randrange(new Ru(2),o),h=e.gcd(l);if(h.cmpn(1)!==0)return h;var x=l.toRed(n).redPow(f);if(!(x.cmp(s)===0||x.cmp(c)===0)){for(var _=1;_<a;_++){if(x=x.redSqr(),x.cmp(s)===0)return x.fromRed().subn(1).gcd(e);if(x.cmp(c)===0)break}if(_===a)return x=x.redSqr(),x.fromRed().subn(1).gcd(e)}}return!1}});var ow=M((XHe,jO)=>{var f5e=c0();jO.exports=sw;sw.simpleSieve=iw;sw.fermatTest=nw;var Un=wi(),c5e=new Un(24),u5e=ew(),KO=new u5e,l5e=new Un(1),tw=new Un(2),d5e=new Un(5),YHe=new Un(16),WHe=new Un(8),h5e=new Un(10),p5e=new Un(3),ZHe=new Un(7),b5e=new Un(11),zO=new Un(4),JHe=new Un(12),rw=null;function y5e(){if(rw!==null)return rw;var r=1048576,e=[];e[0]=2;for(var t=1,i=3;i<r;i+=2){for(var n=Math.ceil(Math.sqrt(i)),s=0;s<t&&e[s]<=n&&i%e[s]!=0;s++);t!==s&&e[s]<=n||(e[t++]=i)}return rw=e,e}function iw(r){for(var e=y5e(),t=0;t<e.length;t++)if(r.modn(e[t])===0)return r.cmpn(e[t])===0;return!0}function nw(r){var e=Un.mont(r);return tw.toRed(e).redPow(r.subn(1)).fromRed().cmpn(1)===0}function sw(r,e){if(r<16)return e===2||e===5?new Un([140,123]):new Un([140,39]);e=new Un(e);for(var t,i;;){for(t=new Un(f5e(Math.ceil(r/8)));t.bitLength()>r;)t.ishrn(1);if(t.isEven()&&t.iadd(l5e),t.testn(1)||t.iadd(tw),e.cmp(tw)){if(!e.cmp(d5e))for(;t.mod(h5e).cmp(p5e);)t.iadd(zO)}else for(;t.mod(c5e).cmp(b5e);)t.iadd(zO);if(i=t.shrn(1),iw(i)&&iw(t)&&nw(i)&&nw(t)&&KO.test(i)&&KO.test(t))return t}}});var VO=M((QHe,m5e)=>{m5e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var YO=M((e$e,GO)=>{var Io=wi(),g5e=ew(),HO=new g5e,v5e=new Io(24),x5e=new Io(11),w5e=new Io(10),_5e=new Io(3),E5e=new Io(7),$O=ow(),S5e=c0();GO.exports=m0;function A5e(r,e){return e=e||"utf8",Buffer.isBuffer(r)||(r=new Buffer(r,e)),this._pub=new Io(r),this}function I5e(r,e){return e=e||"utf8",Buffer.isBuffer(r)||(r=new Buffer(r,e)),this._priv=new Io(r),this}var Lm={};function T5e(r,e){var t=e.toString("hex"),i=[t,r.toString(16)].join("_");if(i in Lm)return Lm[i];var n=0;if(r.isEven()||!$O.simpleSieve||!$O.fermatTest(r)||!HO.test(r))return n+=1,t==="02"||t==="05"?n+=8:n+=4,Lm[i]=n,n;HO.test(r.shrn(1))||(n+=2);var s;switch(t){case"02":r.mod(v5e).cmp(x5e)&&(n+=8);break;case"05":s=r.mod(w5e),s.cmp(_5e)&&s.cmp(E5e)&&(n+=8);break;default:n+=4}return Lm[i]=n,n}function m0(r,e,t){this.setGenerator(e),this.__prime=new Io(r),this._prime=Io.mont(this.__prime),this._primeLen=r.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,t?(this.setPublicKey=A5e,this.setPrivateKey=I5e):this._primeCode=8}Object.defineProperty(m0.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=T5e(this.__prime,this.__gen)),this._primeCode}});m0.prototype.generateKeys=function(){return this._priv||(this._priv=new Io(S5e(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};m0.prototype.computeSecret=function(r){r=new Io(r),r=r.toRed(this._prime);var e=r.redPow(this._priv).fromRed(),t=new Buffer(e.toArray()),i=this.getPrime();if(t.length<i.length){var n=new Buffer(i.length-t.length);n.fill(0),t=Buffer.concat([n,t])}return t};m0.prototype.getPublicKey=function(e){return Um(this._pub,e)};m0.prototype.getPrivateKey=function(e){return Um(this._priv,e)};m0.prototype.getPrime=function(r){return Um(this.__prime,r)};m0.prototype.getGenerator=function(r){return Um(this._gen,r)};m0.prototype.setGenerator=function(r,e){return e=e||"utf8",Buffer.isBuffer(r)||(r=new Buffer(r,e)),this.__gen=r,this._gen=new Io(r),this};function Um(r,e){var t=new Buffer(r.toArray());return e?t.toString(e):t}});var JO=M(Vd=>{var k5e=ow(),WO=VO(),aw=YO();function C5e(r){var e=new Buffer(WO[r].prime,"hex"),t=new Buffer(WO[r].gen,"hex");return new aw(e,t)}var B5e={binary:!0,hex:!0,base64:!0};function ZO(r,e,t,i){return Buffer.isBuffer(e)||B5e[e]===void 0?ZO(r,"binary",e,t):(e=e||"binary",i=i||"binary",t=t||new Buffer([2]),Buffer.isBuffer(t)||(t=new Buffer(t,i)),typeof r=="number"?new aw(k5e(r,t),t,!0):(Buffer.isBuffer(r)||(r=new Buffer(r,e)),new aw(r,t,!0)))}Vd.DiffieHellmanGroup=Vd.createDiffieHellmanGroup=Vd.getDiffieHellman=C5e;Vd.createDiffieHellman=Vd.DiffieHellman=ZO});var QO=M((XO,fw)=>{(function(r,e){"use strict";function t(v,u){if(!v)throw new Error(u||"Assertion failed")}function i(v,u){v.super_=u;var d=function(){};d.prototype=u.prototype,v.prototype=new d,v.prototype.constructor=v}function n(v,u,d){if(n.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(v||0,u||10,d||"be"))}typeof r=="object"?r.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=O6().Buffer}catch(v){}n.isBN=function(u){return u instanceof n?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===n.wordSize&&Array.isArray(u.words)},n.max=function(u,d){return u.cmp(d)>0?u:d},n.min=function(u,d){return u.cmp(d)<0?u:d},n.prototype._init=function(u,d,y){if(typeof u=="number")return this._initNumber(u,d,y);if(typeof u=="object")return this._initArray(u,d,y);d==="hex"&&(d=16),t(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var g=0;u[0]==="-"&&(g++,this.negative=1),g<u.length&&(d===16?this._parseHex(u,g,y):(this._parseBase(u,d,g),y==="le"&&this._initArray(this.toArray(),d,y)))},n.prototype._initNumber=function(u,d,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(t(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),d,y)},n.prototype._initArray=function(u,d,y){if(t(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var m,b,A=0;if(y==="be")for(g=u.length-1,m=0;g>=0;g-=3)b=u[g]|u[g-1]<<8|u[g-2]<<16,this.words[m]|=b<<A&67108863,this.words[m+1]=b>>>26-A&67108863,A+=24,A>=26&&(A-=26,m++);else if(y==="le")for(g=0,m=0;g<u.length;g+=3)b=u[g]|u[g+1]<<8|u[g+2]<<16,this.words[m]|=b<<A&67108863,this.words[m+1]=b>>>26-A&67108863,A+=24,A>=26&&(A-=26,m++);return this._strip()};function o(v,u){var d=v.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;t(!1,"Invalid character in "+v)}function a(v,u,d){var y=o(v,d);return d-1>=u&&(y|=o(v,d-1)<<4),y}n.prototype._parseHex=function(u,d,y){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var m=0,b=0,A;if(y==="be")for(g=u.length-1;g>=d;g-=2)A=a(u,d,g)<<m,this.words[b]|=A&67108863,m>=18?(m-=18,b+=1,this.words[b]|=A>>>26):m+=8;else{var I=u.length-d;for(g=I%2==0?d+1:d;g<u.length;g+=2)A=a(u,d,g)<<m,this.words[b]|=A&67108863,m>=18?(m-=18,b+=1,this.words[b]|=A>>>26):m+=8}this._strip()};function f(v,u,d,y){for(var g=0,m=0,b=Math.min(v.length,d),A=u;A<b;A++){var I=v.charCodeAt(A)-48;g*=y,I>=49?m=I-49+10:I>=17?m=I-17+10:m=I,t(I>=0&&m<y,"Invalid character"),g+=m}return g}n.prototype._parseBase=function(u,d,y){this.words=[0],this.length=1;for(var g=0,m=1;m<=67108863;m*=d)g++;g--,m=m/d|0;for(var b=u.length-y,A=b%g,I=Math.min(b,b-A)+y,p=0,B=y;B<I;B+=g)p=f(u,B,B+g,d),this.imuln(m),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(A!==0){var ce=1;for(p=f(u,B,u.length,d),B=0;B<A;B++)ce*=d;this.imuln(ce),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},n.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function c(v,u){v.words=u.words,v.length=u.length,v.negative=u.negative,v.red=u.red}if(n.prototype._move=function(u){c(u,this)},n.prototype.clone=function(){var u=new n(null);return this.copy(u),u},n.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(v){n.prototype.inspect=l}else n.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(u,d){u=u||10,d=d|0||1;var y;if(u===16||u==="hex"){y="";for(var g=0,m=0,b=0;b<this.length;b++){var A=this.words[b],I=((A<<g|m)&16777215).toString(16);m=A>>>24-g&16777215,m!==0||b!==this.length-1?y=h[6-I.length]+I+y:y=I+y,g+=2,g>=26&&(g-=26,b--)}for(m!==0&&(y=m.toString(16)+y);y.length%d!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(u===(u|0)&&u>=2&&u<=36){var p=x[u],B=_[u];y="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var R=ce.modrn(B).toString(u);ce=ce.idivn(B),ce.isZero()?y=R+y:y=h[p-R.length]+R+y}for(this.isZero()&&(y="0"+y);y.length%d!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}t(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(u,d){return this.toArrayLike(s,u,d)}),n.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var E=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};n.prototype.toArrayLike=function(u,d,y){this._strip();var g=this.byteLength(),m=y||Math.max(1,g);t(g<=m,"byte array longer than desired length"),t(m>0,"Requested array length <= 0");var b=E(u,m),A=d==="le"?"LE":"BE";return this["_toArrayLike"+A](b,g),b},n.prototype._toArrayLikeLE=function(u,d){for(var y=0,g=0,m=0,b=0;m<this.length;m++){var A=this.words[m]<<b|g;u[y++]=A&255,y<u.length&&(u[y++]=A>>8&255),y<u.length&&(u[y++]=A>>16&255),b===6?(y<u.length&&(u[y++]=A>>24&255),g=0,b=0):(g=A>>>24,b+=2)}if(y<u.length)for(u[y++]=g;y<u.length;)u[y++]=0},n.prototype._toArrayLikeBE=function(u,d){for(var y=u.length-1,g=0,m=0,b=0;m<this.length;m++){var A=this.words[m]<<b|g;u[y--]=A&255,y>=0&&(u[y--]=A>>8&255),y>=0&&(u[y--]=A>>16&255),b===6?(y>=0&&(u[y--]=A>>24&255),g=0,b=0):(g=A>>>24,b+=2)}if(y>=0)for(u[y--]=g;y>=0;)u[y--]=0},Math.clz32?n.prototype._countBits=function(u){return 32-Math.clz32(u)}:n.prototype._countBits=function(u){var d=u,y=0;return d>=4096&&(y+=13,d>>>=13),d>=64&&(y+=7,d>>>=7),d>=8&&(y+=4,d>>>=4),d>=2&&(y+=2,d>>>=2),y+d},n.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,y=0;return(d&8191)==0&&(y+=13,d>>>=13),(d&127)==0&&(y+=7,d>>>=7),(d&15)==0&&(y+=4,d>>>=4),(d&3)==0&&(y+=2,d>>>=2),(d&1)==0&&y++,y},n.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function C(v){for(var u=new Array(v.bitLength()),d=0;d<u.length;d++){var y=d/26|0,g=d%26;u[d]=v.words[y]>>>g&1}return u}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var y=this._zeroBits(this.words[d]);if(u+=y,y!==26)break}return u},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},n.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},n.prototype.ior=function(u){return t((this.negative|u.negative)==0),this.iuor(u)},n.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},n.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},n.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=d.length,this._strip()},n.prototype.iand=function(u){return t((this.negative|u.negative)==0),this.iuand(u)},n.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},n.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},n.prototype.iuxor=function(u){var d,y;this.length>u.length?(d=this,y=u):(d=u,y=this);for(var g=0;g<y.length;g++)this.words[g]=d.words[g]^y.words[g];if(this!==d)for(;g<d.length;g++)this.words[g]=d.words[g];return this.length=d.length,this._strip()},n.prototype.ixor=function(u){return t((this.negative|u.negative)==0),this.iuxor(u)},n.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},n.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},n.prototype.inotn=function(u){t(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,y=u%26;this._expand(d),y>0&&d--;for(var g=0;g<d;g++)this.words[g]=~this.words[g]&67108863;return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this._strip()},n.prototype.notn=function(u){return this.clone().inotn(u)},n.prototype.setn=function(u,d){t(typeof u=="number"&&u>=0);var y=u/26|0,g=u%26;return this._expand(y+1),d?this.words[y]=this.words[y]|1<<g:this.words[y]=this.words[y]&~(1<<g),this._strip()},n.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var y,g;this.length>u.length?(y=this,g=u):(y=u,g=this);for(var m=0,b=0;b<g.length;b++)d=(y.words[b]|0)+(g.words[b]|0)+m,this.words[b]=d&67108863,m=d>>>26;for(;m!==0&&b<y.length;b++)d=(y.words[b]|0)+m,this.words[b]=d&67108863,m=d>>>26;if(this.length=y.length,m!==0)this.words[this.length]=m,this.length++;else if(y!==this)for(;b<y.length;b++)this.words[b]=y.words[b];return this},n.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},n.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var y=this.cmp(u);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,m;y>0?(g=this,m=u):(g=u,m=this);for(var b=0,A=0;A<m.length;A++)d=(g.words[A]|0)-(m.words[A]|0)+b,b=d>>26,this.words[A]=d&67108863;for(;b!==0&&A<g.length;A++)d=(g.words[A]|0)+b,b=d>>26,this.words[A]=d&67108863;if(b===0&&A<g.length&&g!==this)for(;A<g.length;A++)this.words[A]=g.words[A];return this.length=Math.max(this.length,A),g!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(u){return this.clone().isub(u)};function L(v,u,d){d.negative=u.negative^v.negative;var y=v.length+u.length|0;d.length=y,y=y-1|0;var g=v.words[0]|0,m=u.words[0]|0,b=g*m,A=b&67108863,I=b/67108864|0;d.words[0]=A;for(var p=1;p<y;p++){for(var B=I>>>26,ce=I&67108863,R=Math.min(p,u.length-1),fe=Math.max(0,p-v.length+1);fe<=R;fe++){var se=p-fe|0;g=v.words[se]|0,m=u.words[fe]|0,b=g*m+ce,B+=b/67108864|0,ce=b&67108863}d.words[p]=ce|0,I=B|0}return I!==0?d.words[p]=I|0:d.length--,d._strip()}var O=function(u,d,y){var g=u.words,m=d.words,b=y.words,A=0,I,p,B,ce=g[0]|0,R=ce&8191,fe=ce>>>13,se=g[1]|0,U=se&8191,Z=se>>>13,j=g[2]|0,J=j&8191,k=j>>>13,$=g[3]|0,X=$&8191,Y=$>>>13,ve=g[4]|0,ue=ve&8191,ge=ve>>>13,xe=g[5]|0,we=xe&8191,Me=xe>>>13,pe=g[6]|0,be=pe&8191,D=pe>>>13,_e=g[7]|0,de=_e&8191,ie=_e>>>13,Re=g[8]|0,Ae=Re&8191,Ce=Re>>>13,me=g[9]|0,q=me&8191,le=me>>>13,ft=m[0]|0,Oe=ft&8191,Je=ft>>>13,Tt=m[1]|0,it=Tt&8191,pt=Tt>>>13,vr=m[2]|0,vt=vr&8191,xt=vr>>>13,Sr=m[3]|0,lt=Sr&8191,dt=Sr>>>13,Mr=m[4]|0,ht=Mr&8191,wt=Mr>>>13,ri=m[5]|0,at=ri&8191,_t=ri>>>13,G=m[6]|0,re=G&8191,te=G>>>13,P=m[7]|0,oe=P&8191,Ee=P>>>13,Ne=m[8]|0,Be=Ne&8191,Pe=Ne>>>13,Et=m[9]|0,Xe=Et&8191,bt=Et>>>13;y.negative=u.negative^d.negative,y.length=19,I=Math.imul(R,Oe),p=Math.imul(R,Je),p=p+Math.imul(fe,Oe)|0,B=Math.imul(fe,Je);var yt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(yt>>>26)|0,yt&=67108863,I=Math.imul(U,Oe),p=Math.imul(U,Je),p=p+Math.imul(Z,Oe)|0,B=Math.imul(Z,Je),I=I+Math.imul(R,it)|0,p=p+Math.imul(R,pt)|0,p=p+Math.imul(fe,it)|0,B=B+Math.imul(fe,pt)|0;var Dt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,I=Math.imul(J,Oe),p=Math.imul(J,Je),p=p+Math.imul(k,Oe)|0,B=Math.imul(k,Je),I=I+Math.imul(U,it)|0,p=p+Math.imul(U,pt)|0,p=p+Math.imul(Z,it)|0,B=B+Math.imul(Z,pt)|0,I=I+Math.imul(R,vt)|0,p=p+Math.imul(R,xt)|0,p=p+Math.imul(fe,vt)|0,B=B+Math.imul(fe,xt)|0;var Lt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,I=Math.imul(X,Oe),p=Math.imul(X,Je),p=p+Math.imul(Y,Oe)|0,B=Math.imul(Y,Je),I=I+Math.imul(J,it)|0,p=p+Math.imul(J,pt)|0,p=p+Math.imul(k,it)|0,B=B+Math.imul(k,pt)|0,I=I+Math.imul(U,vt)|0,p=p+Math.imul(U,xt)|0,p=p+Math.imul(Z,vt)|0,B=B+Math.imul(Z,xt)|0,I=I+Math.imul(R,lt)|0,p=p+Math.imul(R,dt)|0,p=p+Math.imul(fe,lt)|0,B=B+Math.imul(fe,dt)|0;var Ot=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,I=Math.imul(ue,Oe),p=Math.imul(ue,Je),p=p+Math.imul(ge,Oe)|0,B=Math.imul(ge,Je),I=I+Math.imul(X,it)|0,p=p+Math.imul(X,pt)|0,p=p+Math.imul(Y,it)|0,B=B+Math.imul(Y,pt)|0,I=I+Math.imul(J,vt)|0,p=p+Math.imul(J,xt)|0,p=p+Math.imul(k,vt)|0,B=B+Math.imul(k,xt)|0,I=I+Math.imul(U,lt)|0,p=p+Math.imul(U,dt)|0,p=p+Math.imul(Z,lt)|0,B=B+Math.imul(Z,dt)|0,I=I+Math.imul(R,ht)|0,p=p+Math.imul(R,wt)|0,p=p+Math.imul(fe,ht)|0,B=B+Math.imul(fe,wt)|0;var Ft=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,I=Math.imul(we,Oe),p=Math.imul(we,Je),p=p+Math.imul(Me,Oe)|0,B=Math.imul(Me,Je),I=I+Math.imul(ue,it)|0,p=p+Math.imul(ue,pt)|0,p=p+Math.imul(ge,it)|0,B=B+Math.imul(ge,pt)|0,I=I+Math.imul(X,vt)|0,p=p+Math.imul(X,xt)|0,p=p+Math.imul(Y,vt)|0,B=B+Math.imul(Y,xt)|0,I=I+Math.imul(J,lt)|0,p=p+Math.imul(J,dt)|0,p=p+Math.imul(k,lt)|0,B=B+Math.imul(k,dt)|0,I=I+Math.imul(U,ht)|0,p=p+Math.imul(U,wt)|0,p=p+Math.imul(Z,ht)|0,B=B+Math.imul(Z,wt)|0,I=I+Math.imul(R,at)|0,p=p+Math.imul(R,_t)|0,p=p+Math.imul(fe,at)|0,B=B+Math.imul(fe,_t)|0;var zt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(zt>>>26)|0,zt&=67108863,I=Math.imul(be,Oe),p=Math.imul(be,Je),p=p+Math.imul(D,Oe)|0,B=Math.imul(D,Je),I=I+Math.imul(we,it)|0,p=p+Math.imul(we,pt)|0,p=p+Math.imul(Me,it)|0,B=B+Math.imul(Me,pt)|0,I=I+Math.imul(ue,vt)|0,p=p+Math.imul(ue,xt)|0,p=p+Math.imul(ge,vt)|0,B=B+Math.imul(ge,xt)|0,I=I+Math.imul(X,lt)|0,p=p+Math.imul(X,dt)|0,p=p+Math.imul(Y,lt)|0,B=B+Math.imul(Y,dt)|0,I=I+Math.imul(J,ht)|0,p=p+Math.imul(J,wt)|0,p=p+Math.imul(k,ht)|0,B=B+Math.imul(k,wt)|0,I=I+Math.imul(U,at)|0,p=p+Math.imul(U,_t)|0,p=p+Math.imul(Z,at)|0,B=B+Math.imul(Z,_t)|0,I=I+Math.imul(R,re)|0,p=p+Math.imul(R,te)|0,p=p+Math.imul(fe,re)|0,B=B+Math.imul(fe,te)|0;var Vt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,I=Math.imul(de,Oe),p=Math.imul(de,Je),p=p+Math.imul(ie,Oe)|0,B=Math.imul(ie,Je),I=I+Math.imul(be,it)|0,p=p+Math.imul(be,pt)|0,p=p+Math.imul(D,it)|0,B=B+Math.imul(D,pt)|0,I=I+Math.imul(we,vt)|0,p=p+Math.imul(we,xt)|0,p=p+Math.imul(Me,vt)|0,B=B+Math.imul(Me,xt)|0,I=I+Math.imul(ue,lt)|0,p=p+Math.imul(ue,dt)|0,p=p+Math.imul(ge,lt)|0,B=B+Math.imul(ge,dt)|0,I=I+Math.imul(X,ht)|0,p=p+Math.imul(X,wt)|0,p=p+Math.imul(Y,ht)|0,B=B+Math.imul(Y,wt)|0,I=I+Math.imul(J,at)|0,p=p+Math.imul(J,_t)|0,p=p+Math.imul(k,at)|0,B=B+Math.imul(k,_t)|0,I=I+Math.imul(U,re)|0,p=p+Math.imul(U,te)|0,p=p+Math.imul(Z,re)|0,B=B+Math.imul(Z,te)|0,I=I+Math.imul(R,oe)|0,p=p+Math.imul(R,Ee)|0,p=p+Math.imul(fe,oe)|0,B=B+Math.imul(fe,Ee)|0;var jt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(jt>>>26)|0,jt&=67108863,I=Math.imul(Ae,Oe),p=Math.imul(Ae,Je),p=p+Math.imul(Ce,Oe)|0,B=Math.imul(Ce,Je),I=I+Math.imul(de,it)|0,p=p+Math.imul(de,pt)|0,p=p+Math.imul(ie,it)|0,B=B+Math.imul(ie,pt)|0,I=I+Math.imul(be,vt)|0,p=p+Math.imul(be,xt)|0,p=p+Math.imul(D,vt)|0,B=B+Math.imul(D,xt)|0,I=I+Math.imul(we,lt)|0,p=p+Math.imul(we,dt)|0,p=p+Math.imul(Me,lt)|0,B=B+Math.imul(Me,dt)|0,I=I+Math.imul(ue,ht)|0,p=p+Math.imul(ue,wt)|0,p=p+Math.imul(ge,ht)|0,B=B+Math.imul(ge,wt)|0,I=I+Math.imul(X,at)|0,p=p+Math.imul(X,_t)|0,p=p+Math.imul(Y,at)|0,B=B+Math.imul(Y,_t)|0,I=I+Math.imul(J,re)|0,p=p+Math.imul(J,te)|0,p=p+Math.imul(k,re)|0,B=B+Math.imul(k,te)|0,I=I+Math.imul(U,oe)|0,p=p+Math.imul(U,Ee)|0,p=p+Math.imul(Z,oe)|0,B=B+Math.imul(Z,Ee)|0,I=I+Math.imul(R,Be)|0,p=p+Math.imul(R,Pe)|0,p=p+Math.imul(fe,Be)|0,B=B+Math.imul(fe,Pe)|0;var St=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(St>>>26)|0,St&=67108863,I=Math.imul(q,Oe),p=Math.imul(q,Je),p=p+Math.imul(le,Oe)|0,B=Math.imul(le,Je),I=I+Math.imul(Ae,it)|0,p=p+Math.imul(Ae,pt)|0,p=p+Math.imul(Ce,it)|0,B=B+Math.imul(Ce,pt)|0,I=I+Math.imul(de,vt)|0,p=p+Math.imul(de,xt)|0,p=p+Math.imul(ie,vt)|0,B=B+Math.imul(ie,xt)|0,I=I+Math.imul(be,lt)|0,p=p+Math.imul(be,dt)|0,p=p+Math.imul(D,lt)|0,B=B+Math.imul(D,dt)|0,I=I+Math.imul(we,ht)|0,p=p+Math.imul(we,wt)|0,p=p+Math.imul(Me,ht)|0,B=B+Math.imul(Me,wt)|0,I=I+Math.imul(ue,at)|0,p=p+Math.imul(ue,_t)|0,p=p+Math.imul(ge,at)|0,B=B+Math.imul(ge,_t)|0,I=I+Math.imul(X,re)|0,p=p+Math.imul(X,te)|0,p=p+Math.imul(Y,re)|0,B=B+Math.imul(Y,te)|0,I=I+Math.imul(J,oe)|0,p=p+Math.imul(J,Ee)|0,p=p+Math.imul(k,oe)|0,B=B+Math.imul(k,Ee)|0,I=I+Math.imul(U,Be)|0,p=p+Math.imul(U,Pe)|0,p=p+Math.imul(Z,Be)|0,B=B+Math.imul(Z,Pe)|0,I=I+Math.imul(R,Xe)|0,p=p+Math.imul(R,bt)|0,p=p+Math.imul(fe,Xe)|0,B=B+Math.imul(fe,bt)|0;var Nt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,I=Math.imul(q,it),p=Math.imul(q,pt),p=p+Math.imul(le,it)|0,B=Math.imul(le,pt),I=I+Math.imul(Ae,vt)|0,p=p+Math.imul(Ae,xt)|0,p=p+Math.imul(Ce,vt)|0,B=B+Math.imul(Ce,xt)|0,I=I+Math.imul(de,lt)|0,p=p+Math.imul(de,dt)|0,p=p+Math.imul(ie,lt)|0,B=B+Math.imul(ie,dt)|0,I=I+Math.imul(be,ht)|0,p=p+Math.imul(be,wt)|0,p=p+Math.imul(D,ht)|0,B=B+Math.imul(D,wt)|0,I=I+Math.imul(we,at)|0,p=p+Math.imul(we,_t)|0,p=p+Math.imul(Me,at)|0,B=B+Math.imul(Me,_t)|0,I=I+Math.imul(ue,re)|0,p=p+Math.imul(ue,te)|0,p=p+Math.imul(ge,re)|0,B=B+Math.imul(ge,te)|0,I=I+Math.imul(X,oe)|0,p=p+Math.imul(X,Ee)|0,p=p+Math.imul(Y,oe)|0,B=B+Math.imul(Y,Ee)|0,I=I+Math.imul(J,Be)|0,p=p+Math.imul(J,Pe)|0,p=p+Math.imul(k,Be)|0,B=B+Math.imul(k,Pe)|0,I=I+Math.imul(U,Xe)|0,p=p+Math.imul(U,bt)|0,p=p+Math.imul(Z,Xe)|0,B=B+Math.imul(Z,bt)|0;var mt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(mt>>>26)|0,mt&=67108863,I=Math.imul(q,vt),p=Math.imul(q,xt),p=p+Math.imul(le,vt)|0,B=Math.imul(le,xt),I=I+Math.imul(Ae,lt)|0,p=p+Math.imul(Ae,dt)|0,p=p+Math.imul(Ce,lt)|0,B=B+Math.imul(Ce,dt)|0,I=I+Math.imul(de,ht)|0,p=p+Math.imul(de,wt)|0,p=p+Math.imul(ie,ht)|0,B=B+Math.imul(ie,wt)|0,I=I+Math.imul(be,at)|0,p=p+Math.imul(be,_t)|0,p=p+Math.imul(D,at)|0,B=B+Math.imul(D,_t)|0,I=I+Math.imul(we,re)|0,p=p+Math.imul(we,te)|0,p=p+Math.imul(Me,re)|0,B=B+Math.imul(Me,te)|0,I=I+Math.imul(ue,oe)|0,p=p+Math.imul(ue,Ee)|0,p=p+Math.imul(ge,oe)|0,B=B+Math.imul(ge,Ee)|0,I=I+Math.imul(X,Be)|0,p=p+Math.imul(X,Pe)|0,p=p+Math.imul(Y,Be)|0,B=B+Math.imul(Y,Pe)|0,I=I+Math.imul(J,Xe)|0,p=p+Math.imul(J,bt)|0,p=p+Math.imul(k,Xe)|0,B=B+Math.imul(k,bt)|0;var It=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(It>>>26)|0,It&=67108863,I=Math.imul(q,lt),p=Math.imul(q,dt),p=p+Math.imul(le,lt)|0,B=Math.imul(le,dt),I=I+Math.imul(Ae,ht)|0,p=p+Math.imul(Ae,wt)|0,p=p+Math.imul(Ce,ht)|0,B=B+Math.imul(Ce,wt)|0,I=I+Math.imul(de,at)|0,p=p+Math.imul(de,_t)|0,p=p+Math.imul(ie,at)|0,B=B+Math.imul(ie,_t)|0,I=I+Math.imul(be,re)|0,p=p+Math.imul(be,te)|0,p=p+Math.imul(D,re)|0,B=B+Math.imul(D,te)|0,I=I+Math.imul(we,oe)|0,p=p+Math.imul(we,Ee)|0,p=p+Math.imul(Me,oe)|0,B=B+Math.imul(Me,Ee)|0,I=I+Math.imul(ue,Be)|0,p=p+Math.imul(ue,Pe)|0,p=p+Math.imul(ge,Be)|0,B=B+Math.imul(ge,Pe)|0,I=I+Math.imul(X,Xe)|0,p=p+Math.imul(X,bt)|0,p=p+Math.imul(Y,Xe)|0,B=B+Math.imul(Y,bt)|0;var Ct=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,I=Math.imul(q,ht),p=Math.imul(q,wt),p=p+Math.imul(le,ht)|0,B=Math.imul(le,wt),I=I+Math.imul(Ae,at)|0,p=p+Math.imul(Ae,_t)|0,p=p+Math.imul(Ce,at)|0,B=B+Math.imul(Ce,_t)|0,I=I+Math.imul(de,re)|0,p=p+Math.imul(de,te)|0,p=p+Math.imul(ie,re)|0,B=B+Math.imul(ie,te)|0,I=I+Math.imul(be,oe)|0,p=p+Math.imul(be,Ee)|0,p=p+Math.imul(D,oe)|0,B=B+Math.imul(D,Ee)|0,I=I+Math.imul(we,Be)|0,p=p+Math.imul(we,Pe)|0,p=p+Math.imul(Me,Be)|0,B=B+Math.imul(Me,Pe)|0,I=I+Math.imul(ue,Xe)|0,p=p+Math.imul(ue,bt)|0,p=p+Math.imul(ge,Xe)|0,B=B+Math.imul(ge,bt)|0;var ot=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(ot>>>26)|0,ot&=67108863,I=Math.imul(q,at),p=Math.imul(q,_t),p=p+Math.imul(le,at)|0,B=Math.imul(le,_t),I=I+Math.imul(Ae,re)|0,p=p+Math.imul(Ae,te)|0,p=p+Math.imul(Ce,re)|0,B=B+Math.imul(Ce,te)|0,I=I+Math.imul(de,oe)|0,p=p+Math.imul(de,Ee)|0,p=p+Math.imul(ie,oe)|0,B=B+Math.imul(ie,Ee)|0,I=I+Math.imul(be,Be)|0,p=p+Math.imul(be,Pe)|0,p=p+Math.imul(D,Be)|0,B=B+Math.imul(D,Pe)|0,I=I+Math.imul(we,Xe)|0,p=p+Math.imul(we,bt)|0,p=p+Math.imul(Me,Xe)|0,B=B+Math.imul(Me,bt)|0;var Le=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Le>>>26)|0,Le&=67108863,I=Math.imul(q,re),p=Math.imul(q,te),p=p+Math.imul(le,re)|0,B=Math.imul(le,te),I=I+Math.imul(Ae,oe)|0,p=p+Math.imul(Ae,Ee)|0,p=p+Math.imul(Ce,oe)|0,B=B+Math.imul(Ce,Ee)|0,I=I+Math.imul(de,Be)|0,p=p+Math.imul(de,Pe)|0,p=p+Math.imul(ie,Be)|0,B=B+Math.imul(ie,Pe)|0,I=I+Math.imul(be,Xe)|0,p=p+Math.imul(be,bt)|0,p=p+Math.imul(D,Xe)|0,B=B+Math.imul(D,bt)|0;var Ue=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,I=Math.imul(q,oe),p=Math.imul(q,Ee),p=p+Math.imul(le,oe)|0,B=Math.imul(le,Ee),I=I+Math.imul(Ae,Be)|0,p=p+Math.imul(Ae,Pe)|0,p=p+Math.imul(Ce,Be)|0,B=B+Math.imul(Ce,Pe)|0,I=I+Math.imul(de,Xe)|0,p=p+Math.imul(de,bt)|0,p=p+Math.imul(ie,Xe)|0,B=B+Math.imul(ie,bt)|0;var rt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(rt>>>26)|0,rt&=67108863,I=Math.imul(q,Be),p=Math.imul(q,Pe),p=p+Math.imul(le,Be)|0,B=Math.imul(le,Pe),I=I+Math.imul(Ae,Xe)|0,p=p+Math.imul(Ae,bt)|0,p=p+Math.imul(Ce,Xe)|0,B=B+Math.imul(Ce,bt)|0;var Ze=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,I=Math.imul(q,Xe),p=Math.imul(q,bt),p=p+Math.imul(le,Xe)|0,B=Math.imul(le,bt);var ze=(A+I|0)+((p&8191)<<13)|0;return A=(B+(p>>>13)|0)+(ze>>>26)|0,ze&=67108863,b[0]=yt,b[1]=Dt,b[2]=Lt,b[3]=Ot,b[4]=Ft,b[5]=zt,b[6]=Vt,b[7]=jt,b[8]=St,b[9]=Nt,b[10]=mt,b[11]=It,b[12]=Ct,b[13]=ot,b[14]=Le,b[15]=Ue,b[16]=rt,b[17]=Ze,b[18]=ze,A!==0&&(b[19]=A,y.length++),y};Math.imul||(O=L);function W(v,u,d){d.negative=u.negative^v.negative,d.length=v.length+u.length;for(var y=0,g=0,m=0;m<d.length-1;m++){var b=g;g=0;for(var A=y&67108863,I=Math.min(m,u.length-1),p=Math.max(0,m-v.length+1);p<=I;p++){var B=m-p,ce=v.words[B]|0,R=u.words[p]|0,fe=ce*R,se=fe&67108863;b=b+(fe/67108864|0)|0,se=se+A|0,A=se&67108863,b=b+(se>>>26)|0,g+=b>>>26,b&=67108863}d.words[m]=A,y=b,b=g}return y!==0?d.words[m]=y:d.length--,d._strip()}function ee(v,u,d){return W(v,u,d)}n.prototype.mulTo=function(u,d){var y,g=this.length+u.length;return this.length===10&&u.length===10?y=O(this,u,d):g<63?y=L(this,u,d):g<1024?y=W(this,u,d):y=ee(this,u,d),y};function N(v,u){this.x=v,this.y=u}N.prototype.makeRBT=function(u){for(var d=new Array(u),y=n.prototype._countBits(u)-1,g=0;g<u;g++)d[g]=this.revBin(g,y,u);return d},N.prototype.revBin=function(u,d,y){if(u===0||u===y-1)return u;for(var g=0,m=0;m<d;m++)g|=(u&1)<<d-m-1,u>>=1;return g},N.prototype.permute=function(u,d,y,g,m,b){for(var A=0;A<b;A++)g[A]=d[u[A]],m[A]=y[u[A]]},N.prototype.transform=function(u,d,y,g,m,b){this.permute(b,u,d,y,g,m);for(var A=1;A<m;A<<=1)for(var I=A<<1,p=Math.cos(2*Math.PI/I),B=Math.sin(2*Math.PI/I),ce=0;ce<m;ce+=I)for(var R=p,fe=B,se=0;se<A;se++){var U=y[ce+se],Z=g[ce+se],j=y[ce+se+A],J=g[ce+se+A],k=R*j-fe*J;J=R*J+fe*j,j=k,y[ce+se]=U+j,g[ce+se]=Z+J,y[ce+se+A]=U-j,g[ce+se+A]=Z-J,se!==I&&(k=p*R-B*fe,fe=p*fe+B*R,R=k)}},N.prototype.guessLen13b=function(u,d){var y=Math.max(d,u)|1,g=y&1,m=0;for(y=y/2|0;y;y=y>>>1)m++;return 1<<m+1+g},N.prototype.conjugate=function(u,d,y){if(!(y<=1))for(var g=0;g<y/2;g++){var m=u[g];u[g]=u[y-g-1],u[y-g-1]=m,m=d[g],d[g]=-d[y-g-1],d[y-g-1]=-m}},N.prototype.normalize13b=function(u,d){for(var y=0,g=0;g<d/2;g++){var m=Math.round(u[2*g+1]/d)*8192+Math.round(u[2*g]/d)+y;u[g]=m&67108863,m<67108864?y=0:y=m/67108864|0}return u},N.prototype.convert13b=function(u,d,y,g){for(var m=0,b=0;b<d;b++)m=m+(u[b]|0),y[2*b]=m&8191,m=m>>>13,y[2*b+1]=m&8191,m=m>>>13;for(b=2*d;b<g;++b)y[b]=0;t(m===0),t((m&~8191)==0)},N.prototype.stub=function(u){for(var d=new Array(u),y=0;y<u;y++)d[y]=0;return d},N.prototype.mulp=function(u,d,y){var g=2*this.guessLen13b(u.length,d.length),m=this.makeRBT(g),b=this.stub(g),A=new Array(g),I=new Array(g),p=new Array(g),B=new Array(g),ce=new Array(g),R=new Array(g),fe=y.words;fe.length=g,this.convert13b(u.words,u.length,A,g),this.convert13b(d.words,d.length,B,g),this.transform(A,b,I,p,g,m),this.transform(B,b,ce,R,g,m);for(var se=0;se<g;se++){var U=I[se]*ce[se]-p[se]*R[se];p[se]=I[se]*R[se]+p[se]*ce[se],I[se]=U}return this.conjugate(I,p,g),this.transform(I,p,fe,b,g,m),this.conjugate(fe,b,g),this.normalize13b(fe,g),y.negative=u.negative^d.negative,y.length=u.length+d.length,y._strip()},n.prototype.mul=function(u){var d=new n(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},n.prototype.mulf=function(u){var d=new n(null);return d.words=new Array(this.length+u.length),ee(this,u,d)},n.prototype.imul=function(u){return this.clone().mulTo(u,this)},n.prototype.imuln=function(u){var d=u<0;d&&(u=-u),t(typeof u=="number"),t(u<67108864);for(var y=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*u,b=(m&67108863)+(y&67108863);y>>=26,y+=m/67108864|0,y+=b>>>26,this.words[g]=b&67108863}return y!==0&&(this.words[g]=y,this.length++),d?this.ineg():this},n.prototype.muln=function(u){return this.clone().imuln(u)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(u){var d=C(u);if(d.length===0)return new n(1);for(var y=this,g=0;g<d.length&&d[g]===0;g++,y=y.sqr());if(++g<d.length)for(var m=y.sqr();g<d.length;g++,m=m.sqr())d[g]!==0&&(y=y.mul(m));return y},n.prototype.iushln=function(u){t(typeof u=="number"&&u>=0);var d=u%26,y=(u-d)/26,g=67108863>>>26-d<<26-d,m;if(d!==0){var b=0;for(m=0;m<this.length;m++){var A=this.words[m]&g,I=(this.words[m]|0)-A<<d;this.words[m]=I|b,b=A>>>26-d}b&&(this.words[m]=b,this.length++)}if(y!==0){for(m=this.length-1;m>=0;m--)this.words[m+y]=this.words[m];for(m=0;m<y;m++)this.words[m]=0;this.length+=y}return this._strip()},n.prototype.ishln=function(u){return t(this.negative===0),this.iushln(u)},n.prototype.iushrn=function(u,d,y){t(typeof u=="number"&&u>=0);var g;d?g=(d-d%26)/26:g=0;var m=u%26,b=Math.min((u-m)/26,this.length),A=67108863^67108863>>>m<<m,I=y;if(g-=b,g=Math.max(0,g),I){for(var p=0;p<b;p++)I.words[p]=this.words[p];I.length=b}if(b!==0)if(this.length>b)for(this.length-=b,p=0;p<this.length;p++)this.words[p]=this.words[p+b];else this.words[0]=0,this.length=1;var B=0;for(p=this.length-1;p>=0&&(B!==0||p>=g);p--){var ce=this.words[p]|0;this.words[p]=B<<26-m|ce>>>m,B=ce&A}return I&&B!==0&&(I.words[I.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(u,d,y){return t(this.negative===0),this.iushrn(u,d,y)},n.prototype.shln=function(u){return this.clone().ishln(u)},n.prototype.ushln=function(u){return this.clone().iushln(u)},n.prototype.shrn=function(u){return this.clone().ishrn(u)},n.prototype.ushrn=function(u){return this.clone().iushrn(u)},n.prototype.testn=function(u){t(typeof u=="number"&&u>=0);var d=u%26,y=(u-d)/26,g=1<<d;if(this.length<=y)return!1;var m=this.words[y];return!!(m&g)},n.prototype.imaskn=function(u){t(typeof u=="number"&&u>=0);var d=u%26,y=(u-d)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(d!==0&&y++,this.length=Math.min(y,this.length),d!==0){var g=67108863^67108863>>>d<<d;this.words[this.length-1]&=g}return this._strip()},n.prototype.maskn=function(u){return this.clone().imaskn(u)},n.prototype.iaddn=function(u){return t(typeof u=="number"),t(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},n.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},n.prototype.isubn=function(u){if(t(typeof u=="number"),t(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},n.prototype.addn=function(u){return this.clone().iaddn(u)},n.prototype.subn=function(u){return this.clone().isubn(u)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(u,d,y){var g=u.length+y,m;this._expand(g);var b,A=0;for(m=0;m<u.length;m++){b=(this.words[m+y]|0)+A;var I=(u.words[m]|0)*d;b-=I&67108863,A=(b>>26)-(I/67108864|0),this.words[m+y]=b&67108863}for(;m<this.length-y;m++)b=(this.words[m+y]|0)+A,A=b>>26,this.words[m+y]=b&67108863;if(A===0)return this._strip();for(t(A===-1),A=0,m=0;m<this.length;m++)b=-(this.words[m]|0)+A,A=b>>26,this.words[m]=b&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(u,d){var y=this.length-u.length,g=this.clone(),m=u,b=m.words[m.length-1]|0,A=this._countBits(b);y=26-A,y!==0&&(m=m.ushln(y),g.iushln(y),b=m.words[m.length-1]|0);var I=g.length-m.length,p;if(d!=="mod"){p=new n(null),p.length=I+1,p.words=new Array(p.length);for(var B=0;B<p.length;B++)p.words[B]=0}var ce=g.clone()._ishlnsubmul(m,1,I);ce.negative===0&&(g=ce,p&&(p.words[I]=1));for(var R=I-1;R>=0;R--){var fe=(g.words[m.length+R]|0)*67108864+(g.words[m.length+R-1]|0);for(fe=Math.min(fe/b|0,67108863),g._ishlnsubmul(m,fe,R);g.negative!==0;)fe--,g.negative=0,g._ishlnsubmul(m,1,R),g.isZero()||(g.negative^=1);p&&(p.words[R]=fe)}return p&&p._strip(),g._strip(),d!=="div"&&y!==0&&g.iushrn(y),{div:p||null,mod:g}},n.prototype.divmod=function(u,d,y){if(t(!u.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var g,m,b;return this.negative!==0&&u.negative===0?(b=this.neg().divmod(u,d),d!=="mod"&&(g=b.div.neg()),d!=="div"&&(m=b.mod.neg(),y&&m.negative!==0&&m.iadd(u)),{div:g,mod:m}):this.negative===0&&u.negative!==0?(b=this.divmod(u.neg(),d),d!=="mod"&&(g=b.div.neg()),{div:g,mod:b.mod}):(this.negative&u.negative)!=0?(b=this.neg().divmod(u.neg(),d),d!=="div"&&(m=b.mod.neg(),y&&m.negative!==0&&m.isub(u)),{div:b.div,mod:m}):u.length>this.length||this.cmp(u)<0?{div:new n(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new n(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new n(this.modrn(u.words[0]))}:this._wordDiv(u,d)},n.prototype.div=function(u){return this.divmod(u,"div",!1).div},n.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},n.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},n.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var y=d.div.negative!==0?d.mod.isub(u):d.mod,g=u.ushrn(1),m=u.andln(1),b=y.cmp(g);return b<0||m===1&&b===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},n.prototype.modrn=function(u){var d=u<0;d&&(u=-u),t(u<=67108863);for(var y=(1<<26)%u,g=0,m=this.length-1;m>=0;m--)g=(y*g+(this.words[m]|0))%u;return d?-g:g},n.prototype.modn=function(u){return this.modrn(u)},n.prototype.idivn=function(u){var d=u<0;d&&(u=-u),t(u<=67108863);for(var y=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+y*67108864;this.words[g]=m/u|0,y=m%u}return this._strip(),d?this.ineg():this},n.prototype.divn=function(u){return this.clone().idivn(u)},n.prototype.egcd=function(u){t(u.negative===0),t(!u.isZero());var d=this,y=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var g=new n(1),m=new n(0),b=new n(0),A=new n(1),I=0;d.isEven()&&y.isEven();)d.iushrn(1),y.iushrn(1),++I;for(var p=y.clone(),B=d.clone();!d.isZero();){for(var ce=0,R=1;(d.words[0]&R)==0&&ce<26;++ce,R<<=1);if(ce>0)for(d.iushrn(ce);ce-- >0;)(g.isOdd()||m.isOdd())&&(g.iadd(p),m.isub(B)),g.iushrn(1),m.iushrn(1);for(var fe=0,se=1;(y.words[0]&se)==0&&fe<26;++fe,se<<=1);if(fe>0)for(y.iushrn(fe);fe-- >0;)(b.isOdd()||A.isOdd())&&(b.iadd(p),A.isub(B)),b.iushrn(1),A.iushrn(1);d.cmp(y)>=0?(d.isub(y),g.isub(b),m.isub(A)):(y.isub(d),b.isub(g),A.isub(m))}return{a:b,b:A,gcd:y.iushln(I)}},n.prototype._invmp=function(u){t(u.negative===0),t(!u.isZero());var d=this,y=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var g=new n(1),m=new n(0),b=y.clone();d.cmpn(1)>0&&y.cmpn(1)>0;){for(var A=0,I=1;(d.words[0]&I)==0&&A<26;++A,I<<=1);if(A>0)for(d.iushrn(A);A-- >0;)g.isOdd()&&g.iadd(b),g.iushrn(1);for(var p=0,B=1;(y.words[0]&B)==0&&p<26;++p,B<<=1);if(p>0)for(y.iushrn(p);p-- >0;)m.isOdd()&&m.iadd(b),m.iushrn(1);d.cmp(y)>=0?(d.isub(y),g.isub(m)):(y.isub(d),m.isub(g))}var ce;return d.cmpn(1)===0?ce=g:ce=m,ce.cmpn(0)<0&&ce.iadd(u),ce},n.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),y=u.clone();d.negative=0,y.negative=0;for(var g=0;d.isEven()&&y.isEven();g++)d.iushrn(1),y.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;y.isEven();)y.iushrn(1);var m=d.cmp(y);if(m<0){var b=d;d=y,y=b}else if(m===0||y.cmpn(1)===0)break;d.isub(y)}while(!0);return y.iushln(g)},n.prototype.invm=function(u){return this.egcd(u).a.umod(u)},n.prototype.isEven=function(){return(this.words[0]&1)==0},n.prototype.isOdd=function(){return(this.words[0]&1)==1},n.prototype.andln=function(u){return this.words[0]&u},n.prototype.bincn=function(u){t(typeof u=="number");var d=u%26,y=(u-d)/26,g=1<<d;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var m=g,b=y;m!==0&&b<this.length;b++){var A=this.words[b]|0;A+=m,m=A>>>26,A&=67108863,this.words[b]=A}return m!==0&&(this.words[b]=m,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var y;if(this.length>1)y=1;else{d&&(u=-u),t(u<=67108863,"Number is too big");var g=this.words[0]|0;y=g===u?0:g<u?-1:1}return this.negative!==0?-y|0:y},n.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},n.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,y=this.length-1;y>=0;y--){var g=this.words[y]|0,m=u.words[y]|0;if(g!==m){g<m?d=-1:g>m&&(d=1);break}}return d},n.prototype.gtn=function(u){return this.cmpn(u)===1},n.prototype.gt=function(u){return this.cmp(u)===1},n.prototype.gten=function(u){return this.cmpn(u)>=0},n.prototype.gte=function(u){return this.cmp(u)>=0},n.prototype.ltn=function(u){return this.cmpn(u)===-1},n.prototype.lt=function(u){return this.cmp(u)===-1},n.prototype.lten=function(u){return this.cmpn(u)<=0},n.prototype.lte=function(u){return this.cmp(u)<=0},n.prototype.eqn=function(u){return this.cmpn(u)===0},n.prototype.eq=function(u){return this.cmp(u)===0},n.red=function(u){return new w(u)},n.prototype.toRed=function(u){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},n.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(u){return this.red=u,this},n.prototype.forceRed=function(u){return t(!this.red,"Already a number in reduction context"),this._forceRed(u)},n.prototype.redAdd=function(u){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},n.prototype.redIAdd=function(u){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},n.prototype.redSub=function(u){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},n.prototype.redISub=function(u){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},n.prototype.redShl=function(u){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},n.prototype.redMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},n.prototype.redIMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},n.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(u){return t(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var V={k256:null,p224:null,p192:null,p25519:null};function z(v,u){this.name=v,this.p=new n(u,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var u=new n(null);return u.words=new Array(Math.ceil(this.n/13)),u},z.prototype.ireduce=function(u){var d=u,y;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),y=d.bitLength();while(y>this.n);var g=y<this.n?-1:d.ucmp(this.p);return g===0?(d.words[0]=0,d.length=1):g>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},z.prototype.split=function(u,d){u.iushrn(this.n,0,d)},z.prototype.imulK=function(u){return u.imul(this.k)};function F(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,z),F.prototype.split=function(u,d){for(var y=4194303,g=Math.min(u.length,9),m=0;m<g;m++)d.words[m]=u.words[m];if(d.length=g,u.length<=9){u.words[0]=0,u.length=1;return}var b=u.words[9];for(d.words[d.length++]=b&y,m=10;m<u.length;m++){var A=u.words[m]|0;u.words[m-10]=(A&y)<<4|b>>>22,b=A}b>>>=22,u.words[m-10]=b,b===0&&u.length>10?u.length-=10:u.length-=9},F.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,y=0;y<u.length;y++){var g=u.words[y]|0;d+=g*977,u.words[y]=d&67108863,d=g*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function H(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(H,z);function K(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(K,z);function S(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(S,z),S.prototype.imulK=function(u){for(var d=0,y=0;y<u.length;y++){var g=(u.words[y]|0)*19+d,m=g&67108863;g>>>=26,u.words[y]=m,d=g}return d!==0&&(u.words[u.length++]=d),u},n._prime=function(u){if(V[u])return V[u];var d;if(u==="k256")d=new F;else if(u==="p224")d=new H;else if(u==="p192")d=new K;else if(u==="p25519")d=new S;else throw new Error("Unknown prime "+u);return V[u]=d,d};function w(v){if(typeof v=="string"){var u=n._prime(v);this.m=u.p,this.prime=u}else t(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}w.prototype._verify1=function(u){t(u.negative===0,"red works only with positives"),t(u.red,"red works only with red numbers")},w.prototype._verify2=function(u,d){t((u.negative|d.negative)==0,"red works only with positives"),t(u.red&&u.red===d.red,"red works only with red numbers")},w.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(c(u,u.umod(this.m)._forceRed(this)),u)},w.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},w.prototype.add=function(u,d){this._verify2(u,d);var y=u.add(d);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},w.prototype.iadd=function(u,d){this._verify2(u,d);var y=u.iadd(d);return y.cmp(this.m)>=0&&y.isub(this.m),y},w.prototype.sub=function(u,d){this._verify2(u,d);var y=u.sub(d);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},w.prototype.isub=function(u,d){this._verify2(u,d);var y=u.isub(d);return y.cmpn(0)<0&&y.iadd(this.m),y},w.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},w.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},w.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},w.prototype.isqr=function(u){return this.imul(u,u.clone())},w.prototype.sqr=function(u){return this.mul(u,u)},w.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(t(d%2==1),d===3){var y=this.m.add(new n(1)).iushrn(2);return this.pow(u,y)}for(var g=this.m.subn(1),m=0;!g.isZero()&&g.andln(1)===0;)m++,g.iushrn(1);t(!g.isZero());var b=new n(1).toRed(this),A=b.redNeg(),I=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new n(2*p*p).toRed(this);this.pow(p,I).cmp(A)!==0;)p.redIAdd(A);for(var B=this.pow(p,g),ce=this.pow(u,g.addn(1).iushrn(1)),R=this.pow(u,g),fe=m;R.cmp(b)!==0;){for(var se=R,U=0;se.cmp(b)!==0;U++)se=se.redSqr();t(U<fe);var Z=this.pow(B,new n(1).iushln(fe-U-1));ce=ce.redMul(Z),B=Z.redSqr(),R=R.redMul(B),fe=U}return ce},w.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},w.prototype.pow=function(u,d){if(d.isZero())return new n(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var y=4,g=new Array(1<<y);g[0]=new n(1).toRed(this),g[1]=u;for(var m=2;m<g.length;m++)g[m]=this.mul(g[m-1],u);var b=g[0],A=0,I=0,p=d.bitLength()%26;for(p===0&&(p=26),m=d.length-1;m>=0;m--){for(var B=d.words[m],ce=p-1;ce>=0;ce--){var R=B>>ce&1;if(b!==g[0]&&(b=this.sqr(b)),R===0&&A===0){I=0;continue}A<<=1,A|=R,I++,!(I!==y&&(m!==0||ce!==0))&&(b=this.mul(b,g[A]),I=0,A=0)}p=26}return b},w.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},w.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},n.mont=function(u){return new T(u)};function T(v){w.call(this,v),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(T,w),T.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},T.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},T.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(d),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=y.isub(g).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},T.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new n(0)._forceRed(this);var y=u.mul(d),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=y.isub(g).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},T.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof fw=="undefined"||fw,XO)});var Fm=M((r$e,rD)=>{var Hd=QO(),M5e=c0();function R5e(r){var e=eD(r),t=e.toRed(Hd.mont(r.modulus)).redPow(new Hd(r.publicExponent)).fromRed();return{blinder:t,unblinder:e.invm(r.modulus)}}function eD(r){var e=r.modulus.byteLength(),t;do t=new Hd(M5e(e));while(t.cmp(r.modulus)>=0||!t.umod(r.prime1)||!t.umod(r.prime2));return t}function tD(r,e){var t=R5e(e),i=e.modulus.byteLength(),n=new Hd(r).mul(t.blinder).umod(e.modulus),s=n.toRed(Hd.mont(e.prime1)),o=n.toRed(Hd.mont(e.prime2)),a=e.coefficient,f=e.prime1,c=e.prime2,l=s.redPow(e.exponent1).fromRed(),h=o.redPow(e.exponent2).fromRed(),x=l.isub(h).imul(a).umod(f).imul(c);return h.iadd(x).imul(t.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",i)}tD.getr=eD;rD.exports=tD});var iD=M((i$e,N5e)=>{N5e.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var cw=M(oD=>{"use strict";var Km=oD;function P5e(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r!="string"){for(var i=0;i<r.length;i++)t[i]=r[i]|0;return t}if(e==="hex"){r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!=0&&(r="0"+r);for(var i=0;i<r.length;i+=2)t.push(parseInt(r[i]+r[i+1],16))}else for(var i=0;i<r.length;i++){var n=r.charCodeAt(i),s=n>>8,o=n&255;s?t.push(s,o):t.push(o)}return t}Km.toArray=P5e;function nD(r){return r.length===1?"0"+r:r}Km.zero2=nD;function sD(r){for(var e="",t=0;t<r.length;t++)e+=nD(r[t].toString(16));return e}Km.toHex=sD;Km.encode=function(e,t){return t==="hex"?sD(e):e}});var Qs=M(aD=>{"use strict";var ga=aD,q5e=wi(),O5e=ln(),zm=cw();ga.assert=O5e;ga.toArray=zm.toArray;ga.zero2=zm.zero2;ga.toHex=zm.toHex;ga.encode=zm.encode;function D5e(r,e,t){var i=new Array(Math.max(r.bitLength(),t)+1);i.fill(0);for(var n=1<<e+1,s=r.clone(),o=0;o<i.length;o++){var a,f=s.andln(n-1);s.isOdd()?(f>(n>>1)-1?a=(n>>1)-f:a=f,s.isubn(a)):a=0,i[o]=a,s.iushrn(1)}return i}ga.getNAF=D5e;function L5e(r,e){var t=[[],[]];r=r.clone(),e=e.clone();for(var i=0,n=0,s;r.cmpn(-i)>0||e.cmpn(-n)>0;){var o=r.andln(3)+i&3,a=e.andln(3)+n&3;o===3&&(o=-1),a===3&&(a=-1);var f;(o&1)==0?f=0:(s=r.andln(7)+i&7,(s===3||s===5)&&a===2?f=-o:f=o),t[0].push(f);var c;(a&1)==0?c=0:(s=e.andln(7)+n&7,(s===3||s===5)&&o===2?c=-a:c=a),t[1].push(c),2*i===f+1&&(i=1-i),2*n===c+1&&(n=1-n),r.iushrn(1),e.iushrn(1)}return t}ga.getJSF=L5e;function U5e(r,e,t){var i="_"+e;r.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=t.call(this)}}ga.cachedProperty=U5e;function F5e(r){return typeof r=="string"?ga.toArray(r,"hex"):r}ga.parseBytes=F5e;function K5e(r){return new q5e(r,"hex","le")}ga.intFromLE=K5e});var P2=M((o$e,fD)=>{"use strict";var Pu=wi(),N2=Qs(),jm=N2.getNAF,z5e=N2.getJSF,Vm=N2.assert;function mc(r,e){this.type=r,this.p=new Pu(e.p,16),this.red=e.prime?Pu.red(e.prime):Pu.mont(this.p),this.zero=new Pu(0).toRed(this.red),this.one=new Pu(1).toRed(this.red),this.two=new Pu(2).toRed(this.red),this.n=e.n&&new Pu(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}fD.exports=mc;mc.prototype.point=function(){throw new Error("Not implemented")};mc.prototype.validate=function(){throw new Error("Not implemented")};mc.prototype._fixedNafMul=function(e,t){Vm(e.precomputed);var i=e._getDoubles(),n=jm(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var o=[],a,f;for(a=0;a<n.length;a+=i.step){f=0;for(var c=a+i.step-1;c>=a;c--)f=(f<<1)+n[c];o.push(f)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),x=s;x>0;x--){for(a=0;a<o.length;a++)f=o[a],f===x?h=h.mixedAdd(i.points[a]):f===-x&&(h=h.mixedAdd(i.points[a].neg()));l=l.add(h)}return l.toP()};mc.prototype._wnafMul=function(e,t){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var s=n.points,o=jm(t,i,this._bitLength),a=this.jpoint(null,null,null),f=o.length-1;f>=0;f--){for(var c=0;f>=0&&o[f]===0;f--)c++;if(f>=0&&c++,a=a.dblp(c),f<0)break;var l=o[f];Vm(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(s[l-1>>1]):a=a.mixedAdd(s[-l-1>>1].neg()):l>0?a=a.add(s[l-1>>1]):a=a.add(s[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};mc.prototype._wnafMulAdd=function(e,t,i,n,s){var o=this._wnafT1,a=this._wnafT2,f=this._wnafT3,c=0,l,h,x;for(l=0;l<n;l++){x=t[l];var _=x._getNAFPoints(e);o[l]=_.wnd,a[l]=_.points}for(l=n-1;l>=1;l-=2){var E=l-1,C=l;if(o[E]!==1||o[C]!==1){f[E]=jm(i[E],o[E],this._bitLength),f[C]=jm(i[C],o[C],this._bitLength),c=Math.max(f[E].length,c),c=Math.max(f[C].length,c);continue}var L=[t[E],null,null,t[C]];t[E].y.cmp(t[C].y)===0?(L[1]=t[E].add(t[C]),L[2]=t[E].toJ().mixedAdd(t[C].neg())):t[E].y.cmp(t[C].y.redNeg())===0?(L[1]=t[E].toJ().mixedAdd(t[C]),L[2]=t[E].add(t[C].neg())):(L[1]=t[E].toJ().mixedAdd(t[C]),L[2]=t[E].toJ().mixedAdd(t[C].neg()));var O=[-3,-1,-5,-7,0,7,5,1,3],W=z5e(i[E],i[C]);for(c=Math.max(W[0].length,c),f[E]=new Array(c),f[C]=new Array(c),h=0;h<c;h++){var ee=W[0][h]|0,N=W[1][h]|0;f[E][h]=O[(ee+1)*3+(N+1)],f[C][h]=0,a[E]=L}}var V=this.jpoint(null,null,null),z=this._wnafT4;for(l=c;l>=0;l--){for(var F=0;l>=0;){var H=!0;for(h=0;h<n;h++)z[h]=f[h][l]|0,z[h]!==0&&(H=!1);if(!H)break;F++,l--}if(l>=0&&F++,V=V.dblp(F),l<0)break;for(h=0;h<n;h++){var K=z[h];K!==0&&(K>0?x=a[h][K-1>>1]:K<0&&(x=a[h][-K-1>>1].neg()),x.type==="affine"?V=V.mixedAdd(x):V=V.add(x))}}for(l=0;l<n;l++)a[l]=null;return s?V:V.toP()};function To(r,e){this.curve=r,this.type=e,this.precomputed=null}mc.BasePoint=To;To.prototype.eq=function(){throw new Error("Not implemented")};To.prototype.validate=function(){return this.curve.validate(this)};mc.prototype.decodePoint=function(e,t){e=N2.toArray(e,t);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*i){e[0]===6?Vm(e[e.length-1]%2==0):e[0]===7&&Vm(e[e.length-1]%2==1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};To.prototype.encodeCompressed=function(e){return this.encode(e,!0)};To.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))};To.prototype.encode=function(e,t){return N2.encode(this._encode(t),e)};To.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};To.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};To.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)n=n.dbl();i.push(n)}return{step:e,points:i}};To.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)t[s]=t[s-1].add(n);return{wnd:e,points:t}};To.prototype._getBeta=function(){return null};To.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}});var uD=M((a$e,cD)=>{"use strict";var j5e=Qs(),Ri=wi(),uw=dr(),$d=P2(),V5e=j5e.assert;function ko(r){$d.call(this,"short",r),this.a=new Ri(r.a,16).toRed(this.red),this.b=new Ri(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}uw(ko,$d);cD.exports=ko;ko.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,i;if(e.beta)t=new Ri(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=n[0].cmp(n[1])<0?n[0]:n[1],t=t.toRed(this.red)}if(e.lambda)i=new Ri(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?i=s[0]:(i=s[1],V5e(this.g.mul(i).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Ri(a.a,16),b:new Ri(a.b,16)}}):o=this._getEndoBasis(i),{beta:t,lambda:i,basis:o}}};ko.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ri.mont(e),i=new Ri(2).toRed(t).redInvm(),n=i.redNeg(),s=new Ri(3).toRed(t).redNeg().redSqrt().redMul(i),o=n.redAdd(s).fromRed(),a=n.redSub(s).fromRed();return[o,a]};ko.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),s=new Ri(1),o=new Ri(0),a=new Ri(0),f=new Ri(1),c,l,h,x,_,E,C,L=0,O,W;i.cmpn(0)!==0;){var ee=n.div(i);O=n.sub(ee.mul(i)),W=a.sub(ee.mul(s));var N=f.sub(ee.mul(o));if(!h&&O.cmp(t)<0)c=C.neg(),l=s,h=O.neg(),x=W;else if(h&&++L==2)break;C=O,n=i,i=O,a=s,s=W,f=o,o=N}_=O.neg(),E=W;var V=h.sqr().add(x.sqr()),z=_.sqr().add(E.sqr());return z.cmp(V)>=0&&(_=c,E=l),h.negative&&(h=h.neg(),x=x.neg()),_.negative&&(_=_.neg(),E=E.neg()),[{a:h,b:x},{a:_,b:E}]};ko.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],n=t[1],s=n.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),a=s.mul(i.a),f=o.mul(n.a),c=s.mul(i.b),l=o.mul(n.b),h=e.sub(a).sub(f),x=c.add(l).neg();return{k1:h,k2:x}};ko.prototype.pointFromX=function(e,t){e=new Ri(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)};ko.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,n=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0};ko.prototype._endoWnafMulAdd=function(e,t,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),f=e[o],c=f._getBeta();a.k1.negative&&(a.k1.ineg(),f=f.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[o*2]=f,n[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var l=this._wnafMulAdd(1,n,s,o*2,i),h=0;h<o*2;h++)n[h]=null,s[h]=null;return l};function bn(r,e,t,i){$d.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ri(e,16),this.y=new Ri(t,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}uw(bn,$d.BasePoint);ko.prototype.point=function(e,t,i){return new bn(this,e,t,i)};ko.prototype.pointFromJSON=function(e,t){return bn.fromJSON(this,e,t)};bn.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}};bn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};bn.fromJSON=function(e,t,i){typeof t=="string"&&(t=JSON.parse(t));var n=e.point(t[0],t[1],i);if(!t[2])return n;function s(a){return e.point(a[0],a[1],i)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(s))}},n};bn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};bn.prototype.isInfinity=function(){return this.inf};bn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};bn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};bn.prototype.getX=function(){return this.x.fromRed()};bn.prototype.getY=function(){return this.y.fromRed()};bn.prototype.mul=function(e){return e=new Ri(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};bn.prototype.mulAdd=function(e,t,i){var n=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)};bn.prototype.jmulAdd=function(e,t,i){var n=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)};bn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};bn.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return t};bn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Fn(r,e,t,i){$d.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ri(0)):(this.x=new Ri(e,16),this.y=new Ri(t,16),this.z=new Ri(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}uw(Fn,$d.BasePoint);ko.prototype.jpoint=function(e,t,i){return new Fn(this,e,t,i)};Fn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(i,n)};Fn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Fn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(t),s=e.x.redMul(i),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(i.redMul(this.z)),f=n.redSub(s),c=o.redSub(a);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=f.redSqr(),h=l.redMul(f),x=n.redMul(l),_=c.redSqr().redIAdd(h).redISub(x).redISub(x),E=c.redMul(x.redISub(_)).redISub(o.redMul(h)),C=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(_,E,C)};Fn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,n=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=i.redSub(n),f=s.redSub(o);if(a.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),h=i.redMul(c),x=f.redSqr().redIAdd(l).redISub(h).redISub(h),_=f.redMul(h.redISub(x)).redISub(s.redMul(l)),E=this.z.redMul(a);return this.curve.jpoint(x,_,E)};Fn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,f=this.z,c=f.redSqr().redSqr(),l=a.redAdd(a);for(t=0;t<e;t++){var h=o.redSqr(),x=l.redSqr(),_=x.redSqr(),E=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c)),C=o.redMul(x),L=E.redSqr().redISub(C.redAdd(C)),O=C.redISub(L),W=E.redMul(O);W=W.redIAdd(W).redISub(_);var ee=l.redMul(f);t+1<e&&(c=c.redMul(_)),o=L,f=ee,l=W}return this.curve.jpoint(o,l.redMul(s),f)};Fn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Fn.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var f=n.redAdd(n).redIAdd(n),c=f.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),e=c,t=f.redMul(a.redISub(c)).redISub(l),i=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),x=this.y.redSqr(),_=x.redSqr(),E=this.x.redAdd(x).redSqr().redISub(h).redISub(_);E=E.redIAdd(E);var C=h.redAdd(h).redIAdd(h),L=C.redSqr(),O=_.redIAdd(_);O=O.redIAdd(O),O=O.redIAdd(O),e=L.redISub(E).redISub(E),t=C.redMul(E.redISub(e)).redISub(O),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)};Fn.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var f=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=f.redSqr().redISub(a).redISub(a);e=c;var l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),t=f.redMul(a.redISub(c)).redISub(l),i=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),x=this.y.redSqr(),_=this.x.redMul(x),E=this.x.redSub(h).redMul(this.x.redAdd(h));E=E.redAdd(E).redIAdd(E);var C=_.redIAdd(_);C=C.redIAdd(C);var L=C.redAdd(C);e=E.redSqr().redISub(L),i=this.y.redAdd(this.z).redSqr().redISub(x).redISub(h);var O=x.redSqr();O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O),t=E.redMul(C.redISub(e)).redISub(O)}return this.curve.jpoint(e,t,i)};Fn.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),o=t.redSqr(),a=i.redSqr(),f=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=t.redAdd(t);c=c.redIAdd(c);var l=c.redMul(a),h=f.redSqr().redISub(l.redAdd(l)),x=l.redISub(h),_=a.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var E=f.redMul(x).redISub(_),C=i.redAdd(i).redMul(n);return this.curve.jpoint(h,E,C)};Fn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),n=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var f=a.redSqr(),c=n.redIAdd(n);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var l=s.redIAdd(a).redSqr().redISub(o).redISub(f).redISub(c),h=t.redMul(l);h=h.redIAdd(h),h=h.redIAdd(h);var x=this.x.redMul(f).redISub(h);x=x.redIAdd(x),x=x.redIAdd(x);var _=this.y.redMul(l.redMul(c.redISub(l)).redISub(a.redMul(f)));_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var E=this.z.redAdd(a).redSqr().redISub(i).redISub(f);return this.curve.jpoint(x,_,E)};Fn.prototype.mul=function(e,t){return e=new Ri(e,t),this.curve._wnafMul(this,e)};Fn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var n=t.redMul(this.z),s=i.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0)===0};Fn.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}};Fn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Fn.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var hD=M((f$e,dD)=>{"use strict";var Gd=wi(),lD=dr(),Hm=P2(),H5e=Qs();function Yd(r){Hm.call(this,"mont",r),this.a=new Gd(r.a,16).toRed(this.red),this.b=new Gd(r.b,16).toRed(this.red),this.i4=new Gd(4).toRed(this.red).redInvm(),this.two=new Gd(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}lD(Yd,Hm);dD.exports=Yd;Yd.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),n=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t),s=n.redSqrt();return s.redSqr().cmp(n)===0};function yn(r,e,t){Hm.BasePoint.call(this,r,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Gd(e,16),this.z=new Gd(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}lD(yn,Hm.BasePoint);Yd.prototype.decodePoint=function(e,t){return this.point(H5e.toArray(e,t),1)};Yd.prototype.point=function(e,t){return new yn(this,e,t)};Yd.prototype.pointFromJSON=function(e){return yn.fromJSON(this,e)};yn.prototype.precompute=function(){};yn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};yn.fromJSON=function(e,t){return new yn(e,t[0],t[1]||e.one)};yn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};yn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};yn.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),s=t.redSub(n),o=t.redMul(n),a=s.redMul(n.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};yn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};yn.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(i),f=s.redMul(n),c=t.z.redMul(a.redAdd(f).redSqr()),l=t.x.redMul(a.redISub(f).redSqr());return this.curve.point(c,l)};yn.prototype.mul=function(e){for(var t=e.clone(),i=this,n=this.curve.point(null,null),s=this,o=[];t.cmpn(0)!==0;t.iushrn(1))o.push(t.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(i=i.diffAdd(n,s),n=n.dbl()):(n=i.diffAdd(n,s),i=i.dbl());return n};yn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};yn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};yn.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};yn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};yn.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var yD=M((c$e,bD)=>{"use strict";var $5e=Qs(),g0=wi(),pD=dr(),$m=P2(),G5e=$5e.assert;function hf(r){this.twisted=(r.a|0)!=1,this.mOneA=this.twisted&&(r.a|0)==-1,this.extended=this.mOneA,$m.call(this,"edwards",r),this.a=new g0(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new g0(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new g0(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),G5e(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)==1}pD(hf,$m);bD.exports=hf;hf.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};hf.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};hf.prototype.jpoint=function(e,t,i,n){return this.point(e,t,i,n)};hf.prototype.pointFromX=function(e,t){e=new g0(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var f=a.fromRed().isOdd();return(t&&!f||!t&&f)&&(a=a.redNeg()),this.point(e,a)};hf.prototype.pointFromY=function(e,t){e=new g0(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)};hf.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),n=t.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return n.cmp(s)===0};function si(r,e,t,i,n){$m.BasePoint.call(this,r,"projective"),e===null&&t===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new g0(e,16),this.y=new g0(t,16),this.z=i?new g0(i,16):this.curve.one,this.t=n&&new g0(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}pD(si,$m.BasePoint);hf.prototype.pointFromJSON=function(e){return si.fromJSON(this,e)};hf.prototype.point=function(e,t,i,n){return new si(this,e,t,i,n)};si.fromJSON=function(e,t){return new si(e,t[0],t[1],t[2])};si.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};si.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};si.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(i),f=n.redSub(t),c=s.redMul(a),l=o.redMul(f),h=s.redMul(f),x=a.redMul(o);return this.curve.point(c,l,x,h)};si.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),i=this.y.redSqr(),n,s,o,a,f,c;if(this.curve.twisted){a=this.curve._mulA(t);var l=a.redAdd(i);this.zOne?(n=e.redSub(t).redSub(i).redMul(l.redSub(this.curve.two)),s=l.redMul(a.redSub(i)),o=l.redSqr().redSub(l).redSub(l)):(f=this.z.redSqr(),c=l.redSub(f).redISub(f),n=e.redSub(t).redISub(i).redMul(c),s=l.redMul(a.redSub(i)),o=l.redMul(c))}else a=t.redAdd(i),f=this.curve._mulC(this.z).redSqr(),c=a.redSub(f).redSub(f),n=this.curve._mulC(e.redISub(a)).redMul(c),s=this.curve._mulC(a).redMul(t.redISub(i)),o=a.redMul(c);return this.curve.point(n,s,o)};si.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};si.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=i.redSub(t),a=s.redSub(n),f=s.redAdd(n),c=i.redAdd(t),l=o.redMul(a),h=f.redMul(c),x=o.redMul(c),_=a.redMul(f);return this.curve.point(l,h,_,x)};si.prototype._projAdd=function(e){var t=this.z.redMul(e.z),i=t.redSqr(),n=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(n).redMul(s),a=i.redSub(o),f=i.redAdd(o),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(s),l=t.redMul(a).redMul(c),h,x;return this.curve.twisted?(h=t.redMul(f).redMul(s.redSub(this.curve._mulA(n))),x=a.redMul(f)):(h=t.redMul(f).redMul(s.redSub(n)),x=this.curve._mulC(a).redMul(f)),this.curve.point(l,h,x)};si.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};si.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};si.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)};si.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)};si.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};si.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};si.prototype.getX=function(){return this.normalize(),this.x.fromRed()};si.prototype.getY=function(){return this.normalize(),this.y.fromRed()};si.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};si.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),this.x.cmp(t)===0)return!0}};si.prototype.toP=si.prototype.normalize;si.prototype.mixedAdd=si.prototype.add});var lw=M(mD=>{"use strict";var Gm=mD;Gm.base=P2();Gm.short=uD();Gm.mont=hD();Gm.edwards=yD()});var vD=M((l$e,gD)=>{gD.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var Ym=M(_D=>{"use strict";var dw=_D,gc=Rp(),hw=lw(),Y5e=Qs(),xD=Y5e.assert;function wD(r){r.type==="short"?this.curve=new hw.short(r):r.type==="edwards"?this.curve=new hw.edwards(r):this.curve=new hw.mont(r),this.g=this.curve.g,this.n=this.curve.n,this.hash=r.hash,xD(this.g.validate(),"Invalid curve"),xD(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}dw.PresetCurve=wD;function vc(r,e){Object.defineProperty(dw,r,{configurable:!0,enumerable:!0,get:function(){var t=new wD(e);return Object.defineProperty(dw,r,{configurable:!0,enumerable:!0,value:t}),t}})}vc("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:gc.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});vc("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:gc.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});vc("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:gc.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});vc("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:gc.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});vc("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:gc.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});vc("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gc.sha256,gRed:!1,g:["9"]});vc("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gc.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pw;try{pw=vD()}catch(r){pw=void 0}vc("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:gc.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pw]})});var AD=M((h$e,SD)=>{"use strict";var W5e=Rp(),qu=cw(),ED=ln();function xc(r){if(!(this instanceof xc))return new xc(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=qu.toArray(r.entropy,r.entropyEnc||"hex"),t=qu.toArray(r.nonce,r.nonceEnc||"hex"),i=qu.toArray(r.pers,r.persEnc||"hex");ED(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,i)}SD.exports=xc;xc.prototype._init=function(e,t,i){var n=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};xc.prototype._hmac=function(){return new W5e.hmac(this.hash,this.K)};xc.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};xc.prototype.reseed=function(e,t,i,n){typeof t!="string"&&(n=i,i=t,t=null),e=qu.toArray(e,t),i=qu.toArray(i,n),ED(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};xc.prototype.generate=function(e,t,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(n=i,i=t,t=null),i&&(i=qu.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(i),this._reseed++,qu.encode(o,t)}});var TD=M((p$e,ID)=>{"use strict";var Z5e=wi(),J5e=Qs(),bw=J5e.assert;function es(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}ID.exports=es;es.fromPublic=function(e,t,i){return t instanceof es?t:new es(e,{pub:t,pubEnc:i})};es.fromPrivate=function(e,t,i){return t instanceof es?t:new es(e,{priv:t,privEnc:i})};es.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};es.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};es.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};es.prototype._importPrivate=function(e,t){this.priv=new Z5e(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};es.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?bw(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&bw(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};es.prototype.derive=function(e){return e.validate()||bw(e.validate(),"public point not validated"),e.mul(this.priv).getX()};es.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)};es.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};es.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var BD=M((b$e,CD)=>{"use strict";var Wm=wi(),yw=Qs(),X5e=yw.assert;function Zm(r,e){if(r instanceof Zm)return r;this._importDER(r,e)||(X5e(r.r&&r.s,"Signature without r or s"),this.r=new Wm(r.r,16),this.s=new Wm(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}CD.exports=Zm;function Q5e(){this.place=0}function mw(r,e){var t=r[e.place++];if(!(t&128))return t;var i=t&15;if(i===0||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=r[o],n>>>=0;return n<=127?!1:(e.place=o,n)}function kD(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Zm.prototype._importDER=function(e,t){e=yw.toArray(e,t);var i=new Q5e;if(e[i.place++]!==48)return!1;var n=mw(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var s=mw(e,i);if(s===!1)return!1;var o=e.slice(i.place,s+i.place);if(i.place+=s,e[i.place++]!==2)return!1;var a=mw(e,i);if(a===!1||e.length!==a+i.place)return!1;var f=e.slice(i.place,a+i.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Wm(o),this.s=new Wm(f),this.recoveryParam=null,!0};function gw(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Zm.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),i[0]&128&&(i=[0].concat(i)),t=kD(t),i=kD(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];gw(n,t.length),n=n.concat(t),n.push(2),gw(n,i.length);var s=n.concat(i),o=[48];return gw(o,s.length),o=o.concat(s),yw.encode(o,e)}});var PD=M((y$e,ND)=>{"use strict";var Ou=wi(),MD=AD(),e3e=Qs(),vw=Ym(),t3e=Dm(),RD=e3e.assert,xw=TD(),Jm=BD();function Co(r){if(!(this instanceof Co))return new Co(r);typeof r=="string"&&(RD(Object.prototype.hasOwnProperty.call(vw,r),"Unknown curve "+r),r=vw[r]),r instanceof vw.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}ND.exports=Co;Co.prototype.keyPair=function(e){return new xw(this,e)};Co.prototype.keyFromPrivate=function(e,t){return xw.fromPrivate(this,e,t)};Co.prototype.keyFromPublic=function(e,t){return xw.fromPublic(this,e,t)};Co.prototype.genKeyPair=function(e){e||(e={});for(var t=new MD({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||t3e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new Ou(2));;){var s=new Ou(t.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Co.prototype._truncateToN=function(e,t){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Co.prototype.sign=function(e,t,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new Ou(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),a=e.toArray("be",s),f=new MD({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Ou(1)),l=0;;l++){var h=n.k?n.k(l):new Ou(f.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(c)>=0)){var x=this.g.mul(h);if(!x.isInfinity()){var _=x.getX(),E=_.umod(this.n);if(E.cmpn(0)!==0){var C=h.invm(this.n).mul(E.mul(t.getPrivate()).iadd(e));if(C=C.umod(this.n),C.cmpn(0)!==0){var L=(x.getY().isOdd()?1:0)|(_.cmp(E)!==0?2:0);return n.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),L^=1),new Jm({r:E,s:C,recoveryParam:L})}}}}}};Co.prototype.verify=function(e,t,i,n){e=this._truncateToN(new Ou(e,16)),i=this.keyFromPublic(i,n),t=new Jm(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),f=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(f,i.getPublic(),c),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(f,i.getPublic(),c),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)};Co.prototype.recoverPubKey=function(r,e,t,i){RD((3&t)===t,"The recovery param is more than two bits"),e=new Jm(e,i);var n=this.n,s=new Ou(r),o=e.r,a=e.s,f=t&1,c=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),f):o=this.curve.pointFromX(o,f);var l=e.r.invm(n),h=n.sub(s).mul(l).umod(n),x=a.mul(l).umod(n);return this.g.mulAdd(h,o,x)};Co.prototype.getKeyRecoveryParam=function(r,e,t,i){if(e=new Jm(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(r,e,n)}catch(o){continue}if(s.eq(t))return n}throw new Error("Unable to find valid recovery factor")}});var LD=M((m$e,DD)=>{"use strict";var q2=Qs(),qD=q2.assert,OD=q2.parseBytes,Wd=q2.cachedProperty;function mn(r,e){this.eddsa=r,this._secret=OD(e.secret),r.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=OD(e.pub)}mn.fromPublic=function(e,t){return t instanceof mn?t:new mn(e,{pub:t})};mn.fromSecret=function(e,t){return t instanceof mn?t:new mn(e,{secret:t})};mn.prototype.secret=function(){return this._secret};Wd(mn,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Wd(mn,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Wd(mn,"privBytes",function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});Wd(mn,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Wd(mn,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Wd(mn,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});mn.prototype.sign=function(e){return qD(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};mn.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};mn.prototype.getSecret=function(e){return qD(this._secret,"KeyPair is public only"),q2.encode(this.secret(),e)};mn.prototype.getPublic=function(e){return q2.encode(this.pubBytes(),e)};DD.exports=mn});var FD=M((g$e,UD)=>{"use strict";var r3e=wi(),Xm=Qs(),i3e=Xm.assert,Qm=Xm.cachedProperty,n3e=Xm.parseBytes;function Du(r,e){this.eddsa=r,typeof e!="object"&&(e=n3e(e)),Array.isArray(e)&&(e={R:e.slice(0,r.encodingLength),S:e.slice(r.encodingLength)}),i3e(e.R&&e.S,"Signature without R or S"),r.isPoint(e.R)&&(this._R=e.R),e.S instanceof r3e&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Qm(Du,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Qm(Du,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Qm(Du,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Qm(Du,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Du.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Du.prototype.toHex=function(){return Xm.encode(this.toBytes(),"hex").toUpperCase()};UD.exports=Du});var HD=M((v$e,VD)=>{"use strict";var s3e=Rp(),o3e=Ym(),Zd=Qs(),a3e=Zd.assert,KD=Zd.parseBytes,zD=LD(),jD=FD();function qs(r){if(a3e(r==="ed25519","only tested with ed25519 so far"),!(this instanceof qs))return new qs(r);r=o3e[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=s3e.sha512}VD.exports=qs;qs.prototype.sign=function(e,t){e=KD(e);var i=this.keyFromSecret(t),n=this.hashInt(i.messagePrefix(),e),s=this.g.mul(n),o=this.encodePoint(s),a=this.hashInt(o,i.pubBytes(),e).mul(i.priv()),f=n.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:f,Rencoded:o})};qs.prototype.verify=function(e,t,i){e=KD(e),t=this.makeSignature(t);var n=this.keyFromPublic(i),s=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S()),a=t.R().add(n.pub().mul(s));return a.eq(o)};qs.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return Zd.intFromLE(e.digest()).umod(this.curve.n)};qs.prototype.keyFromPublic=function(e){return zD.fromPublic(this,e)};qs.prototype.keyFromSecret=function(e){return zD.fromSecret(this,e)};qs.prototype.makeSignature=function(e){return e instanceof jD?e:new jD(this,e)};qs.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};qs.prototype.decodePoint=function(e){e=Zd.parseBytes(e);var t=e.length-1,i=e.slice(0,t).concat(e[t]&~128),n=(e[t]&128)!=0,s=Zd.intFromLE(i);return this.curve.pointFromY(s,n)};qs.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};qs.prototype.decodeInt=function(e){return Zd.intFromLE(e)};qs.prototype.isPoint=function(e){return e instanceof this.pointClass}});var O2=M($D=>{"use strict";var Lu=$D;Lu.version=iD().version;Lu.utils=Qs();Lu.rand=Dm();Lu.curve=lw();Lu.curves=Ym();Lu.ec=PD();Lu.eddsa=HD()});var _w=M((GD,ww)=>{(function(r,e){"use strict";function t(v,u){if(!v)throw new Error(u||"Assertion failed")}function i(v,u){v.super_=u;var d=function(){};d.prototype=u.prototype,v.prototype=new d,v.prototype.constructor=v}function n(v,u,d){if(n.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(v||0,u||10,d||"be"))}typeof r=="object"?r.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=O6().Buffer}catch(v){}n.isBN=function(u){return u instanceof n?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===n.wordSize&&Array.isArray(u.words)},n.max=function(u,d){return u.cmp(d)>0?u:d},n.min=function(u,d){return u.cmp(d)<0?u:d},n.prototype._init=function(u,d,y){if(typeof u=="number")return this._initNumber(u,d,y);if(typeof u=="object")return this._initArray(u,d,y);d==="hex"&&(d=16),t(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var g=0;u[0]==="-"&&(g++,this.negative=1),g<u.length&&(d===16?this._parseHex(u,g,y):(this._parseBase(u,d,g),y==="le"&&this._initArray(this.toArray(),d,y)))},n.prototype._initNumber=function(u,d,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(t(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),d,y)},n.prototype._initArray=function(u,d,y){if(t(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var m,b,A=0;if(y==="be")for(g=u.length-1,m=0;g>=0;g-=3)b=u[g]|u[g-1]<<8|u[g-2]<<16,this.words[m]|=b<<A&67108863,this.words[m+1]=b>>>26-A&67108863,A+=24,A>=26&&(A-=26,m++);else if(y==="le")for(g=0,m=0;g<u.length;g+=3)b=u[g]|u[g+1]<<8|u[g+2]<<16,this.words[m]|=b<<A&67108863,this.words[m+1]=b>>>26-A&67108863,A+=24,A>=26&&(A-=26,m++);return this._strip()};function o(v,u){var d=v.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;t(!1,"Invalid character in "+v)}function a(v,u,d){var y=o(v,d);return d-1>=u&&(y|=o(v,d-1)<<4),y}n.prototype._parseHex=function(u,d,y){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var m=0,b=0,A;if(y==="be")for(g=u.length-1;g>=d;g-=2)A=a(u,d,g)<<m,this.words[b]|=A&67108863,m>=18?(m-=18,b+=1,this.words[b]|=A>>>26):m+=8;else{var I=u.length-d;for(g=I%2==0?d+1:d;g<u.length;g+=2)A=a(u,d,g)<<m,this.words[b]|=A&67108863,m>=18?(m-=18,b+=1,this.words[b]|=A>>>26):m+=8}this._strip()};function f(v,u,d,y){for(var g=0,m=0,b=Math.min(v.length,d),A=u;A<b;A++){var I=v.charCodeAt(A)-48;g*=y,I>=49?m=I-49+10:I>=17?m=I-17+10:m=I,t(I>=0&&m<y,"Invalid character"),g+=m}return g}n.prototype._parseBase=function(u,d,y){this.words=[0],this.length=1;for(var g=0,m=1;m<=67108863;m*=d)g++;g--,m=m/d|0;for(var b=u.length-y,A=b%g,I=Math.min(b,b-A)+y,p=0,B=y;B<I;B+=g)p=f(u,B,B+g,d),this.imuln(m),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(A!==0){var ce=1;for(p=f(u,B,u.length,d),B=0;B<A;B++)ce*=d;this.imuln(ce),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},n.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function c(v,u){v.words=u.words,v.length=u.length,v.negative=u.negative,v.red=u.red}if(n.prototype._move=function(u){c(u,this)},n.prototype.clone=function(){var u=new n(null);return this.copy(u),u},n.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(v){n.prototype.inspect=l}else n.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(u,d){u=u||10,d=d|0||1;var y;if(u===16||u==="hex"){y="";for(var g=0,m=0,b=0;b<this.length;b++){var A=this.words[b],I=((A<<g|m)&16777215).toString(16);m=A>>>24-g&16777215,m!==0||b!==this.length-1?y=h[6-I.length]+I+y:y=I+y,g+=2,g>=26&&(g-=26,b--)}for(m!==0&&(y=m.toString(16)+y);y.length%d!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(u===(u|0)&&u>=2&&u<=36){var p=x[u],B=_[u];y="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var R=ce.modrn(B).toString(u);ce=ce.idivn(B),ce.isZero()?y=R+y:y=h[p-R.length]+R+y}for(this.isZero()&&(y="0"+y);y.length%d!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}t(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(u,d){return this.toArrayLike(s,u,d)}),n.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var E=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};n.prototype.toArrayLike=function(u,d,y){this._strip();var g=this.byteLength(),m=y||Math.max(1,g);t(g<=m,"byte array longer than desired length"),t(m>0,"Requested array length <= 0");var b=E(u,m),A=d==="le"?"LE":"BE";return this["_toArrayLike"+A](b,g),b},n.prototype._toArrayLikeLE=function(u,d){for(var y=0,g=0,m=0,b=0;m<this.length;m++){var A=this.words[m]<<b|g;u[y++]=A&255,y<u.length&&(u[y++]=A>>8&255),y<u.length&&(u[y++]=A>>16&255),b===6?(y<u.length&&(u[y++]=A>>24&255),g=0,b=0):(g=A>>>24,b+=2)}if(y<u.length)for(u[y++]=g;y<u.length;)u[y++]=0},n.prototype._toArrayLikeBE=function(u,d){for(var y=u.length-1,g=0,m=0,b=0;m<this.length;m++){var A=this.words[m]<<b|g;u[y--]=A&255,y>=0&&(u[y--]=A>>8&255),y>=0&&(u[y--]=A>>16&255),b===6?(y>=0&&(u[y--]=A>>24&255),g=0,b=0):(g=A>>>24,b+=2)}if(y>=0)for(u[y--]=g;y>=0;)u[y--]=0},Math.clz32?n.prototype._countBits=function(u){return 32-Math.clz32(u)}:n.prototype._countBits=function(u){var d=u,y=0;return d>=4096&&(y+=13,d>>>=13),d>=64&&(y+=7,d>>>=7),d>=8&&(y+=4,d>>>=4),d>=2&&(y+=2,d>>>=2),y+d},n.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,y=0;return(d&8191)==0&&(y+=13,d>>>=13),(d&127)==0&&(y+=7,d>>>=7),(d&15)==0&&(y+=4,d>>>=4),(d&3)==0&&(y+=2,d>>>=2),(d&1)==0&&y++,y},n.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function C(v){for(var u=new Array(v.bitLength()),d=0;d<u.length;d++){var y=d/26|0,g=d%26;u[d]=v.words[y]>>>g&1}return u}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var y=this._zeroBits(this.words[d]);if(u+=y,y!==26)break}return u},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},n.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},n.prototype.ior=function(u){return t((this.negative|u.negative)==0),this.iuor(u)},n.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},n.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},n.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=d.length,this._strip()},n.prototype.iand=function(u){return t((this.negative|u.negative)==0),this.iuand(u)},n.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},n.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},n.prototype.iuxor=function(u){var d,y;this.length>u.length?(d=this,y=u):(d=u,y=this);for(var g=0;g<y.length;g++)this.words[g]=d.words[g]^y.words[g];if(this!==d)for(;g<d.length;g++)this.words[g]=d.words[g];return this.length=d.length,this._strip()},n.prototype.ixor=function(u){return t((this.negative|u.negative)==0),this.iuxor(u)},n.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},n.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},n.prototype.inotn=function(u){t(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,y=u%26;this._expand(d),y>0&&d--;for(var g=0;g<d;g++)this.words[g]=~this.words[g]&67108863;return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this._strip()},n.prototype.notn=function(u){return this.clone().inotn(u)},n.prototype.setn=function(u,d){t(typeof u=="number"&&u>=0);var y=u/26|0,g=u%26;return this._expand(y+1),d?this.words[y]=this.words[y]|1<<g:this.words[y]=this.words[y]&~(1<<g),this._strip()},n.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var y,g;this.length>u.length?(y=this,g=u):(y=u,g=this);for(var m=0,b=0;b<g.length;b++)d=(y.words[b]|0)+(g.words[b]|0)+m,this.words[b]=d&67108863,m=d>>>26;for(;m!==0&&b<y.length;b++)d=(y.words[b]|0)+m,this.words[b]=d&67108863,m=d>>>26;if(this.length=y.length,m!==0)this.words[this.length]=m,this.length++;else if(y!==this)for(;b<y.length;b++)this.words[b]=y.words[b];return this},n.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},n.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var y=this.cmp(u);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,m;y>0?(g=this,m=u):(g=u,m=this);for(var b=0,A=0;A<m.length;A++)d=(g.words[A]|0)-(m.words[A]|0)+b,b=d>>26,this.words[A]=d&67108863;for(;b!==0&&A<g.length;A++)d=(g.words[A]|0)+b,b=d>>26,this.words[A]=d&67108863;if(b===0&&A<g.length&&g!==this)for(;A<g.length;A++)this.words[A]=g.words[A];return this.length=Math.max(this.length,A),g!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(u){return this.clone().isub(u)};function L(v,u,d){d.negative=u.negative^v.negative;var y=v.length+u.length|0;d.length=y,y=y-1|0;var g=v.words[0]|0,m=u.words[0]|0,b=g*m,A=b&67108863,I=b/67108864|0;d.words[0]=A;for(var p=1;p<y;p++){for(var B=I>>>26,ce=I&67108863,R=Math.min(p,u.length-1),fe=Math.max(0,p-v.length+1);fe<=R;fe++){var se=p-fe|0;g=v.words[se]|0,m=u.words[fe]|0,b=g*m+ce,B+=b/67108864|0,ce=b&67108863}d.words[p]=ce|0,I=B|0}return I!==0?d.words[p]=I|0:d.length--,d._strip()}var O=function(u,d,y){var g=u.words,m=d.words,b=y.words,A=0,I,p,B,ce=g[0]|0,R=ce&8191,fe=ce>>>13,se=g[1]|0,U=se&8191,Z=se>>>13,j=g[2]|0,J=j&8191,k=j>>>13,$=g[3]|0,X=$&8191,Y=$>>>13,ve=g[4]|0,ue=ve&8191,ge=ve>>>13,xe=g[5]|0,we=xe&8191,Me=xe>>>13,pe=g[6]|0,be=pe&8191,D=pe>>>13,_e=g[7]|0,de=_e&8191,ie=_e>>>13,Re=g[8]|0,Ae=Re&8191,Ce=Re>>>13,me=g[9]|0,q=me&8191,le=me>>>13,ft=m[0]|0,Oe=ft&8191,Je=ft>>>13,Tt=m[1]|0,it=Tt&8191,pt=Tt>>>13,vr=m[2]|0,vt=vr&8191,xt=vr>>>13,Sr=m[3]|0,lt=Sr&8191,dt=Sr>>>13,Mr=m[4]|0,ht=Mr&8191,wt=Mr>>>13,ri=m[5]|0,at=ri&8191,_t=ri>>>13,G=m[6]|0,re=G&8191,te=G>>>13,P=m[7]|0,oe=P&8191,Ee=P>>>13,Ne=m[8]|0,Be=Ne&8191,Pe=Ne>>>13,Et=m[9]|0,Xe=Et&8191,bt=Et>>>13;y.negative=u.negative^d.negative,y.length=19,I=Math.imul(R,Oe),p=Math.imul(R,Je),p=p+Math.imul(fe,Oe)|0,B=Math.imul(fe,Je);var yt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(yt>>>26)|0,yt&=67108863,I=Math.imul(U,Oe),p=Math.imul(U,Je),p=p+Math.imul(Z,Oe)|0,B=Math.imul(Z,Je),I=I+Math.imul(R,it)|0,p=p+Math.imul(R,pt)|0,p=p+Math.imul(fe,it)|0,B=B+Math.imul(fe,pt)|0;var Dt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,I=Math.imul(J,Oe),p=Math.imul(J,Je),p=p+Math.imul(k,Oe)|0,B=Math.imul(k,Je),I=I+Math.imul(U,it)|0,p=p+Math.imul(U,pt)|0,p=p+Math.imul(Z,it)|0,B=B+Math.imul(Z,pt)|0,I=I+Math.imul(R,vt)|0,p=p+Math.imul(R,xt)|0,p=p+Math.imul(fe,vt)|0,B=B+Math.imul(fe,xt)|0;var Lt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,I=Math.imul(X,Oe),p=Math.imul(X,Je),p=p+Math.imul(Y,Oe)|0,B=Math.imul(Y,Je),I=I+Math.imul(J,it)|0,p=p+Math.imul(J,pt)|0,p=p+Math.imul(k,it)|0,B=B+Math.imul(k,pt)|0,I=I+Math.imul(U,vt)|0,p=p+Math.imul(U,xt)|0,p=p+Math.imul(Z,vt)|0,B=B+Math.imul(Z,xt)|0,I=I+Math.imul(R,lt)|0,p=p+Math.imul(R,dt)|0,p=p+Math.imul(fe,lt)|0,B=B+Math.imul(fe,dt)|0;var Ot=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,I=Math.imul(ue,Oe),p=Math.imul(ue,Je),p=p+Math.imul(ge,Oe)|0,B=Math.imul(ge,Je),I=I+Math.imul(X,it)|0,p=p+Math.imul(X,pt)|0,p=p+Math.imul(Y,it)|0,B=B+Math.imul(Y,pt)|0,I=I+Math.imul(J,vt)|0,p=p+Math.imul(J,xt)|0,p=p+Math.imul(k,vt)|0,B=B+Math.imul(k,xt)|0,I=I+Math.imul(U,lt)|0,p=p+Math.imul(U,dt)|0,p=p+Math.imul(Z,lt)|0,B=B+Math.imul(Z,dt)|0,I=I+Math.imul(R,ht)|0,p=p+Math.imul(R,wt)|0,p=p+Math.imul(fe,ht)|0,B=B+Math.imul(fe,wt)|0;var Ft=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,I=Math.imul(we,Oe),p=Math.imul(we,Je),p=p+Math.imul(Me,Oe)|0,B=Math.imul(Me,Je),I=I+Math.imul(ue,it)|0,p=p+Math.imul(ue,pt)|0,p=p+Math.imul(ge,it)|0,B=B+Math.imul(ge,pt)|0,I=I+Math.imul(X,vt)|0,p=p+Math.imul(X,xt)|0,p=p+Math.imul(Y,vt)|0,B=B+Math.imul(Y,xt)|0,I=I+Math.imul(J,lt)|0,p=p+Math.imul(J,dt)|0,p=p+Math.imul(k,lt)|0,B=B+Math.imul(k,dt)|0,I=I+Math.imul(U,ht)|0,p=p+Math.imul(U,wt)|0,p=p+Math.imul(Z,ht)|0,B=B+Math.imul(Z,wt)|0,I=I+Math.imul(R,at)|0,p=p+Math.imul(R,_t)|0,p=p+Math.imul(fe,at)|0,B=B+Math.imul(fe,_t)|0;var zt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(zt>>>26)|0,zt&=67108863,I=Math.imul(be,Oe),p=Math.imul(be,Je),p=p+Math.imul(D,Oe)|0,B=Math.imul(D,Je),I=I+Math.imul(we,it)|0,p=p+Math.imul(we,pt)|0,p=p+Math.imul(Me,it)|0,B=B+Math.imul(Me,pt)|0,I=I+Math.imul(ue,vt)|0,p=p+Math.imul(ue,xt)|0,p=p+Math.imul(ge,vt)|0,B=B+Math.imul(ge,xt)|0,I=I+Math.imul(X,lt)|0,p=p+Math.imul(X,dt)|0,p=p+Math.imul(Y,lt)|0,B=B+Math.imul(Y,dt)|0,I=I+Math.imul(J,ht)|0,p=p+Math.imul(J,wt)|0,p=p+Math.imul(k,ht)|0,B=B+Math.imul(k,wt)|0,I=I+Math.imul(U,at)|0,p=p+Math.imul(U,_t)|0,p=p+Math.imul(Z,at)|0,B=B+Math.imul(Z,_t)|0,I=I+Math.imul(R,re)|0,p=p+Math.imul(R,te)|0,p=p+Math.imul(fe,re)|0,B=B+Math.imul(fe,te)|0;var Vt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,I=Math.imul(de,Oe),p=Math.imul(de,Je),p=p+Math.imul(ie,Oe)|0,B=Math.imul(ie,Je),I=I+Math.imul(be,it)|0,p=p+Math.imul(be,pt)|0,p=p+Math.imul(D,it)|0,B=B+Math.imul(D,pt)|0,I=I+Math.imul(we,vt)|0,p=p+Math.imul(we,xt)|0,p=p+Math.imul(Me,vt)|0,B=B+Math.imul(Me,xt)|0,I=I+Math.imul(ue,lt)|0,p=p+Math.imul(ue,dt)|0,p=p+Math.imul(ge,lt)|0,B=B+Math.imul(ge,dt)|0,I=I+Math.imul(X,ht)|0,p=p+Math.imul(X,wt)|0,p=p+Math.imul(Y,ht)|0,B=B+Math.imul(Y,wt)|0,I=I+Math.imul(J,at)|0,p=p+Math.imul(J,_t)|0,p=p+Math.imul(k,at)|0,B=B+Math.imul(k,_t)|0,I=I+Math.imul(U,re)|0,p=p+Math.imul(U,te)|0,p=p+Math.imul(Z,re)|0,B=B+Math.imul(Z,te)|0,I=I+Math.imul(R,oe)|0,p=p+Math.imul(R,Ee)|0,p=p+Math.imul(fe,oe)|0,B=B+Math.imul(fe,Ee)|0;var jt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(jt>>>26)|0,jt&=67108863,I=Math.imul(Ae,Oe),p=Math.imul(Ae,Je),p=p+Math.imul(Ce,Oe)|0,B=Math.imul(Ce,Je),I=I+Math.imul(de,it)|0,p=p+Math.imul(de,pt)|0,p=p+Math.imul(ie,it)|0,B=B+Math.imul(ie,pt)|0,I=I+Math.imul(be,vt)|0,p=p+Math.imul(be,xt)|0,p=p+Math.imul(D,vt)|0,B=B+Math.imul(D,xt)|0,I=I+Math.imul(we,lt)|0,p=p+Math.imul(we,dt)|0,p=p+Math.imul(Me,lt)|0,B=B+Math.imul(Me,dt)|0,I=I+Math.imul(ue,ht)|0,p=p+Math.imul(ue,wt)|0,p=p+Math.imul(ge,ht)|0,B=B+Math.imul(ge,wt)|0,I=I+Math.imul(X,at)|0,p=p+Math.imul(X,_t)|0,p=p+Math.imul(Y,at)|0,B=B+Math.imul(Y,_t)|0,I=I+Math.imul(J,re)|0,p=p+Math.imul(J,te)|0,p=p+Math.imul(k,re)|0,B=B+Math.imul(k,te)|0,I=I+Math.imul(U,oe)|0,p=p+Math.imul(U,Ee)|0,p=p+Math.imul(Z,oe)|0,B=B+Math.imul(Z,Ee)|0,I=I+Math.imul(R,Be)|0,p=p+Math.imul(R,Pe)|0,p=p+Math.imul(fe,Be)|0,B=B+Math.imul(fe,Pe)|0;var St=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(St>>>26)|0,St&=67108863,I=Math.imul(q,Oe),p=Math.imul(q,Je),p=p+Math.imul(le,Oe)|0,B=Math.imul(le,Je),I=I+Math.imul(Ae,it)|0,p=p+Math.imul(Ae,pt)|0,p=p+Math.imul(Ce,it)|0,B=B+Math.imul(Ce,pt)|0,I=I+Math.imul(de,vt)|0,p=p+Math.imul(de,xt)|0,p=p+Math.imul(ie,vt)|0,B=B+Math.imul(ie,xt)|0,I=I+Math.imul(be,lt)|0,p=p+Math.imul(be,dt)|0,p=p+Math.imul(D,lt)|0,B=B+Math.imul(D,dt)|0,I=I+Math.imul(we,ht)|0,p=p+Math.imul(we,wt)|0,p=p+Math.imul(Me,ht)|0,B=B+Math.imul(Me,wt)|0,I=I+Math.imul(ue,at)|0,p=p+Math.imul(ue,_t)|0,p=p+Math.imul(ge,at)|0,B=B+Math.imul(ge,_t)|0,I=I+Math.imul(X,re)|0,p=p+Math.imul(X,te)|0,p=p+Math.imul(Y,re)|0,B=B+Math.imul(Y,te)|0,I=I+Math.imul(J,oe)|0,p=p+Math.imul(J,Ee)|0,p=p+Math.imul(k,oe)|0,B=B+Math.imul(k,Ee)|0,I=I+Math.imul(U,Be)|0,p=p+Math.imul(U,Pe)|0,p=p+Math.imul(Z,Be)|0,B=B+Math.imul(Z,Pe)|0,I=I+Math.imul(R,Xe)|0,p=p+Math.imul(R,bt)|0,p=p+Math.imul(fe,Xe)|0,B=B+Math.imul(fe,bt)|0;var Nt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,I=Math.imul(q,it),p=Math.imul(q,pt),p=p+Math.imul(le,it)|0,B=Math.imul(le,pt),I=I+Math.imul(Ae,vt)|0,p=p+Math.imul(Ae,xt)|0,p=p+Math.imul(Ce,vt)|0,B=B+Math.imul(Ce,xt)|0,I=I+Math.imul(de,lt)|0,p=p+Math.imul(de,dt)|0,p=p+Math.imul(ie,lt)|0,B=B+Math.imul(ie,dt)|0,I=I+Math.imul(be,ht)|0,p=p+Math.imul(be,wt)|0,p=p+Math.imul(D,ht)|0,B=B+Math.imul(D,wt)|0,I=I+Math.imul(we,at)|0,p=p+Math.imul(we,_t)|0,p=p+Math.imul(Me,at)|0,B=B+Math.imul(Me,_t)|0,I=I+Math.imul(ue,re)|0,p=p+Math.imul(ue,te)|0,p=p+Math.imul(ge,re)|0,B=B+Math.imul(ge,te)|0,I=I+Math.imul(X,oe)|0,p=p+Math.imul(X,Ee)|0,p=p+Math.imul(Y,oe)|0,B=B+Math.imul(Y,Ee)|0,I=I+Math.imul(J,Be)|0,p=p+Math.imul(J,Pe)|0,p=p+Math.imul(k,Be)|0,B=B+Math.imul(k,Pe)|0,I=I+Math.imul(U,Xe)|0,p=p+Math.imul(U,bt)|0,p=p+Math.imul(Z,Xe)|0,B=B+Math.imul(Z,bt)|0;var mt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(mt>>>26)|0,mt&=67108863,I=Math.imul(q,vt),p=Math.imul(q,xt),p=p+Math.imul(le,vt)|0,B=Math.imul(le,xt),I=I+Math.imul(Ae,lt)|0,p=p+Math.imul(Ae,dt)|0,p=p+Math.imul(Ce,lt)|0,B=B+Math.imul(Ce,dt)|0,I=I+Math.imul(de,ht)|0,p=p+Math.imul(de,wt)|0,p=p+Math.imul(ie,ht)|0,B=B+Math.imul(ie,wt)|0,I=I+Math.imul(be,at)|0,p=p+Math.imul(be,_t)|0,p=p+Math.imul(D,at)|0,B=B+Math.imul(D,_t)|0,I=I+Math.imul(we,re)|0,p=p+Math.imul(we,te)|0,p=p+Math.imul(Me,re)|0,B=B+Math.imul(Me,te)|0,I=I+Math.imul(ue,oe)|0,p=p+Math.imul(ue,Ee)|0,p=p+Math.imul(ge,oe)|0,B=B+Math.imul(ge,Ee)|0,I=I+Math.imul(X,Be)|0,p=p+Math.imul(X,Pe)|0,p=p+Math.imul(Y,Be)|0,B=B+Math.imul(Y,Pe)|0,I=I+Math.imul(J,Xe)|0,p=p+Math.imul(J,bt)|0,p=p+Math.imul(k,Xe)|0,B=B+Math.imul(k,bt)|0;var It=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(It>>>26)|0,It&=67108863,I=Math.imul(q,lt),p=Math.imul(q,dt),p=p+Math.imul(le,lt)|0,B=Math.imul(le,dt),I=I+Math.imul(Ae,ht)|0,p=p+Math.imul(Ae,wt)|0,p=p+Math.imul(Ce,ht)|0,B=B+Math.imul(Ce,wt)|0,I=I+Math.imul(de,at)|0,p=p+Math.imul(de,_t)|0,p=p+Math.imul(ie,at)|0,B=B+Math.imul(ie,_t)|0,I=I+Math.imul(be,re)|0,p=p+Math.imul(be,te)|0,p=p+Math.imul(D,re)|0,B=B+Math.imul(D,te)|0,I=I+Math.imul(we,oe)|0,p=p+Math.imul(we,Ee)|0,p=p+Math.imul(Me,oe)|0,B=B+Math.imul(Me,Ee)|0,I=I+Math.imul(ue,Be)|0,p=p+Math.imul(ue,Pe)|0,p=p+Math.imul(ge,Be)|0,B=B+Math.imul(ge,Pe)|0,I=I+Math.imul(X,Xe)|0,p=p+Math.imul(X,bt)|0,p=p+Math.imul(Y,Xe)|0,B=B+Math.imul(Y,bt)|0;var Ct=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,I=Math.imul(q,ht),p=Math.imul(q,wt),p=p+Math.imul(le,ht)|0,B=Math.imul(le,wt),I=I+Math.imul(Ae,at)|0,p=p+Math.imul(Ae,_t)|0,p=p+Math.imul(Ce,at)|0,B=B+Math.imul(Ce,_t)|0,I=I+Math.imul(de,re)|0,p=p+Math.imul(de,te)|0,p=p+Math.imul(ie,re)|0,B=B+Math.imul(ie,te)|0,I=I+Math.imul(be,oe)|0,p=p+Math.imul(be,Ee)|0,p=p+Math.imul(D,oe)|0,B=B+Math.imul(D,Ee)|0,I=I+Math.imul(we,Be)|0,p=p+Math.imul(we,Pe)|0,p=p+Math.imul(Me,Be)|0,B=B+Math.imul(Me,Pe)|0,I=I+Math.imul(ue,Xe)|0,p=p+Math.imul(ue,bt)|0,p=p+Math.imul(ge,Xe)|0,B=B+Math.imul(ge,bt)|0;var ot=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(ot>>>26)|0,ot&=67108863,I=Math.imul(q,at),p=Math.imul(q,_t),p=p+Math.imul(le,at)|0,B=Math.imul(le,_t),I=I+Math.imul(Ae,re)|0,p=p+Math.imul(Ae,te)|0,p=p+Math.imul(Ce,re)|0,B=B+Math.imul(Ce,te)|0,I=I+Math.imul(de,oe)|0,p=p+Math.imul(de,Ee)|0,p=p+Math.imul(ie,oe)|0,B=B+Math.imul(ie,Ee)|0,I=I+Math.imul(be,Be)|0,p=p+Math.imul(be,Pe)|0,p=p+Math.imul(D,Be)|0,B=B+Math.imul(D,Pe)|0,I=I+Math.imul(we,Xe)|0,p=p+Math.imul(we,bt)|0,p=p+Math.imul(Me,Xe)|0,B=B+Math.imul(Me,bt)|0;var Le=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Le>>>26)|0,Le&=67108863,I=Math.imul(q,re),p=Math.imul(q,te),p=p+Math.imul(le,re)|0,B=Math.imul(le,te),I=I+Math.imul(Ae,oe)|0,p=p+Math.imul(Ae,Ee)|0,p=p+Math.imul(Ce,oe)|0,B=B+Math.imul(Ce,Ee)|0,I=I+Math.imul(de,Be)|0,p=p+Math.imul(de,Pe)|0,p=p+Math.imul(ie,Be)|0,B=B+Math.imul(ie,Pe)|0,I=I+Math.imul(be,Xe)|0,p=p+Math.imul(be,bt)|0,p=p+Math.imul(D,Xe)|0,B=B+Math.imul(D,bt)|0;var Ue=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,I=Math.imul(q,oe),p=Math.imul(q,Ee),p=p+Math.imul(le,oe)|0,B=Math.imul(le,Ee),I=I+Math.imul(Ae,Be)|0,p=p+Math.imul(Ae,Pe)|0,p=p+Math.imul(Ce,Be)|0,B=B+Math.imul(Ce,Pe)|0,I=I+Math.imul(de,Xe)|0,p=p+Math.imul(de,bt)|0,p=p+Math.imul(ie,Xe)|0,B=B+Math.imul(ie,bt)|0;var rt=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(rt>>>26)|0,rt&=67108863,I=Math.imul(q,Be),p=Math.imul(q,Pe),p=p+Math.imul(le,Be)|0,B=Math.imul(le,Pe),I=I+Math.imul(Ae,Xe)|0,p=p+Math.imul(Ae,bt)|0,p=p+Math.imul(Ce,Xe)|0,B=B+Math.imul(Ce,bt)|0;var Ze=(A+I|0)+((p&8191)<<13)|0;A=(B+(p>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,I=Math.imul(q,Xe),p=Math.imul(q,bt),p=p+Math.imul(le,Xe)|0,B=Math.imul(le,bt);var ze=(A+I|0)+((p&8191)<<13)|0;return A=(B+(p>>>13)|0)+(ze>>>26)|0,ze&=67108863,b[0]=yt,b[1]=Dt,b[2]=Lt,b[3]=Ot,b[4]=Ft,b[5]=zt,b[6]=Vt,b[7]=jt,b[8]=St,b[9]=Nt,b[10]=mt,b[11]=It,b[12]=Ct,b[13]=ot,b[14]=Le,b[15]=Ue,b[16]=rt,b[17]=Ze,b[18]=ze,A!==0&&(b[19]=A,y.length++),y};Math.imul||(O=L);function W(v,u,d){d.negative=u.negative^v.negative,d.length=v.length+u.length;for(var y=0,g=0,m=0;m<d.length-1;m++){var b=g;g=0;for(var A=y&67108863,I=Math.min(m,u.length-1),p=Math.max(0,m-v.length+1);p<=I;p++){var B=m-p,ce=v.words[B]|0,R=u.words[p]|0,fe=ce*R,se=fe&67108863;b=b+(fe/67108864|0)|0,se=se+A|0,A=se&67108863,b=b+(se>>>26)|0,g+=b>>>26,b&=67108863}d.words[m]=A,y=b,b=g}return y!==0?d.words[m]=y:d.length--,d._strip()}function ee(v,u,d){return W(v,u,d)}n.prototype.mulTo=function(u,d){var y,g=this.length+u.length;return this.length===10&&u.length===10?y=O(this,u,d):g<63?y=L(this,u,d):g<1024?y=W(this,u,d):y=ee(this,u,d),y};function N(v,u){this.x=v,this.y=u}N.prototype.makeRBT=function(u){for(var d=new Array(u),y=n.prototype._countBits(u)-1,g=0;g<u;g++)d[g]=this.revBin(g,y,u);return d},N.prototype.revBin=function(u,d,y){if(u===0||u===y-1)return u;for(var g=0,m=0;m<d;m++)g|=(u&1)<<d-m-1,u>>=1;return g},N.prototype.permute=function(u,d,y,g,m,b){for(var A=0;A<b;A++)g[A]=d[u[A]],m[A]=y[u[A]]},N.prototype.transform=function(u,d,y,g,m,b){this.permute(b,u,d,y,g,m);for(var A=1;A<m;A<<=1)for(var I=A<<1,p=Math.cos(2*Math.PI/I),B=Math.sin(2*Math.PI/I),ce=0;ce<m;ce+=I)for(var R=p,fe=B,se=0;se<A;se++){var U=y[ce+se],Z=g[ce+se],j=y[ce+se+A],J=g[ce+se+A],k=R*j-fe*J;J=R*J+fe*j,j=k,y[ce+se]=U+j,g[ce+se]=Z+J,y[ce+se+A]=U-j,g[ce+se+A]=Z-J,se!==I&&(k=p*R-B*fe,fe=p*fe+B*R,R=k)}},N.prototype.guessLen13b=function(u,d){var y=Math.max(d,u)|1,g=y&1,m=0;for(y=y/2|0;y;y=y>>>1)m++;return 1<<m+1+g},N.prototype.conjugate=function(u,d,y){if(!(y<=1))for(var g=0;g<y/2;g++){var m=u[g];u[g]=u[y-g-1],u[y-g-1]=m,m=d[g],d[g]=-d[y-g-1],d[y-g-1]=-m}},N.prototype.normalize13b=function(u,d){for(var y=0,g=0;g<d/2;g++){var m=Math.round(u[2*g+1]/d)*8192+Math.round(u[2*g]/d)+y;u[g]=m&67108863,m<67108864?y=0:y=m/67108864|0}return u},N.prototype.convert13b=function(u,d,y,g){for(var m=0,b=0;b<d;b++)m=m+(u[b]|0),y[2*b]=m&8191,m=m>>>13,y[2*b+1]=m&8191,m=m>>>13;for(b=2*d;b<g;++b)y[b]=0;t(m===0),t((m&~8191)==0)},N.prototype.stub=function(u){for(var d=new Array(u),y=0;y<u;y++)d[y]=0;return d},N.prototype.mulp=function(u,d,y){var g=2*this.guessLen13b(u.length,d.length),m=this.makeRBT(g),b=this.stub(g),A=new Array(g),I=new Array(g),p=new Array(g),B=new Array(g),ce=new Array(g),R=new Array(g),fe=y.words;fe.length=g,this.convert13b(u.words,u.length,A,g),this.convert13b(d.words,d.length,B,g),this.transform(A,b,I,p,g,m),this.transform(B,b,ce,R,g,m);for(var se=0;se<g;se++){var U=I[se]*ce[se]-p[se]*R[se];p[se]=I[se]*R[se]+p[se]*ce[se],I[se]=U}return this.conjugate(I,p,g),this.transform(I,p,fe,b,g,m),this.conjugate(fe,b,g),this.normalize13b(fe,g),y.negative=u.negative^d.negative,y.length=u.length+d.length,y._strip()},n.prototype.mul=function(u){var d=new n(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},n.prototype.mulf=function(u){var d=new n(null);return d.words=new Array(this.length+u.length),ee(this,u,d)},n.prototype.imul=function(u){return this.clone().mulTo(u,this)},n.prototype.imuln=function(u){var d=u<0;d&&(u=-u),t(typeof u=="number"),t(u<67108864);for(var y=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*u,b=(m&67108863)+(y&67108863);y>>=26,y+=m/67108864|0,y+=b>>>26,this.words[g]=b&67108863}return y!==0&&(this.words[g]=y,this.length++),d?this.ineg():this},n.prototype.muln=function(u){return this.clone().imuln(u)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(u){var d=C(u);if(d.length===0)return new n(1);for(var y=this,g=0;g<d.length&&d[g]===0;g++,y=y.sqr());if(++g<d.length)for(var m=y.sqr();g<d.length;g++,m=m.sqr())d[g]!==0&&(y=y.mul(m));return y},n.prototype.iushln=function(u){t(typeof u=="number"&&u>=0);var d=u%26,y=(u-d)/26,g=67108863>>>26-d<<26-d,m;if(d!==0){var b=0;for(m=0;m<this.length;m++){var A=this.words[m]&g,I=(this.words[m]|0)-A<<d;this.words[m]=I|b,b=A>>>26-d}b&&(this.words[m]=b,this.length++)}if(y!==0){for(m=this.length-1;m>=0;m--)this.words[m+y]=this.words[m];for(m=0;m<y;m++)this.words[m]=0;this.length+=y}return this._strip()},n.prototype.ishln=function(u){return t(this.negative===0),this.iushln(u)},n.prototype.iushrn=function(u,d,y){t(typeof u=="number"&&u>=0);var g;d?g=(d-d%26)/26:g=0;var m=u%26,b=Math.min((u-m)/26,this.length),A=67108863^67108863>>>m<<m,I=y;if(g-=b,g=Math.max(0,g),I){for(var p=0;p<b;p++)I.words[p]=this.words[p];I.length=b}if(b!==0)if(this.length>b)for(this.length-=b,p=0;p<this.length;p++)this.words[p]=this.words[p+b];else this.words[0]=0,this.length=1;var B=0;for(p=this.length-1;p>=0&&(B!==0||p>=g);p--){var ce=this.words[p]|0;this.words[p]=B<<26-m|ce>>>m,B=ce&A}return I&&B!==0&&(I.words[I.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(u,d,y){return t(this.negative===0),this.iushrn(u,d,y)},n.prototype.shln=function(u){return this.clone().ishln(u)},n.prototype.ushln=function(u){return this.clone().iushln(u)},n.prototype.shrn=function(u){return this.clone().ishrn(u)},n.prototype.ushrn=function(u){return this.clone().iushrn(u)},n.prototype.testn=function(u){t(typeof u=="number"&&u>=0);var d=u%26,y=(u-d)/26,g=1<<d;if(this.length<=y)return!1;var m=this.words[y];return!!(m&g)},n.prototype.imaskn=function(u){t(typeof u=="number"&&u>=0);var d=u%26,y=(u-d)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(d!==0&&y++,this.length=Math.min(y,this.length),d!==0){var g=67108863^67108863>>>d<<d;this.words[this.length-1]&=g}return this._strip()},n.prototype.maskn=function(u){return this.clone().imaskn(u)},n.prototype.iaddn=function(u){return t(typeof u=="number"),t(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},n.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},n.prototype.isubn=function(u){if(t(typeof u=="number"),t(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},n.prototype.addn=function(u){return this.clone().iaddn(u)},n.prototype.subn=function(u){return this.clone().isubn(u)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(u,d,y){var g=u.length+y,m;this._expand(g);var b,A=0;for(m=0;m<u.length;m++){b=(this.words[m+y]|0)+A;var I=(u.words[m]|0)*d;b-=I&67108863,A=(b>>26)-(I/67108864|0),this.words[m+y]=b&67108863}for(;m<this.length-y;m++)b=(this.words[m+y]|0)+A,A=b>>26,this.words[m+y]=b&67108863;if(A===0)return this._strip();for(t(A===-1),A=0,m=0;m<this.length;m++)b=-(this.words[m]|0)+A,A=b>>26,this.words[m]=b&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(u,d){var y=this.length-u.length,g=this.clone(),m=u,b=m.words[m.length-1]|0,A=this._countBits(b);y=26-A,y!==0&&(m=m.ushln(y),g.iushln(y),b=m.words[m.length-1]|0);var I=g.length-m.length,p;if(d!=="mod"){p=new n(null),p.length=I+1,p.words=new Array(p.length);for(var B=0;B<p.length;B++)p.words[B]=0}var ce=g.clone()._ishlnsubmul(m,1,I);ce.negative===0&&(g=ce,p&&(p.words[I]=1));for(var R=I-1;R>=0;R--){var fe=(g.words[m.length+R]|0)*67108864+(g.words[m.length+R-1]|0);for(fe=Math.min(fe/b|0,67108863),g._ishlnsubmul(m,fe,R);g.negative!==0;)fe--,g.negative=0,g._ishlnsubmul(m,1,R),g.isZero()||(g.negative^=1);p&&(p.words[R]=fe)}return p&&p._strip(),g._strip(),d!=="div"&&y!==0&&g.iushrn(y),{div:p||null,mod:g}},n.prototype.divmod=function(u,d,y){if(t(!u.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var g,m,b;return this.negative!==0&&u.negative===0?(b=this.neg().divmod(u,d),d!=="mod"&&(g=b.div.neg()),d!=="div"&&(m=b.mod.neg(),y&&m.negative!==0&&m.iadd(u)),{div:g,mod:m}):this.negative===0&&u.negative!==0?(b=this.divmod(u.neg(),d),d!=="mod"&&(g=b.div.neg()),{div:g,mod:b.mod}):(this.negative&u.negative)!=0?(b=this.neg().divmod(u.neg(),d),d!=="div"&&(m=b.mod.neg(),y&&m.negative!==0&&m.isub(u)),{div:b.div,mod:m}):u.length>this.length||this.cmp(u)<0?{div:new n(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new n(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new n(this.modrn(u.words[0]))}:this._wordDiv(u,d)},n.prototype.div=function(u){return this.divmod(u,"div",!1).div},n.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},n.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},n.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var y=d.div.negative!==0?d.mod.isub(u):d.mod,g=u.ushrn(1),m=u.andln(1),b=y.cmp(g);return b<0||m===1&&b===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},n.prototype.modrn=function(u){var d=u<0;d&&(u=-u),t(u<=67108863);for(var y=(1<<26)%u,g=0,m=this.length-1;m>=0;m--)g=(y*g+(this.words[m]|0))%u;return d?-g:g},n.prototype.modn=function(u){return this.modrn(u)},n.prototype.idivn=function(u){var d=u<0;d&&(u=-u),t(u<=67108863);for(var y=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+y*67108864;this.words[g]=m/u|0,y=m%u}return this._strip(),d?this.ineg():this},n.prototype.divn=function(u){return this.clone().idivn(u)},n.prototype.egcd=function(u){t(u.negative===0),t(!u.isZero());var d=this,y=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var g=new n(1),m=new n(0),b=new n(0),A=new n(1),I=0;d.isEven()&&y.isEven();)d.iushrn(1),y.iushrn(1),++I;for(var p=y.clone(),B=d.clone();!d.isZero();){for(var ce=0,R=1;(d.words[0]&R)==0&&ce<26;++ce,R<<=1);if(ce>0)for(d.iushrn(ce);ce-- >0;)(g.isOdd()||m.isOdd())&&(g.iadd(p),m.isub(B)),g.iushrn(1),m.iushrn(1);for(var fe=0,se=1;(y.words[0]&se)==0&&fe<26;++fe,se<<=1);if(fe>0)for(y.iushrn(fe);fe-- >0;)(b.isOdd()||A.isOdd())&&(b.iadd(p),A.isub(B)),b.iushrn(1),A.iushrn(1);d.cmp(y)>=0?(d.isub(y),g.isub(b),m.isub(A)):(y.isub(d),b.isub(g),A.isub(m))}return{a:b,b:A,gcd:y.iushln(I)}},n.prototype._invmp=function(u){t(u.negative===0),t(!u.isZero());var d=this,y=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var g=new n(1),m=new n(0),b=y.clone();d.cmpn(1)>0&&y.cmpn(1)>0;){for(var A=0,I=1;(d.words[0]&I)==0&&A<26;++A,I<<=1);if(A>0)for(d.iushrn(A);A-- >0;)g.isOdd()&&g.iadd(b),g.iushrn(1);for(var p=0,B=1;(y.words[0]&B)==0&&p<26;++p,B<<=1);if(p>0)for(y.iushrn(p);p-- >0;)m.isOdd()&&m.iadd(b),m.iushrn(1);d.cmp(y)>=0?(d.isub(y),g.isub(m)):(y.isub(d),m.isub(g))}var ce;return d.cmpn(1)===0?ce=g:ce=m,ce.cmpn(0)<0&&ce.iadd(u),ce},n.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),y=u.clone();d.negative=0,y.negative=0;for(var g=0;d.isEven()&&y.isEven();g++)d.iushrn(1),y.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;y.isEven();)y.iushrn(1);var m=d.cmp(y);if(m<0){var b=d;d=y,y=b}else if(m===0||y.cmpn(1)===0)break;d.isub(y)}while(!0);return y.iushln(g)},n.prototype.invm=function(u){return this.egcd(u).a.umod(u)},n.prototype.isEven=function(){return(this.words[0]&1)==0},n.prototype.isOdd=function(){return(this.words[0]&1)==1},n.prototype.andln=function(u){return this.words[0]&u},n.prototype.bincn=function(u){t(typeof u=="number");var d=u%26,y=(u-d)/26,g=1<<d;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var m=g,b=y;m!==0&&b<this.length;b++){var A=this.words[b]|0;A+=m,m=A>>>26,A&=67108863,this.words[b]=A}return m!==0&&(this.words[b]=m,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var y;if(this.length>1)y=1;else{d&&(u=-u),t(u<=67108863,"Number is too big");var g=this.words[0]|0;y=g===u?0:g<u?-1:1}return this.negative!==0?-y|0:y},n.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},n.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,y=this.length-1;y>=0;y--){var g=this.words[y]|0,m=u.words[y]|0;if(g!==m){g<m?d=-1:g>m&&(d=1);break}}return d},n.prototype.gtn=function(u){return this.cmpn(u)===1},n.prototype.gt=function(u){return this.cmp(u)===1},n.prototype.gten=function(u){return this.cmpn(u)>=0},n.prototype.gte=function(u){return this.cmp(u)>=0},n.prototype.ltn=function(u){return this.cmpn(u)===-1},n.prototype.lt=function(u){return this.cmp(u)===-1},n.prototype.lten=function(u){return this.cmpn(u)<=0},n.prototype.lte=function(u){return this.cmp(u)<=0},n.prototype.eqn=function(u){return this.cmpn(u)===0},n.prototype.eq=function(u){return this.cmp(u)===0},n.red=function(u){return new w(u)},n.prototype.toRed=function(u){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},n.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(u){return this.red=u,this},n.prototype.forceRed=function(u){return t(!this.red,"Already a number in reduction context"),this._forceRed(u)},n.prototype.redAdd=function(u){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},n.prototype.redIAdd=function(u){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},n.prototype.redSub=function(u){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},n.prototype.redISub=function(u){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},n.prototype.redShl=function(u){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},n.prototype.redMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},n.prototype.redIMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},n.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(u){return t(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var V={k256:null,p224:null,p192:null,p25519:null};function z(v,u){this.name=v,this.p=new n(u,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var u=new n(null);return u.words=new Array(Math.ceil(this.n/13)),u},z.prototype.ireduce=function(u){var d=u,y;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),y=d.bitLength();while(y>this.n);var g=y<this.n?-1:d.ucmp(this.p);return g===0?(d.words[0]=0,d.length=1):g>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},z.prototype.split=function(u,d){u.iushrn(this.n,0,d)},z.prototype.imulK=function(u){return u.imul(this.k)};function F(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,z),F.prototype.split=function(u,d){for(var y=4194303,g=Math.min(u.length,9),m=0;m<g;m++)d.words[m]=u.words[m];if(d.length=g,u.length<=9){u.words[0]=0,u.length=1;return}var b=u.words[9];for(d.words[d.length++]=b&y,m=10;m<u.length;m++){var A=u.words[m]|0;u.words[m-10]=(A&y)<<4|b>>>22,b=A}b>>>=22,u.words[m-10]=b,b===0&&u.length>10?u.length-=10:u.length-=9},F.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,y=0;y<u.length;y++){var g=u.words[y]|0;d+=g*977,u.words[y]=d&67108863,d=g*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function H(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(H,z);function K(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(K,z);function S(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(S,z),S.prototype.imulK=function(u){for(var d=0,y=0;y<u.length;y++){var g=(u.words[y]|0)*19+d,m=g&67108863;g>>>=26,u.words[y]=m,d=g}return d!==0&&(u.words[u.length++]=d),u},n._prime=function(u){if(V[u])return V[u];var d;if(u==="k256")d=new F;else if(u==="p224")d=new H;else if(u==="p192")d=new K;else if(u==="p25519")d=new S;else throw new Error("Unknown prime "+u);return V[u]=d,d};function w(v){if(typeof v=="string"){var u=n._prime(v);this.m=u.p,this.prime=u}else t(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}w.prototype._verify1=function(u){t(u.negative===0,"red works only with positives"),t(u.red,"red works only with red numbers")},w.prototype._verify2=function(u,d){t((u.negative|d.negative)==0,"red works only with positives"),t(u.red&&u.red===d.red,"red works only with red numbers")},w.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(c(u,u.umod(this.m)._forceRed(this)),u)},w.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},w.prototype.add=function(u,d){this._verify2(u,d);var y=u.add(d);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},w.prototype.iadd=function(u,d){this._verify2(u,d);var y=u.iadd(d);return y.cmp(this.m)>=0&&y.isub(this.m),y},w.prototype.sub=function(u,d){this._verify2(u,d);var y=u.sub(d);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},w.prototype.isub=function(u,d){this._verify2(u,d);var y=u.isub(d);return y.cmpn(0)<0&&y.iadd(this.m),y},w.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},w.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},w.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},w.prototype.isqr=function(u){return this.imul(u,u.clone())},w.prototype.sqr=function(u){return this.mul(u,u)},w.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(t(d%2==1),d===3){var y=this.m.add(new n(1)).iushrn(2);return this.pow(u,y)}for(var g=this.m.subn(1),m=0;!g.isZero()&&g.andln(1)===0;)m++,g.iushrn(1);t(!g.isZero());var b=new n(1).toRed(this),A=b.redNeg(),I=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new n(2*p*p).toRed(this);this.pow(p,I).cmp(A)!==0;)p.redIAdd(A);for(var B=this.pow(p,g),ce=this.pow(u,g.addn(1).iushrn(1)),R=this.pow(u,g),fe=m;R.cmp(b)!==0;){for(var se=R,U=0;se.cmp(b)!==0;U++)se=se.redSqr();t(U<fe);var Z=this.pow(B,new n(1).iushln(fe-U-1));ce=ce.redMul(Z),B=Z.redSqr(),R=R.redMul(B),fe=U}return ce},w.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},w.prototype.pow=function(u,d){if(d.isZero())return new n(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var y=4,g=new Array(1<<y);g[0]=new n(1).toRed(this),g[1]=u;for(var m=2;m<g.length;m++)g[m]=this.mul(g[m-1],u);var b=g[0],A=0,I=0,p=d.bitLength()%26;for(p===0&&(p=26),m=d.length-1;m>=0;m--){for(var B=d.words[m],ce=p-1;ce>=0;ce--){var R=B>>ce&1;if(b!==g[0]&&(b=this.sqr(b)),R===0&&A===0){I=0;continue}A<<=1,A|=R,I++,!(I!==y&&(m!==0||ce!==0))&&(b=this.mul(b,g[A]),I=0,A=0)}p=26}return b},w.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},w.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},n.mont=function(u){return new T(u)};function T(v){w.call(this,v),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(T,w),T.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},T.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},T.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(d),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=y.isub(g).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},T.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new n(0)._forceRed(this);var y=u.mul(d),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=y.isub(g).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},T.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof ww=="undefined"||ww,GD)});var t5=M((w$e,YD)=>{"use strict";var e5=Fi(),Jd=e5.Buffer,Bo={},Mo;for(Mo in e5)!e5.hasOwnProperty(Mo)||Mo==="SlowBuffer"||Mo==="Buffer"||(Bo[Mo]=e5[Mo]);var Xd=Bo.Buffer={};for(Mo in Jd)!Jd.hasOwnProperty(Mo)||Mo==="allocUnsafe"||Mo==="allocUnsafeSlow"||(Xd[Mo]=Jd[Mo]);Bo.Buffer.prototype=Jd.prototype;(!Xd.from||Xd.from===Uint8Array.from)&&(Xd.from=function(r,e,t){if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof r);if(r&&typeof r.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);return Jd(r,e,t)});Xd.alloc||(Xd.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof r);if(r<0||r>=2*(1<<30))throw new RangeError('The value "'+r+'" is invalid for option "size"');var i=Jd(r);return!e||e.length===0?i.fill(0):typeof t=="string"?i.fill(e,t):i.fill(e),i});if(!Bo.kStringMaxLength)try{Bo.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(r){}Bo.constants||(Bo.constants={MAX_LENGTH:Bo.kMaxLength},Bo.kStringMaxLength&&(Bo.constants.MAX_STRING_LENGTH=Bo.kStringMaxLength));YD.exports=Bo});var r5=M(WD=>{"use strict";var f3e=dr();function Ro(r){this._reporterState={obj:null,path:[],options:r||{},errors:[]}}WD.Reporter=Ro;Ro.prototype.isError=function(e){return e instanceof Qd};Ro.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Ro.prototype.restore=function(e){let t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)};Ro.prototype.enterKey=function(e){return this._reporterState.path.push(e)};Ro.prototype.exitKey=function(e){let t=this._reporterState;t.path=t.path.slice(0,e-1)};Ro.prototype.leaveKey=function(e,t,i){let n=this._reporterState;this.exitKey(e),n.obj!==null&&(n.obj[t]=i)};Ro.prototype.path=function(){return this._reporterState.path.join("/")};Ro.prototype.enterObject=function(){let e=this._reporterState,t=e.obj;return e.obj={},t};Ro.prototype.leaveObject=function(e){let t=this._reporterState,i=t.obj;return t.obj=e,i};Ro.prototype.error=function(e){let t,i=this._reporterState,n=e instanceof Qd;if(n?t=e:t=new Qd(i.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw t;return n||i.errors.push(t),t};Ro.prototype.wrapResult=function(e){let t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e};function Qd(r,e){this.path=r,this.rethrow(e)}f3e(Qd,Error);Qd.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Qd),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}});var rh=M(Ew=>{"use strict";var c3e=dr(),i5=r5().Reporter,eh=t5().Buffer;function No(r,e){if(i5.call(this,e),!eh.isBuffer(r)){this.error("Input not Buffer");return}this.base=r,this.offset=0,this.length=r.length}c3e(No,i5);Ew.DecoderBuffer=No;No.isDecoderBuffer=function(e){return e instanceof No?!0:typeof e=="object"&&eh.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};No.prototype.save=function(){return{offset:this.offset,reporter:i5.prototype.save.call(this)}};No.prototype.restore=function(e){let t=new No(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i5.prototype.restore.call(this,e.reporter),t};No.prototype.isEmpty=function(){return this.offset===this.length};No.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};No.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");let i=new No(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i};No.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function th(r,e){if(Array.isArray(r))this.length=0,this.value=r.map(function(t){return th.isEncoderBuffer(t)||(t=new th(t,e)),this.length+=t.length,t},this);else if(typeof r=="number"){if(!(0<=r&&r<=255))return e.error("non-byte EncoderBuffer value");this.value=r,this.length=1}else if(typeof r=="string")this.value=r,this.length=eh.byteLength(r);else if(eh.isBuffer(r))this.value=r,this.length=r.length;else return e.error("Unsupported type: "+typeof r)}Ew.EncoderBuffer=th;th.isEncoderBuffer=function(e){return e instanceof th?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};th.prototype.join=function(e,t){return e||(e=eh.alloc(this.length)),t||(t=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,t),t+=i.length}):(typeof this.value=="number"?e[t]=this.value:typeof this.value=="string"?e.write(this.value,t):eh.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}});var n5=M((S$e,JD)=>{"use strict";var u3e=r5().Reporter,l3e=rh().EncoderBuffer,d3e=rh().DecoderBuffer,ds=ln(),ZD=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h3e=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(ZD),p3e=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function $r(r,e,t){let i={};this._baseState=i,i.name=t,i.enc=r,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}JD.exports=$r;var b3e=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];$r.prototype.clone=function(){let e=this._baseState,t={};b3e.forEach(function(n){t[n]=e[n]});let i=new this.constructor(t.parent);return i._baseState=t,i};$r.prototype._wrap=function(){let e=this._baseState;h3e.forEach(function(t){this[t]=function(){let n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)};$r.prototype._init=function(e){let t=this._baseState;ds(t.parent===null),e.call(this),t.children=t.children.filter(function(i){return i._baseState.parent===this},this),ds.equal(t.children.length,1,"Root node can have only one child")};$r.prototype._useArgs=function(e){let t=this._baseState,i=e.filter(function(n){return n instanceof this.constructor},this);e=e.filter(function(n){return!(n instanceof this.constructor)},this),i.length!==0&&(ds(t.children===null),t.children=i,i.forEach(function(n){n._baseState.parent=this},this)),e.length!==0&&(ds(t.args===null),t.args=e,t.reverseArgs=e.map(function(n){if(typeof n!="object"||n.constructor!==Object)return n;let s={};return Object.keys(n).forEach(function(o){o==(o|0)&&(o|=0);let a=n[o];s[a]=o}),s}))};p3e.forEach(function(r){$r.prototype[r]=function(){let t=this._baseState;throw new Error(r+" not implemented for encoding: "+t.enc)}});ZD.forEach(function(r){$r.prototype[r]=function(){let t=this._baseState,i=Array.prototype.slice.call(arguments);return ds(t.tag===null),t.tag=r,this._useArgs(i),this}});$r.prototype.use=function(e){ds(e);let t=this._baseState;return ds(t.use===null),t.use=e,this};$r.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};$r.prototype.def=function(e){let t=this._baseState;return ds(t.default===null),t.default=e,t.optional=!0,this};$r.prototype.explicit=function(e){let t=this._baseState;return ds(t.explicit===null&&t.implicit===null),t.explicit=e,this};$r.prototype.implicit=function(e){let t=this._baseState;return ds(t.explicit===null&&t.implicit===null),t.implicit=e,this};$r.prototype.obj=function(){let e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,t.length!==0&&this._useArgs(t),this};$r.prototype.key=function(e){let t=this._baseState;return ds(t.key===null),t.key=e,this};$r.prototype.any=function(){let e=this._baseState;return e.any=!0,this};$r.prototype.choice=function(e){let t=this._baseState;return ds(t.choice===null),t.choice=e,this._useArgs(Object.keys(e).map(function(i){return e[i]})),this};$r.prototype.contains=function(e){let t=this._baseState;return ds(t.use===null),t.contains=e,this};$r.prototype._decode=function(e,t){let i=this._baseState;if(i.parent===null)return e.wrapResult(i.children[0]._decode(e,t));let n=i.default,s=!0,o=null;if(i.key!==null&&(o=e.enterKey(i.key)),i.optional){let f=null;if(i.explicit!==null?f=i.explicit:i.implicit!==null?f=i.implicit:i.tag!==null&&(f=i.tag),f===null&&!i.any){let c=e.save();try{i.choice===null?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),s=!0}catch(l){s=!1}e.restore(c)}else if(s=this._peekTag(e,f,i.any),e.isError(s))return s}let a;if(i.obj&&s&&(a=e.enterObject()),s){if(i.explicit!==null){let c=this._decodeTag(e,i.explicit);if(e.isError(c))return c;e=c}let f=e.offset;if(i.use===null&&i.choice===null){let c;i.any&&(c=e.save());let l=this._decodeTag(e,i.implicit!==null?i.implicit:i.tag,i.any);if(e.isError(l))return l;i.any?n=e.raw(c):e=l}if(t&&t.track&&i.tag!==null&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&i.tag!==null&&t.track(e.path(),e.offset,e.length,"content"),i.any||(i.choice===null?n=this._decodeGeneric(i.tag,e,t):n=this._decodeChoice(e,t)),e.isError(n))return n;if(!i.any&&i.choice===null&&i.children!==null&&i.children.forEach(function(l){l._decode(e,t)}),i.contains&&(i.tag==="octstr"||i.tag==="bitstr")){let c=new d3e(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(c,t)}}return i.obj&&s&&(n=e.leaveObject(a)),i.key!==null&&(n!==null||s===!0)?e.leaveKey(o,i.key,n):o!==null&&e.exitKey(o),n};$r.prototype._decodeGeneric=function(e,t,i){let n=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(t,e,n.args[0],i):/str$/.test(e)?this._decodeStr(t,e,i):e==="objid"&&n.args?this._decodeObjid(t,n.args[0],n.args[1],i):e==="objid"?this._decodeObjid(t,null,null,i):e==="gentime"||e==="utctime"?this._decodeTime(t,e,i):e==="null_"?this._decodeNull(t,i):e==="bool"?this._decodeBool(t,i):e==="objDesc"?this._decodeStr(t,e,i):e==="int"||e==="enum"?this._decodeInt(t,n.args&&n.args[0],i):n.use!==null?this._getUse(n.use,t._reporterState.obj)._decode(t,i):t.error("unknown tag: "+e)};$r.prototype._getUse=function(e,t){let i=this._baseState;return i.useDecoder=this._use(e,t),ds(i.useDecoder._baseState.parent===null),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder};$r.prototype._decodeChoice=function(e,t){let i=this._baseState,n=null,s=!1;return Object.keys(i.choice).some(function(o){let a=e.save(),f=i.choice[o];try{let c=f._decode(e,t);if(e.isError(c))return!1;n={type:o,value:c},s=!0}catch(c){return e.restore(a),!1}return!0},this),s?n:e.error("Choice not matched")};$r.prototype._createEncoderBuffer=function(e){return new l3e(e,this.reporter)};$r.prototype._encode=function(e,t,i){let n=this._baseState;if(n.default!==null&&n.default===e)return;let s=this._encodeValue(e,t,i);if(s!==void 0&&!this._skipDefault(s,t,i))return s};$r.prototype._encodeValue=function(e,t,i){let n=this._baseState;if(n.parent===null)return n.children[0]._encode(e,t||new u3e);let s=null;if(this.reporter=t,n.optional&&e===void 0)if(n.default!==null)e=n.default;else return;let o=null,a=!1;if(n.any)s=this._createEncoderBuffer(e);else if(n.choice)s=this._encodeChoice(e,t);else if(n.contains)o=this._getUse(n.contains,i)._encode(e,t),a=!0;else if(n.children)o=n.children.map(function(f){if(f._baseState.tag==="null_")return f._encode(null,t,e);if(f._baseState.key===null)return t.error("Child should have a key");let c=t.enterKey(f._baseState.key);if(typeof e!="object")return t.error("Child expected, but input is not object");let l=f._encode(e[f._baseState.key],t,e);return t.leaveKey(c),l},this).filter(function(f){return f}),o=this._createEncoderBuffer(o);else if(n.tag==="seqof"||n.tag==="setof"){if(!(n.args&&n.args.length===1))return t.error("Too many args for : "+n.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");let f=this.clone();f._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(c){let l=this._baseState;return this._getUse(l.args[0],e)._encode(c,t)},f))}else n.use!==null?s=this._getUse(n.use,i)._encode(e,t):(o=this._encodePrimitive(n.tag,e),a=!0);if(!n.any&&n.choice===null){let f=n.implicit!==null?n.implicit:n.tag,c=n.implicit===null?"universal":"context";f===null?n.use===null&&t.error("Tag could be omitted only for .use()"):n.use===null&&(s=this._encodeComposite(f,a,c,o))}return n.explicit!==null&&(s=this._encodeComposite(n.explicit,!1,"context",s)),s};$r.prototype._encodeChoice=function(e,t){let i=this._baseState,n=i.choice[e.type];return n||ds(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(e.value,t)};$r.prototype._encodePrimitive=function(e,t){let i=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if(e==="objid"&&i.args)return this._encodeObjid(t,i.reverseArgs[0],i.args[1]);if(e==="objid")return this._encodeObjid(t,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(t,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(t,i.args&&i.reverseArgs[0]);if(e==="bool")return this._encodeBool(t);if(e==="objDesc")return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)};$r.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};$r.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var s5=M(Uu=>{"use strict";function XD(r){let e={};return Object.keys(r).forEach(function(t){(t|0)==t&&(t=t|0);let i=r[t];e[i]=t}),e}Uu.tagClass={0:"universal",1:"application",2:"context",3:"private"};Uu.tagClassByName=XD(Uu.tagClass);Uu.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Uu.tagByName=XD(Uu.tag)});var Aw=M((I$e,tL)=>{"use strict";var y3e=dr(),v0=t5().Buffer,QD=n5(),Sw=s5();function eL(r){this.enc="der",this.name=r.name,this.entity=r,this.tree=new va,this.tree._init(r.body)}tL.exports=eL;eL.prototype.encode=function(e,t){return this.tree._encode(e,t).join()};function va(r){QD.call(this,"der",r)}y3e(va,QD);va.prototype._encodeComposite=function(e,t,i,n){let s=m3e(e,t,i,this.reporter);if(n.length<128){let f=v0.alloc(2);return f[0]=s,f[1]=n.length,this._createEncoderBuffer([f,n])}let o=1;for(let f=n.length;f>=256;f>>=8)o++;let a=v0.alloc(1+1+o);a[0]=s,a[1]=128|o;for(let f=1+o,c=n.length;c>0;f--,c>>=8)a[f]=c&255;return this._createEncoderBuffer([a,n])};va.prototype._encodeStr=function(e,t){if(t==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(t==="bmpstr"){let i=v0.alloc(e.length*2);for(let n=0;n<e.length;n++)i.writeUInt16BE(e.charCodeAt(n),n*2);return this._createEncoderBuffer(i)}else return t==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):t==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):t==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")};va.prototype._encodeObjid=function(e,t,i){if(typeof e=="string"){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let a=0;a<e.length;a++)e[a]|=0}else if(Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let n=0;for(let a=0;a<e.length;a++){let f=e[a];for(n++;f>=128;f>>=7)n++}let s=v0.alloc(n),o=s.length-1;for(let a=e.length-1;a>=0;a--){let f=e[a];for(s[o--]=f&127;(f>>=7)>0;)s[o--]=128|f&127}return this._createEncoderBuffer(s)};function Po(r){return r<10?"0"+r:r}va.prototype._encodeTime=function(e,t){let i,n=new Date(e);return t==="gentime"?i=[Po(n.getUTCFullYear()),Po(n.getUTCMonth()+1),Po(n.getUTCDate()),Po(n.getUTCHours()),Po(n.getUTCMinutes()),Po(n.getUTCSeconds()),"Z"].join(""):t==="utctime"?i=[Po(n.getUTCFullYear()%100),Po(n.getUTCMonth()+1),Po(n.getUTCDate()),Po(n.getUTCHours()),Po(n.getUTCMinutes()),Po(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(i,"octstr")};va.prototype._encodeNull=function(){return this._createEncoderBuffer("")};va.prototype._encodeInt=function(e,t){if(typeof e=="string"){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if(typeof e!="number"&&!v0.isBuffer(e)){let s=e.toArray();!e.sign&&s[0]&128&&s.unshift(0),e=v0.from(s)}if(v0.isBuffer(e)){let s=e.length;e.length===0&&s++;let o=v0.alloc(s);return e.copy(o),e.length===0&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let i=1;for(let s=e;s>=256;s>>=8)i++;let n=new Array(i);for(let s=n.length-1;s>=0;s--)n[s]=e&255,e>>=8;return n[0]&128&&n.unshift(0),this._createEncoderBuffer(v0.from(n))};va.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};va.prototype._use=function(e,t){return typeof e=="function"&&(e=e(t)),e._getEncoder("der").tree};va.prototype._skipDefault=function(e,t,i){let n=this._baseState,s;if(n.default===null)return!1;let o=e.join();if(n.defaultBuffer===void 0&&(n.defaultBuffer=this._encodeValue(n.default,t,i).join()),o.length!==n.defaultBuffer.length)return!1;for(s=0;s<o.length;s++)if(o[s]!==n.defaultBuffer[s])return!1;return!0};function m3e(r,e,t,i){let n;if(r==="seqof"?r="seq":r==="setof"&&(r="set"),Sw.tagByName.hasOwnProperty(r))n=Sw.tagByName[r];else if(typeof r=="number"&&(r|0)===r)n=r;else return i.error("Unknown tag: "+r);return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=Sw.tagClassByName[t||"universal"]<<6,n)}});var iL=M((T$e,rL)=>{"use strict";var g3e=dr(),Iw=Aw();function Tw(r){Iw.call(this,r),this.enc="pem"}g3e(Tw,Iw);rL.exports=Tw;Tw.prototype.encode=function(e,t){let n=Iw.prototype.encode.call(this,e).toString("base64"),s=["-----BEGIN "+t.label+"-----"];for(let o=0;o<n.length;o+=64)s.push(n.slice(o,o+64));return s.push("-----END "+t.label+"-----"),s.join(`
`)}});var kw=M(sL=>{"use strict";var nL=sL;nL.der=Aw();nL.pem=iL()});var Bw=M((C$e,lL)=>{"use strict";var v3e=dr(),x3e=wi(),oL=rh().DecoderBuffer,aL=n5(),fL=s5();function cL(r){this.enc="der",this.name=r.name,this.entity=r,this.tree=new eo,this.tree._init(r.body)}lL.exports=cL;cL.prototype.decode=function(e,t){return oL.isDecoderBuffer(e)||(e=new oL(e,t)),this.tree._decode(e,t)};function eo(r){aL.call(this,"der",r)}v3e(eo,aL);eo.prototype._peekTag=function(e,t,i){if(e.isEmpty())return!1;let n=e.save(),s=Cw(e,'Failed to peek tag: "'+t+'"');return e.isError(s)?s:(e.restore(n),s.tag===t||s.tagStr===t||s.tagStr+"of"===t||i)};eo.prototype._decodeTag=function(e,t,i){let n=Cw(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;let s=uL(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(s))return s;if(!i&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+t+'"');let o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(s=e.offset-o.offset,e.restore(o),e.skip(s,'Failed to match body of: "'+t+'"'))};eo.prototype._skipUntilEnd=function(e,t){for(;;){let i=Cw(e,t);if(e.isError(i))return i;let n=uL(e,i.primitive,t);if(e.isError(n))return n;let s;if(i.primitive||n!==null?s=e.skip(n):s=this._skipUntilEnd(e,t),e.isError(s))return s;if(i.tagStr==="end")break}};eo.prototype._decodeList=function(e,t,i,n){let s=[];for(;!e.isEmpty();){let o=this._peekTag(e,"end");if(e.isError(o))return o;let a=i.decode(e,"der",n);if(e.isError(a)&&o)break;s.push(a)}return s};eo.prototype._decodeStr=function(e,t){if(t==="bitstr"){let i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}else if(t==="bmpstr"){let i=e.raw();if(i.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let s=0;s<i.length/2;s++)n+=String.fromCharCode(i.readUInt16BE(s*2));return n}else if(t==="numstr"){let i=e.raw().toString("ascii");return this._isNumstr(i)?i:e.error("Decoding of string type: numstr unsupported characters")}else{if(t==="octstr")return e.raw();if(t==="objDesc")return e.raw();if(t==="printstr"){let i=e.raw().toString("ascii");return this._isPrintstr(i)?i:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")}};eo.prototype._decodeObjid=function(e,t,i){let n,s=[],o=0,a=0;for(;!e.isEmpty();)a=e.readUInt8(),o<<=7,o|=a&127,(a&128)==0&&(s.push(o),o=0);a&128&&s.push(o);let f=s[0]/40|0,c=s[0]%40;if(i?n=s:n=[f,c].concat(s.slice(1)),t){let l=t[n.join(" ")];l===void 0&&(l=t[n.join(".")]),l!==void 0&&(n=l)}return n};eo.prototype._decodeTime=function(e,t){let i=e.raw().toString(),n,s,o,a,f,c;if(t==="gentime")n=i.slice(0,4)|0,s=i.slice(4,6)|0,o=i.slice(6,8)|0,a=i.slice(8,10)|0,f=i.slice(10,12)|0,c=i.slice(12,14)|0;else if(t==="utctime")n=i.slice(0,2)|0,s=i.slice(2,4)|0,o=i.slice(4,6)|0,a=i.slice(6,8)|0,f=i.slice(8,10)|0,c=i.slice(10,12)|0,n<70?n=2e3+n:n=1900+n;else return e.error("Decoding "+t+" time is not supported yet");return Date.UTC(n,s-1,o,a,f,c,0)};eo.prototype._decodeNull=function(){return null};eo.prototype._decodeBool=function(e){let t=e.readUInt8();return e.isError(t)?t:t!==0};eo.prototype._decodeInt=function(e,t){let i=e.raw(),n=new x3e(i);return t&&(n=t[n.toString(10)]||n),n};eo.prototype._use=function(e,t){return typeof e=="function"&&(e=e(t)),e._getDecoder("der").tree};function Cw(r,e){let t=r.readUInt8(e);if(r.isError(t))return t;let i=fL.tagClass[t>>6],n=(t&32)==0;if((t&31)==31){let o=t;for(t=0;(o&128)==128;){if(o=r.readUInt8(e),r.isError(o))return o;t<<=7,t|=o&127}}else t&=31;let s=fL.tag[t];return{cls:i,primitive:n,tag:t,tagStr:s}}function uL(r,e,t){let i=r.readUInt8(t);if(r.isError(i))return i;if(!e&&i===128)return null;if((i&128)==0)return i;let n=i&127;if(n>4)return r.error("length octect is too long");i=0;for(let s=0;s<n;s++){i<<=8;let o=r.readUInt8(t);if(r.isError(o))return o;i|=o}return i}});var hL=M((B$e,dL)=>{"use strict";var w3e=dr(),_3e=t5().Buffer,Mw=Bw();function Rw(r){Mw.call(this,r),this.enc="pem"}w3e(Rw,Mw);dL.exports=Rw;Rw.prototype.decode=function(e,t){let i=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,a=-1;for(let l=0;l<i.length;l++){let h=i[l].match(s);if(h!==null&&h[2]===n)if(o===-1){if(h[1]!=="BEGIN")break;o=l}else{if(h[1]!=="END")break;a=l;break}}if(o===-1||a===-1)throw new Error("PEM section not found for: "+n);let f=i.slice(o+1,a).join("");f.replace(/[^a-z0-9+/=]+/gi,"");let c=_3e.from(f,"base64");return Mw.prototype.decode.call(this,c,t)}});var Nw=M(bL=>{"use strict";var pL=bL;pL.der=Bw();pL.pem=hL()});var mL=M(yL=>{"use strict";var E3e=kw(),S3e=Nw(),A3e=dr(),I3e=yL;I3e.define=function(e,t){return new ih(e,t)};function ih(r,e){this.name=r,this.body=e,this.decoders={},this.encoders={}}ih.prototype._createNamed=function(e){let t=this.name;function i(n){this._initNamed(n,t)}return A3e(i,e),i.prototype._initNamed=function(s,o){e.call(this,s,o)},new i(this)};ih.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(S3e[e])),this.decoders[e]};ih.prototype.decode=function(e,t,i){return this._getDecoder(t).decode(e,i)};ih.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(E3e[e])),this.encoders[e]};ih.prototype.encode=function(e,t,i){return this._getEncoder(t).encode(e,i)}});var vL=M(gL=>{"use strict";var o5=gL;o5.Reporter=r5().Reporter;o5.DecoderBuffer=rh().DecoderBuffer;o5.EncoderBuffer=rh().EncoderBuffer;o5.Node=n5()});var _L=M(wL=>{"use strict";var xL=wL;xL._reverse=function(e){let t={};return Object.keys(e).forEach(function(i){(i|0)==i&&(i=i|0);let n=e[i];t[n]=i}),t};xL.der=s5()});var Pw=M(EL=>{"use strict";var nh=EL;nh.bignum=wi();nh.define=mL().define;nh.base=vL();nh.constants=_L();nh.decoders=Nw();nh.encoders=kw()});var TL=M((O$e,IL)=>{"use strict";var xa=Pw(),SL=xa.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),T3e=xa.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),qw=xa.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),k3e=xa.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(qw),this.key("subjectPublicKey").bitstr())}),C3e=xa.define("RelativeDistinguishedName",function(){this.setof(T3e)}),B3e=xa.define("RDNSequence",function(){this.seqof(C3e)}),AL=xa.define("Name",function(){this.choice({rdnSequence:this.use(B3e)})}),M3e=xa.define("Validity",function(){this.seq().obj(this.key("notBefore").use(SL),this.key("notAfter").use(SL))}),R3e=xa.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),N3e=xa.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(qw),this.key("issuer").use(AL),this.key("validity").use(M3e),this.key("subject").use(AL),this.key("subjectPublicKeyInfo").use(k3e),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(R3e).optional())}),P3e=xa.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(N3e),this.key("signatureAlgorithm").use(qw),this.key("signatureValue").bitstr())});IL.exports=P3e});var CL=M(_a=>{"use strict";var wa=Pw();_a.certificate=TL();var q3e=wa.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});_a.RSAPrivateKey=q3e;var O3e=wa.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});_a.RSAPublicKey=O3e;var D3e=wa.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(kL),this.key("subjectPublicKey").bitstr())});_a.PublicKey=D3e;var kL=wa.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),L3e=wa.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(kL),this.key("subjectPrivateKey").octstr())});_a.PrivateKey=L3e;var U3e=wa.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});_a.EncryptedPrivateKey=U3e;var F3e=wa.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});_a.DSAPrivateKey=F3e;_a.DSAparam=wa.define("DSAparam",function(){this.int()});var K3e=wa.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(z3e),this.key("publicKey").optional().explicit(1).bitstr())});_a.ECPrivateKey=K3e;var z3e=wa.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});_a.signature=wa.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var BL=M((L$e,j3e)=>{j3e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var RL=M((U$e,ML)=>{var V3e=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,H3e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,$3e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,G3e=B2(),Y3e=Om(),a5=fr().Buffer;ML.exports=function(r,e){var t=r.toString(),i=t.match(V3e),n;if(i){var o="aes"+i[1],a=a5.from(i[2],"hex"),f=a5.from(i[3].replace(/[\r\n]/g,""),"base64"),c=G3e(e,a.slice(0,8),parseInt(i[1],10)).key,l=[],h=Y3e.createDecipheriv(o,c,a);l.push(h.update(f)),l.push(h.final()),n=a5.concat(l)}else{var s=t.match($3e);n=a5.from(s[2].replace(/[\r\n]/g,""),"base64")}var x=t.match(H3e)[1];return{tag:x,data:n}}});var D2=M((F$e,PL)=>{var Os=CL(),W3e=BL(),Z3e=RL(),J3e=Om(),X3e=Nx(),Ow=fr().Buffer;PL.exports=NL;function NL(r){var e;typeof r=="object"&&!Ow.isBuffer(r)&&(e=r.passphrase,r=r.key),typeof r=="string"&&(r=Ow.from(r));var t=Z3e(r,e),i=t.tag,n=t.data,s,o;switch(i){case"CERTIFICATE":o=Os.certificate.decode(n,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(o||(o=Os.PublicKey.decode(n,"der")),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Os.RSAPublicKey.decode(o.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return o.subjectPrivateKey=o.subjectPublicKey,{type:"ec",data:o};case"1.2.840.10040.4.1":return o.algorithm.params.pub_key=Os.DSAparam.decode(o.subjectPublicKey.data,"der"),{type:"dsa",data:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":n=Os.EncryptedPrivateKey.decode(n,"der"),n=Q3e(n,e);case"PRIVATE KEY":switch(o=Os.PrivateKey.decode(n,"der"),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Os.RSAPrivateKey.decode(o.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:o.algorithm.curve,privateKey:Os.ECPrivateKey.decode(o.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return o.algorithm.params.priv_key=Os.DSAparam.decode(o.subjectPrivateKey,"der"),{type:"dsa",params:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return Os.RSAPublicKey.decode(n,"der");case"RSA PRIVATE KEY":return Os.RSAPrivateKey.decode(n,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Os.DSAPrivateKey.decode(n,"der")};case"EC PRIVATE KEY":return n=Os.ECPrivateKey.decode(n,"der"),{curve:n.parameters.value,privateKey:n.privateKey};default:throw new Error("unknown key type "+i)}}NL.signature=Os.signature;function Q3e(r,e){var t=r.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(r.algorithm.decrypt.kde.kdeparams.iters.toString(),10),n=W3e[r.algorithm.decrypt.cipher.algo.join(".")],s=r.algorithm.decrypt.cipher.iv,o=r.subjectPrivateKey,a=parseInt(n.split("-")[1],10)/8,f=X3e.pbkdf2Sync(e,t,i,a,"sha1"),c=J3e.createDecipheriv(n,f,s),l=[];return l.push(c.update(o)),l.push(c.final()),Ow.concat(l)}});var Dw=M((K$e,ege)=>{ege.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var DL=M((z$e,c5)=>{var ts=fr().Buffer,Fu=Ex(),tge=Fm(),rge=O2().ec,f5=_w(),ige=D2(),nge=Dw();function sge(r,e,t,i,n){var s=ige(e);if(s.curve){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");return oge(r,s)}else if(s.type==="dsa"){if(i!=="dsa")throw new Error("wrong private key type");return age(r,s,t)}else if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");r=ts.concat([n,r]);for(var o=s.modulus.byteLength(),a=[0,1];r.length+a.length+1<o;)a.push(255);a.push(0);for(var f=-1;++f<r.length;)a.push(r[f]);var c=tge(a,s);return c}function oge(r,e){var t=nge[e.curve.join(".")];if(!t)throw new Error("unknown curve "+e.curve.join("."));var i=new rge(t),n=i.keyFromPrivate(e.privateKey),s=n.sign(r);return ts.from(s.toDER())}function age(r,e,t){for(var i=e.params.priv_key,n=e.params.p,s=e.params.q,o=e.params.g,a=new f5(0),f,c=Lw(r,s).mod(s),l=!1,h=qL(i,s,r,t);l===!1;)f=OL(s,h,t),a=uge(o,f,n,s),l=f.invm(s).imul(c.add(i.mul(a))).mod(s),l.cmpn(0)===0&&(l=!1,a=new f5(0));return fge(a,l)}function fge(r,e){r=r.toArray(),e=e.toArray(),r[0]&128&&(r=[0].concat(r)),e[0]&128&&(e=[0].concat(e));var t=r.length+e.length+4,i=[48,t,2,r.length];return i=i.concat(r,[2,e.length],e),ts.from(i)}function qL(r,e,t,i){if(r=ts.from(r.toArray()),r.length<e.byteLength()){var n=ts.alloc(e.byteLength()-r.length);r=ts.concat([n,r])}var s=t.length,o=cge(t,e),a=ts.alloc(s);a.fill(1);var f=ts.alloc(s);return f=Fu(i,f).update(a).update(ts.from([0])).update(r).update(o).digest(),a=Fu(i,f).update(a).digest(),f=Fu(i,f).update(a).update(ts.from([1])).update(r).update(o).digest(),a=Fu(i,f).update(a).digest(),{k:f,v:a}}function Lw(r,e){var t=new f5(r),i=(r.length<<3)-e.bitLength();return i>0&&t.ishrn(i),t}function cge(r,e){r=Lw(r,e),r=r.mod(e);var t=ts.from(r.toArray());if(t.length<e.byteLength()){var i=ts.alloc(e.byteLength()-t.length);t=ts.concat([i,t])}return t}function OL(r,e,t){var i,n;do{for(i=ts.alloc(0);i.length*8<r.bitLength();)e.v=Fu(t,e.k).update(e.v).digest(),i=ts.concat([i,e.v]);n=Lw(i,r),e.k=Fu(t,e.k).update(e.v).update(ts.from([0])).digest(),e.v=Fu(t,e.k).update(e.v).digest()}while(n.cmp(r)!==-1);return n}function uge(r,e,t,i){return r.toRed(f5.mont(t)).redPow(e).fromRed().mod(i)}c5.exports=sge;c5.exports.getKey=qL;c5.exports.makeKey=OL});var KL=M((j$e,FL)=>{var Uw=fr().Buffer,L2=_w(),lge=O2().ec,LL=D2(),dge=Dw();function hge(r,e,t,i,n){var s=LL(t);if(s.type==="ec"){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");return pge(r,e,s)}else if(s.type==="dsa"){if(i!=="dsa")throw new Error("wrong public key type");return bge(r,e,s)}else if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");e=Uw.concat([n,e]);for(var o=s.modulus.byteLength(),a=[1],f=0;e.length+a.length+2<o;)a.push(255),f++;a.push(0);for(var c=-1;++c<e.length;)a.push(e[c]);a=Uw.from(a);var l=L2.mont(s.modulus);r=new L2(r).toRed(l),r=r.redPow(new L2(s.publicExponent)),r=Uw.from(r.fromRed().toArray());var h=f<8?1:0;for(o=Math.min(r.length,a.length),r.length!==a.length&&(h=1),c=-1;++c<o;)h|=r[c]^a[c];return h===0}function pge(r,e,t){var i=dge[t.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+t.data.algorithm.curve.join("."));var n=new lge(i),s=t.data.subjectPrivateKey.data;return n.verify(e,r,s)}function bge(r,e,t){var i=t.data.p,n=t.data.q,s=t.data.g,o=t.data.pub_key,a=LL.signature.decode(r,"der"),f=a.s,c=a.r;UL(f,n),UL(c,n);var l=L2.mont(i),h=f.invm(n),x=s.toRed(l).redPow(new L2(e).mul(h).mod(n)).fromRed().mul(o.toRed(l).redPow(c.mul(h).mod(n)).fromRed()).mod(i).mod(n);return x.cmp(c)===0}function UL(r,e){if(r.cmpn(0)<=0)throw new Error("invalid sig");if(r.cmp(e)>=e)throw new Error("invalid sig")}FL.exports=hge});var GL=M((V$e,$L)=>{var u5=fr().Buffer,zL=Ld(),l5=cm(),jL=dr(),yge=DL(),mge=KL(),Ku=Sx();Object.keys(Ku).forEach(function(r){Ku[r].id=u5.from(Ku[r].id,"hex"),Ku[r.toLowerCase()]=Ku[r]});function U2(r){l5.Writable.call(this);var e=Ku[r];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=zL(e.hash),this._tag=e.id,this._signType=e.sign}jL(U2,l5.Writable);U2.prototype._write=function(e,t,i){this._hash.update(e),i()};U2.prototype.update=function(e,t){return typeof e=="string"&&(e=u5.from(e,t)),this._hash.update(e),this};U2.prototype.sign=function(e,t){this.end();var i=this._hash.digest(),n=yge(i,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n};function F2(r){l5.Writable.call(this);var e=Ku[r];if(!e)throw new Error("Unknown message digest");this._hash=zL(e.hash),this._tag=e.id,this._signType=e.sign}jL(F2,l5.Writable);F2.prototype._write=function(e,t,i){this._hash.update(e),i()};F2.prototype.update=function(e,t){return typeof e=="string"&&(e=u5.from(e,t)),this._hash.update(e),this};F2.prototype.verify=function(e,t,i){typeof t=="string"&&(t=u5.from(t,i)),this.end();var n=this._hash.digest();return mge(t,n,e,this._signType,this._tag)};function VL(r){return new U2(r)}function HL(r){return new F2(r)}$L.exports={Sign:VL,Verify:HL,createSign:VL,createVerify:HL}});var WL=M((H$e,YL)=>{var gge=O2(),vge=wi();YL.exports=function(e){return new zu(e)};var to={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};to.p224=to.secp224r1;to.p256=to.secp256r1=to.prime256v1;to.p192=to.secp192r1=to.prime192v1;to.p384=to.secp384r1;to.p521=to.secp521r1;function zu(r){this.curveType=to[r],this.curveType||(this.curveType={name:r}),this.curve=new gge.ec(this.curveType.name),this.keys=void 0}zu.prototype.generateKeys=function(r,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(r,e)};zu.prototype.computeSecret=function(r,e,t){e=e||"utf8",Buffer.isBuffer(r)||(r=new Buffer(r,e));var i=this.curve.keyFromPublic(r).getPublic(),n=i.mul(this.keys.getPrivate()).getX();return Fw(n,t,this.curveType.byteLength)};zu.prototype.getPublicKey=function(r,e){var t=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(t[t.length-1]%2?t[0]=7:t[0]=6),Fw(t,r)};zu.prototype.getPrivateKey=function(r){return Fw(this.keys.getPrivate(),r)};zu.prototype.setPublicKey=function(r,e){return e=e||"utf8",Buffer.isBuffer(r)||(r=new Buffer(r,e)),this.keys._importPublic(r),this};zu.prototype.setPrivateKey=function(r,e){e=e||"utf8",Buffer.isBuffer(r)||(r=new Buffer(r,e));var t=new vge(r);return t=t.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(t),this};function Fw(r,e,t){Array.isArray(r)||(r=r.toArray());var i=new Buffer(r);if(t&&i.length<t){var n=new Buffer(t-i.length);n.fill(0),i=Buffer.concat([n,i])}return e?i.toString(e):i}});var zw=M(($$e,ZL)=>{var xge=Ld(),Kw=fr().Buffer;ZL.exports=function(r,e){for(var t=Kw.alloc(0),i=0,n;t.length<e;)n=wge(i++),t=Kw.concat([t,xge("sha1").update(r).update(n).digest()]);return t.slice(0,e)};function wge(r){var e=Kw.allocUnsafe(4);return e.writeUInt32BE(r,0),e}});var jw=M((G$e,JL)=>{JL.exports=function(e,t){for(var i=e.length,n=-1;++n<i;)e[n]^=t[n];return e}});var Vw=M((Y$e,QL)=>{var XL=wi(),_ge=fr().Buffer;function Ege(r,e){return _ge.from(r.toRed(XL.mont(e.modulus)).redPow(new XL(e.publicExponent)).fromRed().toArray())}QL.exports=Ege});var iU=M((W$e,rU)=>{var Sge=D2(),Hw=c0(),Age=Ld(),eU=zw(),tU=jw(),$w=wi(),Ige=Vw(),Tge=Fm(),Ea=fr().Buffer;rU.exports=function(e,t,i){var n;e.padding?n=e.padding:i?n=1:n=4;var s=Sge(e),o;if(n===4)o=kge(s,t);else if(n===1)o=Cge(s,t,i);else if(n===3){if(o=new $w(t),o.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return i?Tge(o,s):Ige(o,s)};function kge(r,e){var t=r.modulus.byteLength(),i=e.length,n=Age("sha1").update(Ea.alloc(0)).digest(),s=n.length,o=2*s;if(i>t-o-2)throw new Error("message too long");var a=Ea.alloc(t-i-o-2),f=t-s-1,c=Hw(s),l=tU(Ea.concat([n,a,Ea.alloc(1,1),e],f),eU(c,f)),h=tU(c,eU(l,s));return new $w(Ea.concat([Ea.alloc(1),h,l],t))}function Cge(r,e,t){var i=e.length,n=r.modulus.byteLength();if(i>n-11)throw new Error("message too long");var s;return t?s=Ea.alloc(n-i-3,255):s=Bge(n-i-3),new $w(Ea.concat([Ea.from([0,t?1:2]),s,Ea.alloc(1),e],n))}function Bge(r){for(var e=Ea.allocUnsafe(r),t=0,i=Hw(r*2),n=0,s;t<r;)n===i.length&&(i=Hw(r*2),n=0),s=i[n++],s&&(e[t++]=s);return e}});var fU=M((Z$e,aU)=>{var Mge=D2(),nU=zw(),sU=jw(),oU=wi(),Rge=Fm(),Nge=Ld(),Pge=Vw(),K2=fr().Buffer;aU.exports=function(e,t,i){var n;e.padding?n=e.padding:i?n=1:n=4;var s=Mge(e),o=s.modulus.byteLength();if(t.length>o||new oU(t).cmp(s.modulus)>=0)throw new Error("decryption error");var a;i?a=Pge(new oU(t),s):a=Rge(t,s);var f=K2.alloc(o-a.length);if(a=K2.concat([f,a],o),n===4)return qge(s,a);if(n===1)return Oge(s,a,i);if(n===3)return a;throw new Error("unknown padding")};function qge(r,e){var t=r.modulus.byteLength(),i=Nge("sha1").update(K2.alloc(0)).digest(),n=i.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,n+1),o=e.slice(n+1),a=sU(s,nU(o,n)),f=sU(o,nU(a,t-n-1));if(Dge(i,f.slice(0,n)))throw new Error("decryption error");for(var c=n;f[c]===0;)c++;if(f[c++]!==1)throw new Error("decryption error");return f.slice(c)}function Oge(r,e,t){for(var i=e.slice(0,2),n=2,s=0;e[n++]!==0;)if(n>=e.length){s++;break}var o=e.slice(2,n-1);if((i.toString("hex")!=="0002"&&!t||i.toString("hex")!=="0001"&&t)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return e.slice(n)}function Dge(r,e){r=K2.from(r),e=K2.from(e);var t=0,i=r.length;r.length!==e.length&&(t++,i=Math.min(r.length,e.length));for(var n=-1;++n<i;)t+=r[n]^e[n];return t}});var cU=M(ju=>{ju.publicEncrypt=iU();ju.privateDecrypt=fU();ju.privateEncrypt=function(e,t){return ju.publicEncrypt(e,t,!0)};ju.publicDecrypt=function(e,t){return ju.privateDecrypt(e,t,!0)}});var vU=M(z2=>{"use strict";function uU(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var lU=fr(),dU=c0(),hU=lU.Buffer,pU=lU.kMaxLength,Gw=global.crypto||global.msCrypto,bU=Math.pow(2,32)-1;function yU(r,e){if(typeof r!="number"||r!==r)throw new TypeError("offset must be a number");if(r>bU||r<0)throw new TypeError("offset must be a uint32");if(r>pU||r>e)throw new RangeError("offset out of range")}function mU(r,e,t){if(typeof r!="number"||r!==r)throw new TypeError("size must be a number");if(r>bU||r<0)throw new TypeError("size must be a uint32");if(r+e>t||r>pU)throw new RangeError("buffer too small")}Gw&&Gw.getRandomValues||!process.browser?(z2.randomFill=Lge,z2.randomFillSync=Uge):(z2.randomFill=uU,z2.randomFillSync=uU);function Lge(r,e,t,i){if(!hU.isBuffer(r)&&!(r instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")i=e,e=0,t=r.length;else if(typeof t=="function")i=t,t=r.length-e;else if(typeof i!="function")throw new TypeError('"cb" argument must be a function');return yU(e,r.length),mU(t,e,r.length),gU(r,e,t,i)}function gU(r,e,t,i){if(process.browser){var n=r.buffer,s=new Uint8Array(n,e,t);if(Gw.getRandomValues(s),i){process.nextTick(function(){i(null,r)});return}return r}if(i){dU(t,function(a,f){if(a)return i(a);f.copy(r,e),i(null,r)});return}var o=dU(t);return o.copy(r,e),r}function Uge(r,e,t){if(typeof e=="undefined"&&(e=0),!hU.isBuffer(r)&&!(r instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return yU(e,r.length),t===void 0&&(t=r.length-e),mU(t,e,r.length),gU(r,e,t)}});var _U=M(hr=>{"use strict";hr.randomBytes=hr.rng=hr.pseudoRandomBytes=hr.prng=c0();hr.createHash=hr.Hash=Ld();hr.createHmac=hr.Hmac=Ex();var Fge=gq(),Kge=Object.keys(Fge),zge=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Kge);hr.getHashes=function(){return zge};var xU=Nx();hr.pbkdf2=xU.pbkdf2;hr.pbkdf2Sync=xU.pbkdf2Sync;var pf=UO();hr.Cipher=pf.Cipher;hr.createCipher=pf.createCipher;hr.Cipheriv=pf.Cipheriv;hr.createCipheriv=pf.createCipheriv;hr.Decipher=pf.Decipher;hr.createDecipher=pf.createDecipher;hr.Decipheriv=pf.Decipheriv;hr.createDecipheriv=pf.createDecipheriv;hr.getCiphers=pf.getCiphers;hr.listCiphers=pf.listCiphers;var j2=JO();hr.DiffieHellmanGroup=j2.DiffieHellmanGroup;hr.createDiffieHellmanGroup=j2.createDiffieHellmanGroup;hr.getDiffieHellman=j2.getDiffieHellman;hr.createDiffieHellman=j2.createDiffieHellman;hr.DiffieHellman=j2.DiffieHellman;var d5=GL();hr.createSign=d5.createSign;hr.Sign=d5.Sign;hr.createVerify=d5.createVerify;hr.Verify=d5.Verify;hr.createECDH=WL();var h5=cU();hr.publicEncrypt=h5.publicEncrypt;hr.privateEncrypt=h5.privateEncrypt;hr.publicDecrypt=h5.publicDecrypt;hr.privateDecrypt=h5.privateDecrypt;var wU=vU();hr.randomFill=wU.randomFill;hr.randomFillSync=wU.randomFillSync;hr.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};hr.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var EU=M((eGe,Yw)=>{"use strict";var jge=Vy();jge?Yw.exports=W0():Yw.exports=_U()});var Zw=M((tGe,SU)=>{"use strict";var p5=jR(),Vge=lN(),Hge=hN(),Ww=EU(),ro=SU.exports=$ge;ro.Buffer=Buffer;function $ge(r,e,t){return p5.encode(ro.digest(r,e,t),e,t)}ro.multihash=p5;ro.digest=function(r,e,t){let i=ro.createHash(e).update(r).digest();return t&&(i=i.slice(0,t)),i};ro.createHash=function(r,e){if(r=p5.coerceCode(r),!ro.functions[r])throw new Error("multihash function "+r+" not yet supported");return ro.functions[r]()};ro.verify=function(r,e){let t=p5.decode(r);return ro(e,t.name,t.length).equals(r)};ro.functions={17:Gge,18:Yge,19:Wge};Vge.addFuncs(ro.functions);Hge.addFuncs(ro.functions);function Gge(){return Ww.createHash("sha1")}function Yge(){return Ww.createHash("sha256")}function Wge(){return Ww.createHash("sha512")}});var IU=M((rGe,AU)=>{"use strict";var Zge=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});AU.exports={names:Zge}});var qo=M((iGe,TU)=>{"use strict";function Jge(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}TU.exports=Jge});var Vu=M((nGe,NU)=>{"use strict";var kU=ff(),sh=ls(),{names:V2}=IU(),b5=Kr(),Xge=Ai(),Qge=qo(),oh={};for(let r in V2){let e=r;oh[V2[e]]=e}Object.freeze(oh);function e8e(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return b5(r,"base16")}function t8e(r){return Xge(r,"base16")}function r8e(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return b5(kU.encode("base58btc",r)).slice(1)}function i8e(r){let e=r instanceof Uint8Array?b5(r):r;return kU.decode("z"+e)}function CU(r){if(!(r instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(r.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=sh.decode(r);if(!MU(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);r=r.slice(sh.decode.bytes);let t=sh.decode(r);if(t<0)throw new Error(`multihash invalid length: ${t}`);if(r=r.slice(sh.decode.bytes),r.length!==t)throw new Error(`multihash length inconsistent: 0x${b5(r,"base16")}`);return{code:e,name:oh[e],length:t,digest:r}}function n8e(r,e,t){if(!r||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let i=BU(e);if(!(r instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(t==null&&(t=r.length),t&&r.length!==t)throw new Error("digest length should be equal to specified length.");let n=sh.encode(i),s=sh.encode(t);return Qge([n,s,r],n.length+s.length+r.length)}function BU(r){let e=r;if(typeof r=="string"){if(V2[r]===void 0)throw new Error(`Unrecognized hash function named: ${r}`);e=V2[r]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(oh[e]===void 0&&!Jw(e))throw new Error(`Unrecognized function code: ${e}`);return e}function Jw(r){return r>0&&r<16}function MU(r){return!!(Jw(r)||oh[r])}function RU(r){CU(r)}function s8e(r){return RU(r),r.subarray(0,2)}NU.exports={names:V2,codes:oh,toHexString:e8e,fromHexString:t8e,toB58String:r8e,fromB58String:i8e,decode:CU,encode:n8e,coerceCode:BU,isAppCode:Jw,validate:RU,prefix:s8e,isValidCode:MU}});var Xw=M((sGe,OU)=>{"use strict";var PU=ls(),o8e=Kr(),a8e=Ai();OU.exports={numberToUint8Array:f8e,uint8ArrayToNumber:qU,varintUint8ArrayEncode:c8e,varintEncode:u8e};function qU(r){return parseInt(o8e(r,"base16"),16)}function f8e(r){let e=r.toString(16);return e.length%2==1&&(e="0"+e),a8e(e,"base16")}function c8e(r){return Uint8Array.from(PU.encode(qU(r)))}function u8e(r){return Uint8Array.from(PU.encode(r))}});var LU=M((oGe,DU)=>{"use strict";var l8e=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});DU.exports={baseTable:l8e}});var FU=M((aGe,UU)=>{"use strict";var{baseTable:Qw}=LU(),d8e=Xw().varintEncode,e9={},t9={},y5={};for(let r in Qw){let e=r,t=Qw[e];e9[e]=d8e(t);let i=e.toUpperCase().replace(/-/g,"_");t9[i]=t,y5[t]||(y5[t]=e)}Object.freeze(e9);Object.freeze(t9);Object.freeze(y5);var h8e=Object.freeze(Qw);UU.exports={nameToVarint:e9,constantToCode:t9,nameToCode:h8e,codeToName:y5}});var i9=M((fGe,WU)=>{"use strict";var m5=ls(),p8e=qo(),KU=Xw(),{nameToVarint:g5,constantToCode:b8e,nameToCode:zU,codeToName:r9}=FU();function y8e(r,e){let t;if(r instanceof Uint8Array)t=KU.varintUint8ArrayEncode(r);else if(g5[r])t=g5[r];else throw new Error("multicodec not recognized");return p8e([t,e],t.length+e.length)}function m8e(r){return m5.decode(r),r.slice(m5.decode.bytes)}function jU(r){let e=m5.decode(r),t=r9[e];if(t===void 0)throw new Error(`Code "${e}" not found`);return t}function VU(r){return r9[r]}function HU(r){let e=zU[r];if(e===void 0)throw new Error(`Codec "${r}" not found`);return e}function $U(r){return m5.decode(r)}function GU(r){let e=g5[r];if(e===void 0)throw new Error(`Codec "${r}" not found`);return e}function YU(r){return KU.varintEncode(r)}function g8e(r){return jU(r)}function v8e(r){return VU(r)}function x8e(r){return HU(r)}function w8e(r){return $U(r)}function _8e(r){return GU(r)}function E8e(r){return Array.from(YU(r))}WU.exports={addPrefix:y8e,rmPrefix:m8e,getNameFromData:jU,getNameFromCode:VU,getCodeFromName:HU,getCodeFromData:$U,getVarintFromName:GU,getVarintFromCode:YU,getCodec:g8e,getName:v8e,getNumber:x8e,getCode:w8e,getCodeVarint:_8e,getVarint:E8e,...b8e,nameToVarint:g5,nameToCode:zU,codeToName:r9}});var JU=M((cGe,ZU)=>{"use strict";var S8e=Vu(),A8e={checkCIDComponents:function(r){if(r==null)return"null values are not valid CIDs";if(!(r.version===0||r.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof r.codec!="string")return"codec must be string";if(r.version===0){if(r.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(r.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(r.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{S8e.validate(r.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};ZU.exports=A8e});var gn=M((uGe,XU)=>{"use strict";function I8e(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}XU.exports=I8e});var x0=M((lGe,tF)=>{"use strict";var v5=Vu(),n9=ff(),Hu=i9(),T8e=JU(),QU=qo(),k8e=Kr(),C8e=gn(),x5=Hu.nameToCode,B8e=Object.keys(x5).reduce((r,e)=>(r[x5[e]]=e,r),{}),eF=Symbol.for("@ipld/js-cid/CID"),Sa=class{constructor(e,t,i,n){if(this.version,this.codec,this.multihash,Object.defineProperty(this,eF,{value:!0}),Sa.isCID(e)){let s=e;this.version=s.version,this.codec=s.codec,this.multihash=s.multihash,this.multibaseName=s.multibaseName||(s.version===0?"base58btc":"base32");return}if(typeof e=="string"){let s=n9.isEncoded(e);if(s){let o=n9.decode(e);this.version=parseInt(o[0].toString(),16),this.codec=Hu.getCodec(o.slice(1)),this.multihash=Hu.rmPrefix(o.slice(1)),this.multibaseName=s}else this.version=0,this.codec="dag-pb",this.multihash=v5.fromB58String(e),this.multibaseName="base58btc";Sa.validateCID(this),Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){let s=parseInt(e[0].toString(),16);if(s===1){let o=e;this.version=s,this.codec=Hu.getCodec(o.slice(1)),this.multihash=Hu.rmPrefix(o.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";Sa.validateCID(this);return}this.version=e,typeof t=="number"&&(t=B8e[t]),this.codec=t,this.multihash=i,this.multibaseName=n||(e===0?"base58btc":"base32"),Sa.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0)e=this.multihash;else if(this.version===1){let t=Hu.getCodeVarint(this.codec);e=QU([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){let e=Hu.getCodeVarint(this.codec),t=v5.prefix(this.multihash);return QU([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return x5[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");let{name:e,length:t}=v5.decode(this.multihash);if(e!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(t!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new Sa(0,this.codec,this.multihash)}toV1(){return new Sa(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName)return this.string;let t;if(this.version===0){if(e!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=v5.toB58String(this.multihash)}else if(this.version===1)t=k8e(n9.encode(e,this.bytes));else throw new Error("unsupported version");return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&C8e(this.multihash,e.multihash)}static validateCID(e){let t=T8e.checkCIDComponents(e);if(t)throw new Error(t)}static isCID(e){return e instanceof Sa||Boolean(e&&e[eF])}};Sa.codecs=x5;tF.exports=Sa});var sF=M((hGe,nF)=>{var ah=1e3,fh=ah*60,ch=fh*60,$u=ch*24,M8e=$u*7,R8e=$u*365.25;nF.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return N8e(r);if(t==="number"&&isFinite(r))return e.long?q8e(r):P8e(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function N8e(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return t*R8e;case"weeks":case"week":case"w":return t*M8e;case"days":case"day":case"d":return t*$u;case"hours":case"hour":case"hrs":case"hr":case"h":return t*ch;case"minutes":case"minute":case"mins":case"min":case"m":return t*fh;case"seconds":case"second":case"secs":case"sec":case"s":return t*ah;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function P8e(r){var e=Math.abs(r);return e>=$u?Math.round(r/$u)+"d":e>=ch?Math.round(r/ch)+"h":e>=fh?Math.round(r/fh)+"m":e>=ah?Math.round(r/ah)+"s":r+"ms"}function q8e(r){var e=Math.abs(r);return e>=$u?_5(r,e,$u,"day"):e>=ch?_5(r,e,ch,"hour"):e>=fh?_5(r,e,fh,"minute"):e>=ah?_5(r,e,ah,"second"):r+" ms"}function _5(r,e,t,i){var n=e>=t*1.5;return Math.round(r/t)+" "+i+(n?"s":"")}});var aF=M((pGe,oF)=>{function O8e(r){t.debug=t,t.default=t,t.coerce=f,t.disable=s,t.enable=n,t.enabled=o,t.humanize=sF(),t.destroy=c,Object.keys(r).forEach(l=>{t[l]=r[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let h=0;for(let x=0;x<l.length;x++)h=(h<<5)-h+l.charCodeAt(x),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=e;function t(l){let h,x=null;function _(...E){if(!_.enabled)return;let C=_,L=Number(new Date),O=L-(h||L);C.diff=O,C.prev=h,C.curr=L,h=L,E[0]=t.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let W=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(N,V)=>{if(N==="%%")return"%";W++;let z=t.formatters[V];if(typeof z=="function"){let F=E[W];N=z.call(C,F),E.splice(W,1),W--}return N}),t.formatArgs.call(C,E),(C.log||t.log).apply(C,E)}return _.namespace=l,_.useColors=t.useColors(),_.color=t.selectColor(l),_.extend=i,_.destroy=t.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>x===null?t.enabled(l):x,set:E=>{x=E}}),typeof t.init=="function"&&t.init(_),_}function i(l,h){let x=t(this.namespace+(typeof h=="undefined"?":":h)+l);return x.log=this.log,x}function n(l){t.save(l),t.names=[],t.skips=[];let h,x=(typeof l=="string"?l:"").split(/[\s,]+/),_=x.length;for(h=0;h<_;h++)!x[h]||(l=x[h].replace(/\*/g,".*?"),l[0]==="-"?t.skips.push(new RegExp("^"+l.substr(1)+"$")):t.names.push(new RegExp("^"+l+"$")))}function s(){let l=[...t.names.map(a),...t.skips.map(a).map(h=>"-"+h)].join(",");return t.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let h,x;for(h=0,x=t.skips.length;h<x;h++)if(t.skips[h].test(l))return!1;for(h=0,x=t.names.length;h<x;h++)if(t.names[h].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function f(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}oF.exports=O8e});var sr=M((io,E5)=>{io.formatArgs=L8e;io.save=U8e;io.load=F8e;io.useColors=D8e;io.storage=K8e();io.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();io.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function D8e(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function L8e(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+E5.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,i=0;r[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(t++,n==="%c"&&(i=t))}),r.splice(i,0,e)}io.log=console.debug||console.log||(()=>{});function U8e(r){try{r?io.storage.setItem("debug",r):io.storage.removeItem("debug")}catch(e){}}function F8e(){let r;try{r=io.storage.getItem("debug")}catch(e){}return!r&&typeof process!="undefined"&&"env"in process&&(r=process.env.DEBUG),r}function K8e(){try{return localStorage}catch(r){}}E5.exports=aF()(io);var{formatters:z8e}=E5.exports;z8e.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Ht=M((bGe,cF)=>{"use strict";function fF(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function j8e(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return fF(r,t)}catch(i){t.message=r.message,t.stack=r.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(r)),fF(new n,t)}}cF.exports=j8e});var lF=M((yGe,uF)=>{"use strict";uF.exports=V8e;function V8e(r,e){for(var t=new Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)t[i++]=arguments[n++];return new Promise(function(a,f){t[i]=function(l){if(s)if(s=!1,l)f(l);else{for(var h=new Array(arguments.length-1),x=0;x<h.length;)h[x++]=arguments[x];a.apply(null,h)}};try{r.apply(e||null,t)}catch(c){s&&(s=!1,f(c))}})}});var bF=M(pF=>{"use strict";var S5=pF;S5.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&e.charAt(t)==="=";)++i;return Math.ceil(e.length*3)/4-i};var uh=new Array(64),dF=new Array(123);for(var bf=0;bf<64;)dF[uh[bf]=bf<26?bf+65:bf<52?bf+71:bf<62?bf-4:bf-59|43]=bf++;S5.encode=function(e,t,i){for(var n=null,s=[],o=0,a=0,f;t<i;){var c=e[t++];switch(a){case 0:s[o++]=uh[c>>2],f=(c&3)<<4,a=1;break;case 1:s[o++]=uh[f|c>>4],f=(c&15)<<2,a=2;break;case 2:s[o++]=uh[f|c>>6],s[o++]=uh[c&63],a=0;break}o>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=uh[f],s[o++]=61,a===1&&(s[o++]=61)),n?(o&&n.push(String.fromCharCode.apply(String,s.slice(0,o))),n.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var hF="invalid encoding";S5.decode=function(e,t,i){for(var n=i,s=0,o,a=0;a<e.length;){var f=e.charCodeAt(a++);if(f===61&&s>1)break;if((f=dF[f])===void 0)throw Error(hF);switch(s){case 0:o=f,s=1;break;case 1:t[i++]=o<<2|(f&48)>>4,o=f,s=2;break;case 2:t[i++]=(o&15)<<4|(f&60)>>2,o=f,s=3;break;case 3:t[i++]=(o&3)<<6|f,s=0;break}}if(s===1)throw Error(hF);return i-n};S5.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var mF=M((gGe,yF)=>{"use strict";yF.exports=A5;function A5(){this._listeners={}}A5.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this};A5.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this};A5.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}});var SF=M((vGe,EF)=>{"use strict";EF.exports=gF(gF);function gF(r){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),i=t[3]===128;function n(f,c,l){e[0]=f,c[l]=t[0],c[l+1]=t[1],c[l+2]=t[2],c[l+3]=t[3]}function s(f,c,l){e[0]=f,c[l]=t[3],c[l+1]=t[2],c[l+2]=t[1],c[l+3]=t[0]}r.writeFloatLE=i?n:s,r.writeFloatBE=i?s:n;function o(f,c){return t[0]=f[c],t[1]=f[c+1],t[2]=f[c+2],t[3]=f[c+3],e[0]}function a(f,c){return t[3]=f[c],t[2]=f[c+1],t[1]=f[c+2],t[0]=f[c+3],e[0]}r.readFloatLE=i?o:a,r.readFloatBE=i?a:o}():function(){function e(i,n,s,o){var a=n<0?1:0;if(a&&(n=-n),n===0)i(1/n>0?0:2147483648,s,o);else if(isNaN(n))i(2143289344,s,o);else if(n>34028234663852886e22)i((a<<31|2139095040)>>>0,s,o);else if(n<11754943508222875e-54)i((a<<31|Math.round(n/1401298464324817e-60))>>>0,s,o);else{var f=Math.floor(Math.log(n)/Math.LN2),c=Math.round(n*Math.pow(2,-f)*8388608)&8388607;i((a<<31|f+127<<23|c)>>>0,s,o)}}r.writeFloatLE=e.bind(null,vF),r.writeFloatBE=e.bind(null,xF);function t(i,n,s){var o=i(n,s),a=(o>>31)*2+1,f=o>>>23&255,c=o&8388607;return f===255?c?NaN:a*Infinity:f===0?a*1401298464324817e-60*c:a*Math.pow(2,f-150)*(c+8388608)}r.readFloatLE=t.bind(null,wF),r.readFloatBE=t.bind(null,_F)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),i=t[7]===128;function n(f,c,l){e[0]=f,c[l]=t[0],c[l+1]=t[1],c[l+2]=t[2],c[l+3]=t[3],c[l+4]=t[4],c[l+5]=t[5],c[l+6]=t[6],c[l+7]=t[7]}function s(f,c,l){e[0]=f,c[l]=t[7],c[l+1]=t[6],c[l+2]=t[5],c[l+3]=t[4],c[l+4]=t[3],c[l+5]=t[2],c[l+6]=t[1],c[l+7]=t[0]}r.writeDoubleLE=i?n:s,r.writeDoubleBE=i?s:n;function o(f,c){return t[0]=f[c],t[1]=f[c+1],t[2]=f[c+2],t[3]=f[c+3],t[4]=f[c+4],t[5]=f[c+5],t[6]=f[c+6],t[7]=f[c+7],e[0]}function a(f,c){return t[7]=f[c],t[6]=f[c+1],t[5]=f[c+2],t[4]=f[c+3],t[3]=f[c+4],t[2]=f[c+5],t[1]=f[c+6],t[0]=f[c+7],e[0]}r.readDoubleLE=i?o:a,r.readDoubleBE=i?a:o}():function(){function e(i,n,s,o,a,f){var c=o<0?1:0;if(c&&(o=-o),o===0)i(0,a,f+n),i(1/o>0?0:2147483648,a,f+s);else if(isNaN(o))i(0,a,f+n),i(2146959360,a,f+s);else if(o>17976931348623157e292)i(0,a,f+n),i((c<<31|2146435072)>>>0,a,f+s);else{var l;if(o<22250738585072014e-324)l=o/5e-324,i(l>>>0,a,f+n),i((c<<31|l/4294967296)>>>0,a,f+s);else{var h=Math.floor(Math.log(o)/Math.LN2);h===1024&&(h=1023),l=o*Math.pow(2,-h),i(l*4503599627370496>>>0,a,f+n),i((c<<31|h+1023<<20|l*1048576&1048575)>>>0,a,f+s)}}}r.writeDoubleLE=e.bind(null,vF,0,4),r.writeDoubleBE=e.bind(null,xF,4,0);function t(i,n,s,o,a){var f=i(o,a+n),c=i(o,a+s),l=(c>>31)*2+1,h=c>>>20&2047,x=4294967296*(c&1048575)+f;return h===2047?x?NaN:l*Infinity:h===0?l*5e-324*x:l*Math.pow(2,h-1075)*(x+4503599627370496)}r.readDoubleLE=t.bind(null,wF,0,4),r.readDoubleBE=t.bind(null,_F,4,0)}(),r}function vF(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function xF(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function wF(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function _F(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var AF=M((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var TF=M(IF=>{"use strict";var s9=IF;s9.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?t+=1:i<2048?t+=2:(i&64512)==55296&&(e.charCodeAt(n+1)&64512)==56320?(++n,t+=4):t+=3;return t};s9.read=function(e,t,i){var n=i-t;if(n<1)return"";for(var s=null,o=[],a=0,f;t<i;)f=e[t++],f<128?o[a++]=f:f>191&&f<224?o[a++]=(f&31)<<6|e[t++]&63:f>239&&f<365?(f=((f&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[a++]=55296+(f>>10),o[a++]=56320+(f&1023)):o[a++]=(f&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};s9.write=function(e,t,i){for(var n=i,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=s&63|128):(s&64512)==55296&&((o=e.charCodeAt(a+1))&64512)==56320?(s=65536+((s&1023)<<10)+(o&1023),++a,t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=s&63|128):(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=s&63|128);return i-n}});var CF=M((wGe,kF)=>{"use strict";kF.exports=H8e;function H8e(r,e,t){var i=t||8192,n=i>>>1,s=null,o=i;return function(f){if(f<1||f>n)return r(f);o+f>i&&(s=r(i),o=0);var c=e.call(s,o,o+=f);return o&7&&(o=(o|7)+1),c}}});var MF=M((_Ge,BF)=>{"use strict";BF.exports=vn;var H2=_c();function vn(r,e){this.lo=r>>>0,this.hi=e>>>0}var Gu=vn.zero=new vn(0,0);Gu.toNumber=function(){return 0};Gu.zzEncode=Gu.zzDecode=function(){return this};Gu.length=function(){return 1};var $8e=vn.zeroHash="\0\0\0\0\0\0\0\0";vn.fromNumber=function(e){if(e===0)return Gu;var t=e<0;t&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return t&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new vn(i,n)};vn.from=function(e){if(typeof e=="number")return vn.fromNumber(e);if(H2.isString(e))if(H2.Long)e=H2.Long.fromString(e);else return vn.fromNumber(parseInt(e,10));return e.low||e.high?new vn(e.low>>>0,e.high>>>0):Gu};vn.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+i*4294967296)}return this.lo+this.hi*4294967296};vn.prototype.toLong=function(e){return H2.Long?new H2.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var wc=String.prototype.charCodeAt;vn.fromHash=function(e){return e===$8e?Gu:new vn((wc.call(e,0)|wc.call(e,1)<<8|wc.call(e,2)<<16|wc.call(e,3)<<24)>>>0,(wc.call(e,4)|wc.call(e,5)<<8|wc.call(e,6)<<16|wc.call(e,7)<<24)>>>0)};vn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};vn.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};vn.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};vn.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}});var _c=M(o9=>{"use strict";var Gt=o9;Gt.asPromise=lF();Gt.base64=bF();Gt.EventEmitter=mF();Gt.float=SF();Gt.inquire=AF();Gt.utf8=TF();Gt.pool=CF();Gt.LongBits=MF();Gt.isNode=Boolean(typeof global!="undefined"&&global&&global.process&&global.process.versions&&global.process.versions.node);Gt.global=Gt.isNode&&global||typeof window!="undefined"&&window||typeof self!="undefined"&&self||o9;Gt.emptyArray=Object.freeze?Object.freeze([]):[];Gt.emptyObject=Object.freeze?Object.freeze({}):{};Gt.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Gt.isString=function(e){return typeof e=="string"||e instanceof String};Gt.isObject=function(e){return e&&typeof e=="object"};Gt.isset=Gt.isSet=function(e,t){var i=e[t];return i!=null&&e.hasOwnProperty(t)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};Gt.Buffer=function(){try{var r=Gt.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch(e){return null}}();Gt._Buffer_from=null;Gt._Buffer_allocUnsafe=null;Gt.newBuffer=function(e){return typeof e=="number"?Gt.Buffer?Gt._Buffer_allocUnsafe(e):new Gt.Array(e):Gt.Buffer?Gt._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};Gt.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;Gt.Long=Gt.global.dcodeIO&&Gt.global.dcodeIO.Long||Gt.global.Long||Gt.inquire("long");Gt.key2Re=/^true|false|0|1$/;Gt.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Gt.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Gt.longToHash=function(e){return e?Gt.LongBits.from(e).toHash():Gt.LongBits.zeroHash};Gt.longFromHash=function(e,t){var i=Gt.LongBits.fromHash(e);return Gt.Long?Gt.Long.fromBits(i.lo,i.hi,t):i.toNumber(Boolean(t))};function RF(r,e,t){for(var i=Object.keys(e),n=0;n<i.length;++n)(r[i[n]]===void 0||!t)&&(r[i[n]]=e[i[n]]);return r}Gt.merge=RF;Gt.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function NF(r){function e(t,i){if(!(this instanceof e))return new e(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&RF(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return r}}),e.prototype.toString=function(){return this.name+": "+this.message},e}Gt.newError=NF;Gt.ProtocolError=NF("ProtocolError");Gt.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(t[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};Gt.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}};Gt.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Gt._configure=function(){var r=Gt.Buffer;if(!r){Gt._Buffer_from=Gt._Buffer_allocUnsafe=null;return}Gt._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,i){return new r(t,i)},Gt._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var h9=M((SGe,DF)=>{"use strict";DF.exports=Dr;var Oo=_c(),a9,I5=Oo.LongBits,PF=Oo.base64,qF=Oo.utf8;function $2(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function f9(){}function G8e(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function Dr(){this.len=0,this.head=new $2(f9,0,0),this.tail=this.head,this.states=null}var OF=function(){return Oo.Buffer?function(){return(Dr.create=function(){return new a9})()}:function(){return new Dr}};Dr.create=OF();Dr.alloc=function(e){return new Oo.Array(e)};Oo.Array!==Array&&(Dr.alloc=Oo.pool(Dr.alloc,Oo.Array.prototype.subarray));Dr.prototype._push=function(e,t,i){return this.tail=this.tail.next=new $2(e,t,i),this.len+=t,this};function c9(r,e,t){e[t]=r&255}function Y8e(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function u9(r,e){this.len=r,this.next=void 0,this.val=e}u9.prototype=Object.create($2.prototype);u9.prototype.fn=Y8e;Dr.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new u9((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Dr.prototype.int32=function(e){return e<0?this._push(l9,10,I5.fromNumber(e)):this.uint32(e)};Dr.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function l9(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}Dr.prototype.uint64=function(e){var t=I5.from(e);return this._push(l9,t.length(),t)};Dr.prototype.int64=Dr.prototype.uint64;Dr.prototype.sint64=function(e){var t=I5.from(e).zzEncode();return this._push(l9,t.length(),t)};Dr.prototype.bool=function(e){return this._push(c9,1,e?1:0)};function d9(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}Dr.prototype.fixed32=function(e){return this._push(d9,4,e>>>0)};Dr.prototype.sfixed32=Dr.prototype.fixed32;Dr.prototype.fixed64=function(e){var t=I5.from(e);return this._push(d9,4,t.lo)._push(d9,4,t.hi)};Dr.prototype.sfixed64=Dr.prototype.fixed64;Dr.prototype.float=function(e){return this._push(Oo.float.writeFloatLE,4,e)};Dr.prototype.double=function(e){return this._push(Oo.float.writeDoubleLE,8,e)};var W8e=Oo.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};Dr.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(c9,1,0);if(Oo.isString(e)){var i=Dr.alloc(t=PF.length(e));PF.decode(e,i,0),e=i}return this.uint32(t)._push(W8e,t,e)};Dr.prototype.string=function(e){var t=qF.length(e);return t?this.uint32(t)._push(qF.write,t,e):this._push(c9,1,0)};Dr.prototype.fork=function(){return this.states=new G8e(this),this.head=this.tail=new $2(f9,0,0),this.len=0,this};Dr.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new $2(f9,0,0),this.len=0),this};Dr.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this};Dr.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t};Dr._configure=function(r){a9=r,Dr.create=OF(),a9._configure()}});var FF=M((AGe,UF)=>{"use strict";UF.exports=yf;var LF=h9();(yf.prototype=Object.create(LF.prototype)).constructor=yf;var Ec=_c();function yf(){LF.call(this)}yf._configure=function(){yf.alloc=Ec._Buffer_allocUnsafe,yf.writeBytesBuffer=Ec.Buffer&&Ec.Buffer.prototype instanceof Uint8Array&&Ec.Buffer.prototype.set.name==="set"?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]}};yf.prototype.bytes=function(e){Ec.isString(e)&&(e=Ec._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(yf.writeBytesBuffer,t,e),this};function Z8e(r,e,t){r.length<40?Ec.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}yf.prototype.string=function(e){var t=Ec.Buffer.byteLength(e);return this.uint32(t),t&&this._push(Z8e,t,e),this};yf._configure()});var y9=M((IGe,HF)=>{"use strict";HF.exports=Ki;var mf=_c(),p9,KF=mf.LongBits,J8e=mf.utf8;function Aa(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function Ki(r){this.buf=r,this.pos=0,this.len=r.length}var zF=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Ki(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Ki(e);throw Error("illegal buffer")},jF=function(){return mf.Buffer?function(t){return(Ki.create=function(n){return mf.Buffer.isBuffer(n)?new p9(n):zF(n)})(t)}:zF};Ki.create=jF();Ki.prototype._slice=mf.Array.prototype.subarray||mf.Array.prototype.slice;Ki.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Aa(this,10);return e}}();Ki.prototype.int32=function(){return this.uint32()|0};Ki.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function b9(){var r=new KF(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Aa(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw Aa(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}Ki.prototype.bool=function(){return this.uint32()!==0};function T5(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}Ki.prototype.fixed32=function(){if(this.pos+4>this.len)throw Aa(this,4);return T5(this.buf,this.pos+=4)};Ki.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Aa(this,4);return T5(this.buf,this.pos+=4)|0};function VF(){if(this.pos+8>this.len)throw Aa(this,8);return new KF(T5(this.buf,this.pos+=4),T5(this.buf,this.pos+=4))}Ki.prototype.float=function(){if(this.pos+4>this.len)throw Aa(this,4);var e=mf.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Ki.prototype.double=function(){if(this.pos+8>this.len)throw Aa(this,4);var e=mf.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Ki.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw Aa(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,i):t===i?new this.buf.constructor(0):this._slice.call(this.buf,t,i)};Ki.prototype.string=function(){var e=this.bytes();return J8e.read(e,0,e.length)};Ki.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Aa(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Aa(this);while(this.buf[this.pos++]&128);return this};Ki.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!=4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};Ki._configure=function(r){p9=r,Ki.create=jF(),p9._configure();var e=mf.Long?"toLong":"toNumber";mf.merge(Ki.prototype,{int64:function(){return b9.call(this)[e](!1)},uint64:function(){return b9.call(this)[e](!0)},sint64:function(){return b9.call(this).zzDecode()[e](!1)},fixed64:function(){return VF.call(this)[e](!0)},sfixed64:function(){return VF.call(this)[e](!1)}})}});var WF=M((TGe,YF)=>{"use strict";YF.exports=Yu;var $F=y9();(Yu.prototype=Object.create($F.prototype)).constructor=Yu;var GF=_c();function Yu(r){$F.call(this,r)}Yu._configure=function(){GF.Buffer&&(Yu.prototype._slice=GF.Buffer.prototype.slice)};Yu.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Yu._configure()});var JF=M((kGe,ZF)=>{"use strict";ZF.exports=G2;var m9=_c();(G2.prototype=Object.create(m9.EventEmitter.prototype)).constructor=G2;function G2(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");m9.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}G2.prototype.rpcCall=function r(e,t,i,n,s){if(!n)throw TypeError("request must be specified");var o=this;if(!s)return m9.asPromise(r,o,e,t,i,n);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(f,c){if(f)return o.emit("error",f,e),s(f);if(c===null){o.end(!0);return}if(!(c instanceof i))try{c=i[o.responseDelimited?"decodeDelimited":"decode"](c)}catch(l){return o.emit("error",l,e),s(l)}return o.emit("data",c,e),s(null,c)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};G2.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var QF=M(XF=>{"use strict";var X8e=XF;X8e.Service=JF()});var tK=M((BGe,eK)=>{"use strict";eK.exports={}});var nK=M(iK=>{"use strict";var Ds=iK;Ds.build="minimal";Ds.Writer=h9();Ds.BufferWriter=FF();Ds.Reader=y9();Ds.BufferReader=WF();Ds.util=_c();Ds.rpc=QF();Ds.roots=tK();Ds.configure=rK;function rK(){Ds.util._configure(),Ds.Writer._configure(Ds.BufferWriter),Ds.Reader._configure(Ds.BufferReader)}rK()});var Do=M((RGe,sK)=>{"use strict";sK.exports=nK()});var C5=M((NGe,aK)=>{"use strict";var Wu=Do(),k5=Wu.Reader,oK=Wu.Writer,rs=Wu.util,Lo=Wu.roots["libp2p-crypto-keys"]||(Wu.roots["libp2p-crypto-keys"]={});Lo.KeyType=function(){var r={},e=Object.create(r);return e[r[0]="RSA"]=0,e[r[1]="Ed25519"]=1,e[r[2]="Secp256k1"]=2,e}();Lo.PublicKey=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.Type=0,r.prototype.Data=rs.newBuffer([]),r.encode=function(t,i){return i||(i=oK.create()),i.uint32(8).int32(t.Type),i.uint32(18).bytes(t.Data),i},r.decode=function(t,i){t instanceof k5||(t=k5.create(t));for(var n=i===void 0?t.len:t.pos+i,s=new Lo.PublicKey;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:s.Type=t.int32();break;case 2:s.Data=t.bytes();break;default:t.skipType(o&7);break}}if(!s.hasOwnProperty("Type"))throw rs.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw rs.ProtocolError("missing required 'Data'",{instance:s});return s},r.fromObject=function(t){if(t instanceof Lo.PublicKey)return t;var i=new Lo.PublicKey;switch(t.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return t.Data!=null&&(typeof t.Data=="string"?rs.base64.decode(t.Data,i.Data=rs.newBuffer(rs.base64.length(t.Data)),0):t.Data.length&&(i.Data=t.Data)),i},r.toObject=function(t,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=rs.newBuffer(n.Data)))),t.Type!=null&&t.hasOwnProperty("Type")&&(n.Type=i.enums===String?Lo.KeyType[t.Type]:t.Type),t.Data!=null&&t.hasOwnProperty("Data")&&(n.Data=i.bytes===String?rs.base64.encode(t.Data,0,t.Data.length):i.bytes===Array?Array.prototype.slice.call(t.Data):t.Data),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,Wu.util.toJSONOptions)},r}();Lo.PrivateKey=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.Type=0,r.prototype.Data=rs.newBuffer([]),r.encode=function(t,i){return i||(i=oK.create()),i.uint32(8).int32(t.Type),i.uint32(18).bytes(t.Data),i},r.decode=function(t,i){t instanceof k5||(t=k5.create(t));for(var n=i===void 0?t.len:t.pos+i,s=new Lo.PrivateKey;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:s.Type=t.int32();break;case 2:s.Data=t.bytes();break;default:t.skipType(o&7);break}}if(!s.hasOwnProperty("Type"))throw rs.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw rs.ProtocolError("missing required 'Data'",{instance:s});return s},r.fromObject=function(t){if(t instanceof Lo.PrivateKey)return t;var i=new Lo.PrivateKey;switch(t.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return t.Data!=null&&(typeof t.Data=="string"?rs.base64.decode(t.Data,i.Data=rs.newBuffer(rs.base64.length(t.Data)),0):t.Data.length&&(i.Data=t.Data)),i},r.toObject=function(t,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=rs.newBuffer(n.Data)))),t.Type!=null&&t.hasOwnProperty("Type")&&(n.Type=i.enums===String?Lo.KeyType[t.Type]:t.Type),t.Data!=null&&t.hasOwnProperty("Data")&&(n.Data=i.bytes===String?rs.base64.encode(t.Data,0,t.Data.length):i.bytes===Array?Array.prototype.slice.call(t.Data):t.Data),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,Wu.util.toJSONOptions)},r}();aK.exports=Lo});var pr=M((PGe,fK)=>{fK.exports={options:{usePureJavaScript:!1}}});var lK=M((qGe,uK)=>{var g9={};uK.exports=g9;var cK={};g9.encode=function(r,e,t){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(t!==void 0&&typeof t!="number")throw new TypeError('"maxline" must be a number.');var i="";if(!(r instanceof Uint8Array))i=Q8e(r,e);else{var n=0,s=e.length,o=e.charAt(0),a=[0];for(n=0;n<r.length;++n){for(var f=0,c=r[n];f<a.length;++f)c+=a[f]<<8,a[f]=c%s,c=c/s|0;for(;c>0;)a.push(c%s),c=c/s|0}for(n=0;r[n]===0&&n<r.length-1;++n)i+=o;for(n=a.length-1;n>=0;--n)i+=e[a[n]]}if(t){var l=new RegExp(".{1,"+t+"}","g");i=i.match(l).join(`\r
`)}return i};g9.decode=function(r,e){if(typeof r!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var t=cK[e];if(!t){t=cK[e]=[];for(var i=0;i<e.length;++i)t[e.charCodeAt(i)]=i}r=r.replace(/\s/g,"");for(var n=e.length,s=e.charAt(0),o=[0],i=0;i<r.length;i++){var a=t[r.charCodeAt(i)];if(a===void 0)return;for(var f=0,c=a;f<o.length;++f)c+=o[f]*n,o[f]=c&255,c>>=8;for(;c>0;)o.push(c&255),c>>=8}for(var l=0;r[l]===s&&l<r.length-1;++l)o.push(0);return typeof Buffer!="undefined"?Buffer.from(o.reverse()):new Uint8Array(o.reverse())};function Q8e(r,e){var t=0,i=e.length,n=e.charAt(0),s=[0];for(t=0;t<r.length();++t){for(var o=0,a=r.at(t);o<s.length;++o)a+=s[o]<<8,s[o]=a%i,a=a/i|0;for(;a>0;)s.push(a%i),a=a/i|0}var f="";for(t=0;r.at(t)===0&&t<r.length()-1;++t)f+=n;for(t=s.length-1;t>=0;--t)f+=e[s[t]];return f}});var Jr=M((OGe,bK)=>{var dK=pr(),hK=lK(),ke=bK.exports=dK.util=dK.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){ke.nextTick=process.nextTick,typeof setImmediate=="function"?ke.setImmediate=setImmediate:ke.setImmediate=ke.nextTick;return}if(typeof setImmediate=="function"){ke.setImmediate=function(){return setImmediate.apply(void 0,arguments)},ke.nextTick=function(a){return setImmediate(a)};return}if(ke.setImmediate=function(a){setTimeout(a,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let a=function(f){if(f.source===window&&f.data===r){f.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(l){l()})}};var o=a,r="forge.setImmediate",e=[];ke.setImmediate=function(f){e.push(f),e.length===1&&window.postMessage(r,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver!="undefined"){var t=Date.now(),i=!0,n=document.createElement("div"),e=[];new MutationObserver(function(){var f=e.slice();e.length=0,f.forEach(function(c){c()})}).observe(n,{attributes:!0});var s=ke.setImmediate;ke.setImmediate=function(f){Date.now()-t>15?(t=Date.now(),s(f)):(e.push(f),e.length===1&&n.setAttribute("a",i=!i))}}ke.nextTick=ke.setImmediate})();ke.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;ke.globalScope=function(){return ke.isNodejs?global:typeof self=="undefined"?window:self}();ke.isArray=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};ke.isArrayBuffer=function(r){return typeof ArrayBuffer!="undefined"&&r instanceof ArrayBuffer};ke.isArrayBufferView=function(r){return r&&ke.isArrayBuffer(r.buffer)&&r.byteLength!==void 0};function Y2(r){if(!(r===8||r===16||r===24||r===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+r)}ke.ByteBuffer=v9;function v9(r){if(this.data="",this.read=0,typeof r=="string")this.data=r;else if(ke.isArrayBuffer(r)||ke.isArrayBufferView(r))if(typeof Buffer!="undefined"&&r instanceof Buffer)this.data=r.toString("binary");else{var e=new Uint8Array(r);try{this.data=String.fromCharCode.apply(null,e)}catch(i){for(var t=0;t<e.length;++t)this.putByte(e[t])}}else(r instanceof v9||typeof r=="object"&&typeof r.data=="string"&&typeof r.read=="number")&&(this.data=r.data,this.read=r.read);this._constructedStringLength=0}ke.ByteStringBuffer=v9;var e4e=4096;ke.ByteStringBuffer.prototype._optimizeConstructedString=function(r){this._constructedStringLength+=r,this._constructedStringLength>e4e&&(this.data.substr(0,1),this._constructedStringLength=0)};ke.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};ke.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};ke.ByteStringBuffer.prototype.putByte=function(r){return this.putBytes(String.fromCharCode(r))};ke.ByteStringBuffer.prototype.fillWithByte=function(r,e){r=String.fromCharCode(r);for(var t=this.data;e>0;)e&1&&(t+=r),e>>>=1,e>0&&(r+=r);return this.data=t,this._optimizeConstructedString(e),this};ke.ByteStringBuffer.prototype.putBytes=function(r){return this.data+=r,this._optimizeConstructedString(r.length),this};ke.ByteStringBuffer.prototype.putString=function(r){return this.putBytes(ke.encodeUtf8(r))};ke.ByteStringBuffer.prototype.putInt16=function(r){return this.putBytes(String.fromCharCode(r>>8&255)+String.fromCharCode(r&255))};ke.ByteStringBuffer.prototype.putInt24=function(r){return this.putBytes(String.fromCharCode(r>>16&255)+String.fromCharCode(r>>8&255)+String.fromCharCode(r&255))};ke.ByteStringBuffer.prototype.putInt32=function(r){return this.putBytes(String.fromCharCode(r>>24&255)+String.fromCharCode(r>>16&255)+String.fromCharCode(r>>8&255)+String.fromCharCode(r&255))};ke.ByteStringBuffer.prototype.putInt16Le=function(r){return this.putBytes(String.fromCharCode(r&255)+String.fromCharCode(r>>8&255))};ke.ByteStringBuffer.prototype.putInt24Le=function(r){return this.putBytes(String.fromCharCode(r&255)+String.fromCharCode(r>>8&255)+String.fromCharCode(r>>16&255))};ke.ByteStringBuffer.prototype.putInt32Le=function(r){return this.putBytes(String.fromCharCode(r&255)+String.fromCharCode(r>>8&255)+String.fromCharCode(r>>16&255)+String.fromCharCode(r>>24&255))};ke.ByteStringBuffer.prototype.putInt=function(r,e){Y2(e);var t="";do e-=8,t+=String.fromCharCode(r>>e&255);while(e>0);return this.putBytes(t)};ke.ByteStringBuffer.prototype.putSignedInt=function(r,e){return r<0&&(r+=2<<e-1),this.putInt(r,e)};ke.ByteStringBuffer.prototype.putBuffer=function(r){return this.putBytes(r.getBytes())};ke.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};ke.ByteStringBuffer.prototype.getInt16=function(){var r=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,r};ke.ByteStringBuffer.prototype.getInt24=function(){var r=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,r};ke.ByteStringBuffer.prototype.getInt32=function(){var r=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,r};ke.ByteStringBuffer.prototype.getInt16Le=function(){var r=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,r};ke.ByteStringBuffer.prototype.getInt24Le=function(){var r=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,r};ke.ByteStringBuffer.prototype.getInt32Le=function(){var r=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,r};ke.ByteStringBuffer.prototype.getInt=function(r){Y2(r);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),r-=8;while(r>0);return e};ke.ByteStringBuffer.prototype.getSignedInt=function(r){var e=this.getInt(r),t=2<<r-2;return e>=t&&(e-=t<<1),e};ke.ByteStringBuffer.prototype.getBytes=function(r){var e;return r?(r=Math.min(this.length(),r),e=this.data.slice(this.read,this.read+r),this.read+=r):r===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ke.ByteStringBuffer.prototype.bytes=function(r){return typeof r=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+r)};ke.ByteStringBuffer.prototype.at=function(r){return this.data.charCodeAt(this.read+r)};ke.ByteStringBuffer.prototype.setAt=function(r,e){return this.data=this.data.substr(0,this.read+r)+String.fromCharCode(e)+this.data.substr(this.read+r+1),this};ke.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};ke.ByteStringBuffer.prototype.copy=function(){var r=ke.createBuffer(this.data);return r.read=this.read,r};ke.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};ke.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};ke.ByteStringBuffer.prototype.truncate=function(r){var e=Math.max(0,this.length()-r);return this.data=this.data.substr(this.read,e),this.read=0,this};ke.ByteStringBuffer.prototype.toHex=function(){for(var r="",e=this.read;e<this.data.length;++e){var t=this.data.charCodeAt(e);t<16&&(r+="0"),r+=t.toString(16)}return r};ke.ByteStringBuffer.prototype.toString=function(){return ke.decodeUtf8(this.bytes())};function t4e(r,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var t=ke.isArrayBuffer(r),i=ke.isArrayBufferView(r);if(t||i){t?this.data=new DataView(r):this.data=new DataView(r.buffer,r.byteOffset,r.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,r!=null&&this.putBytes(r),"writeOffset"in e&&(this.write=e.writeOffset)}ke.DataBuffer=t4e;ke.DataBuffer.prototype.length=function(){return this.write-this.read};ke.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};ke.DataBuffer.prototype.accommodate=function(r,e){if(this.length()>=r)return this;e=Math.max(e||this.growSize,r);var t=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),i=new Uint8Array(this.length()+e);return i.set(t),this.data=new DataView(i.buffer),this};ke.DataBuffer.prototype.putByte=function(r){return this.accommodate(1),this.data.setUint8(this.write++,r),this};ke.DataBuffer.prototype.fillWithByte=function(r,e){this.accommodate(e);for(var t=0;t<e;++t)this.data.setUint8(r);return this};ke.DataBuffer.prototype.putBytes=function(r,e){if(ke.isArrayBufferView(r)){var t=new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i=t.byteLength-t.byteOffset;this.accommodate(i);var n=new Uint8Array(this.data.buffer,this.write);return n.set(t),this.write+=i,this}if(ke.isArrayBuffer(r)){var t=new Uint8Array(r);this.accommodate(t.byteLength);var n=new Uint8Array(this.data.buffer);return n.set(t,this.write),this.write+=t.byteLength,this}if(r instanceof ke.DataBuffer||typeof r=="object"&&typeof r.read=="number"&&typeof r.write=="number"&&ke.isArrayBufferView(r.data)){var t=new Uint8Array(r.data.byteLength,r.read,r.length());this.accommodate(t.byteLength);var n=new Uint8Array(r.data.byteLength,this.write);return n.set(t),this.write+=t.byteLength,this}if(r instanceof ke.ByteStringBuffer&&(r=r.data,e="binary"),e=e||"binary",typeof r=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(r.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=ke.binary.hex.decode(r,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(r.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=ke.binary.base64.decode(r,s,this.write),this;if(e==="utf8"&&(r=ke.encodeUtf8(r),e="binary"),e==="binary"||e==="raw")return this.accommodate(r.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=ke.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(r.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=ke.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+r)};ke.DataBuffer.prototype.putBuffer=function(r){return this.putBytes(r),r.clear(),this};ke.DataBuffer.prototype.putString=function(r){return this.putBytes(r,"utf16")};ke.DataBuffer.prototype.putInt16=function(r){return this.accommodate(2),this.data.setInt16(this.write,r),this.write+=2,this};ke.DataBuffer.prototype.putInt24=function(r){return this.accommodate(3),this.data.setInt16(this.write,r>>8&65535),this.data.setInt8(this.write,r>>16&255),this.write+=3,this};ke.DataBuffer.prototype.putInt32=function(r){return this.accommodate(4),this.data.setInt32(this.write,r),this.write+=4,this};ke.DataBuffer.prototype.putInt16Le=function(r){return this.accommodate(2),this.data.setInt16(this.write,r,!0),this.write+=2,this};ke.DataBuffer.prototype.putInt24Le=function(r){return this.accommodate(3),this.data.setInt8(this.write,r>>16&255),this.data.setInt16(this.write,r>>8&65535,!0),this.write+=3,this};ke.DataBuffer.prototype.putInt32Le=function(r){return this.accommodate(4),this.data.setInt32(this.write,r,!0),this.write+=4,this};ke.DataBuffer.prototype.putInt=function(r,e){Y2(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,r>>e&255);while(e>0);return this};ke.DataBuffer.prototype.putSignedInt=function(r,e){return Y2(e),this.accommodate(e/8),r<0&&(r+=2<<e-1),this.putInt(r,e)};ke.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};ke.DataBuffer.prototype.getInt16=function(){var r=this.data.getInt16(this.read);return this.read+=2,r};ke.DataBuffer.prototype.getInt24=function(){var r=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,r};ke.DataBuffer.prototype.getInt32=function(){var r=this.data.getInt32(this.read);return this.read+=4,r};ke.DataBuffer.prototype.getInt16Le=function(){var r=this.data.getInt16(this.read,!0);return this.read+=2,r};ke.DataBuffer.prototype.getInt24Le=function(){var r=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,r};ke.DataBuffer.prototype.getInt32Le=function(){var r=this.data.getInt32(this.read,!0);return this.read+=4,r};ke.DataBuffer.prototype.getInt=function(r){Y2(r);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),r-=8;while(r>0);return e};ke.DataBuffer.prototype.getSignedInt=function(r){var e=this.getInt(r),t=2<<r-2;return e>=t&&(e-=t<<1),e};ke.DataBuffer.prototype.getBytes=function(r){var e;return r?(r=Math.min(this.length(),r),e=this.data.slice(this.read,this.read+r),this.read+=r):r===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ke.DataBuffer.prototype.bytes=function(r){return typeof r=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+r)};ke.DataBuffer.prototype.at=function(r){return this.data.getUint8(this.read+r)};ke.DataBuffer.prototype.setAt=function(r,e){return this.data.setUint8(r,e),this};ke.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};ke.DataBuffer.prototype.copy=function(){return new ke.DataBuffer(this)};ke.DataBuffer.prototype.compact=function(){if(this.read>0){var r=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(r.byteLength);e.set(r),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};ke.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};ke.DataBuffer.prototype.truncate=function(r){return this.write=Math.max(0,this.length()-r),this.read=Math.min(this.read,this.write),this};ke.DataBuffer.prototype.toHex=function(){for(var r="",e=this.read;e<this.data.byteLength;++e){var t=this.data.getUint8(e);t<16&&(r+="0"),r+=t.toString(16)}return r};ke.DataBuffer.prototype.toString=function(r){var e=new Uint8Array(this.data,this.read,this.length());if(r=r||"utf8",r==="binary"||r==="raw")return ke.binary.raw.encode(e);if(r==="hex")return ke.binary.hex.encode(e);if(r==="base64")return ke.binary.base64.encode(e);if(r==="utf8")return ke.text.utf8.decode(e);if(r==="utf16")return ke.text.utf16.decode(e);throw new Error("Invalid encoding: "+r)};ke.createBuffer=function(r,e){return e=e||"raw",r!==void 0&&e==="utf8"&&(r=ke.encodeUtf8(r)),new ke.ByteBuffer(r)};ke.fillString=function(r,e){for(var t="";e>0;)e&1&&(t+=r),e>>>=1,e>0&&(r+=r);return t};ke.xorBytes=function(r,e,t){for(var i="",n="",s="",o=0,a=0;t>0;--t,++o)n=r.charCodeAt(o)^e.charCodeAt(o),a>=10&&(i+=s,s="",a=0),s+=String.fromCharCode(n),++a;return i+=s,i};ke.hexToBytes=function(r){var e="",t=0;for(r.length&!0&&(t=1,e+=String.fromCharCode(parseInt(r[0],16)));t<r.length;t+=2)e+=String.fromCharCode(parseInt(r.substr(t,2),16));return e};ke.bytesToHex=function(r){return ke.createBuffer(r).toHex()};ke.int32ToBytes=function(r){return String.fromCharCode(r>>24&255)+String.fromCharCode(r>>16&255)+String.fromCharCode(r>>8&255)+String.fromCharCode(r&255)};var Sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ac=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],pK="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ke.encode64=function(r,e){for(var t="",i="",n,s,o,a=0;a<r.length;)n=r.charCodeAt(a++),s=r.charCodeAt(a++),o=r.charCodeAt(a++),t+=Sc.charAt(n>>2),t+=Sc.charAt((n&3)<<4|s>>4),isNaN(s)?t+="==":(t+=Sc.charAt((s&15)<<2|o>>6),t+=isNaN(o)?"=":Sc.charAt(o&63)),e&&t.length>e&&(i+=t.substr(0,e)+`\r
`,t=t.substr(e));return i+=t,i};ke.decode64=function(r){r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",t,i,n,s,o=0;o<r.length;)t=Ac[r.charCodeAt(o++)-43],i=Ac[r.charCodeAt(o++)-43],n=Ac[r.charCodeAt(o++)-43],s=Ac[r.charCodeAt(o++)-43],e+=String.fromCharCode(t<<2|i>>4),n!==64&&(e+=String.fromCharCode((i&15)<<4|n>>2),s!==64&&(e+=String.fromCharCode((n&3)<<6|s)));return e};ke.encodeUtf8=function(r){return unescape(encodeURIComponent(r))};ke.decodeUtf8=function(r){return decodeURIComponent(escape(r))};ke.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:hK.encode,decode:hK.decode}};ke.binary.raw.encode=function(r){return String.fromCharCode.apply(null,r)};ke.binary.raw.decode=function(r,e,t){var i=e;i||(i=new Uint8Array(r.length)),t=t||0;for(var n=t,s=0;s<r.length;++s)i[n++]=r.charCodeAt(s);return e?n-t:i};ke.binary.hex.encode=ke.bytesToHex;ke.binary.hex.decode=function(r,e,t){var i=e;i||(i=new Uint8Array(Math.ceil(r.length/2))),t=t||0;var n=0,s=t;for(r.length&1&&(n=1,i[s++]=parseInt(r[0],16));n<r.length;n+=2)i[s++]=parseInt(r.substr(n,2),16);return e?s-t:i};ke.binary.base64.encode=function(r,e){for(var t="",i="",n,s,o,a=0;a<r.byteLength;)n=r[a++],s=r[a++],o=r[a++],t+=Sc.charAt(n>>2),t+=Sc.charAt((n&3)<<4|s>>4),isNaN(s)?t+="==":(t+=Sc.charAt((s&15)<<2|o>>6),t+=isNaN(o)?"=":Sc.charAt(o&63)),e&&t.length>e&&(i+=t.substr(0,e)+`\r
`,t=t.substr(e));return i+=t,i};ke.binary.base64.decode=function(r,e,t){var i=e;i||(i=new Uint8Array(Math.ceil(r.length/4)*3)),r=r.replace(/[^A-Za-z0-9\+\/\=]/g,""),t=t||0;for(var n,s,o,a,f=0,c=t;f<r.length;)n=Ac[r.charCodeAt(f++)-43],s=Ac[r.charCodeAt(f++)-43],o=Ac[r.charCodeAt(f++)-43],a=Ac[r.charCodeAt(f++)-43],i[c++]=n<<2|s>>4,o!==64&&(i[c++]=(s&15)<<4|o>>2,a!==64&&(i[c++]=(o&3)<<6|a));return e?c-t:i.subarray(0,c)};ke.binary.base58.encode=function(r,e){return ke.binary.baseN.encode(r,pK,e)};ke.binary.base58.decode=function(r,e){return ke.binary.baseN.decode(r,pK,e)};ke.text={utf8:{},utf16:{}};ke.text.utf8.encode=function(r,e,t){r=ke.encodeUtf8(r);var i=e;i||(i=new Uint8Array(r.length)),t=t||0;for(var n=t,s=0;s<r.length;++s)i[n++]=r.charCodeAt(s);return e?n-t:i};ke.text.utf8.decode=function(r){return ke.decodeUtf8(String.fromCharCode.apply(null,r))};ke.text.utf16.encode=function(r,e,t){var i=e;i||(i=new Uint8Array(r.length*2));var n=new Uint16Array(i.buffer);t=t||0;for(var s=t,o=t,a=0;a<r.length;++a)n[o++]=r.charCodeAt(a),s+=2;return e?s-t:i};ke.text.utf16.decode=function(r){return String.fromCharCode.apply(null,new Uint16Array(r.buffer))};ke.deflate=function(r,e,t){if(e=ke.decode64(r.deflate(ke.encode64(e)).rval),t){var i=2,n=e.charCodeAt(1);n&32&&(i=6),e=e.substring(i,e.length-4)}return e};ke.inflate=function(r,e,t){var i=r.inflate(ke.encode64(e)).rval;return i===null?null:ke.decode64(i)};var x9=function(r,e,t){if(!r)throw new Error("WebStorage not available.");var i;if(t===null?i=r.removeItem(e):(t=ke.encode64(JSON.stringify(t)),i=r.setItem(e,t)),typeof i!="undefined"&&i.rval!==!0){var n=new Error(i.error.message);throw n.id=i.error.id,n.name=i.error.name,n}},w9=function(r,e){if(!r)throw new Error("WebStorage not available.");var t=r.getItem(e);if(r.init)if(t.rval===null){if(t.error){var i=new Error(t.error.message);throw i.id=t.error.id,i.name=t.error.name,i}t=null}else t=t.rval;return t!==null&&(t=JSON.parse(ke.decode64(t))),t},r4e=function(r,e,t,i){var n=w9(r,e);n===null&&(n={}),n[t]=i,x9(r,e,n)},i4e=function(r,e,t){var i=w9(r,e);return i!==null&&(i=t in i?i[t]:null),i},n4e=function(r,e,t){var i=w9(r,e);if(i!==null&&t in i){delete i[t];var n=!0;for(var s in i){n=!1;break}n&&(i=null),x9(r,e,i)}},s4e=function(r,e){x9(r,e,null)},B5=function(r,e,t){var i=null;typeof t=="undefined"&&(t=["web","flash"]);var n,s=!1,o=null;for(var a in t){n=t[a];try{if(n==="flash"||n==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");i=r.apply(this,e),s=n==="flash"}(n==="web"||n==="both")&&(e[0]=localStorage,i=r.apply(this,e),s=!0)}catch(f){o=f}if(s)break}if(!s)throw o;return i};ke.setItem=function(r,e,t,i,n){B5(r4e,arguments,n)};ke.getItem=function(r,e,t,i){return B5(i4e,arguments,i)};ke.removeItem=function(r,e,t,i){B5(n4e,arguments,i)};ke.clearItems=function(r,e,t){B5(s4e,arguments,t)};ke.parseUrl=function(r){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var t=e.exec(r),i=t===null?null:{full:r,scheme:t[1],host:t[2],port:t[3],path:t[4]};return i&&(i.fullHost=i.host,i.port?(i.port!==80&&i.scheme==="http"||i.port!==443&&i.scheme==="https")&&(i.fullHost+=":"+i.port):i.scheme==="http"?i.port=80:i.scheme==="https"&&(i.port=443),i.full=i.scheme+"://"+i.fullHost),i};var M5=null;ke.getQueryVariables=function(r){var e=function(i){for(var n={},s=i.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("="),f,c;a>0?(f=s[o].substring(0,a),c=s[o].substring(a+1)):(f=s[o],c=null),f in n||(n[f]=[]),!(f in Object.prototype)&&c!==null&&n[f].push(unescape(c))}return n},t;return typeof r=="undefined"?(M5===null&&(typeof window!="undefined"&&window.location&&window.location.search?M5=e(window.location.search.substring(1)):M5={}),t=M5):t=e(r),t};ke.parseFragment=function(r){var e=r,t="",i=r.indexOf("?");i>0&&(e=r.substring(0,i),t=r.substring(i+1));var n=e.split("/");n.length>0&&n[0]===""&&n.shift();var s=t===""?{}:ke.getQueryVariables(t);return{pathString:e,queryString:t,path:n,query:s}};ke.makeRequest=function(r){var e=ke.parseFragment(r),t={path:e.pathString,query:e.queryString,getPath:function(i){return typeof i=="undefined"?e.path:e.path[i]},getQuery:function(i,n){var s;return typeof i=="undefined"?s=e.query:(s=e.query[i],s&&typeof n!="undefined"&&(s=s[n])),s},getQueryLast:function(i,n){var s,o=t.getQuery(i);return o?s=o[o.length-1]:s=n,s}};return t};ke.makeLink=function(r,e,t){r=jQuery.isArray(r)?r.join("/"):r;var i=jQuery.param(e||{});return t=t||"",r+(i.length>0?"?"+i:"")+(t.length>0?"#"+t:"")};ke.isEmpty=function(r){for(var e in r)if(r.hasOwnProperty(e))return!1;return!0};ke.format=function(r){for(var e=/%./g,t,i,n=0,s=[],o=0;t=e.exec(r);){i=r.substring(o,e.lastIndex-2),i.length>0&&s.push(i),o=e.lastIndex;var a=t[0][1];switch(a){case"s":case"o":n<arguments.length?s.push(arguments[n+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+a+"?>")}}return s.push(r.substring(o)),s.join("")};ke.formatNumber=function(r,e,t,i){var n=r,s=isNaN(e=Math.abs(e))?2:e,o=t===void 0?",":t,a=i===void 0?".":i,f=n<0?"-":"",c=parseInt(n=Math.abs(+n||0).toFixed(s),10)+"",l=c.length>3?c.length%3:0;return f+(l?c.substr(0,l)+a:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+a)+(s?o+Math.abs(n-c).toFixed(s).slice(2):"")};ke.formatSize=function(r){return r>=1073741824?r=ke.formatNumber(r/1073741824,2,".","")+" GiB":r>=1048576?r=ke.formatNumber(r/1048576,2,".","")+" MiB":r>=1024?r=ke.formatNumber(r/1024,0)+" KiB":r=ke.formatNumber(r,0)+" bytes",r};ke.bytesFromIP=function(r){return r.indexOf(".")!==-1?ke.bytesFromIPv4(r):r.indexOf(":")!==-1?ke.bytesFromIPv6(r):null};ke.bytesFromIPv4=function(r){if(r=r.split("."),r.length!==4)return null;for(var e=ke.createBuffer(),t=0;t<r.length;++t){var i=parseInt(r[t],10);if(isNaN(i))return null;e.putByte(i)}return e.getBytes()};ke.bytesFromIPv6=function(r){var e=0;r=r.split(":").filter(function(o){return o.length===0&&++e,!0});for(var t=(8-r.length+e)*2,i=ke.createBuffer(),n=0;n<8;++n){if(!r[n]||r[n].length===0){i.fillWithByte(0,t),t=0;continue}var s=ke.hexToBytes(r[n]);s.length<2&&i.putByte(0),i.putBytes(s)}return i.getBytes()};ke.bytesToIP=function(r){return r.length===4?ke.bytesToIPv4(r):r.length===16?ke.bytesToIPv6(r):null};ke.bytesToIPv4=function(r){if(r.length!==4)return null;for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e.join(".")};ke.bytesToIPv6=function(r){if(r.length!==16)return null;for(var e=[],t=[],i=0,n=0;n<r.length;n+=2){for(var s=ke.bytesToHex(r[n]+r[n+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var o=t[t.length-1],a=e.length;!o||a!==o.end+1?t.push({start:a,end:a}):(o.end=a,o.end-o.start>t[i].end-t[i].start&&(i=t.length-1))}e.push(s)}if(t.length>0){var f=t[i];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),f.start===0&&e.unshift(""),f.end===7&&e.push(""))}return e.join(":")};ke.estimateCores=function(r,e){if(typeof r=="function"&&(e=r,r={}),r=r||{},"cores"in ke&&!r.update)return e(null,ke.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return ke.cores=navigator.hardwareConcurrency,e(null,ke.cores);if(typeof Worker=="undefined")return ke.cores=1,e(null,ke.cores);if(typeof Blob=="undefined")return ke.cores=2,e(null,ke.cores);var t=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(o){for(var a=Date.now(),f=a+4;Date.now()<f;);self.postMessage({st:a,et:f})})}.toString(),")()"],{type:"application/javascript"}));i([],5,16);function i(o,a,f){if(a===0){var c=Math.floor(o.reduce(function(l,h){return l+h},0)/o.length);return ke.cores=Math.max(1,c),URL.revokeObjectURL(t),e(null,ke.cores)}n(f,function(l,h){o.push(s(f,h)),i(o,a-1,f)})}function n(o,a){for(var f=[],c=[],l=0;l<o;++l){var h=new Worker(t);h.addEventListener("message",function(x){if(c.push(x.data),c.length===o){for(var _=0;_<o;++_)f[_].terminate();a(null,c)}}),f.push(h)}for(var l=0;l<o;++l)f[l].postMessage(l)}function s(o,a){for(var f=[],c=0;c<o;++c)for(var l=a[c],h=f[c]=[],x=0;x<o;++x)if(c!==x){var _=a[x];(l.st>_.st&&l.st<_.et||_.st>l.st&&_.st<l.et)&&h.push(x)}return f.reduce(function(E,C){return Math.max(E,C.length)},0)}}});var lh=M((DGe,yK)=>{var W2=pr();W2.pki=W2.pki||{};var _9=yK.exports=W2.pki.oids=W2.oids=W2.oids||{};function ut(r,e){_9[r]=e,_9[e]=r}function zr(r,e){_9[r]=e}ut("1.2.840.113549.1.1.1","rsaEncryption");ut("1.2.840.113549.1.1.4","md5WithRSAEncryption");ut("1.2.840.113549.1.1.5","sha1WithRSAEncryption");ut("1.2.840.113549.1.1.7","RSAES-OAEP");ut("1.2.840.113549.1.1.8","mgf1");ut("1.2.840.113549.1.1.9","pSpecified");ut("1.2.840.113549.1.1.10","RSASSA-PSS");ut("1.2.840.113549.1.1.11","sha256WithRSAEncryption");ut("1.2.840.113549.1.1.12","sha384WithRSAEncryption");ut("1.2.840.113549.1.1.13","sha512WithRSAEncryption");ut("1.3.101.112","EdDSA25519");ut("1.2.840.10040.4.3","dsa-with-sha1");ut("1.3.14.3.2.7","desCBC");ut("1.3.14.3.2.26","sha1");ut("2.16.840.1.101.3.4.2.1","sha256");ut("2.16.840.1.101.3.4.2.2","sha384");ut("2.16.840.1.101.3.4.2.3","sha512");ut("1.2.840.113549.2.5","md5");ut("1.2.840.113549.1.7.1","data");ut("1.2.840.113549.1.7.2","signedData");ut("1.2.840.113549.1.7.3","envelopedData");ut("1.2.840.113549.1.7.4","signedAndEnvelopedData");ut("1.2.840.113549.1.7.5","digestedData");ut("1.2.840.113549.1.7.6","encryptedData");ut("1.2.840.113549.1.9.1","emailAddress");ut("1.2.840.113549.1.9.2","unstructuredName");ut("1.2.840.113549.1.9.3","contentType");ut("1.2.840.113549.1.9.4","messageDigest");ut("1.2.840.113549.1.9.5","signingTime");ut("1.2.840.113549.1.9.6","counterSignature");ut("1.2.840.113549.1.9.7","challengePassword");ut("1.2.840.113549.1.9.8","unstructuredAddress");ut("1.2.840.113549.1.9.14","extensionRequest");ut("1.2.840.113549.1.9.20","friendlyName");ut("1.2.840.113549.1.9.21","localKeyId");ut("1.2.840.113549.1.9.22.1","x509Certificate");ut("1.2.840.113549.1.12.10.1.1","keyBag");ut("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");ut("1.2.840.113549.1.12.10.1.3","certBag");ut("1.2.840.113549.1.12.10.1.4","crlBag");ut("1.2.840.113549.1.12.10.1.5","secretBag");ut("1.2.840.113549.1.12.10.1.6","safeContentsBag");ut("1.2.840.113549.1.5.13","pkcs5PBES2");ut("1.2.840.113549.1.5.12","pkcs5PBKDF2");ut("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");ut("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");ut("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");ut("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");ut("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");ut("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");ut("1.2.840.113549.2.7","hmacWithSHA1");ut("1.2.840.113549.2.8","hmacWithSHA224");ut("1.2.840.113549.2.9","hmacWithSHA256");ut("1.2.840.113549.2.10","hmacWithSHA384");ut("1.2.840.113549.2.11","hmacWithSHA512");ut("1.2.840.113549.3.7","des-EDE3-CBC");ut("2.16.840.1.101.3.4.1.2","aes128-CBC");ut("2.16.840.1.101.3.4.1.22","aes192-CBC");ut("2.16.840.1.101.3.4.1.42","aes256-CBC");ut("2.5.4.3","commonName");ut("2.5.4.5","serialName");ut("2.5.4.6","countryName");ut("2.5.4.7","localityName");ut("2.5.4.8","stateOrProvinceName");ut("2.5.4.9","streetAddress");ut("2.5.4.10","organizationName");ut("2.5.4.11","organizationalUnitName");ut("2.5.4.13","description");ut("2.5.4.15","businessCategory");ut("2.5.4.17","postalCode");ut("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");ut("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");ut("2.16.840.1.113730.1.1","nsCertType");ut("2.16.840.1.113730.1.13","nsComment");zr("2.5.29.1","authorityKeyIdentifier");zr("2.5.29.2","keyAttributes");zr("2.5.29.3","certificatePolicies");zr("2.5.29.4","keyUsageRestriction");zr("2.5.29.5","policyMapping");zr("2.5.29.6","subtreesConstraint");zr("2.5.29.7","subjectAltName");zr("2.5.29.8","issuerAltName");zr("2.5.29.9","subjectDirectoryAttributes");zr("2.5.29.10","basicConstraints");zr("2.5.29.11","nameConstraints");zr("2.5.29.12","policyConstraints");zr("2.5.29.13","basicConstraints");ut("2.5.29.14","subjectKeyIdentifier");ut("2.5.29.15","keyUsage");zr("2.5.29.16","privateKeyUsagePeriod");ut("2.5.29.17","subjectAltName");ut("2.5.29.18","issuerAltName");ut("2.5.29.19","basicConstraints");zr("2.5.29.20","cRLNumber");zr("2.5.29.21","cRLReason");zr("2.5.29.22","expirationDate");zr("2.5.29.23","instructionCode");zr("2.5.29.24","invalidityDate");zr("2.5.29.25","cRLDistributionPoints");zr("2.5.29.26","issuingDistributionPoint");zr("2.5.29.27","deltaCRLIndicator");zr("2.5.29.28","issuingDistributionPoint");zr("2.5.29.29","certificateIssuer");zr("2.5.29.30","nameConstraints");ut("2.5.29.31","cRLDistributionPoints");ut("2.5.29.32","certificatePolicies");zr("2.5.29.33","policyMappings");zr("2.5.29.34","policyConstraints");ut("2.5.29.35","authorityKeyIdentifier");zr("2.5.29.36","policyConstraints");ut("2.5.29.37","extKeyUsage");zr("2.5.29.46","freshestCRL");zr("2.5.29.54","inhibitAnyPolicy");ut("1.3.6.1.4.1.11129.2.4.2","timestampList");ut("1.3.6.1.5.5.7.1.1","authorityInfoAccess");ut("1.3.6.1.5.5.7.3.1","serverAuth");ut("1.3.6.1.5.5.7.3.2","clientAuth");ut("1.3.6.1.5.5.7.3.3","codeSigning");ut("1.3.6.1.5.5.7.3.4","emailProtection");ut("1.3.6.1.5.5.7.3.8","timeStamping")});var w0=M((LGe,gK)=>{var hi=pr();Jr();lh();var Mt=gK.exports=hi.asn1=hi.asn1||{};Mt.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Mt.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Mt.create=function(r,e,t,i,n){if(hi.util.isArray(i)){for(var s=[],o=0;o<i.length;++o)i[o]!==void 0&&s.push(i[o]);i=s}var a={tagClass:r,type:e,constructed:t,composed:t||hi.util.isArray(i),value:i};return n&&"bitStringContents"in n&&(a.bitStringContents=n.bitStringContents,a.original=Mt.copy(a)),a};Mt.copy=function(r,e){var t;if(hi.util.isArray(r)){t=[];for(var i=0;i<r.length;++i)t.push(Mt.copy(r[i],e));return t}return typeof r=="string"?r:(t={tagClass:r.tagClass,type:r.type,constructed:r.constructed,composed:r.composed,value:Mt.copy(r.value,e)},e&&!e.excludeBitStringContents&&(t.bitStringContents=r.bitStringContents),t)};Mt.equals=function(r,e,t){if(hi.util.isArray(r)){if(!hi.util.isArray(e)||r.length!==e.length)return!1;for(var i=0;i<r.length;++i)if(!Mt.equals(r[i],e[i]))return!1;return!0}if(typeof r!=typeof e)return!1;if(typeof r=="string")return r===e;var n=r.tagClass===e.tagClass&&r.type===e.type&&r.constructed===e.constructed&&r.composed===e.composed&&Mt.equals(r.value,e.value);return t&&t.includeBitStringContents&&(n=n&&r.bitStringContents===e.bitStringContents),n};Mt.getBerValueLength=function(r){var e=r.getByte();if(e!==128){var t,i=e&128;return i?t=r.getInt((e&127)<<3):t=e,t}};function Z2(r,e,t){if(t>e){var i=new Error("Too few bytes to parse DER.");throw i.available=r.length(),i.remaining=e,i.requested=t,i}}var o4e=function(r,e){var t=r.getByte();if(e--,t!==128){var i,n=t&128;if(!n)i=t;else{var s=t&127;Z2(r,e,s),i=r.getInt(s<<3)}if(i<0)throw new Error("Negative length: "+i);return i}};Mt.fromDer=function(r,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof r=="string"&&(r=hi.util.createBuffer(r)),R5(r,r.length(),0,e)};function R5(r,e,t,i){var n;Z2(r,e,2);var s=r.getByte();e--;var o=s&192,a=s&31;n=r.length();var f=o4e(r,e);if(e-=n-r.length(),f!==void 0&&f>e){if(i.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=r.length(),c.remaining=e,c.requested=f,c}f=e}var l,h,x=(s&32)==32;if(x)if(l=[],f===void 0)for(;;){if(Z2(r,e,2),r.bytes(2)===String.fromCharCode(0,0)){r.getBytes(2),e-=2;break}n=r.length(),l.push(R5(r,e,t+1,i)),e-=n-r.length()}else for(;f>0;)n=r.length(),l.push(R5(r,f,t+1,i)),e-=n-r.length(),f-=n-r.length();if(l===void 0&&o===Mt.Class.UNIVERSAL&&a===Mt.Type.BITSTRING&&(h=r.bytes(f)),l===void 0&&i.decodeBitStrings&&o===Mt.Class.UNIVERSAL&&a===Mt.Type.BITSTRING&&f>1){var _=r.read,E=e,C=0;if(a===Mt.Type.BITSTRING&&(Z2(r,e,1),C=r.getByte(),e--),C===0)try{n=r.length();var L={verbose:i.verbose,strict:!0,decodeBitStrings:!0},O=R5(r,e,t+1,L),W=n-r.length();e-=W,a==Mt.Type.BITSTRING&&W++;var ee=O.tagClass;W===f&&(ee===Mt.Class.UNIVERSAL||ee===Mt.Class.CONTEXT_SPECIFIC)&&(l=[O])}catch(V){}l===void 0&&(r.read=_,e=E)}if(l===void 0){if(f===void 0){if(i.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=e}if(a===Mt.Type.BMPSTRING)for(l="";f>0;f-=2)Z2(r,e,2),l+=String.fromCharCode(r.getInt16()),e-=2;else l=r.getBytes(f)}var N=h===void 0?null:{bitStringContents:h};return Mt.create(o,a,x,l,N)}Mt.toDer=function(r){var e=hi.util.createBuffer(),t=r.tagClass|r.type,i=hi.util.createBuffer(),n=!1;if("bitStringContents"in r&&(n=!0,r.original&&(n=Mt.equals(r,r.original))),n)i.putBytes(r.bitStringContents);else if(r.composed){r.constructed?t|=32:i.putByte(0);for(var s=0;s<r.value.length;++s)r.value[s]!==void 0&&i.putBuffer(Mt.toDer(r.value[s]))}else if(r.type===Mt.Type.BMPSTRING)for(var s=0;s<r.value.length;++s)i.putInt16(r.value.charCodeAt(s));else r.type===Mt.Type.INTEGER&&r.value.length>1&&(r.value.charCodeAt(0)===0&&(r.value.charCodeAt(1)&128)==0||r.value.charCodeAt(0)===255&&(r.value.charCodeAt(1)&128)==128)?i.putBytes(r.value.substr(1)):i.putBytes(r.value);if(e.putByte(t),i.length()<=127)e.putByte(i.length()&127);else{var o=i.length(),a="";do a+=String.fromCharCode(o&255),o=o>>>8;while(o>0);e.putByte(a.length|128);for(var s=a.length-1;s>=0;--s)e.putByte(a.charCodeAt(s))}return e.putBuffer(i),e};Mt.oidToDer=function(r){var e=r.split("."),t=hi.util.createBuffer();t.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var i,n,s,o,a=2;a<e.length;++a){i=!0,n=[],s=parseInt(e[a],10);do o=s&127,s=s>>>7,i||(o|=128),n.push(o),i=!1;while(s>0);for(var f=n.length-1;f>=0;--f)t.putByte(n[f])}return t};Mt.derToOid=function(r){var e;typeof r=="string"&&(r=hi.util.createBuffer(r));var t=r.getByte();e=Math.floor(t/40)+"."+t%40;for(var i=0;r.length()>0;)t=r.getByte(),i=i<<7,t&128?i+=t&127:(e+="."+(i+t),i=0);return e};Mt.utcTimeToDate=function(r){var e=new Date,t=parseInt(r.substr(0,2),10);t=t>=50?1900+t:2e3+t;var i=parseInt(r.substr(2,2),10)-1,n=parseInt(r.substr(4,2),10),s=parseInt(r.substr(6,2),10),o=parseInt(r.substr(8,2),10),a=0;if(r.length>11){var f=r.charAt(10),c=10;f!=="+"&&f!=="-"&&(a=parseInt(r.substr(10,2),10),c+=2)}if(e.setUTCFullYear(t,i,n),e.setUTCHours(s,o,a,0),c&&(f=r.charAt(c),f==="+"||f==="-")){var l=parseInt(r.substr(c+1,2),10),h=parseInt(r.substr(c+4,2),10),x=l*60+h;x*=6e4,f==="+"?e.setTime(+e-x):e.setTime(+e+x)}return e};Mt.generalizedTimeToDate=function(r){var e=new Date,t=parseInt(r.substr(0,4),10),i=parseInt(r.substr(4,2),10)-1,n=parseInt(r.substr(6,2),10),s=parseInt(r.substr(8,2),10),o=parseInt(r.substr(10,2),10),a=parseInt(r.substr(12,2),10),f=0,c=0,l=!1;r.charAt(r.length-1)==="Z"&&(l=!0);var h=r.length-5,x=r.charAt(h);if(x==="+"||x==="-"){var _=parseInt(r.substr(h+1,2),10),E=parseInt(r.substr(h+4,2),10);c=_*60+E,c*=6e4,x==="+"&&(c*=-1),l=!0}return r.charAt(14)==="."&&(f=parseFloat(r.substr(14),10)*1e3),l?(e.setUTCFullYear(t,i,n),e.setUTCHours(s,o,a,f),e.setTime(+e+c)):(e.setFullYear(t,i,n),e.setHours(s,o,a,f)),e};Mt.dateToUtcTime=function(r){if(typeof r=="string")return r;var e="",t=[];t.push((""+r.getUTCFullYear()).substr(2)),t.push(""+(r.getUTCMonth()+1)),t.push(""+r.getUTCDate()),t.push(""+r.getUTCHours()),t.push(""+r.getUTCMinutes()),t.push(""+r.getUTCSeconds());for(var i=0;i<t.length;++i)t[i].length<2&&(e+="0"),e+=t[i];return e+="Z",e};Mt.dateToGeneralizedTime=function(r){if(typeof r=="string")return r;var e="",t=[];t.push(""+r.getUTCFullYear()),t.push(""+(r.getUTCMonth()+1)),t.push(""+r.getUTCDate()),t.push(""+r.getUTCHours()),t.push(""+r.getUTCMinutes()),t.push(""+r.getUTCSeconds());for(var i=0;i<t.length;++i)t[i].length<2&&(e+="0"),e+=t[i];return e+="Z",e};Mt.integerToDer=function(r){var e=hi.util.createBuffer();if(r>=-128&&r<128)return e.putSignedInt(r,8);if(r>=-32768&&r<32768)return e.putSignedInt(r,16);if(r>=-8388608&&r<8388608)return e.putSignedInt(r,24);if(r>=-2147483648&&r<2147483648)return e.putSignedInt(r,32);var t=new Error("Integer too large; max is 32-bits.");throw t.integer=r,t};Mt.derToInteger=function(r){typeof r=="string"&&(r=hi.util.createBuffer(r));var e=r.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return r.getSignedInt(e)};Mt.validate=function(r,e,t,i){var n=!1;if((r.tagClass===e.tagClass||typeof e.tagClass=="undefined")&&(r.type===e.type||typeof e.type=="undefined"))if(r.constructed===e.constructed||typeof e.constructed=="undefined"){if(n=!0,e.value&&hi.util.isArray(e.value))for(var s=0,o=0;n&&o<e.value.length;++o)n=e.value[o].optional||!1,r.value[s]&&(n=Mt.validate(r.value[s],e.value[o],t,i),n?++s:e.value[o].optional&&(n=!0)),!n&&i&&i.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+r.value.length+'"');if(n&&t&&(e.capture&&(t[e.capture]=r.value),e.captureAsn1&&(t[e.captureAsn1]=r),e.captureBitStringContents&&"bitStringContents"in r&&(t[e.captureBitStringContents]=r.bitStringContents),e.captureBitStringValue&&"bitStringContents"in r)){var a;if(r.bitStringContents.length<2)t[e.captureBitStringValue]="";else{var f=r.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");t[e.captureBitStringValue]=r.bitStringContents.slice(1)}}}else i&&i.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+r.constructed+'"');else i&&(r.tagClass!==e.tagClass&&i.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+r.tagClass+'"'),r.type!==e.type&&i.push("["+e.name+'] Expected type "'+e.type+'", got "'+r.type+'"'));return n};var mK=/[^\\u0000-\\u00ff]/;Mt.prettyPrint=function(r,e,t){var i="";e=e||0,t=t||2,e>0&&(i+=`
`);for(var n="",s=0;s<e*t;++s)n+=" ";switch(i+=n+"Tag: ",r.tagClass){case Mt.Class.UNIVERSAL:i+="Universal:";break;case Mt.Class.APPLICATION:i+="Application:";break;case Mt.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case Mt.Class.PRIVATE:i+="Private:";break}if(r.tagClass===Mt.Class.UNIVERSAL)switch(i+=r.type,r.type){case Mt.Type.NONE:i+=" (None)";break;case Mt.Type.BOOLEAN:i+=" (Boolean)";break;case Mt.Type.INTEGER:i+=" (Integer)";break;case Mt.Type.BITSTRING:i+=" (Bit string)";break;case Mt.Type.OCTETSTRING:i+=" (Octet string)";break;case Mt.Type.NULL:i+=" (Null)";break;case Mt.Type.OID:i+=" (Object Identifier)";break;case Mt.Type.ODESC:i+=" (Object Descriptor)";break;case Mt.Type.EXTERNAL:i+=" (External or Instance of)";break;case Mt.Type.REAL:i+=" (Real)";break;case Mt.Type.ENUMERATED:i+=" (Enumerated)";break;case Mt.Type.EMBEDDED:i+=" (Embedded PDV)";break;case Mt.Type.UTF8:i+=" (UTF8)";break;case Mt.Type.ROID:i+=" (Relative Object Identifier)";break;case Mt.Type.SEQUENCE:i+=" (Sequence)";break;case Mt.Type.SET:i+=" (Set)";break;case Mt.Type.PRINTABLESTRING:i+=" (Printable String)";break;case Mt.Type.IA5String:i+=" (IA5String (ASCII))";break;case Mt.Type.UTCTIME:i+=" (UTC time)";break;case Mt.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case Mt.Type.BMPSTRING:i+=" (BMP String)";break}else i+=r.type;if(i+=`
`,i+=n+"Constructed: "+r.constructed+`
`,r.composed){for(var o=0,a="",s=0;s<r.value.length;++s)r.value[s]!==void 0&&(o+=1,a+=Mt.prettyPrint(r.value[s],e+1,t),s+1<r.value.length&&(a+=","));i+=n+"Sub values: "+o+a}else{if(i+=n+"Value: ",r.type===Mt.Type.OID){var f=Mt.derToOid(r.value);i+=f,hi.pki&&hi.pki.oids&&f in hi.pki.oids&&(i+=" ("+hi.pki.oids[f]+") ")}if(r.type===Mt.Type.INTEGER)try{i+=Mt.derToInteger(r.value)}catch(l){i+="0x"+hi.util.bytesToHex(r.value)}else if(r.type===Mt.Type.BITSTRING){if(r.value.length>1?i+="0x"+hi.util.bytesToHex(r.value.slice(1)):i+="(none)",r.value.length>0){var c=r.value.charCodeAt(0);c==1?i+=" (1 unused bit shown)":c>1&&(i+=" ("+c+" unused bits shown)")}}else r.type===Mt.Type.OCTETSTRING?(mK.test(r.value)||(i+="("+r.value+") "),i+="0x"+hi.util.bytesToHex(r.value)):r.type===Mt.Type.UTF8?i+=hi.util.decodeUtf8(r.value):r.type===Mt.Type.PRINTABLESTRING||r.type===Mt.Type.IA5String?i+=r.value:mK.test(r.value)?i+="0x"+hi.util.bytesToHex(r.value):r.value.length===0?i+="[null]":i+=r.value}return i}});var S9=M((UGe,vK)=>{var xn=pr();Jr();vK.exports=xn.cipher=xn.cipher||{};xn.cipher.algorithms=xn.cipher.algorithms||{};xn.cipher.createCipher=function(r,e){var t=r;if(typeof t=="string"&&(t=xn.cipher.getAlgorithm(t),t&&(t=t())),!t)throw new Error("Unsupported algorithm: "+r);return new xn.cipher.BlockCipher({algorithm:t,key:e,decrypt:!1})};xn.cipher.createDecipher=function(r,e){var t=r;if(typeof t=="string"&&(t=xn.cipher.getAlgorithm(t),t&&(t=t())),!t)throw new Error("Unsupported algorithm: "+r);return new xn.cipher.BlockCipher({algorithm:t,key:e,decrypt:!0})};xn.cipher.registerAlgorithm=function(r,e){r=r.toUpperCase(),xn.cipher.algorithms[r]=e};xn.cipher.getAlgorithm=function(r){return r=r.toUpperCase(),r in xn.cipher.algorithms?xn.cipher.algorithms[r]:null};var E9=xn.cipher.BlockCipher=function(r){this.algorithm=r.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=r.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=r.decrypt,this.algorithm.initialize(r)};E9.prototype.start=function(r){r=r||{};var e={};for(var t in r)e[t]=r[t];e.decrypt=this._decrypt,this._finish=!1,this._input=xn.util.createBuffer(),this.output=r.output||xn.util.createBuffer(),this.mode.start(e)};E9.prototype.update=function(r){for(r&&this._input.putBuffer(r);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};E9.prototype.finish=function(r){r&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(t){return r(this.blockSize,t,!1)},this.mode.unpad=function(t){return r(this.blockSize,t,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var I9=M((FGe,xK)=>{var wn=pr();Jr();wn.cipher=wn.cipher||{};var _r=xK.exports=wn.cipher.modes=wn.cipher.modes||{};_r.ecb=function(r){r=r||{},this.name="ECB",this.cipher=r.cipher,this.blockSize=r.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};_r.ecb.prototype.start=function(r){};_r.ecb.prototype.encrypt=function(r,e,t){if(r.length()<this.blockSize&&!(t&&r.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=r.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};_r.ecb.prototype.decrypt=function(r,e,t){if(r.length()<this.blockSize&&!(t&&r.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=r.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};_r.ecb.prototype.pad=function(r,e){var t=r.length()===this.blockSize?this.blockSize:this.blockSize-r.length();return r.fillWithByte(t,t),!0};_r.ecb.prototype.unpad=function(r,e){if(e.overflow>0)return!1;var t=r.length(),i=r.at(t-1);return i>this.blockSize<<2?!1:(r.truncate(i),!0)};_r.cbc=function(r){r=r||{},this.name="CBC",this.cipher=r.cipher,this.blockSize=r.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};_r.cbc.prototype.start=function(r){if(r.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in r)this._iv=N5(r.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};_r.cbc.prototype.encrypt=function(r,e,t){if(r.length()<this.blockSize&&!(t&&r.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=this._prev[i]^r.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]);this._prev=this._outBlock};_r.cbc.prototype.decrypt=function(r,e,t){if(r.length()<this.blockSize&&!(t&&r.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=r.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._prev[i]^this._outBlock[i]);this._prev=this._inBlock.slice(0)};_r.cbc.prototype.pad=function(r,e){var t=r.length()===this.blockSize?this.blockSize:this.blockSize-r.length();return r.fillWithByte(t,t),!0};_r.cbc.prototype.unpad=function(r,e){if(e.overflow>0)return!1;var t=r.length(),i=r.at(t-1);return i>this.blockSize<<2?!1:(r.truncate(i),!0)};_r.cfb=function(r){r=r||{},this.name="CFB",this.cipher=r.cipher,this.blockSize=r.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=wn.util.createBuffer(),this._partialBytes=0};_r.cfb.prototype.start=function(r){if(!("iv"in r))throw new Error("Invalid IV parameter.");this._iv=N5(r.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};_r.cfb.prototype.encrypt=function(r,e,t){var i=r.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=r.getInt32()^this._outBlock[n],e.putInt32(this._inBlock[n]);return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=r.getInt32()^this._outBlock[n],this._partialOutput.putInt32(this._partialBlock[n]);if(s>0)r.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!t)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};_r.cfb.prototype.decrypt=function(r,e,t){var i=r.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=r.getInt32(),e.putInt32(this._inBlock[n]^this._outBlock[n]);return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=r.getInt32(),this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n]);if(s>0)r.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!t)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};_r.ofb=function(r){r=r||{},this.name="OFB",this.cipher=r.cipher,this.blockSize=r.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=wn.util.createBuffer(),this._partialBytes=0};_r.ofb.prototype.start=function(r){if(!("iv"in r))throw new Error("Invalid IV parameter.");this._iv=N5(r.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};_r.ofb.prototype.encrypt=function(r,e,t){var i=r.length();if(r.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(r.getInt32()^this._outBlock[n]),this._inBlock[n]=this._outBlock[n];return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(r.getInt32()^this._outBlock[n]);if(s>0)r.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!t)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};_r.ofb.prototype.decrypt=_r.ofb.prototype.encrypt;_r.ctr=function(r){r=r||{},this.name="CTR",this.cipher=r.cipher,this.blockSize=r.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=wn.util.createBuffer(),this._partialBytes=0};_r.ctr.prototype.start=function(r){if(!("iv"in r))throw new Error("Invalid IV parameter.");this._iv=N5(r.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};_r.ctr.prototype.encrypt=function(r,e,t){var i=r.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize)for(var n=0;n<this._ints;++n)e.putInt32(r.getInt32()^this._outBlock[n]);else{var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(r.getInt32()^this._outBlock[n]);if(s>0&&(r.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!t)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}P5(this._inBlock)};_r.ctr.prototype.decrypt=_r.ctr.prototype.encrypt;_r.gcm=function(r){r=r||{},this.name="GCM",this.cipher=r.cipher,this.blockSize=r.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=wn.util.createBuffer(),this._partialBytes=0,this._R=3774873600};_r.gcm.prototype.start=function(r){if(!("iv"in r))throw new Error("Invalid IV parameter.");var e=wn.util.createBuffer(r.iv);this._cipherLength=0;var t;if("additionalData"in r?t=wn.util.createBuffer(r.additionalData):t=wn.util.createBuffer(),"tagLength"in r?this._tagLength=r.tagLength:this._tagLength=128,this._tag=null,r.decrypt&&(this._tag=wn.util.createBuffer(r.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=e.length();if(i===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(A9(i*8)))}this._inBlock=this._j0.slice(0),P5(this._inBlock),this._partialBytes=0,t=wn.util.createBuffer(t),this._aDataLength=A9(t.length()*8);var n=t.length()%this.blockSize;for(n&&t.fillWithByte(0,this.blockSize-n),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])};_r.gcm.prototype.encrypt=function(r,e,t){var i=r.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^=r.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(r.getInt32()^this._outBlock[n]);if(s<=0||t){if(t){var o=i%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var n=0;n<this._ints;++n)this._outBlock[n]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!t)return r.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),P5(this._inBlock)};_r.gcm.prototype.decrypt=function(r,e,t){var i=r.length();if(i<this.blockSize&&!(t&&i>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),P5(this._inBlock),this._hashBlock[0]=r.getInt32(),this._hashBlock[1]=r.getInt32(),this._hashBlock[2]=r.getInt32(),this._hashBlock[3]=r.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^this._hashBlock[n]);i<this.blockSize?this._cipherLength+=i%this.blockSize:this._cipherLength+=this.blockSize};_r.gcm.prototype.afterFinish=function(r,e){var t=!0;e.decrypt&&e.overflow&&r.truncate(this.blockSize-e.overflow),this.tag=wn.util.createBuffer();var i=this._aDataLength.concat(A9(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,i);var n=[];this.cipher.encrypt(this._j0,n);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^n[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(t=!1),t};_r.gcm.prototype.multiply=function(r,e){for(var t=[0,0,0,0],i=e.slice(0),n=0;n<128;++n){var s=r[n/32|0]&1<<31-n%32;s&&(t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]),this.pow(i,i)}return t};_r.gcm.prototype.pow=function(r,e){for(var t=r[3]&1,i=3;i>0;--i)e[i]=r[i]>>>1|(r[i-1]&1)<<31;e[0]=r[0]>>>1,t&&(e[0]^=this._R)};_r.gcm.prototype.tableMultiply=function(r){for(var e=[0,0,0,0],t=0;t<32;++t){var i=t/8|0,n=r[i]>>>(7-t%8)*4&15,s=this._m[t][n];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};_r.gcm.prototype.ghash=function(r,e,t){return e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3],this.tableMultiply(e)};_r.gcm.prototype.generateHashTable=function(r,e){for(var t=8/e,i=4*t,n=16*t,s=new Array(n),o=0;o<n;++o){var a=[0,0,0,0],f=o/i|0,c=(i-1-o%i)*e;a[f]=1<<e-1<<c,s[o]=this.generateSubHashTable(this.multiply(a,r),e)}return s};_r.gcm.prototype.generateSubHashTable=function(r,e){var t=1<<e,i=t>>>1,n=new Array(t);n[i]=r.slice(0);for(var s=i>>>1;s>0;)this.pow(n[2*s],n[s]=[]),s>>=1;for(s=2;s<i;){for(var o=1;o<s;++o){var a=n[s],f=n[o];n[s+o]=[a[0]^f[0],a[1]^f[1],a[2]^f[2],a[3]^f[3]]}s*=2}for(n[0]=[0,0,0,0],s=i+1;s<t;++s){var c=n[s^i];n[s]=[r[0]^c[0],r[1]^c[1],r[2]^c[2],r[3]^c[3]]}return n};function N5(r,e){if(typeof r=="string"&&(r=wn.util.createBuffer(r)),wn.util.isArray(r)&&r.length>4){var t=r;r=wn.util.createBuffer();for(var i=0;i<t.length;++i)r.putByte(t[i])}if(r.length()<e)throw new Error("Invalid IV length; got "+r.length()+" bytes and expected "+e+" bytes.");if(!wn.util.isArray(r)){for(var n=[],s=e/4,i=0;i<s;++i)n.push(r.getInt32());r=n}return r}function P5(r){r[r.length-1]=r[r.length-1]+1&4294967295}function A9(r){return[r/4294967296|0,r&4294967295]}});var ph=M((KGe,SK)=>{var oi=pr();S9();I9();Jr();SK.exports=oi.aes=oi.aes||{};oi.aes.startEncrypting=function(r,e,t,i){var n=q5({key:r,output:t,decrypt:!1,mode:i});return n.start(e),n};oi.aes.createEncryptionCipher=function(r,e){return q5({key:r,output:null,decrypt:!1,mode:e})};oi.aes.startDecrypting=function(r,e,t,i){var n=q5({key:r,output:t,decrypt:!0,mode:i});return n.start(e),n};oi.aes.createDecryptionCipher=function(r,e){return q5({key:r,output:null,decrypt:!0,mode:e})};oi.aes.Algorithm=function(r,e){T9||_K();var t=this;t.name=r,t.mode=new e({blockSize:16,cipher:{encrypt:function(i,n){return C9(t._w,i,n,!1)},decrypt:function(i,n){return C9(t._w,i,n,!0)}}}),t._init=!1};oi.aes.Algorithm.prototype.initialize=function(r){if(!this._init){var e=r.key,t;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=oi.util.createBuffer(e);else if(oi.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){t=e,e=oi.util.createBuffer();for(var i=0;i<t.length;++i)e.putByte(t[i])}if(!oi.util.isArray(e)){t=e,e=[];var n=t.length();if(n===16||n===24||n===32){n=n>>>2;for(var i=0;i<n;++i)e.push(t.getInt32())}}if(!oi.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=EK(e,r.decrypt&&!o),this._init=!0}};oi.aes._expandKey=function(r,e){return T9||_K(),EK(r,e)};oi.aes._updateBlock=C9;dh("AES-ECB",oi.cipher.modes.ecb);dh("AES-CBC",oi.cipher.modes.cbc);dh("AES-CFB",oi.cipher.modes.cfb);dh("AES-OFB",oi.cipher.modes.ofb);dh("AES-CTR",oi.cipher.modes.ctr);dh("AES-GCM",oi.cipher.modes.gcm);function dh(r,e){var t=function(){return new oi.aes.Algorithm(r,e)};oi.cipher.registerAlgorithm(r,t)}var T9=!1,hh=4,hs,k9,wK,Zu,Ia;function _K(){T9=!0,wK=[0,1,2,4,8,16,32,64,128,27,54];for(var r=new Array(256),e=0;e<128;++e)r[e]=e<<1,r[e+128]=e+128<<1^283;hs=new Array(256),k9=new Array(256),Zu=new Array(4),Ia=new Array(4);for(var e=0;e<4;++e)Zu[e]=new Array(256),Ia[e]=new Array(256);for(var t=0,i=0,n,s,o,a,f,c,l,e=0;e<256;++e){a=i^i<<1^i<<2^i<<3^i<<4,a=a>>8^a&255^99,hs[t]=a,k9[a]=t,f=r[a],n=r[t],s=r[n],o=r[s],c=f<<24^a<<16^a<<8^(a^f),l=(n^s^o)<<24^(t^o)<<16^(t^s^o)<<8^(t^n^o);for(var h=0;h<4;++h)Zu[h][t]=c,Ia[h][a]=l,c=c<<24|c>>>8,l=l<<24|l>>>8;t===0?t=i=1:(t=n^r[r[r[n^o]]],i^=r[r[i]])}}function EK(r,e){for(var t=r.slice(0),i,n=1,s=t.length,o=s+6+1,a=hh*o,f=s;f<a;++f)i=t[f-1],f%s==0?(i=hs[i>>>16&255]<<24^hs[i>>>8&255]<<16^hs[i&255]<<8^hs[i>>>24]^wK[n]<<24,n++):s>6&&f%s==4&&(i=hs[i>>>24]<<24^hs[i>>>16&255]<<16^hs[i>>>8&255]<<8^hs[i&255]),t[f]=t[f-s]^i;if(e){var c,l=Ia[0],h=Ia[1],x=Ia[2],_=Ia[3],E=t.slice(0);a=t.length;for(var f=0,C=a-hh;f<a;f+=hh,C-=hh)if(f===0||f===a-hh)E[f]=t[C],E[f+1]=t[C+3],E[f+2]=t[C+2],E[f+3]=t[C+1];else for(var L=0;L<hh;++L)c=t[C+L],E[f+(3&-L)]=l[hs[c>>>24]]^h[hs[c>>>16&255]]^x[hs[c>>>8&255]]^_[hs[c&255]];t=E}return t}function C9(r,e,t,i){var n=r.length/4-1,s,o,a,f,c;i?(s=Ia[0],o=Ia[1],a=Ia[2],f=Ia[3],c=k9):(s=Zu[0],o=Zu[1],a=Zu[2],f=Zu[3],c=hs);var l,h,x,_,E,C,L;l=e[0]^r[0],h=e[i?3:1]^r[1],x=e[2]^r[2],_=e[i?1:3]^r[3];for(var O=3,W=1;W<n;++W)E=s[l>>>24]^o[h>>>16&255]^a[x>>>8&255]^f[_&255]^r[++O],C=s[h>>>24]^o[x>>>16&255]^a[_>>>8&255]^f[l&255]^r[++O],L=s[x>>>24]^o[_>>>16&255]^a[l>>>8&255]^f[h&255]^r[++O],_=s[_>>>24]^o[l>>>16&255]^a[h>>>8&255]^f[x&255]^r[++O],l=E,h=C,x=L;t[0]=c[l>>>24]<<24^c[h>>>16&255]<<16^c[x>>>8&255]<<8^c[_&255]^r[++O],t[i?3:1]=c[h>>>24]<<24^c[x>>>16&255]<<16^c[_>>>8&255]<<8^c[l&255]^r[++O],t[2]=c[x>>>24]<<24^c[_>>>16&255]<<16^c[l>>>8&255]<<8^c[h&255]^r[++O],t[i?1:3]=c[_>>>24]<<24^c[l>>>16&255]<<16^c[h>>>8&255]<<8^c[x&255]^r[++O]}function q5(r){r=r||{};var e=(r.mode||"CBC").toUpperCase(),t="AES-"+e,i;r.decrypt?i=oi.cipher.createDecipher(t,r.key):i=oi.cipher.createCipher(t,r.key);var n=i.start;return i.start=function(s,o){var a=null;o instanceof oi.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,n.call(i,o)},i}});var D5=M((zGe,IK)=>{var pi=pr();S9();I9();Jr();IK.exports=pi.des=pi.des||{};pi.des.startEncrypting=function(r,e,t,i){var n=O5({key:r,output:t,decrypt:!1,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};pi.des.createEncryptionCipher=function(r,e){return O5({key:r,output:null,decrypt:!1,mode:e})};pi.des.startDecrypting=function(r,e,t,i){var n=O5({key:r,output:t,decrypt:!0,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};pi.des.createDecryptionCipher=function(r,e){return O5({key:r,output:null,decrypt:!0,mode:e})};pi.des.Algorithm=function(r,e){var t=this;t.name=r,t.mode=new e({blockSize:8,cipher:{encrypt:function(i,n){return AK(t._keys,i,n,!1)},decrypt:function(i,n){return AK(t._keys,i,n,!0)}}}),t._init=!1};pi.des.Algorithm.prototype.initialize=function(r){if(!this._init){var e=pi.util.createBuffer(r.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=b4e(e),this._init=!0}};gf("DES-ECB",pi.cipher.modes.ecb);gf("DES-CBC",pi.cipher.modes.cbc);gf("DES-CFB",pi.cipher.modes.cfb);gf("DES-OFB",pi.cipher.modes.ofb);gf("DES-CTR",pi.cipher.modes.ctr);gf("3DES-ECB",pi.cipher.modes.ecb);gf("3DES-CBC",pi.cipher.modes.cbc);gf("3DES-CFB",pi.cipher.modes.cfb);gf("3DES-OFB",pi.cipher.modes.ofb);gf("3DES-CTR",pi.cipher.modes.ctr);function gf(r,e){var t=function(){return new pi.des.Algorithm(r,e)};pi.cipher.registerAlgorithm(r,t)}var a4e=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],f4e=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c4e=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u4e=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l4e=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],d4e=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],h4e=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],p4e=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function b4e(r){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],t=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],n=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],l=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],x=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],_=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],E=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],C=r.length()>8?3:1,L=[],O=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],W=0,ee,N=0;N<C;N++){var V=r.getInt32(),z=r.getInt32();ee=(V>>>4^z)&252645135,z^=ee,V^=ee<<4,ee=(z>>>-16^V)&65535,V^=ee,z^=ee<<-16,ee=(V>>>2^z)&858993459,z^=ee,V^=ee<<2,ee=(z>>>-16^V)&65535,V^=ee,z^=ee<<-16,ee=(V>>>1^z)&1431655765,z^=ee,V^=ee<<1,ee=(z>>>8^V)&16711935,V^=ee,z^=ee<<8,ee=(V>>>1^z)&1431655765,z^=ee,V^=ee<<1,ee=V<<8|z>>>20&240,V=z<<24|z<<8&16711680|z>>>8&65280|z>>>24&240,z=ee;for(var F=0;F<O.length;++F){O[F]?(V=V<<2|V>>>26,z=z<<2|z>>>26):(V=V<<1|V>>>27,z=z<<1|z>>>27),V&=-15,z&=-15;var H=e[V>>>28]|t[V>>>24&15]|i[V>>>20&15]|n[V>>>16&15]|s[V>>>12&15]|o[V>>>8&15]|a[V>>>4&15],K=f[z>>>28]|c[z>>>24&15]|l[z>>>20&15]|h[z>>>16&15]|x[z>>>12&15]|_[z>>>8&15]|E[z>>>4&15];ee=(K>>>16^H)&65535,L[W++]=H^ee,L[W++]=K^ee<<16}}return L}function AK(r,e,t,i){var n=r.length===32?3:9,s;n===3?s=i?[30,-2,-2]:[0,32,2]:s=i?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,a=e[0],f=e[1];o=(a>>>4^f)&252645135,f^=o,a^=o<<4,o=(a>>>16^f)&65535,f^=o,a^=o<<16,o=(f>>>2^a)&858993459,a^=o,f^=o<<2,o=(f>>>8^a)&16711935,a^=o,f^=o<<8,o=(a>>>1^f)&1431655765,f^=o,a^=o<<1,a=a<<1|a>>>31,f=f<<1|f>>>31;for(var c=0;c<n;c+=3){for(var l=s[c+1],h=s[c+2],x=s[c];x!=l;x+=h){var _=f^r[x],E=(f>>>4|f<<28)^r[x+1];o=a,a=f,f=o^(f4e[_>>>24&63]|u4e[_>>>16&63]|d4e[_>>>8&63]|p4e[_&63]|a4e[E>>>24&63]|c4e[E>>>16&63]|l4e[E>>>8&63]|h4e[E&63])}o=a,a=f,f=o}a=a>>>1|a<<31,f=f>>>1|f<<31,o=(a>>>1^f)&1431655765,f^=o,a^=o<<1,o=(f>>>8^a)&16711935,a^=o,f^=o<<8,o=(f>>>2^a)&858993459,a^=o,f^=o<<2,o=(a>>>16^f)&65535,f^=o,a^=o<<16,o=(a>>>4^f)&252645135,f^=o,a^=o<<4,t[0]=a,t[1]=f}function O5(r){r=r||{};var e=(r.mode||"CBC").toUpperCase(),t="DES-"+e,i;r.decrypt?i=pi.cipher.createDecipher(t,r.key):i=pi.cipher.createCipher(t,r.key);var n=i.start;return i.start=function(s,o){var a=null;o instanceof pi.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,n.call(i,o)},i}});var Ic=M((jGe,TK)=>{var L5=pr();TK.exports=L5.md=L5.md||{};L5.md.algorithms=L5.md.algorithms||{}});var CK=M((VGe,kK)=>{var _0=pr();Ic();Jr();var y4e=kK.exports=_0.hmac=_0.hmac||{};y4e.create=function(){var r=null,e=null,t=null,i=null,n={};return n.start=function(s,o){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in _0.md.algorithms)e=_0.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(o===null)o=r;else{if(typeof o=="string")o=_0.util.createBuffer(o);else if(_0.util.isArray(o)){var a=o;o=_0.util.createBuffer();for(var f=0;f<a.length;++f)o.putByte(a[f])}var c=o.length();c>e.blockLength&&(e.start(),e.update(o.bytes()),o=e.digest()),t=_0.util.createBuffer(),i=_0.util.createBuffer(),c=o.length();for(var f=0;f<c;++f){var a=o.at(f);t.putByte(54^a),i.putByte(92^a)}if(c<e.blockLength)for(var a=e.blockLength-c,f=0;f<a;++f)t.putByte(54),i.putByte(92);r=o,t=t.bytes(),i=i.bytes()}e.start(),e.update(t)},n.update=function(s){e.update(s)},n.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(i),e.update(s),e.digest()},n.digest=n.getMac,n}});var B9=M((HGe,BK)=>{var ps=pr();CK();Ic();Jr();var m4e=ps.pkcs5=ps.pkcs5||{},E0;ps.util.isNodejs&&!ps.options.usePureJavaScript&&(E0=W0());BK.exports=ps.pbkdf2=m4e.pbkdf2=function(r,e,t,i,n,s){if(typeof n=="function"&&(s=n,n=null),ps.util.isNodejs&&!ps.options.usePureJavaScript&&E0.pbkdf2&&(n===null||typeof n!="object")&&(E0.pbkdf2Sync.length>4||!n||n==="sha1"))return typeof n!="string"&&(n="sha1"),r=Buffer.from(r,"binary"),e=Buffer.from(e,"binary"),s?E0.pbkdf2Sync.length===4?E0.pbkdf2(r,e,t,i,function(ee,N){if(ee)return s(ee);s(null,N.toString("binary"))}):E0.pbkdf2(r,e,t,i,n,function(ee,N){if(ee)return s(ee);s(null,N.toString("binary"))}):E0.pbkdf2Sync.length===4?E0.pbkdf2Sync(r,e,t,i).toString("binary"):E0.pbkdf2Sync(r,e,t,i,n).toString("binary");if((typeof n=="undefined"||n===null)&&(n="sha1"),typeof n=="string"){if(!(n in ps.md.algorithms))throw new Error("Unknown hash algorithm: "+n);n=ps.md[n].create()}var o=n.digestLength;if(i>4294967295*o){var a=new Error("Derived key is too long.");if(s)return s(a);throw a}var f=Math.ceil(i/o),c=i-(f-1)*o,l=ps.hmac.create();l.start(n,r);var h="",x,_,E;if(!s){for(var C=1;C<=f;++C){l.start(null,null),l.update(e),l.update(ps.util.int32ToBytes(C)),x=E=l.digest().getBytes();for(var L=2;L<=t;++L)l.start(null,null),l.update(E),_=l.digest().getBytes(),x=ps.util.xorBytes(x,_,o),E=_;h+=C<f?x:x.substr(0,c)}return h}var C=1,L;function O(){if(C>f)return s(null,h);l.start(null,null),l.update(e),l.update(ps.util.int32ToBytes(C)),x=E=l.digest().getBytes(),L=2,W()}function W(){if(L<=t)return l.start(null,null),l.update(E),_=l.digest().getBytes(),x=ps.util.xorBytes(x,_,o),E=_,++L,ps.util.setImmediate(W);h+=C<f?x:x.substr(0,c),++C,O()}O()}});var K5=M(($Ge,RK)=>{var U5=pr();Jr();var MK=RK.exports=U5.pem=U5.pem||{};MK.encode=function(r,e){e=e||{};var t="-----BEGIN "+r.type+`-----\r
`,i;if(r.procType&&(i={name:"Proc-Type",values:[String(r.procType.version),r.procType.type]},t+=F5(i)),r.contentDomain&&(i={name:"Content-Domain",values:[r.contentDomain]},t+=F5(i)),r.dekInfo&&(i={name:"DEK-Info",values:[r.dekInfo.algorithm]},r.dekInfo.parameters&&i.values.push(r.dekInfo.parameters),t+=F5(i)),r.headers)for(var n=0;n<r.headers.length;++n)t+=F5(r.headers[n]);return r.procType&&(t+=`\r
`),t+=U5.util.encode64(r.body,e.maxline||64)+`\r
`,t+="-----END "+r.type+`-----\r
`,t};MK.decode=function(r){for(var e=[],t=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,i=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,n=/\r?\n/,s;s=t.exec(r),!!s;){var o={type:s[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:U5.util.decode64(s[3])};if(e.push(o),!!s[2]){for(var a=s[2].split(n),f=0;s&&f<a.length;){for(var c=a[f].replace(/\s+$/,""),l=f+1;l<a.length;++l){var h=a[l];if(!/\s/.test(h[0]))break;c+=h,f=l}if(s=c.match(i),s){for(var x={name:s[1],values:[]},_=s[2].split(","),E=0;E<_.length;++E)x.values.push(g4e(_[E]));if(o.procType)if(!o.contentDomain&&x.name==="Content-Domain")o.contentDomain=_[0]||"";else if(!o.dekInfo&&x.name==="DEK-Info"){if(x.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:_[0],parameters:_[1]||null}}else o.headers.push(x);else{if(x.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(x.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:_[0],type:_[1]}}}++f}if(o.procType==="ENCRYPTED"&&!o.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function F5(r){for(var e=r.name+": ",t=[],i=function(f,c){return" "+c},n=0;n<r.values.length;++n)t.push(r.values[n].replace(/^(\S+\r\n)/,i));e+=t.join(",")+`\r
`;for(var s=0,o=-1,n=0;n<e.length;++n,++s)if(s>65&&o!==-1){var a=e[o];a===","?(++o,e=e.substr(0,o)+`\r
 `+e.substr(o)):e=e.substr(0,o)+`\r
`+a+e.substr(o+1),s=n-o-1,o=-1,++n}else(e[n]===" "||e[n]==="	"||e[n]===",")&&(o=n);return e}function g4e(r){return r.replace(/^\s+/,"")}});var LK=M((GGe,DK)=>{var vf=pr();Ic();Jr();var NK=DK.exports=vf.sha256=vf.sha256||{};vf.md.sha256=vf.md.algorithms.sha256=NK;NK.create=function(){PK||v4e();var r=null,e=vf.util.createBuffer(),t=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,s=0;s<n;++s)i.fullMessageLength.push(0);return e=vf.util.createBuffer(),r={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i},i.start(),i.update=function(n,s){s==="utf8"&&(n=vf.util.encodeUtf8(n));var o=n.length;i.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=i.fullMessageLength.length-1;a>=0;--a)i.fullMessageLength[a]+=o[1],o[1]=o[0]+(i.fullMessageLength[a]/4294967296>>>0),i.fullMessageLength[a]=i.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(n),OK(r,t,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=vf.util.createBuffer();n.putBytes(e.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,o=s&i.blockLength-1;n.putBytes(M9.substr(0,i.blockLength-o));for(var a,f,c=i.fullMessageLength[0]*8,l=0;l<i.fullMessageLength.length-1;++l)a=i.fullMessageLength[l+1]*8,f=a/4294967296>>>0,c+=f,n.putInt32(c>>>0),c=a>>>0;n.putInt32(c);var h={h0:r.h0,h1:r.h1,h2:r.h2,h3:r.h3,h4:r.h4,h5:r.h5,h6:r.h6,h7:r.h7};OK(h,t,n);var x=vf.util.createBuffer();return x.putInt32(h.h0),x.putInt32(h.h1),x.putInt32(h.h2),x.putInt32(h.h3),x.putInt32(h.h4),x.putInt32(h.h5),x.putInt32(h.h6),x.putInt32(h.h7),x},i};var M9=null,PK=!1,qK=null;function v4e(){M9=String.fromCharCode(128),M9+=vf.util.fillString(String.fromCharCode(0),64),qK=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],PK=!0}function OK(r,e,t){for(var i,n,s,o,a,f,c,l,h,x,_,E,C,L,O,W=t.length();W>=64;){for(c=0;c<16;++c)e[c]=t.getInt32();for(;c<64;++c)i=e[c-2],i=(i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,n=e[c-15],n=(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,e[c]=i+e[c-7]+n+e[c-16]|0;for(l=r.h0,h=r.h1,x=r.h2,_=r.h3,E=r.h4,C=r.h5,L=r.h6,O=r.h7,c=0;c<64;++c)o=(E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7),a=L^E&(C^L),s=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),f=l&h|x&(l^h),i=O+o+a+qK[c]+e[c],n=s+f,O=L,L=C,C=E,E=_+i>>>0,_=x,x=h,h=l,l=i+n>>>0;r.h0=r.h0+l|0,r.h1=r.h1+h|0,r.h2=r.h2+x|0,r.h3=r.h3+_|0,r.h4=r.h4+E|0,r.h5=r.h5+C|0,r.h6=r.h6+L|0,r.h7=r.h7+O|0,W-=64}}});var FK=M((YGe,UK)=>{var xf=pr();Jr();var z5=null;xf.util.isNodejs&&!xf.options.usePureJavaScript&&!process.versions["node-webkit"]&&(z5=W0());var x4e=UK.exports=xf.prng=xf.prng||{};x4e.create=function(r){for(var e={plugin:r,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},t=r.md,i=new Array(32),n=0;n<32;++n)i[n]=t.create();e.pools=i,e.pool=0,e.generate=function(c,l){if(!l)return e.generateSync(c);var h=e.plugin.cipher,x=e.plugin.increment,_=e.plugin.formatKey,E=e.plugin.formatSeed,C=xf.util.createBuffer();e.key=null,L();function L(O){if(O)return l(O);if(C.length()>=c)return l(null,C.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return xf.util.nextTick(function(){s(L)});var W=h(e.key,e.seed);e.generated+=W.length,C.putBytes(W),e.key=_(h(e.key,x(e.seed))),e.seed=E(h(e.key,e.seed)),xf.util.setImmediate(L)}},e.generateSync=function(c){var l=e.plugin.cipher,h=e.plugin.increment,x=e.plugin.formatKey,_=e.plugin.formatSeed;e.key=null;for(var E=xf.util.createBuffer();E.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&o();var C=l(e.key,e.seed);e.generated+=C.length,E.putBytes(C),e.key=x(l(e.key,h(e.seed))),e.seed=_(l(e.key,e.seed))}return E.getBytes(c)};function s(c){if(e.pools[0].messageLength>=32)return a(),c();var l=32-e.pools[0].messageLength<<5;e.seedFile(l,function(h,x){if(h)return c(h);e.collect(x),a(),c()})}function o(){if(e.pools[0].messageLength>=32)return a();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),a()}function a(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var l=1,h=0;h<32;++h)e.reseeds%l==0&&(c.update(e.pools[h].digest().getBytes()),e.pools[h].start()),l=l<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var x=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(x),e.generated=0}function f(c){var l=null,h=xf.util.globalScope,x=h.crypto||h.msCrypto;x&&x.getRandomValues&&(l=function(V){return x.getRandomValues(V)});var _=xf.util.createBuffer();if(l)for(;_.length()<c;){var E=Math.max(1,Math.min(c-_.length(),65536)/4),C=new Uint32Array(Math.floor(E));try{l(C);for(var L=0;L<C.length;++L)_.putInt32(C[L])}catch(V){if(!(typeof QuotaExceededError!="undefined"&&V instanceof QuotaExceededError))throw V}}if(_.length()<c)for(var O,W,ee,N=Math.floor(Math.random()*65536);_.length()<c;){W=16807*(N&65535),O=16807*(N>>16),W+=(O&32767)<<16,W+=O>>15,W=(W&2147483647)+(W>>31),N=W&4294967295;for(var L=0;L<3;++L)ee=N>>>(L<<3),ee^=Math.floor(Math.random()*256),_.putByte(String.fromCharCode(ee&255))}return _.getBytes(c)}return z5?(e.seedFile=function(c,l){z5.randomBytes(c,function(h,x){if(h)return l(h);l(null,x.toString())})},e.seedFileSync=function(c){return z5.randomBytes(c).toString()}):(e.seedFile=function(c,l){try{l(null,f(c))}catch(h){l(h)}},e.seedFileSync=f),e.collect=function(c){for(var l=c.length,h=0;h<l;++h)e.pools[e.pool].update(c.substr(h,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,l){for(var h="",x=0;x<l;x+=8)h+=String.fromCharCode(c>>x&255);e.collect(h)},e.registerWorker=function(c){if(c===self)e.seedFile=function(h,x){function _(E){var C=E.data;C.forge&&C.forge.prng&&(self.removeEventListener("message",_),x(C.forge.prng.err,C.forge.prng.bytes))}self.addEventListener("message",_),self.postMessage({forge:{prng:{needed:h}}})};else{var l=function(h){var x=h.data;x.forge&&x.forge.prng&&e.seedFile(x.forge.prng.needed,function(_,E){c.postMessage({forge:{prng:{err:_,bytes:E}}})})};c.addEventListener("message",l)}},e}});var Tc=M((WGe,R9)=>{var _n=pr();ph();LK();FK();Jr();(function(){if(_n.random&&_n.random.getBytes){R9.exports=_n.random;return}(function(r){var e={},t=new Array(4),i=_n.util.createBuffer();e.formatKey=function(h){var x=_n.util.createBuffer(h);return h=new Array(4),h[0]=x.getInt32(),h[1]=x.getInt32(),h[2]=x.getInt32(),h[3]=x.getInt32(),_n.aes._expandKey(h,!1)},e.formatSeed=function(h){var x=_n.util.createBuffer(h);return h=new Array(4),h[0]=x.getInt32(),h[1]=x.getInt32(),h[2]=x.getInt32(),h[3]=x.getInt32(),h},e.cipher=function(h,x){return _n.aes._updateBlock(h,x,t,!1),i.putInt32(t[0]),i.putInt32(t[1]),i.putInt32(t[2]),i.putInt32(t[3]),i.getBytes()},e.increment=function(h){return++h[3],h},e.md=_n.md.sha256;function n(){var h=_n.prng.create(e);return h.getBytes=function(x,_){return h.generate(x,_)},h.getBytesSync=function(x){return h.generate(x)},h}var s=n(),o=null,a=_n.util.globalScope,f=a.crypto||a.msCrypto;if(f&&f.getRandomValues&&(o=function(h){return f.getRandomValues(h)}),_n.options.usePureJavaScript||!_n.util.isNodejs&&!o){if(typeof window=="undefined"||window.document===void 0,s.collectInt(+new Date,32),typeof navigator!="undefined"){var c="";for(var l in navigator)try{typeof navigator[l]=="string"&&(c+=navigator[l])}catch(h){}s.collect(c),c=null}r&&(r().mousemove(function(h){s.collectInt(h.clientX,16),s.collectInt(h.clientY,16)}),r().keypress(function(h){s.collectInt(h.charCode,8)}))}if(!_n.random)_n.random=s;else for(var l in s)_n.random[l]=s[l];_n.random.createInstance=n,R9.exports=_n.random})(typeof jQuery!="undefined"?jQuery:null)})()});var VK=M((ZGe,jK)=>{var Ls=pr();Jr();var N9=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],KK=[1,2,3,5],w4e=function(r,e){return r<<e&65535|(r&65535)>>16-e},_4e=function(r,e){return(r&65535)>>e|r<<16-e&65535};jK.exports=Ls.rc2=Ls.rc2||{};Ls.rc2.expandKey=function(r,e){typeof r=="string"&&(r=Ls.util.createBuffer(r)),e=e||128;var t=r,i=r.length(),n=e,s=Math.ceil(n/8),o=255>>(n&7),a;for(a=i;a<128;a++)t.putByte(N9[t.at(a-1)+t.at(a-i)&255]);for(t.setAt(128-s,N9[t.at(128-s)&o]),a=127-s;a>=0;a--)t.setAt(a,N9[t.at(a+1)^t.at(a+s)]);return t};var zK=function(r,e,t){var i=!1,n=null,s=null,o=null,a,f,c,l,h=[];for(r=Ls.rc2.expandKey(r,e),c=0;c<64;c++)h.push(r.getInt16Le());t?(a=function(E){for(c=0;c<4;c++)E[c]+=h[l]+(E[(c+3)%4]&E[(c+2)%4])+(~E[(c+3)%4]&E[(c+1)%4]),E[c]=w4e(E[c],KK[c]),l++},f=function(E){for(c=0;c<4;c++)E[c]+=h[E[(c+3)%4]&63]}):(a=function(E){for(c=3;c>=0;c--)E[c]=_4e(E[c],KK[c]),E[c]-=h[l]+(E[(c+3)%4]&E[(c+2)%4])+(~E[(c+3)%4]&E[(c+1)%4]),l--},f=function(E){for(c=3;c>=0;c--)E[c]-=h[E[(c+3)%4]&63]});var x=function(E){var C=[];for(c=0;c<4;c++){var L=n.getInt16Le();o!==null&&(t?L^=o.getInt16Le():o.putInt16Le(L)),C.push(L&65535)}l=t?0:63;for(var O=0;O<E.length;O++)for(var W=0;W<E[O][0];W++)E[O][1](C);for(c=0;c<4;c++)o!==null&&(t?o.putInt16Le(C[c]):C[c]^=o.getInt16Le()),s.putInt16Le(C[c])},_=null;return _={start:function(E,C){E&&typeof E=="string"&&(E=Ls.util.createBuffer(E)),i=!1,n=Ls.util.createBuffer(),s=C||new Ls.util.createBuffer,o=E,_.output=s},update:function(E){for(i||n.putBuffer(E);n.length()>=8;)x([[5,a],[1,f],[6,a],[1,f],[5,a]])},finish:function(E){var C=!0;if(t)if(E)C=E(8,n,!t);else{var L=n.length()===8?8:8-n.length();n.fillWithByte(L,L)}if(C&&(i=!0,_.update()),!t&&(C=n.length()===0,C))if(E)C=E(8,s,!t);else{var O=s.length(),W=s.at(O-1);W>O?C=!1:s.truncate(W)}return C}},_};Ls.rc2.startEncrypting=function(r,e,t){var i=Ls.rc2.createEncryptionCipher(r,128);return i.start(e,t),i};Ls.rc2.createEncryptionCipher=function(r,e){return zK(r,e,!0)};Ls.rc2.startDecrypting=function(r,e,t){var i=Ls.rc2.createDecryptionCipher(r,128);return i.start(e,t),i};Ls.rc2.createDecryptionCipher=function(r,e){return zK(r,e,!1)}});var X2=M((JGe,XK)=>{var P9=pr();XK.exports=P9.jsbn=P9.jsbn||{};var S0,E4e=244837814094590,HK=(E4e&16777215)==15715070;function nt(r,e,t){this.data=[],r!=null&&(typeof r=="number"?this.fromNumber(r,e,t):e==null&&typeof r!="string"?this.fromString(r,256):this.fromString(r,e))}P9.jsbn.BigInteger=nt;function Lr(){return new nt(null)}function S4e(r,e,t,i,n,s){for(;--s>=0;){var o=e*this.data[r++]+t.data[i]+n;n=Math.floor(o/67108864),t.data[i++]=o&67108863}return n}function A4e(r,e,t,i,n,s){for(var o=e&32767,a=e>>15;--s>=0;){var f=this.data[r]&32767,c=this.data[r++]>>15,l=a*f+c*o;f=o*f+((l&32767)<<15)+t.data[i]+(n&1073741823),n=(f>>>30)+(l>>>15)+a*c+(n>>>30),t.data[i++]=f&1073741823}return n}function $K(r,e,t,i,n,s){for(var o=e&16383,a=e>>14;--s>=0;){var f=this.data[r]&16383,c=this.data[r++]>>14,l=a*f+c*o;f=o*f+((l&16383)<<14)+t.data[i]+n,n=(f>>28)+(l>>14)+a*c,t.data[i++]=f&268435455}return n}typeof navigator=="undefined"?(nt.prototype.am=$K,S0=28):HK&&navigator.appName=="Microsoft Internet Explorer"?(nt.prototype.am=A4e,S0=30):HK&&navigator.appName!="Netscape"?(nt.prototype.am=S4e,S0=26):(nt.prototype.am=$K,S0=28);nt.prototype.DB=S0;nt.prototype.DM=(1<<S0)-1;nt.prototype.DV=1<<S0;var q9=52;nt.prototype.FV=Math.pow(2,q9);nt.prototype.F1=q9-S0;nt.prototype.F2=2*S0-q9;var I4e="0123456789abcdefghijklmnopqrstuvwxyz",j5=new Array,bh,Uo;bh="0".charCodeAt(0);for(Uo=0;Uo<=9;++Uo)j5[bh++]=Uo;bh="a".charCodeAt(0);for(Uo=10;Uo<36;++Uo)j5[bh++]=Uo;bh="A".charCodeAt(0);for(Uo=10;Uo<36;++Uo)j5[bh++]=Uo;function GK(r){return I4e.charAt(r)}function YK(r,e){var t=j5[r.charCodeAt(e)];return t??-1}function T4e(r){for(var e=this.t-1;e>=0;--e)r.data[e]=this.data[e];r.t=this.t,r.s=this.s}function k4e(r){this.t=1,this.s=r<0?-1:0,r>0?this.data[0]=r:r<-1?this.data[0]=r+this.DV:this.t=0}function kc(r){var e=Lr();return e.fromInt(r),e}function C4e(r,e){var t;if(e==16)t=4;else if(e==8)t=3;else if(e==256)t=8;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else{this.fromRadix(r,e);return}this.t=0,this.s=0;for(var i=r.length,n=!1,s=0;--i>=0;){var o=t==8?r[i]&255:YK(r,i);if(o<0){r.charAt(i)=="-"&&(n=!0);continue}n=!1,s==0?this.data[this.t++]=o:s+t>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this.data[this.t++]=o>>this.DB-s):this.data[this.t-1]|=o<<s,s+=t,s>=this.DB&&(s-=this.DB)}t==8&&(r[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),n&&nt.ZERO.subTo(this,this)}function B4e(){for(var r=this.s&this.DM;this.t>0&&this.data[this.t-1]==r;)--this.t}function M4e(r){if(this.s<0)return"-"+this.negate().toString(r);var e;if(r==16)e=4;else if(r==8)e=3;else if(r==2)e=1;else if(r==32)e=5;else if(r==4)e=2;else return this.toRadix(r);var t=(1<<e)-1,i,n=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(i=this.data[o]>>a)>0&&(n=!0,s=GK(i));o>=0;)a<e?(i=(this.data[o]&(1<<a)-1)<<e-a,i|=this.data[--o]>>(a+=this.DB-e)):(i=this.data[o]>>(a-=e)&t,a<=0&&(a+=this.DB,--o)),i>0&&(n=!0),n&&(s+=GK(i));return n?s:"0"}function R4e(){var r=Lr();return nt.ZERO.subTo(this,r),r}function N4e(){return this.s<0?this.negate():this}function P4e(r){var e=this.s-r.s;if(e!=0)return e;var t=this.t;if(e=t-r.t,e!=0)return this.s<0?-e:e;for(;--t>=0;)if((e=this.data[t]-r.data[t])!=0)return e;return 0}function V5(r){var e=1,t;return(t=r>>>16)!=0&&(r=t,e+=16),(t=r>>8)!=0&&(r=t,e+=8),(t=r>>4)!=0&&(r=t,e+=4),(t=r>>2)!=0&&(r=t,e+=2),(t=r>>1)!=0&&(r=t,e+=1),e}function q4e(){return this.t<=0?0:this.DB*(this.t-1)+V5(this.data[this.t-1]^this.s&this.DM)}function O4e(r,e){var t;for(t=this.t-1;t>=0;--t)e.data[t+r]=this.data[t];for(t=r-1;t>=0;--t)e.data[t]=0;e.t=this.t+r,e.s=this.s}function D4e(r,e){for(var t=r;t<this.t;++t)e.data[t-r]=this.data[t];e.t=Math.max(this.t-r,0),e.s=this.s}function L4e(r,e){var t=r%this.DB,i=this.DB-t,n=(1<<i)-1,s=Math.floor(r/this.DB),o=this.s<<t&this.DM,a;for(a=this.t-1;a>=0;--a)e.data[a+s+1]=this.data[a]>>i|o,o=(this.data[a]&n)<<t;for(a=s-1;a>=0;--a)e.data[a]=0;e.data[s]=o,e.t=this.t+s+1,e.s=this.s,e.clamp()}function U4e(r,e){e.s=this.s;var t=Math.floor(r/this.DB);if(t>=this.t){e.t=0;return}var i=r%this.DB,n=this.DB-i,s=(1<<i)-1;e.data[0]=this.data[t]>>i;for(var o=t+1;o<this.t;++o)e.data[o-t-1]|=(this.data[o]&s)<<n,e.data[o-t]=this.data[o]>>i;i>0&&(e.data[this.t-t-1]|=(this.s&s)<<n),e.t=this.t-t,e.clamp()}function F4e(r,e){for(var t=0,i=0,n=Math.min(r.t,this.t);t<n;)i+=this.data[t]-r.data[t],e.data[t++]=i&this.DM,i>>=this.DB;if(r.t<this.t){for(i-=r.s;t<this.t;)i+=this.data[t],e.data[t++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;t<r.t;)i-=r.data[t],e.data[t++]=i&this.DM,i>>=this.DB;i-=r.s}e.s=i<0?-1:0,i<-1?e.data[t++]=this.DV+i:i>0&&(e.data[t++]=i),e.t=t,e.clamp()}function K4e(r,e){var t=this.abs(),i=r.abs(),n=t.t;for(e.t=n+i.t;--n>=0;)e.data[n]=0;for(n=0;n<i.t;++n)e.data[n+t.t]=t.am(0,i.data[n],e,n,0,t.t);e.s=0,e.clamp(),this.s!=r.s&&nt.ZERO.subTo(e,e)}function z4e(r){for(var e=this.abs(),t=r.t=2*e.t;--t>=0;)r.data[t]=0;for(t=0;t<e.t-1;++t){var i=e.am(t,e.data[t],r,2*t,0,1);(r.data[t+e.t]+=e.am(t+1,2*e.data[t],r,2*t+1,i,e.t-t-1))>=e.DV&&(r.data[t+e.t]-=e.DV,r.data[t+e.t+1]=1)}r.t>0&&(r.data[r.t-1]+=e.am(t,e.data[t],r,2*t,0,1)),r.s=0,r.clamp()}function j4e(r,e,t){var i=r.abs();if(!(i.t<=0)){var n=this.abs();if(n.t<i.t){e!=null&&e.fromInt(0),t!=null&&this.copyTo(t);return}t==null&&(t=Lr());var s=Lr(),o=this.s,a=r.s,f=this.DB-V5(i.data[i.t-1]);f>0?(i.lShiftTo(f,s),n.lShiftTo(f,t)):(i.copyTo(s),n.copyTo(t));var c=s.t,l=s.data[c-1];if(l!=0){var h=l*(1<<this.F1)+(c>1?s.data[c-2]>>this.F2:0),x=this.FV/h,_=(1<<this.F1)/h,E=1<<this.F2,C=t.t,L=C-c,O=e??Lr();for(s.dlShiftTo(L,O),t.compareTo(O)>=0&&(t.data[t.t++]=1,t.subTo(O,t)),nt.ONE.dlShiftTo(c,O),O.subTo(s,s);s.t<c;)s.data[s.t++]=0;for(;--L>=0;){var W=t.data[--C]==l?this.DM:Math.floor(t.data[C]*x+(t.data[C-1]+E)*_);if((t.data[C]+=s.am(0,W,t,L,0,c))<W)for(s.dlShiftTo(L,O),t.subTo(O,t);t.data[C]<--W;)t.subTo(O,t)}e!=null&&(t.drShiftTo(c,e),o!=a&&nt.ZERO.subTo(e,e)),t.t=c,t.clamp(),f>0&&t.rShiftTo(f,t),o<0&&nt.ZERO.subTo(t,t)}}}function V4e(r){var e=Lr();return this.abs().divRemTo(r,null,e),this.s<0&&e.compareTo(nt.ZERO)>0&&r.subTo(e,e),e}function Ju(r){this.m=r}function H4e(r){return r.s<0||r.compareTo(this.m)>=0?r.mod(this.m):r}function $4e(r){return r}function G4e(r){r.divRemTo(this.m,null,r)}function Y4e(r,e,t){r.multiplyTo(e,t),this.reduce(t)}function W4e(r,e){r.squareTo(e),this.reduce(e)}Ju.prototype.convert=H4e;Ju.prototype.revert=$4e;Ju.prototype.reduce=G4e;Ju.prototype.mulTo=Y4e;Ju.prototype.sqrTo=W4e;function Z4e(){if(this.t<1)return 0;var r=this.data[0];if((r&1)==0)return 0;var e=r&3;return e=e*(2-(r&15)*e)&15,e=e*(2-(r&255)*e)&255,e=e*(2-((r&65535)*e&65535))&65535,e=e*(2-r*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Xu(r){this.m=r,this.mp=r.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<r.DB-15)-1,this.mt2=2*r.t}function J4e(r){var e=Lr();return r.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),r.s<0&&e.compareTo(nt.ZERO)>0&&this.m.subTo(e,e),e}function X4e(r){var e=Lr();return r.copyTo(e),this.reduce(e),e}function Q4e(r){for(;r.t<=this.mt2;)r.data[r.t++]=0;for(var e=0;e<this.m.t;++e){var t=r.data[e]&32767,i=t*this.mpl+((t*this.mph+(r.data[e]>>15)*this.mpl&this.um)<<15)&r.DM;for(t=e+this.m.t,r.data[t]+=this.m.am(0,i,r,e,0,this.m.t);r.data[t]>=r.DV;)r.data[t]-=r.DV,r.data[++t]++}r.clamp(),r.drShiftTo(this.m.t,r),r.compareTo(this.m)>=0&&r.subTo(this.m,r)}function eve(r,e){r.squareTo(e),this.reduce(e)}function tve(r,e,t){r.multiplyTo(e,t),this.reduce(t)}Xu.prototype.convert=J4e;Xu.prototype.revert=X4e;Xu.prototype.reduce=Q4e;Xu.prototype.mulTo=tve;Xu.prototype.sqrTo=eve;function rve(){return(this.t>0?this.data[0]&1:this.s)==0}function ive(r,e){if(r>4294967295||r<1)return nt.ONE;var t=Lr(),i=Lr(),n=e.convert(this),s=V5(r)-1;for(n.copyTo(t);--s>=0;)if(e.sqrTo(t,i),(r&1<<s)>0)e.mulTo(i,n,t);else{var o=t;t=i,i=o}return e.revert(t)}function nve(r,e){var t;return r<256||e.isEven()?t=new Ju(e):t=new Xu(e),this.exp(r,t)}nt.prototype.copyTo=T4e;nt.prototype.fromInt=k4e;nt.prototype.fromString=C4e;nt.prototype.clamp=B4e;nt.prototype.dlShiftTo=O4e;nt.prototype.drShiftTo=D4e;nt.prototype.lShiftTo=L4e;nt.prototype.rShiftTo=U4e;nt.prototype.subTo=F4e;nt.prototype.multiplyTo=K4e;nt.prototype.squareTo=z4e;nt.prototype.divRemTo=j4e;nt.prototype.invDigit=Z4e;nt.prototype.isEven=rve;nt.prototype.exp=ive;nt.prototype.toString=M4e;nt.prototype.negate=R4e;nt.prototype.abs=N4e;nt.prototype.compareTo=P4e;nt.prototype.bitLength=q4e;nt.prototype.mod=V4e;nt.prototype.modPowInt=nve;nt.ZERO=kc(0);nt.ONE=kc(1);function sve(){var r=Lr();return this.copyTo(r),r}function ove(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function ave(){return this.t==0?this.s:this.data[0]<<24>>24}function fve(){return this.t==0?this.s:this.data[0]<<16>>16}function cve(r){return Math.floor(Math.LN2*this.DB/Math.log(r))}function uve(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function lve(r){if(r==null&&(r=10),this.signum()==0||r<2||r>36)return"0";var e=this.chunkSize(r),t=Math.pow(r,e),i=kc(t),n=Lr(),s=Lr(),o="";for(this.divRemTo(i,n,s);n.signum()>0;)o=(t+s.intValue()).toString(r).substr(1)+o,n.divRemTo(i,n,s);return s.intValue().toString(r)+o}function dve(r,e){this.fromInt(0),e==null&&(e=10);for(var t=this.chunkSize(e),i=Math.pow(e,t),n=!1,s=0,o=0,a=0;a<r.length;++a){var f=YK(r,a);if(f<0){r.charAt(a)=="-"&&this.signum()==0&&(n=!0);continue}o=e*o+f,++s>=t&&(this.dMultiply(i),this.dAddOffset(o,0),s=0,o=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(o,0)),n&&nt.ZERO.subTo(this,this)}function hve(r,e,t){if(typeof e=="number")if(r<2)this.fromInt(1);else for(this.fromNumber(r,t),this.testBit(r-1)||this.bitwiseTo(nt.ONE.shiftLeft(r-1),O9,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>r&&this.subTo(nt.ONE.shiftLeft(r-1),this);else{var i=new Array,n=r&7;i.length=(r>>3)+1,e.nextBytes(i),n>0?i[0]&=(1<<n)-1:i[0]=0,this.fromString(i,256)}}function pve(){var r=this.t,e=new Array;e[0]=this.s;var t=this.DB-r*this.DB%8,i,n=0;if(r-- >0)for(t<this.DB&&(i=this.data[r]>>t)!=(this.s&this.DM)>>t&&(e[n++]=i|this.s<<this.DB-t);r>=0;)t<8?(i=(this.data[r]&(1<<t)-1)<<8-t,i|=this.data[--r]>>(t+=this.DB-8)):(i=this.data[r]>>(t-=8)&255,t<=0&&(t+=this.DB,--r)),(i&128)!=0&&(i|=-256),n==0&&(this.s&128)!=(i&128)&&++n,(n>0||i!=this.s)&&(e[n++]=i);return e}function bve(r){return this.compareTo(r)==0}function yve(r){return this.compareTo(r)<0?this:r}function mve(r){return this.compareTo(r)>0?this:r}function gve(r,e,t){var i,n,s=Math.min(r.t,this.t);for(i=0;i<s;++i)t.data[i]=e(this.data[i],r.data[i]);if(r.t<this.t){for(n=r.s&this.DM,i=s;i<this.t;++i)t.data[i]=e(this.data[i],n);t.t=this.t}else{for(n=this.s&this.DM,i=s;i<r.t;++i)t.data[i]=e(n,r.data[i]);t.t=r.t}t.s=e(this.s,r.s),t.clamp()}function vve(r,e){return r&e}function xve(r){var e=Lr();return this.bitwiseTo(r,vve,e),e}function O9(r,e){return r|e}function wve(r){var e=Lr();return this.bitwiseTo(r,O9,e),e}function WK(r,e){return r^e}function _ve(r){var e=Lr();return this.bitwiseTo(r,WK,e),e}function ZK(r,e){return r&~e}function Eve(r){var e=Lr();return this.bitwiseTo(r,ZK,e),e}function Sve(){for(var r=Lr(),e=0;e<this.t;++e)r.data[e]=this.DM&~this.data[e];return r.t=this.t,r.s=~this.s,r}function Ave(r){var e=Lr();return r<0?this.rShiftTo(-r,e):this.lShiftTo(r,e),e}function Ive(r){var e=Lr();return r<0?this.lShiftTo(-r,e):this.rShiftTo(r,e),e}function Tve(r){if(r==0)return-1;var e=0;return(r&65535)==0&&(r>>=16,e+=16),(r&255)==0&&(r>>=8,e+=8),(r&15)==0&&(r>>=4,e+=4),(r&3)==0&&(r>>=2,e+=2),(r&1)==0&&++e,e}function kve(){for(var r=0;r<this.t;++r)if(this.data[r]!=0)return r*this.DB+Tve(this.data[r]);return this.s<0?this.t*this.DB:-1}function Cve(r){for(var e=0;r!=0;)r&=r-1,++e;return e}function Bve(){for(var r=0,e=this.s&this.DM,t=0;t<this.t;++t)r+=Cve(this.data[t]^e);return r}function Mve(r){var e=Math.floor(r/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<r%this.DB)!=0}function Rve(r,e){var t=nt.ONE.shiftLeft(r);return this.bitwiseTo(t,e,t),t}function Nve(r){return this.changeBit(r,O9)}function Pve(r){return this.changeBit(r,ZK)}function qve(r){return this.changeBit(r,WK)}function Ove(r,e){for(var t=0,i=0,n=Math.min(r.t,this.t);t<n;)i+=this.data[t]+r.data[t],e.data[t++]=i&this.DM,i>>=this.DB;if(r.t<this.t){for(i+=r.s;t<this.t;)i+=this.data[t],e.data[t++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;t<r.t;)i+=r.data[t],e.data[t++]=i&this.DM,i>>=this.DB;i+=r.s}e.s=i<0?-1:0,i>0?e.data[t++]=i:i<-1&&(e.data[t++]=this.DV+i),e.t=t,e.clamp()}function Dve(r){var e=Lr();return this.addTo(r,e),e}function Lve(r){var e=Lr();return this.subTo(r,e),e}function Uve(r){var e=Lr();return this.multiplyTo(r,e),e}function Fve(r){var e=Lr();return this.divRemTo(r,e,null),e}function Kve(r){var e=Lr();return this.divRemTo(r,null,e),e}function zve(r){var e=Lr(),t=Lr();return this.divRemTo(r,e,t),new Array(e,t)}function jve(r){this.data[this.t]=this.am(0,r-1,this,0,0,this.t),++this.t,this.clamp()}function Vve(r,e){if(r!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=r;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function J2(){}function JK(r){return r}function Hve(r,e,t){r.multiplyTo(e,t)}function $ve(r,e){r.squareTo(e)}J2.prototype.convert=JK;J2.prototype.revert=JK;J2.prototype.mulTo=Hve;J2.prototype.sqrTo=$ve;function Gve(r){return this.exp(r,new J2)}function Yve(r,e,t){var i=Math.min(this.t+r.t,e);for(t.s=0,t.t=i;i>0;)t.data[--i]=0;var n;for(n=t.t-this.t;i<n;++i)t.data[i+this.t]=this.am(0,r.data[i],t,i,0,this.t);for(n=Math.min(r.t,e);i<n;++i)this.am(0,r.data[i],t,i,0,e-i);t.clamp()}function Wve(r,e,t){--e;var i=t.t=this.t+r.t-e;for(t.s=0;--i>=0;)t.data[i]=0;for(i=Math.max(e-this.t,0);i<r.t;++i)t.data[this.t+i-e]=this.am(e-i,r.data[i],t,0,0,this.t+i-e);t.clamp(),t.drShiftTo(1,t)}function yh(r){this.r2=Lr(),this.q3=Lr(),nt.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}function Zve(r){if(r.s<0||r.t>2*this.m.t)return r.mod(this.m);if(r.compareTo(this.m)<0)return r;var e=Lr();return r.copyTo(e),this.reduce(e),e}function Jve(r){return r}function Xve(r){for(r.drShiftTo(this.m.t-1,this.r2),r.t>this.m.t+1&&(r.t=this.m.t+1,r.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);r.compareTo(this.r2)<0;)r.dAddOffset(1,this.m.t+1);for(r.subTo(this.r2,r);r.compareTo(this.m)>=0;)r.subTo(this.m,r)}function Qve(r,e){r.squareTo(e),this.reduce(e)}function exe(r,e,t){r.multiplyTo(e,t),this.reduce(t)}yh.prototype.convert=Zve;yh.prototype.revert=Jve;yh.prototype.reduce=Xve;yh.prototype.mulTo=exe;yh.prototype.sqrTo=Qve;function txe(r,e){var t=r.bitLength(),i,n=kc(1),s;if(t<=0)return n;t<18?i=1:t<48?i=3:t<144?i=4:t<768?i=5:i=6,t<8?s=new Ju(e):e.isEven()?s=new yh(e):s=new Xu(e);var o=new Array,a=3,f=i-1,c=(1<<i)-1;if(o[1]=s.convert(this),i>1){var l=Lr();for(s.sqrTo(o[1],l);a<=c;)o[a]=Lr(),s.mulTo(l,o[a-2],o[a]),a+=2}var h=r.t-1,x,_=!0,E=Lr(),C;for(t=V5(r.data[h])-1;h>=0;){for(t>=f?x=r.data[h]>>t-f&c:(x=(r.data[h]&(1<<t+1)-1)<<f-t,h>0&&(x|=r.data[h-1]>>this.DB+t-f)),a=i;(x&1)==0;)x>>=1,--a;if((t-=a)<0&&(t+=this.DB,--h),_)o[x].copyTo(n),_=!1;else{for(;a>1;)s.sqrTo(n,E),s.sqrTo(E,n),a-=2;a>0?s.sqrTo(n,E):(C=n,n=E,E=C),s.mulTo(E,o[x],n)}for(;h>=0&&(r.data[h]&1<<t)==0;)s.sqrTo(n,E),C=n,n=E,E=C,--t<0&&(t=this.DB-1,--h)}return s.revert(n)}function rxe(r){var e=this.s<0?this.negate():this.clone(),t=r.s<0?r.negate():r.clone();if(e.compareTo(t)<0){var i=e;e=t,t=i}var n=e.getLowestSetBit(),s=t.getLowestSetBit();if(s<0)return e;for(n<s&&(s=n),s>0&&(e.rShiftTo(s,e),t.rShiftTo(s,t));e.signum()>0;)(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),(n=t.getLowestSetBit())>0&&t.rShiftTo(n,t),e.compareTo(t)>=0?(e.subTo(t,e),e.rShiftTo(1,e)):(t.subTo(e,t),t.rShiftTo(1,t));return s>0&&t.lShiftTo(s,t),t}function ixe(r){if(r<=0)return 0;var e=this.DV%r,t=this.s<0?r-1:0;if(this.t>0)if(e==0)t=this.data[0]%r;else for(var i=this.t-1;i>=0;--i)t=(e*t+this.data[i])%r;return t}function nxe(r){var e=r.isEven();if(this.isEven()&&e||r.signum()==0)return nt.ZERO;for(var t=r.clone(),i=this.clone(),n=kc(1),s=kc(0),o=kc(0),a=kc(1);t.signum()!=0;){for(;t.isEven();)t.rShiftTo(1,t),e?((!n.isEven()||!s.isEven())&&(n.addTo(this,n),s.subTo(r,s)),n.rShiftTo(1,n)):s.isEven()||s.subTo(r,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(r,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(r,a),a.rShiftTo(1,a);t.compareTo(i)>=0?(t.subTo(i,t),e&&n.subTo(o,n),s.subTo(a,s)):(i.subTo(t,i),e&&o.subTo(n,o),a.subTo(s,a))}if(i.compareTo(nt.ONE)!=0)return nt.ZERO;if(a.compareTo(r)>=0)return a.subtract(r);if(a.signum()<0)a.addTo(r,a);else return a;return a.signum()<0?a.add(r):a}var Ta=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],sxe=(1<<26)/Ta[Ta.length-1];function oxe(r){var e,t=this.abs();if(t.t==1&&t.data[0]<=Ta[Ta.length-1]){for(e=0;e<Ta.length;++e)if(t.data[0]==Ta[e])return!0;return!1}if(t.isEven())return!1;for(e=1;e<Ta.length;){for(var i=Ta[e],n=e+1;n<Ta.length&&i<sxe;)i*=Ta[n++];for(i=t.modInt(i);e<n;)if(i%Ta[e++]==0)return!1}return t.millerRabin(r)}function axe(r){var e=this.subtract(nt.ONE),t=e.getLowestSetBit();if(t<=0)return!1;for(var i=e.shiftRight(t),n=fxe(),s,o=0;o<r;++o){do s=new nt(this.bitLength(),n);while(s.compareTo(nt.ONE)<=0||s.compareTo(e)>=0);var a=s.modPow(i,this);if(a.compareTo(nt.ONE)!=0&&a.compareTo(e)!=0){for(var f=1;f++<t&&a.compareTo(e)!=0;)if(a=a.modPowInt(2,this),a.compareTo(nt.ONE)==0)return!1;if(a.compareTo(e)!=0)return!1}}return!0}function fxe(){return{nextBytes:function(r){for(var e=0;e<r.length;++e)r[e]=Math.floor(Math.random()*256)}}}nt.prototype.chunkSize=cve;nt.prototype.toRadix=lve;nt.prototype.fromRadix=dve;nt.prototype.fromNumber=hve;nt.prototype.bitwiseTo=gve;nt.prototype.changeBit=Rve;nt.prototype.addTo=Ove;nt.prototype.dMultiply=jve;nt.prototype.dAddOffset=Vve;nt.prototype.multiplyLowerTo=Yve;nt.prototype.multiplyUpperTo=Wve;nt.prototype.modInt=ixe;nt.prototype.millerRabin=axe;nt.prototype.clone=sve;nt.prototype.intValue=ove;nt.prototype.byteValue=ave;nt.prototype.shortValue=fve;nt.prototype.signum=uve;nt.prototype.toByteArray=pve;nt.prototype.equals=bve;nt.prototype.min=yve;nt.prototype.max=mve;nt.prototype.and=xve;nt.prototype.or=wve;nt.prototype.xor=_ve;nt.prototype.andNot=Eve;nt.prototype.not=Sve;nt.prototype.shiftLeft=Ave;nt.prototype.shiftRight=Ive;nt.prototype.getLowestSetBit=kve;nt.prototype.bitCount=Bve;nt.prototype.testBit=Mve;nt.prototype.setBit=Nve;nt.prototype.clearBit=Pve;nt.prototype.flipBit=qve;nt.prototype.add=Dve;nt.prototype.subtract=Lve;nt.prototype.multiply=Uve;nt.prototype.divide=Fve;nt.prototype.remainder=Kve;nt.prototype.divideAndRemainder=zve;nt.prototype.modPow=txe;nt.prototype.modInverse=nxe;nt.prototype.pow=Gve;nt.prototype.gcd=rxe;nt.prototype.isProbablePrime=oxe});var iz=M((XGe,rz)=>{var wf=pr();Ic();Jr();var QK=rz.exports=wf.sha1=wf.sha1||{};wf.md.sha1=wf.md.algorithms.sha1=QK;QK.create=function(){ez||cxe();var r=null,e=wf.util.createBuffer(),t=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,s=0;s<n;++s)i.fullMessageLength.push(0);return e=wf.util.createBuffer(),r={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i},i.start(),i.update=function(n,s){s==="utf8"&&(n=wf.util.encodeUtf8(n));var o=n.length;i.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=i.fullMessageLength.length-1;a>=0;--a)i.fullMessageLength[a]+=o[1],o[1]=o[0]+(i.fullMessageLength[a]/4294967296>>>0),i.fullMessageLength[a]=i.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(n),tz(r,t,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=wf.util.createBuffer();n.putBytes(e.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,o=s&i.blockLength-1;n.putBytes(D9.substr(0,i.blockLength-o));for(var a,f,c=i.fullMessageLength[0]*8,l=0;l<i.fullMessageLength.length-1;++l)a=i.fullMessageLength[l+1]*8,f=a/4294967296>>>0,c+=f,n.putInt32(c>>>0),c=a>>>0;n.putInt32(c);var h={h0:r.h0,h1:r.h1,h2:r.h2,h3:r.h3,h4:r.h4};tz(h,t,n);var x=wf.util.createBuffer();return x.putInt32(h.h0),x.putInt32(h.h1),x.putInt32(h.h2),x.putInt32(h.h3),x.putInt32(h.h4),x},i};var D9=null,ez=!1;function cxe(){D9=String.fromCharCode(128),D9+=wf.util.fillString(String.fromCharCode(0),64),ez=!0}function tz(r,e,t){for(var i,n,s,o,a,f,c,l,h=t.length();h>=64;){for(n=r.h0,s=r.h1,o=r.h2,a=r.h3,f=r.h4,l=0;l<16;++l)i=t.getInt32(),e[l]=i,c=a^s&(o^a),i=(n<<5|n>>>27)+c+f+1518500249+i,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=n,n=i;for(;l<20;++l)i=e[l-3]^e[l-8]^e[l-14]^e[l-16],i=i<<1|i>>>31,e[l]=i,c=a^s&(o^a),i=(n<<5|n>>>27)+c+f+1518500249+i,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=n,n=i;for(;l<32;++l)i=e[l-3]^e[l-8]^e[l-14]^e[l-16],i=i<<1|i>>>31,e[l]=i,c=s^o^a,i=(n<<5|n>>>27)+c+f+1859775393+i,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=n,n=i;for(;l<40;++l)i=e[l-6]^e[l-16]^e[l-28]^e[l-32],i=i<<2|i>>>30,e[l]=i,c=s^o^a,i=(n<<5|n>>>27)+c+f+1859775393+i,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=n,n=i;for(;l<60;++l)i=e[l-6]^e[l-16]^e[l-28]^e[l-32],i=i<<2|i>>>30,e[l]=i,c=s&o|a&(s^o),i=(n<<5|n>>>27)+c+f+2400959708+i,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=n,n=i;for(;l<80;++l)i=e[l-6]^e[l-16]^e[l-28]^e[l-32],i=i<<2|i>>>30,e[l]=i,c=s^o^a,i=(n<<5|n>>>27)+c+f+3395469782+i,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=n,n=i;r.h0=r.h0+n|0,r.h1=r.h1+s|0,r.h2=r.h2+o|0,r.h3=r.h3+a|0,r.h4=r.h4+f|0,h-=64}}});var oz=M((QGe,sz)=>{var _f=pr();Jr();Tc();iz();var nz=sz.exports=_f.pkcs1=_f.pkcs1||{};nz.encode_rsa_oaep=function(r,e,t){var i,n,s,o;typeof t=="string"?(i=t,n=arguments[3]||void 0,s=arguments[4]||void 0):t&&(i=t.label||void 0,n=t.seed||void 0,s=t.md||void 0,t.mgf1&&t.mgf1.md&&(o=t.mgf1.md)),s?s.start():s=_f.md.sha1.create(),o||(o=s);var a=Math.ceil(r.n.bitLength()/8),f=a-2*s.digestLength-2;if(e.length>f){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=f,c}i||(i=""),s.update(i,"raw");for(var l=s.digest(),h="",x=f-e.length,_=0;_<x;_++)h+="\0";var E=l.getBytes()+h+""+e;if(!n)n=_f.random.getBytes(s.digestLength);else if(n.length!==s.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=n.length,c.digestLength=s.digestLength,c}var C=H5(n,a-s.digestLength-1,o),L=_f.util.xorBytes(E,C,E.length),O=H5(L,s.digestLength,o),W=_f.util.xorBytes(n,O,n.length);return"\0"+W+L};nz.decode_rsa_oaep=function(r,e,t){var i,n,s;typeof t=="string"?(i=t,n=arguments[3]||void 0):t&&(i=t.label||void 0,n=t.md||void 0,t.mgf1&&t.mgf1.md&&(s=t.mgf1.md));var o=Math.ceil(r.n.bitLength()/8);if(e.length!==o){var L=new Error("RSAES-OAEP encoded message length is invalid.");throw L.length=e.length,L.expectedLength=o,L}if(n===void 0?n=_f.md.sha1.create():n.start(),s||(s=n),o<2*n.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),n.update(i,"raw");for(var a=n.digest().getBytes(),f=e.charAt(0),c=e.substring(1,n.digestLength+1),l=e.substring(1+n.digestLength),h=H5(l,n.digestLength,s),x=_f.util.xorBytes(c,h,c.length),_=H5(x,o-n.digestLength-1,s),E=_f.util.xorBytes(l,_,l.length),C=E.substring(0,n.digestLength),L=f!=="\0",O=0;O<n.digestLength;++O)L|=a.charAt(O)!==C.charAt(O);for(var W=1,ee=n.digestLength,N=n.digestLength;N<E.length;N++){var V=E.charCodeAt(N),z=V&1^1,F=W?65534:0;L|=V&F,W=W&z,ee+=W}if(L||E.charCodeAt(ee)!==1)throw new Error("Invalid RSAES-OAEP padding.");return E.substring(ee+1)};function H5(r,e,t){t||(t=_f.md.sha1.create());for(var i="",n=Math.ceil(e/t.digestLength),s=0;s<n;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);t.start(),t.update(r+o),i+=t.digest().getBytes()}return i.substring(0,e)}});var az=M((eYe,L9)=>{var Cc=pr();Jr();X2();Tc();(function(){if(Cc.prime){L9.exports=Cc.prime;return}var r=L9.exports=Cc.prime=Cc.prime||{},e=Cc.jsbn.BigInteger,t=[6,4,2,4,2,4,6,2],i=new e(null);i.fromInt(30);var n=function(h,x){return h|x};r.generateProbablePrime=function(h,x,_){typeof x=="function"&&(_=x,x={}),x=x||{};var E=x.algorithm||"PRIMEINC";typeof E=="string"&&(E={name:E}),E.options=E.options||{};var C=x.prng||Cc.random,L={nextBytes:function(O){for(var W=C.getBytesSync(O.length),ee=0;ee<O.length;++ee)O[ee]=W.charCodeAt(ee)}};if(E.name==="PRIMEINC")return s(h,L,E.options,_);throw new Error("Invalid prime generation algorithm: "+E.name)};function s(h,x,_,E){return"workers"in _?f(h,x,_,E):o(h,x,_,E)}function o(h,x,_,E){var C=c(h,x),L=0,O=l(C.bitLength());"millerRabinTests"in _&&(O=_.millerRabinTests);var W=10;"maxBlockTime"in _&&(W=_.maxBlockTime),a(C,h,x,L,O,W,E)}function a(h,x,_,E,C,L,O){var W=+new Date;do{if(h.bitLength()>x&&(h=c(x,_)),h.isProbablePrime(C))return O(null,h);h.dAddOffset(t[E++%8],0)}while(L<0||+new Date-W<L);Cc.util.setImmediate(function(){a(h,x,_,E,C,L,O)})}function f(h,x,_,E){if(typeof Worker=="undefined")return o(h,x,_,E);var C=c(h,x),L=_.workers,O=_.workLoad||100,W=O*30/8,ee=_.workerScript||"forge/prime.worker.js";if(L===-1)return Cc.util.estimateCores(function(V,z){V&&(z=2),L=z-1,N()});N();function N(){L=Math.max(1,L);for(var V=[],z=0;z<L;++z)V[z]=new Worker(ee);for(var F=L,z=0;z<L;++z)V[z].addEventListener("message",K);var H=!1;function K(S){if(!H){--F;var w=S.data;if(w.found){for(var T=0;T<V.length;++T)V[T].terminate();return H=!0,E(null,new e(w.prime,16))}C.bitLength()>h&&(C=c(h,x));var v=C.toString(16);S.target.postMessage({hex:v,workLoad:O}),C.dAddOffset(W,0)}}}}function c(h,x){var _=new e(h,x),E=h-1;return _.testBit(E)||_.bitwiseTo(e.ONE.shiftLeft(E),n,_),_.dAddOffset(31-_.mod(i).byteValue(),0),_}function l(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}})()});var Q2=M((tYe,pz)=>{var or=pr();w0();X2();lh();oz();az();Tc();Jr();typeof Rr=="undefined"&&(Rr=or.jsbn.BigInteger);var Rr,U9=or.util.isNodejs?W0():null,Fe=or.asn1,Fo=or.util;or.pki=or.pki||{};pz.exports=or.pki.rsa=or.rsa=or.rsa||{};var ar=or.pki,uxe=[6,4,2,4,2,4,6,2],lxe={name:"PrivateKeyInfo",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},dxe={name:"RSAPrivateKey",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},hxe={name:"RSAPublicKey",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},pxe=or.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:Fe.Class.UNIVERSAL,type:Fe.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},bxe=function(r){var e;if(r.algorithm in ar.oids)e=ar.oids[r.algorithm];else{var t=new Error("Unknown message digest algorithm.");throw t.algorithm=r.algorithm,t}var i=Fe.oidToDer(e).getBytes(),n=Fe.create(Fe.Class.UNIVERSAL,Fe.Type.SEQUENCE,!0,[]),s=Fe.create(Fe.Class.UNIVERSAL,Fe.Type.SEQUENCE,!0,[]);s.value.push(Fe.create(Fe.Class.UNIVERSAL,Fe.Type.OID,!1,i)),s.value.push(Fe.create(Fe.Class.UNIVERSAL,Fe.Type.NULL,!1,""));var o=Fe.create(Fe.Class.UNIVERSAL,Fe.Type.OCTETSTRING,!1,r.digest().getBytes());return n.value.push(s),n.value.push(o),Fe.toDer(n).getBytes()},fz=function(r,e,t){if(t)return r.modPow(e.e,e.n);if(!e.p||!e.q)return r.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(Rr.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(Rr.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var i;do i=new Rr(or.util.bytesToHex(or.random.getBytes(e.n.bitLength()/8)),16);while(i.compareTo(e.n)>=0||!i.gcd(e.n).equals(Rr.ONE));r=r.multiply(i.modPow(e.e,e.n)).mod(e.n);for(var n=r.mod(e.p).modPow(e.dP,e.p),s=r.mod(e.q).modPow(e.dQ,e.q);n.compareTo(s)<0;)n=n.add(e.p);var o=n.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return o=o.multiply(i.modInverse(e.n)).mod(e.n),o};ar.rsa.encrypt=function(r,e,t){var i=t,n,s=Math.ceil(e.n.bitLength()/8);t!==!1&&t!==!0?(i=t===2,n=cz(r,e,t)):(n=or.util.createBuffer(),n.putBytes(r));for(var o=new Rr(n.toHex(),16),a=fz(o,e,i),f=a.toString(16),c=or.util.createBuffer(),l=s-Math.ceil(f.length/2);l>0;)c.putByte(0),--l;return c.putBytes(or.util.hexToBytes(f)),c.getBytes()};ar.rsa.decrypt=function(r,e,t,i){var n=Math.ceil(e.n.bitLength()/8);if(r.length!==n){var s=new Error("Encrypted message length is invalid.");throw s.length=r.length,s.expected=n,s}var o=new Rr(or.util.createBuffer(r).toHex(),16);if(o.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=fz(o,e,t),f=a.toString(16),c=or.util.createBuffer(),l=n-Math.ceil(f.length/2);l>0;)c.putByte(0),--l;return c.putBytes(or.util.hexToBytes(f)),i!==!1?$5(c.getBytes(),e,t):c.getBytes()};ar.rsa.createKeyPairGenerationState=function(r,e,t){typeof r=="string"&&(r=parseInt(r,10)),r=r||2048,t=t||{};var i=t.prng||or.random,n={nextBytes:function(a){for(var f=i.getBytesSync(a.length),c=0;c<a.length;++c)a[c]=f.charCodeAt(c)}},s=t.algorithm||"PRIMEINC",o;if(s==="PRIMEINC")o={algorithm:s,state:0,bits:r,rng:n,eInt:e||65537,e:new Rr(null),p:null,q:null,qBits:r>>1,pBits:r-(r>>1),pqState:0,num:null,keys:null},o.e.fromInt(o.eInt);else throw new Error("Invalid key generation algorithm: "+s);return o};ar.rsa.stepKeyPairGenerationState=function(r,e){"algorithm"in r||(r.algorithm="PRIMEINC");var t=new Rr(null);t.fromInt(30);for(var i=0,n=function(h,x){return h|x},s=+new Date,o,a=0;r.keys===null&&(e<=0||a<e);){if(r.state===0){var f=r.p===null?r.pBits:r.qBits,c=f-1;r.pqState===0?(r.num=new Rr(f,r.rng),r.num.testBit(c)||r.num.bitwiseTo(Rr.ONE.shiftLeft(c),n,r.num),r.num.dAddOffset(31-r.num.mod(t).byteValue(),0),i=0,++r.pqState):r.pqState===1?r.num.bitLength()>f?r.pqState=0:r.num.isProbablePrime(mxe(r.num.bitLength()))?++r.pqState:r.num.dAddOffset(uxe[i++%8],0):r.pqState===2?r.pqState=r.num.subtract(Rr.ONE).gcd(r.e).compareTo(Rr.ONE)===0?3:0:r.pqState===3&&(r.pqState=0,r.p===null?r.p=r.num:r.q=r.num,r.p!==null&&r.q!==null&&++r.state,r.num=null)}else if(r.state===1)r.p.compareTo(r.q)<0&&(r.num=r.p,r.p=r.q,r.q=r.num),++r.state;else if(r.state===2)r.p1=r.p.subtract(Rr.ONE),r.q1=r.q.subtract(Rr.ONE),r.phi=r.p1.multiply(r.q1),++r.state;else if(r.state===3)r.phi.gcd(r.e).compareTo(Rr.ONE)===0?++r.state:(r.p=null,r.q=null,r.state=0);else if(r.state===4)r.n=r.p.multiply(r.q),r.n.bitLength()===r.bits?++r.state:(r.q=null,r.state=0);else if(r.state===5){var l=r.e.modInverse(r.phi);r.keys={privateKey:ar.rsa.setPrivateKey(r.n,r.e,l,r.p,r.q,l.mod(r.p1),l.mod(r.q1),r.q.modInverse(r.p)),publicKey:ar.rsa.setPublicKey(r.n,r.e)}}o=+new Date,a+=o-s,s=o}return r.keys!==null};ar.rsa.generateKeyPair=function(r,e,t,i){if(arguments.length===1?typeof r=="object"?(t=r,r=void 0):typeof r=="function"&&(i=r,r=void 0):arguments.length===2?typeof r=="number"?typeof e=="function"?(i=e,e=void 0):typeof e!="number"&&(t=e,e=void 0):(t=r,i=e,r=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof t=="function"&&(i=t,t=void 0):(i=t,t=e,e=void 0)),t=t||{},r===void 0&&(r=t.bits||2048),e===void 0&&(e=t.e||65537),!or.options.usePureJavaScript&&!t.prng&&r>=256&&r<=16384&&(e===65537||e===3)){if(i){if(uz("generateKeyPair"))return U9.generateKeyPair("rsa",{modulusLength:r,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,f,c){if(a)return i(a);i(null,{privateKey:ar.privateKeyFromPem(c),publicKey:ar.publicKeyFromPem(f)})});if(lz("generateKey")&&lz("exportKey"))return Fo.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:r,publicExponent:hz(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return Fo.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){i(a)}).then(function(a){if(a){var f=ar.privateKeyFromAsn1(Fe.fromDer(or.util.createBuffer(a)));i(null,{privateKey:f,publicKey:ar.setRsaPublicKey(f.n,f.e)})}});if(dz("generateKey")&&dz("exportKey")){var n=Fo.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:r,publicExponent:hz(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);n.oncomplete=function(a){var f=a.target.result,c=Fo.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);c.oncomplete=function(l){var h=l.target.result,x=ar.privateKeyFromAsn1(Fe.fromDer(or.util.createBuffer(h)));i(null,{privateKey:x,publicKey:ar.setRsaPublicKey(x.n,x.e)})},c.onerror=function(l){i(l)}},n.onerror=function(a){i(a)};return}}else if(uz("generateKeyPairSync")){var s=U9.generateKeyPairSync("rsa",{modulusLength:r,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:ar.privateKeyFromPem(s.privateKey),publicKey:ar.publicKeyFromPem(s.publicKey)}}}var o=ar.rsa.createKeyPairGenerationState(r,e,t);if(!i)return ar.rsa.stepKeyPairGenerationState(o,0),o.keys;yxe(o,t,i)};ar.setRsaPublicKey=ar.rsa.setPublicKey=function(r,e){var t={n:r,e};return t.encrypt=function(i,n,s){if(typeof n=="string"?n=n.toUpperCase():n===void 0&&(n="RSAES-PKCS1-V1_5"),n==="RSAES-PKCS1-V1_5")n={encode:function(a,f,c){return cz(a,f,2).getBytes()}};else if(n==="RSA-OAEP"||n==="RSAES-OAEP")n={encode:function(a,f){return or.pkcs1.encode_rsa_oaep(f,a,s)}};else if(["RAW","NONE","NULL",null].indexOf(n)!==-1)n={encode:function(a){return a}};else if(typeof n=="string")throw new Error('Unsupported encryption scheme: "'+n+'".');var o=n.encode(i,t,!0);return ar.rsa.encrypt(o,t,!0)},t.verify=function(i,n,s){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),s==="RSASSA-PKCS1-V1_5"?s={verify:function(a,f){f=$5(f,t,!0);var c=Fe.fromDer(f);return a===c.value[1].value}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(a,f){return f=$5(f,t,!0),a===f}});var o=ar.rsa.decrypt(n,t,!0,!1);return s.verify(i,o,t.n.bitLength())},t};ar.setRsaPrivateKey=ar.rsa.setPrivateKey=function(r,e,t,i,n,s,o,a){var f={n:r,e,d:t,p:i,q:n,dP:s,dQ:o,qInv:a};return f.decrypt=function(c,l,h){typeof l=="string"?l=l.toUpperCase():l===void 0&&(l="RSAES-PKCS1-V1_5");var x=ar.rsa.decrypt(c,f,!1,!1);if(l==="RSAES-PKCS1-V1_5")l={decode:$5};else if(l==="RSA-OAEP"||l==="RSAES-OAEP")l={decode:function(_,E){return or.pkcs1.decode_rsa_oaep(E,_,h)}};else if(["RAW","NONE","NULL",null].indexOf(l)!==-1)l={decode:function(_){return _}};else throw new Error('Unsupported encryption scheme: "'+l+'".');return l.decode(x,f,!1)},f.sign=function(c,l){var h=!1;typeof l=="string"&&(l=l.toUpperCase()),l===void 0||l==="RSASSA-PKCS1-V1_5"?(l={encode:bxe},h=1):(l==="NONE"||l==="NULL"||l===null)&&(l={encode:function(){return c}},h=1);var x=l.encode(c,f.n.bitLength());return ar.rsa.encrypt(x,f,h)},f};ar.wrapRsaPrivateKey=function(r){return Fe.create(Fe.Class.UNIVERSAL,Fe.Type.SEQUENCE,!0,[Fe.create(Fe.Class.UNIVERSAL,Fe.Type.INTEGER,!1,Fe.integerToDer(0).getBytes()),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.SEQUENCE,!0,[Fe.create(Fe.Class.UNIVERSAL,Fe.Type.OID,!1,Fe.oidToDer(ar.oids.rsaEncryption).getBytes()),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.NULL,!1,"")]),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.OCTETSTRING,!1,Fe.toDer(r).getBytes())])};ar.privateKeyFromAsn1=function(r){var e={},t=[];if(Fe.validate(r,lxe,e,t)&&(r=Fe.fromDer(or.util.createBuffer(e.privateKey))),e={},t=[],!Fe.validate(r,dxe,e,t)){var i=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw i.errors=t,i}var n,s,o,a,f,c,l,h;return n=or.util.createBuffer(e.privateKeyModulus).toHex(),s=or.util.createBuffer(e.privateKeyPublicExponent).toHex(),o=or.util.createBuffer(e.privateKeyPrivateExponent).toHex(),a=or.util.createBuffer(e.privateKeyPrime1).toHex(),f=or.util.createBuffer(e.privateKeyPrime2).toHex(),c=or.util.createBuffer(e.privateKeyExponent1).toHex(),l=or.util.createBuffer(e.privateKeyExponent2).toHex(),h=or.util.createBuffer(e.privateKeyCoefficient).toHex(),ar.setRsaPrivateKey(new Rr(n,16),new Rr(s,16),new Rr(o,16),new Rr(a,16),new Rr(f,16),new Rr(c,16),new Rr(l,16),new Rr(h,16))};ar.privateKeyToAsn1=ar.privateKeyToRSAPrivateKey=function(r){return Fe.create(Fe.Class.UNIVERSAL,Fe.Type.SEQUENCE,!0,[Fe.create(Fe.Class.UNIVERSAL,Fe.Type.INTEGER,!1,Fe.integerToDer(0).getBytes()),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.INTEGER,!1,Ef(r.n)),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.INTEGER,!1,Ef(r.e)),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.INTEGER,!1,Ef(r.d)),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.INTEGER,!1,Ef(r.p)),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.INTEGER,!1,Ef(r.q)),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.INTEGER,!1,Ef(r.dP)),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.INTEGER,!1,Ef(r.dQ)),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.INTEGER,!1,Ef(r.qInv))])};ar.publicKeyFromAsn1=function(r){var e={},t=[];if(Fe.validate(r,pxe,e,t)){var i=Fe.derToOid(e.publicKeyOid);if(i!==ar.oids.rsaEncryption){var n=new Error("Cannot read public key. Unknown OID.");throw n.oid=i,n}r=e.rsaPublicKey}if(t=[],!Fe.validate(r,hxe,e,t)){var n=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw n.errors=t,n}var s=or.util.createBuffer(e.publicKeyModulus).toHex(),o=or.util.createBuffer(e.publicKeyExponent).toHex();return ar.setRsaPublicKey(new Rr(s,16),new Rr(o,16))};ar.publicKeyToAsn1=ar.publicKeyToSubjectPublicKeyInfo=function(r){return Fe.create(Fe.Class.UNIVERSAL,Fe.Type.SEQUENCE,!0,[Fe.create(Fe.Class.UNIVERSAL,Fe.Type.SEQUENCE,!0,[Fe.create(Fe.Class.UNIVERSAL,Fe.Type.OID,!1,Fe.oidToDer(ar.oids.rsaEncryption).getBytes()),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.NULL,!1,"")]),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.BITSTRING,!1,[ar.publicKeyToRSAPublicKey(r)])])};ar.publicKeyToRSAPublicKey=function(r){return Fe.create(Fe.Class.UNIVERSAL,Fe.Type.SEQUENCE,!0,[Fe.create(Fe.Class.UNIVERSAL,Fe.Type.INTEGER,!1,Ef(r.n)),Fe.create(Fe.Class.UNIVERSAL,Fe.Type.INTEGER,!1,Ef(r.e))])};function cz(r,e,t){var i=or.util.createBuffer(),n=Math.ceil(e.n.bitLength()/8);if(r.length>n-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=r.length,s.max=n-11,s}i.putByte(0),i.putByte(t);var o=n-3-r.length,a;if(t===0||t===1){a=t===0?0:255;for(var f=0;f<o;++f)i.putByte(a)}else for(;o>0;){for(var c=0,l=or.random.getBytes(o),f=0;f<o;++f)a=l.charCodeAt(f),a===0?++c:i.putByte(a);o=c}return i.putByte(0),i.putBytes(r),i}function $5(r,e,t,i){var n=Math.ceil(e.n.bitLength()/8),s=or.util.createBuffer(r),o=s.getByte(),a=s.getByte();if(o!==0||t&&a!==0&&a!==1||!t&&a!=2||t&&a===0&&typeof i=="undefined")throw new Error("Encryption block is invalid.");var f=0;if(a===0){f=n-3-i;for(var c=0;c<f;++c)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(f=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++f}else if(a===2)for(f=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++f}var l=s.getByte();if(l!==0||f!==n-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function yxe(r,e,t){typeof e=="function"&&(t=e,e={}),e=e||{};var i={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(i.prng=e.prng),n();function n(){s(r.pBits,function(a,f){if(a)return t(a);if(r.p=f,r.q!==null)return o(a,r.q);s(r.qBits,o)})}function s(a,f){or.prime.generateProbablePrime(a,i,f)}function o(a,f){if(a)return t(a);if(r.q=f,r.p.compareTo(r.q)<0){var c=r.p;r.p=r.q,r.q=c}if(r.p.subtract(Rr.ONE).gcd(r.e).compareTo(Rr.ONE)!==0){r.p=null,n();return}if(r.q.subtract(Rr.ONE).gcd(r.e).compareTo(Rr.ONE)!==0){r.q=null,s(r.qBits,o);return}if(r.p1=r.p.subtract(Rr.ONE),r.q1=r.q.subtract(Rr.ONE),r.phi=r.p1.multiply(r.q1),r.phi.gcd(r.e).compareTo(Rr.ONE)!==0){r.p=r.q=null,n();return}if(r.n=r.p.multiply(r.q),r.n.bitLength()!==r.bits){r.q=null,s(r.qBits,o);return}var l=r.e.modInverse(r.phi);r.keys={privateKey:ar.rsa.setPrivateKey(r.n,r.e,l,r.p,r.q,l.mod(r.p1),l.mod(r.q1),r.q.modInverse(r.p)),publicKey:ar.rsa.setPublicKey(r.n,r.e)},t(null,r.keys)}}function Ef(r){var e=r.toString(16);e[0]>="8"&&(e="00"+e);var t=or.util.hexToBytes(e);return t.length>1&&(t.charCodeAt(0)===0&&(t.charCodeAt(1)&128)==0||t.charCodeAt(0)===255&&(t.charCodeAt(1)&128)==128)?t.substr(1):t}function mxe(r){return r<=100?27:r<=150?18:r<=200?15:r<=250?12:r<=300?9:r<=350?8:r<=400?7:r<=500?6:r<=600?5:r<=800?4:r<=1250?3:2}function uz(r){return or.util.isNodejs&&typeof U9[r]=="function"}function lz(r){return typeof Fo.globalScope!="undefined"&&typeof Fo.globalScope.crypto=="object"&&typeof Fo.globalScope.crypto.subtle=="object"&&typeof Fo.globalScope.crypto.subtle[r]=="function"}function dz(r){return typeof Fo.globalScope!="undefined"&&typeof Fo.globalScope.msCrypto=="object"&&typeof Fo.globalScope.msCrypto.subtle=="object"&&typeof Fo.globalScope.msCrypto.subtle[r]=="function"}function hz(r){for(var e=or.util.hexToBytes(r.toString(16)),t=new Uint8Array(e.length),i=0;i<e.length;++i)t[i]=e.charCodeAt(i);return t}});var F9=M((rYe,vz)=>{var Pt=pr();ph();w0();D5();Ic();lh();B9();K5();Tc();VK();Q2();Jr();typeof bz=="undefined"&&(bz=Pt.jsbn.BigInteger);var bz,He=Pt.asn1,lr=Pt.pki=Pt.pki||{};vz.exports=lr.pbe=Pt.pbe=Pt.pbe||{};var Qu=lr.oids,gxe={name:"EncryptedPrivateKeyInfo",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:He.Class.UNIVERSAL,type:He.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},vxe={name:"PBES2Algorithms",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:He.Class.UNIVERSAL,type:He.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:He.Class.UNIVERSAL,type:He.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:He.Class.UNIVERSAL,type:He.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:He.Class.UNIVERSAL,type:He.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},xxe={name:"pkcs-12PbeParams",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:He.Class.UNIVERSAL,type:He.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:He.Class.UNIVERSAL,type:He.Type.INTEGER,constructed:!1,capture:"iterations"}]};lr.encryptPrivateKeyInfo=function(r,e,t){t=t||{},t.saltSize=t.saltSize||8,t.count=t.count||2048,t.algorithm=t.algorithm||"aes128",t.prfAlgorithm=t.prfAlgorithm||"sha1";var i=Pt.random.getBytesSync(t.saltSize),n=t.count,s=He.integerToDer(n),o,a,f;if(t.algorithm.indexOf("aes")===0||t.algorithm==="des"){var c,l,h;switch(t.algorithm){case"aes128":o=16,c=16,l=Qu["aes128-CBC"],h=Pt.aes.createEncryptionCipher;break;case"aes192":o=24,c=16,l=Qu["aes192-CBC"],h=Pt.aes.createEncryptionCipher;break;case"aes256":o=32,c=16,l=Qu["aes256-CBC"],h=Pt.aes.createEncryptionCipher;break;case"des":o=8,c=8,l=Qu.desCBC,h=Pt.des.createEncryptionCipher;break;default:var x=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw x.algorithm=t.algorithm,x}var _="hmacWith"+t.prfAlgorithm.toUpperCase(),E=gz(_),C=Pt.pkcs5.pbkdf2(e,i,n,o,E),L=Pt.random.getBytesSync(c),O=h(C);O.start(L),O.update(He.toDer(r)),O.finish(),f=O.output.getBytes();var W=wxe(i,s,o,_);a=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Qu.pkcs5PBES2).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Qu.pkcs5PBKDF2).getBytes()),W]),He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(l).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,L)])])])}else if(t.algorithm==="3des"){o=24;var ee=new Pt.util.ByteBuffer(i),C=lr.pbe.generatePkcs12Key(e,ee,1,n,o),L=lr.pbe.generatePkcs12Key(e,ee,2,n,o),O=Pt.des.createEncryptionCipher(C);O.start(L),O.update(He.toDer(r)),O.finish(),f=O.output.getBytes(),a=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Qu["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,i),He.create(He.Class.UNIVERSAL,He.Type.INTEGER,!1,s.getBytes())])])}else{var x=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw x.algorithm=t.algorithm,x}var N=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[a,He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,f)]);return N};lr.decryptPrivateKeyInfo=function(r,e){var t=null,i={},n=[];if(!He.validate(r,gxe,i,n)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}var o=He.derToOid(i.encryptionOid),a=lr.pbe.getCipher(o,i.encryptionParams,e),f=Pt.util.createBuffer(i.encryptedData);return a.update(f),a.finish()&&(t=He.fromDer(a.output)),t};lr.encryptedPrivateKeyToPem=function(r,e){var t={type:"ENCRYPTED PRIVATE KEY",body:He.toDer(r).getBytes()};return Pt.pem.encode(t,{maxline:e})};lr.encryptedPrivateKeyFromPem=function(r){var e=Pt.pem.decode(r)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var t=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw t.headerType=e.type,t}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return He.fromDer(e.body)};lr.encryptRsaPrivateKey=function(r,e,t){if(t=t||{},!t.legacy){var i=lr.wrapRsaPrivateKey(lr.privateKeyToAsn1(r));return i=lr.encryptPrivateKeyInfo(i,e,t),lr.encryptedPrivateKeyToPem(i)}var n,s,o,a;switch(t.algorithm){case"aes128":n="AES-128-CBC",o=16,s=Pt.random.getBytesSync(16),a=Pt.aes.createEncryptionCipher;break;case"aes192":n="AES-192-CBC",o=24,s=Pt.random.getBytesSync(16),a=Pt.aes.createEncryptionCipher;break;case"aes256":n="AES-256-CBC",o=32,s=Pt.random.getBytesSync(16),a=Pt.aes.createEncryptionCipher;break;case"3des":n="DES-EDE3-CBC",o=24,s=Pt.random.getBytesSync(8),a=Pt.des.createEncryptionCipher;break;case"des":n="DES-CBC",o=8,s=Pt.random.getBytesSync(8),a=Pt.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+t.algorithm+'".');throw f.algorithm=t.algorithm,f}var c=Pt.pbe.opensslDeriveBytes(e,s.substr(0,8),o),l=a(c);l.start(s),l.update(He.toDer(lr.privateKeyToAsn1(r))),l.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:n,parameters:Pt.util.bytesToHex(s).toUpperCase()},body:l.output.getBytes()};return Pt.pem.encode(h)};lr.decryptRsaPrivateKey=function(r,e){var t=null,i=Pt.pem.decode(r)[0];if(i.type!=="ENCRYPTED PRIVATE KEY"&&i.type!=="PRIVATE KEY"&&i.type!=="RSA PRIVATE KEY"){var n=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw n.headerType=n,n}if(i.procType&&i.procType.type==="ENCRYPTED"){var s,o;switch(i.dekInfo.algorithm){case"DES-CBC":s=8,o=Pt.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,o=Pt.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,o=Pt.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,o=Pt.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,o=Pt.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,o=function(h){return Pt.rc2.createDecryptionCipher(h,40)};break;case"RC2-64-CBC":s=8,o=function(h){return Pt.rc2.createDecryptionCipher(h,64)};break;case"RC2-128-CBC":s=16,o=function(h){return Pt.rc2.createDecryptionCipher(h,128)};break;default:var n=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".');throw n.algorithm=i.dekInfo.algorithm,n}var a=Pt.util.hexToBytes(i.dekInfo.parameters),f=Pt.pbe.opensslDeriveBytes(e,a.substr(0,8),s),c=o(f);if(c.start(a),c.update(Pt.util.createBuffer(i.body)),c.finish())t=c.output.getBytes();else return t}else t=i.body;return i.type==="ENCRYPTED PRIVATE KEY"?t=lr.decryptPrivateKeyInfo(He.fromDer(t),e):t=He.fromDer(t),t!==null&&(t=lr.privateKeyFromAsn1(t)),t};lr.pbe.generatePkcs12Key=function(r,e,t,i,n,s){var o,a;if(typeof s=="undefined"||s===null){if(!("sha1"in Pt.md))throw new Error('"sha1" hash algorithm unavailable.');s=Pt.md.sha1.create()}var f=s.digestLength,c=s.blockLength,l=new Pt.util.ByteBuffer,h=new Pt.util.ByteBuffer;if(r!=null){for(a=0;a<r.length;a++)h.putInt16(r.charCodeAt(a));h.putInt16(0)}var x=h.length(),_=e.length(),E=new Pt.util.ByteBuffer;E.fillWithByte(t,c);var C=c*Math.ceil(_/c),L=new Pt.util.ByteBuffer;for(a=0;a<C;a++)L.putByte(e.at(a%_));var O=c*Math.ceil(x/c),W=new Pt.util.ByteBuffer;for(a=0;a<O;a++)W.putByte(h.at(a%x));var ee=L;ee.putBuffer(W);for(var N=Math.ceil(n/f),V=1;V<=N;V++){var z=new Pt.util.ByteBuffer;z.putBytes(E.bytes()),z.putBytes(ee.bytes());for(var F=0;F<i;F++)s.start(),s.update(z.getBytes()),z=s.digest();var H=new Pt.util.ByteBuffer;for(a=0;a<c;a++)H.putByte(z.at(a%f));var K=Math.ceil(_/c)+Math.ceil(x/c),S=new Pt.util.ByteBuffer;for(o=0;o<K;o++){var w=new Pt.util.ByteBuffer(ee.getBytes(c)),T=511;for(a=H.length()-1;a>=0;a--)T=T>>8,T+=H.at(a)+w.at(a),w.setAt(a,T&255);S.putBuffer(w)}ee=S,l.putBuffer(z)}return l.truncate(l.length()-n),l};lr.pbe.getCipher=function(r,e,t){switch(r){case lr.oids.pkcs5PBES2:return lr.pbe.getCipherForPBES2(r,e,t);case lr.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case lr.oids["pbewithSHAAnd40BitRC2-CBC"]:return lr.pbe.getCipherForPKCS12PBE(r,e,t);default:var i=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw i.oid=r,i.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],i}};lr.pbe.getCipherForPBES2=function(r,e,t){var i={},n=[];if(!He.validate(e,vxe,i,n)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}if(r=He.derToOid(i.kdfOid),r!==lr.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=r,s.supportedOids=["pkcs5PBKDF2"],s}if(r=He.derToOid(i.encOid),r!==lr.oids["aes128-CBC"]&&r!==lr.oids["aes192-CBC"]&&r!==lr.oids["aes256-CBC"]&&r!==lr.oids["des-EDE3-CBC"]&&r!==lr.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=r,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var o=i.kdfSalt,a=Pt.util.createBuffer(i.kdfIterationCount);a=a.getInt(a.length()<<3);var f,c;switch(lr.oids[r]){case"aes128-CBC":f=16,c=Pt.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,c=Pt.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,c=Pt.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,c=Pt.des.createDecryptionCipher;break;case"desCBC":f=8,c=Pt.des.createDecryptionCipher;break}var l=mz(i.prfOid),h=Pt.pkcs5.pbkdf2(t,o,a,f,l),x=i.encIv,_=c(h);return _.start(x),_};lr.pbe.getCipherForPKCS12PBE=function(r,e,t){var i={},n=[];if(!He.validate(e,xxe,i,n)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}var o=Pt.util.createBuffer(i.salt),a=Pt.util.createBuffer(i.iterations);a=a.getInt(a.length()<<3);var f,c,l;switch(r){case lr.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,c=8,l=Pt.des.startDecrypting;break;case lr.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,c=8,l=function(C,L){var O=Pt.rc2.createDecryptionCipher(C,40);return O.start(L,null),O};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=r,s}var h=mz(i.prfOid),x=lr.pbe.generatePkcs12Key(t,o,1,a,f,h);h.start();var _=lr.pbe.generatePkcs12Key(t,o,2,a,c,h);return l(x,_)};lr.pbe.opensslDeriveBytes=function(r,e,t,i){if(typeof i=="undefined"||i===null){if(!("md5"in Pt.md))throw new Error('"md5" hash algorithm unavailable.');i=Pt.md.md5.create()}e===null&&(e="");for(var n=[yz(i,r+e)],s=16,o=1;s<t;++o,s+=16)n.push(yz(i,n[o-1]+r+e));return n.join("").substr(0,t)};function yz(r,e){return r.start().update(e).digest().getBytes()}function mz(r){var e;if(!r)e="hmacWithSHA1";else if(e=lr.oids[He.derToOid(r)],!e){var t=new Error("Unsupported PRF OID.");throw t.oid=r,t.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],t}return gz(e)}function gz(r){var e=Pt.md;switch(r){case"hmacWithSHA224":e=Pt.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":r=r.substr(8).toLowerCase();break;default:var t=new Error("Unsupported PRF algorithm.");throw t.algorithm=r,t.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],t}if(!e||!(r in e))throw new Error("Unknown hash algorithm: "+r);return e[r].create()}function wxe(r,e,t,i){var n=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,r),He.create(He.Class.UNIVERSAL,He.Type.INTEGER,!1,e.getBytes())]);return i!=="hmacWithSHA1"&&n.value.push(He.create(He.Class.UNIVERSAL,He.Type.INTEGER,!1,Pt.util.hexToBytes(t.toString(16))),He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(lr.oids[i]).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.NULL,!1,"")])),n}});var eb=M(xz=>{"use strict";xz.get=(r=self)=>{let e=r.crypto||r.msCrypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var K9=M((nYe,_z)=>{"use strict";var _xe=qo(),wz=Ai(),Exe=eb();function Sxe({algorithm:r="AES-GCM",nonceLength:e=12,keyLength:t=16,digest:i="SHA-256",saltLength:n=16,iterations:s=32767}={}){let o=Exe.get();t*=8;async function a(c,l){let h=o.getRandomValues(new Uint8Array(n)),x=o.getRandomValues(new Uint8Array(e)),_={name:r,iv:x},E={name:"PBKDF2",salt:h,iterations:s,hash:{name:i}},C=await o.subtle.importKey("raw",wz(l),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),L=await o.subtle.deriveKey(E,C,{name:r,length:t},!0,["encrypt"]),O=await o.subtle.encrypt(_,L,c);return _xe([h,_.iv,new Uint8Array(O)])}async function f(c,l){let h=c.slice(0,n),x=c.slice(n,n+e),_=c.slice(n+e),E={name:r,iv:x},C={name:"PBKDF2",salt:h,iterations:s,hash:{name:i}},L=await o.subtle.importKey("raw",wz(l),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),O=await o.subtle.deriveKey(C,L,{name:r,length:t},!0,["decrypt"]),W=await o.subtle.decrypt(E,O,_);return new Uint8Array(W)}return{encrypt:a,decrypt:f}}_z.exports={create:Sxe}});var Sz=M((sYe,Ez)=>{"use strict";var Axe=ff(),Ixe=K9();Ez.exports={import:async function(r,e){let i=Axe.names.base64.decode(r);return await Ixe.create().decrypt(i,e)}}});var gh=M((oYe,Az)=>{"use strict";var Txe=Vu(),mh=self.crypto||self.msCrypto,z9=async(r,e)=>{if(typeof self=="undefined"||!mh)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(e){case"sha1":return new Uint8Array(await mh.subtle.digest({name:"SHA-1"},r));case"sha2-256":return new Uint8Array(await mh.subtle.digest({name:"SHA-256"},r));case"sha2-512":return new Uint8Array(await mh.subtle.digest({name:"SHA-512"},r));case"dbl-sha2-256":{let t=await mh.subtle.digest({name:"SHA-256"},r);return new Uint8Array(await mh.subtle.digest({name:"SHA-256"},t))}default:throw new Error(`${e} is not a supported algorithm`)}};Az.exports={factory:r=>async e=>z9(e,r),digest:z9,multihashing:async(r,e,t)=>{let i=await z9(r,e);return Txe.encode(i,e,t)}}});var G5=M((aYe,Cz)=>{var li=pr();Ic();Jr();var tb=Cz.exports=li.sha512=li.sha512||{};li.md.sha512=li.md.algorithms.sha512=tb;var Iz=li.sha384=li.sha512.sha384=li.sha512.sha384||{};Iz.create=function(){return tb.create("SHA-384")};li.md.sha384=li.md.algorithms.sha384=Iz;li.sha512.sha256=li.sha512.sha256||{create:function(){return tb.create("SHA-512/256")}};li.md["sha512/256"]=li.md.algorithms["sha512/256"]=li.sha512.sha256;li.sha512.sha224=li.sha512.sha224||{create:function(){return tb.create("SHA-512/224")}};li.md["sha512/224"]=li.md.algorithms["sha512/224"]=li.sha512.sha224;tb.create=function(r){if(Tz||kxe(),typeof r=="undefined"&&(r="SHA-512"),!(r in el))throw new Error("Invalid SHA-512 algorithm: "+r);for(var e=el[r],t=null,i=li.util.createBuffer(),n=new Array(80),s=0;s<80;++s)n[s]=new Array(2);var o=64;switch(r){case"SHA-384":o=48;break;case"SHA-512/256":o=32;break;case"SHA-512/224":o=28;break}var a={algorithm:r.replace("-","").toLowerCase(),blockLength:128,digestLength:o,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var f=a.messageLengthSize/4,c=0;c<f;++c)a.fullMessageLength.push(0);i=li.util.createBuffer(),t=new Array(e.length);for(var c=0;c<e.length;++c)t[c]=e[c].slice(0);return a},a.start(),a.update=function(f,c){c==="utf8"&&(f=li.util.encodeUtf8(f));var l=f.length;a.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var h=a.fullMessageLength.length-1;h>=0;--h)a.fullMessageLength[h]+=l[1],l[1]=l[0]+(a.fullMessageLength[h]/4294967296>>>0),a.fullMessageLength[h]=a.fullMessageLength[h]>>>0,l[0]=l[1]/4294967296>>>0;return i.putBytes(f),kz(t,n,i),(i.read>2048||i.length()===0)&&i.compact(),a},a.digest=function(){var f=li.util.createBuffer();f.putBytes(i.bytes());var c=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,l=c&a.blockLength-1;f.putBytes(j9.substr(0,a.blockLength-l));for(var h,x,_=a.fullMessageLength[0]*8,E=0;E<a.fullMessageLength.length-1;++E)h=a.fullMessageLength[E+1]*8,x=h/4294967296>>>0,_+=x,f.putInt32(_>>>0),_=h>>>0;f.putInt32(_);for(var C=new Array(t.length),E=0;E<t.length;++E)C[E]=t[E].slice(0);kz(C,n,f);var L=li.util.createBuffer(),O;r==="SHA-512"?O=C.length:r==="SHA-384"?O=C.length-2:O=C.length-4;for(var E=0;E<O;++E)L.putInt32(C[E][0]),(E!==O-1||r!=="SHA-512/224")&&L.putInt32(C[E][1]);return L},a};var j9=null,Tz=!1,V9=null,el=null;function kxe(){j9=String.fromCharCode(128),j9+=li.util.fillString(String.fromCharCode(0),128),V9=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],el={},el["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],el["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],el["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],el["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Tz=!0}function kz(r,e,t){for(var i,n,s,o,a,f,c,l,h,x,_,E,C,L,O,W,ee,N,V,z,F,H,K,S,w,T,v,u,d,y,g,m,b,A,I,p=t.length();p>=128;){for(d=0;d<16;++d)e[d][0]=t.getInt32()>>>0,e[d][1]=t.getInt32()>>>0;for(;d<80;++d)m=e[d-2],y=m[0],g=m[1],i=((y>>>19|g<<13)^(g>>>29|y<<3)^y>>>6)>>>0,n=((y<<13|g>>>19)^(g<<3|y>>>29)^(y<<26|g>>>6))>>>0,A=e[d-15],y=A[0],g=A[1],s=((y>>>1|g<<31)^(y>>>8|g<<24)^y>>>7)>>>0,o=((y<<31|g>>>1)^(y<<24|g>>>8)^(y<<25|g>>>7))>>>0,b=e[d-7],I=e[d-16],g=n+b[1]+o+I[1],e[d][0]=i+b[0]+s+I[0]+(g/4294967296>>>0)>>>0,e[d][1]=g>>>0;for(C=r[0][0],L=r[0][1],O=r[1][0],W=r[1][1],ee=r[2][0],N=r[2][1],V=r[3][0],z=r[3][1],F=r[4][0],H=r[4][1],K=r[5][0],S=r[5][1],w=r[6][0],T=r[6][1],v=r[7][0],u=r[7][1],d=0;d<80;++d)c=((F>>>14|H<<18)^(F>>>18|H<<14)^(H>>>9|F<<23))>>>0,l=((F<<18|H>>>14)^(F<<14|H>>>18)^(H<<23|F>>>9))>>>0,h=(w^F&(K^w))>>>0,x=(T^H&(S^T))>>>0,a=((C>>>28|L<<4)^(L>>>2|C<<30)^(L>>>7|C<<25))>>>0,f=((C<<4|L>>>28)^(L<<30|C>>>2)^(L<<25|C>>>7))>>>0,_=(C&O|ee&(C^O))>>>0,E=(L&W|N&(L^W))>>>0,g=u+l+x+V9[d][1]+e[d][1],i=v+c+h+V9[d][0]+e[d][0]+(g/4294967296>>>0)>>>0,n=g>>>0,g=f+E,s=a+_+(g/4294967296>>>0)>>>0,o=g>>>0,v=w,u=T,w=K,T=S,K=F,S=H,g=z+n,F=V+i+(g/4294967296>>>0)>>>0,H=g>>>0,V=ee,z=N,ee=O,N=W,O=C,W=L,g=n+o,C=i+s+(g/4294967296>>>0)>>>0,L=g>>>0;g=r[0][1]+L,r[0][0]=r[0][0]+C+(g/4294967296>>>0)>>>0,r[0][1]=g>>>0,g=r[1][1]+W,r[1][0]=r[1][0]+O+(g/4294967296>>>0)>>>0,r[1][1]=g>>>0,g=r[2][1]+N,r[2][0]=r[2][0]+ee+(g/4294967296>>>0)>>>0,r[2][1]=g>>>0,g=r[3][1]+z,r[3][0]=r[3][0]+V+(g/4294967296>>>0)>>>0,r[3][1]=g>>>0,g=r[4][1]+H,r[4][0]=r[4][0]+F+(g/4294967296>>>0)>>>0,r[4][1]=g>>>0,g=r[5][1]+S,r[5][0]=r[5][0]+K+(g/4294967296>>>0)>>>0,r[5][1]=g>>>0,g=r[6][1]+T,r[6][0]=r[6][0]+w+(g/4294967296>>>0)>>>0,r[6][1]=g>>>0,g=r[7][1]+u,r[7][0]=r[7][0]+v+(g/4294967296>>>0)>>>0,r[7][1]=g>>>0,p-=128}}});var Bz=M(H9=>{var Cxe=pr();w0();var En=Cxe.asn1;H9.privateKeyValidator={name:"PrivateKeyInfo",tagClass:En.Class.UNIVERSAL,type:En.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:En.Class.UNIVERSAL,type:En.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:En.Class.UNIVERSAL,type:En.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:En.Class.UNIVERSAL,type:En.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:En.Class.UNIVERSAL,type:En.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};H9.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:En.Class.UNIVERSAL,type:En.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:En.Class.UNIVERSAL,type:En.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:En.Class.UNIVERSAL,type:En.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:En.Class.UNIVERSAL,type:En.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var e7=M((cYe,zz)=>{var Kn=pr();X2();Tc();G5();Jr();var Mz=Bz(),Bxe=Mz.publicKeyValidator,Mxe=Mz.privateKeyValidator;typeof Rz=="undefined"&&(Rz=Kn.jsbn.BigInteger);var Rz,$9=Kn.util.ByteBuffer,Us=typeof Buffer=="undefined"?Uint8Array:Buffer;Kn.pki=Kn.pki||{};zz.exports=Kn.pki.ed25519=Kn.ed25519=Kn.ed25519||{};var Er=Kn.ed25519;Er.constants={};Er.constants.PUBLIC_KEY_BYTE_LENGTH=32;Er.constants.PRIVATE_KEY_BYTE_LENGTH=64;Er.constants.SEED_BYTE_LENGTH=32;Er.constants.SIGN_BYTE_LENGTH=64;Er.constants.HASH_BYTE_LENGTH=64;Er.generateKeyPair=function(r){r=r||{};var e=r.seed;if(e===void 0)e=Kn.random.getBytesSync(Er.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==Er.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+Er.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=A0({message:e,encoding:"binary"});for(var t=new Us(Er.constants.PUBLIC_KEY_BYTE_LENGTH),i=new Us(Er.constants.PRIVATE_KEY_BYTE_LENGTH),n=0;n<32;++n)i[n]=e[n];return qxe(t,i),{publicKey:t,privateKey:i}};Er.privateKeyFromAsn1=function(r){var e={},t=[],i=Kn.asn1.validate(r,Mxe,e,t);if(!i){var n=new Error("Invalid Key.");throw n.errors=t,n}var s=Kn.asn1.derToOid(e.privateKeyOid),o=Kn.oids.EdDSA25519;if(s!==o)throw new Error('Invalid OID "'+s+'"; OID must be "'+o+'".');var a=e.privateKey,f=A0({message:Kn.asn1.fromDer(a).value,encoding:"binary"});return{privateKeyBytes:f}};Er.publicKeyFromAsn1=function(r){var e={},t=[],i=Kn.asn1.validate(r,Bxe,e,t);if(!i){var n=new Error("Invalid Key.");throw n.errors=t,n}var s=Kn.asn1.derToOid(e.publicKeyOid),o=Kn.oids.EdDSA25519;if(s!==o)throw new Error('Invalid OID "'+s+'"; OID must be "'+o+'".');var a=e.ed25519PublicKey;if(a.length!==Er.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return A0({message:a,encoding:"binary"})};Er.publicKeyFromPrivateKey=function(r){r=r||{};var e=A0({message:r.privateKey,encoding:"binary"});if(e.length!==Er.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Er.constants.PRIVATE_KEY_BYTE_LENGTH);for(var t=new Us(Er.constants.PUBLIC_KEY_BYTE_LENGTH),i=0;i<t.length;++i)t[i]=e[32+i];return t};Er.sign=function(r){r=r||{};var e=A0(r),t=A0({message:r.privateKey,encoding:"binary"});if(t.length===Er.constants.SEED_BYTE_LENGTH){var i=Er.generateKeyPair({seed:t});t=i.privateKey}else if(t.length!==Er.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Er.constants.SEED_BYTE_LENGTH+" or "+Er.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new Us(Er.constants.SIGN_BYTE_LENGTH+e.length);Oxe(n,e,e.length,t);for(var s=new Us(Er.constants.SIGN_BYTE_LENGTH),o=0;o<s.length;++o)s[o]=n[o];return s};Er.verify=function(r){r=r||{};var e=A0(r);if(r.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var t=A0({message:r.signature,encoding:"binary"});if(t.length!==Er.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+Er.constants.SIGN_BYTE_LENGTH);var i=A0({message:r.publicKey,encoding:"binary"});if(i.length!==Er.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+Er.constants.PUBLIC_KEY_BYTE_LENGTH);var n=new Us(Er.constants.SIGN_BYTE_LENGTH+e.length),s=new Us(Er.constants.SIGN_BYTE_LENGTH+e.length),o;for(o=0;o<Er.constants.SIGN_BYTE_LENGTH;++o)n[o]=t[o];for(o=0;o<e.length;++o)n[o+Er.constants.SIGN_BYTE_LENGTH]=e[o];return Dxe(s,n,n.length,i)>=0};function A0(r){var e=r.message;if(e instanceof Uint8Array||e instanceof Us)return e;var t=r.encoding;if(e===void 0)if(r.md)e=r.md.digest().getBytes(),t="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!t)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer!="undefined")return Buffer.from(e,t);e=new $9(e,t)}else if(!(e instanceof $9))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new Us(e.length()),n=0;n<i.length;++n)i[n]=e.at(n);return i}var G9=Zt(),Y5=Zt([1]),Rxe=Zt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Nxe=Zt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Nz=Zt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Pz=Zt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Y9=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),Pxe=Zt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function rb(r,e){var t=Kn.md.sha512.create(),i=new $9(r);t.update(i.getBytes(e),"binary");var n=t.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(n,"binary");for(var s=new Us(Er.constants.HASH_BYTE_LENGTH),o=0;o<64;++o)s[o]=n.charCodeAt(o);return s}function qxe(r,e){var t=[Zt(),Zt(),Zt(),Zt()],i,n=rb(e,32);for(n[0]&=248,n[31]&=127,n[31]|=64,X9(t,n),J9(r,t),i=0;i<32;++i)e[i+32]=r[i];return 0}function Oxe(r,e,t,i){var n,s,o=new Float64Array(64),a=[Zt(),Zt(),Zt(),Zt()],f=rb(i,32);f[0]&=248,f[31]&=127,f[31]|=64;var c=t+64;for(n=0;n<t;++n)r[64+n]=e[n];for(n=0;n<32;++n)r[32+n]=f[32+n];var l=rb(r.subarray(32),t+32);for(W9(l),X9(a,l),J9(r,a),n=32;n<64;++n)r[n]=i[n];var h=rb(r,t+64);for(W9(h),n=32;n<64;++n)o[n]=0;for(n=0;n<32;++n)o[n]=l[n];for(n=0;n<32;++n)for(s=0;s<32;s++)o[n+s]+=h[n]*f[s];return qz(r.subarray(32),o),c}function Dxe(r,e,t,i){var n,s,o=new Us(32),a=[Zt(),Zt(),Zt(),Zt()],f=[Zt(),Zt(),Zt(),Zt()];if(s=-1,t<64||Lxe(f,i))return-1;for(n=0;n<t;++n)r[n]=e[n];for(n=0;n<32;++n)r[n+32]=i[n];var c=rb(r,t);if(W9(c),Fz(a,f,c),X9(f,e.subarray(32)),Z9(a,f),J9(o,a),t-=64,Lz(e,0,o,0)){for(n=0;n<t;++n)r[n]=0;return-1}for(n=0;n<t;++n)r[n]=e[n+64];return s=t,s}function qz(r,e){var t,i,n,s;for(i=63;i>=32;--i){for(t=0,n=i-32,s=i-12;n<s;++n)e[n]+=t-16*e[i]*Y9[n-(i-32)],t=e[n]+128>>8,e[n]-=t*256;e[n]+=t,e[i]=0}for(t=0,n=0;n<32;++n)e[n]+=t-(e[31]>>4)*Y9[n],t=e[n]>>8,e[n]&=255;for(n=0;n<32;++n)e[n]-=t*Y9[n];for(i=0;i<32;++i)e[i+1]+=e[i]>>8,r[i]=e[i]&255}function W9(r){for(var e=new Float64Array(64),t=0;t<64;++t)e[t]=r[t],r[t]=0;qz(r,e)}function Z9(r,e){var t=Zt(),i=Zt(),n=Zt(),s=Zt(),o=Zt(),a=Zt(),f=Zt(),c=Zt(),l=Zt();xh(t,r[1],r[0]),xh(l,e[1],e[0]),Xr(t,t,l),vh(i,r[0],r[1]),vh(l,e[0],e[1]),Xr(i,i,l),Xr(n,r[3],e[3]),Xr(n,n,Nxe),Xr(s,r[2],e[2]),vh(s,s,s),xh(o,i,t),xh(a,s,n),vh(f,s,n),vh(c,i,t),Xr(r[0],o,a),Xr(r[1],c,f),Xr(r[2],f,a),Xr(r[3],o,c)}function Oz(r,e,t){for(var i=0;i<4;++i)Kz(r[i],e[i],t)}function J9(r,e){var t=Zt(),i=Zt(),n=Zt();zxe(n,e[2]),Xr(t,e[0],n),Xr(i,e[1],n),W5(r,i),r[31]^=Uz(t)<<7}function W5(r,e){var t,i,n,s=Zt(),o=Zt();for(t=0;t<16;++t)o[t]=e[t];for(Q9(o),Q9(o),Q9(o),i=0;i<2;++i){for(s[0]=o[0]-65517,t=1;t<15;++t)s[t]=o[t]-65535-(s[t-1]>>16&1),s[t-1]&=65535;s[15]=o[15]-32767-(s[14]>>16&1),n=s[15]>>16&1,s[14]&=65535,Kz(o,s,1-n)}for(t=0;t<16;t++)r[2*t]=o[t]&255,r[2*t+1]=o[t]>>8}function Lxe(r,e){var t=Zt(),i=Zt(),n=Zt(),s=Zt(),o=Zt(),a=Zt(),f=Zt();return Bc(r[2],Y5),Uxe(r[1],e),tl(n,r[1]),Xr(s,n,Rxe),xh(n,n,r[2]),vh(s,r[2],s),tl(o,s),tl(a,o),Xr(f,a,o),Xr(t,f,n),Xr(t,t,s),Fxe(t,t),Xr(t,t,n),Xr(t,t,s),Xr(t,t,s),Xr(r[0],t,s),tl(i,r[0]),Xr(i,i,s),Dz(i,n)&&Xr(r[0],r[0],Pxe),tl(i,r[0]),Xr(i,i,s),Dz(i,n)?-1:(Uz(r[0])===e[31]>>7&&xh(r[0],G9,r[0]),Xr(r[3],r[0],r[1]),0)}function Uxe(r,e){var t;for(t=0;t<16;++t)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function Fxe(r,e){var t=Zt(),i;for(i=0;i<16;++i)t[i]=e[i];for(i=250;i>=0;--i)tl(t,t),i!==1&&Xr(t,t,e);for(i=0;i<16;++i)r[i]=t[i]}function Dz(r,e){var t=new Us(32),i=new Us(32);return W5(t,r),W5(i,e),Lz(t,0,i,0)}function Lz(r,e,t,i){return Kxe(r,e,t,i,32)}function Kxe(r,e,t,i,n){var s,o=0;for(s=0;s<n;++s)o|=r[e+s]^t[i+s];return(1&o-1>>>8)-1}function Uz(r){var e=new Us(32);return W5(e,r),e[0]&1}function Fz(r,e,t){var i,n;for(Bc(r[0],G9),Bc(r[1],Y5),Bc(r[2],Y5),Bc(r[3],G9),n=255;n>=0;--n)i=t[n/8|0]>>(n&7)&1,Oz(r,e,i),Z9(e,r),Z9(r,r),Oz(r,e,i)}function X9(r,e){var t=[Zt(),Zt(),Zt(),Zt()];Bc(t[0],Nz),Bc(t[1],Pz),Bc(t[2],Y5),Xr(t[3],Nz,Pz),Fz(r,t,e)}function Bc(r,e){var t;for(t=0;t<16;t++)r[t]=e[t]|0}function zxe(r,e){var t=Zt(),i;for(i=0;i<16;++i)t[i]=e[i];for(i=253;i>=0;--i)tl(t,t),i!==2&&i!==4&&Xr(t,t,e);for(i=0;i<16;++i)r[i]=t[i]}function Q9(r){var e,t,i=1;for(e=0;e<16;++e)t=r[e]+i+65535,i=Math.floor(t/65536),r[e]=t-i*65536;r[0]+=i-1+37*(i-1)}function Kz(r,e,t){for(var i,n=~(t-1),s=0;s<16;++s)i=n&(r[s]^e[s]),r[s]^=i,e[s]^=i}function Zt(r){var e,t=new Float64Array(16);if(r)for(e=0;e<r.length;++e)t[e]=r[e];return t}function vh(r,e,t){for(var i=0;i<16;++i)r[i]=e[i]+t[i]}function xh(r,e,t){for(var i=0;i<16;++i)r[i]=e[i]-t[i]}function tl(r,e){Xr(r,e,e)}function Xr(r,e,t){var i,n,s=0,o=0,a=0,f=0,c=0,l=0,h=0,x=0,_=0,E=0,C=0,L=0,O=0,W=0,ee=0,N=0,V=0,z=0,F=0,H=0,K=0,S=0,w=0,T=0,v=0,u=0,d=0,y=0,g=0,m=0,b=0,A=t[0],I=t[1],p=t[2],B=t[3],ce=t[4],R=t[5],fe=t[6],se=t[7],U=t[8],Z=t[9],j=t[10],J=t[11],k=t[12],$=t[13],X=t[14],Y=t[15];i=e[0],s+=i*A,o+=i*I,a+=i*p,f+=i*B,c+=i*ce,l+=i*R,h+=i*fe,x+=i*se,_+=i*U,E+=i*Z,C+=i*j,L+=i*J,O+=i*k,W+=i*$,ee+=i*X,N+=i*Y,i=e[1],o+=i*A,a+=i*I,f+=i*p,c+=i*B,l+=i*ce,h+=i*R,x+=i*fe,_+=i*se,E+=i*U,C+=i*Z,L+=i*j,O+=i*J,W+=i*k,ee+=i*$,N+=i*X,V+=i*Y,i=e[2],a+=i*A,f+=i*I,c+=i*p,l+=i*B,h+=i*ce,x+=i*R,_+=i*fe,E+=i*se,C+=i*U,L+=i*Z,O+=i*j,W+=i*J,ee+=i*k,N+=i*$,V+=i*X,z+=i*Y,i=e[3],f+=i*A,c+=i*I,l+=i*p,h+=i*B,x+=i*ce,_+=i*R,E+=i*fe,C+=i*se,L+=i*U,O+=i*Z,W+=i*j,ee+=i*J,N+=i*k,V+=i*$,z+=i*X,F+=i*Y,i=e[4],c+=i*A,l+=i*I,h+=i*p,x+=i*B,_+=i*ce,E+=i*R,C+=i*fe,L+=i*se,O+=i*U,W+=i*Z,ee+=i*j,N+=i*J,V+=i*k,z+=i*$,F+=i*X,H+=i*Y,i=e[5],l+=i*A,h+=i*I,x+=i*p,_+=i*B,E+=i*ce,C+=i*R,L+=i*fe,O+=i*se,W+=i*U,ee+=i*Z,N+=i*j,V+=i*J,z+=i*k,F+=i*$,H+=i*X,K+=i*Y,i=e[6],h+=i*A,x+=i*I,_+=i*p,E+=i*B,C+=i*ce,L+=i*R,O+=i*fe,W+=i*se,ee+=i*U,N+=i*Z,V+=i*j,z+=i*J,F+=i*k,H+=i*$,K+=i*X,S+=i*Y,i=e[7],x+=i*A,_+=i*I,E+=i*p,C+=i*B,L+=i*ce,O+=i*R,W+=i*fe,ee+=i*se,N+=i*U,V+=i*Z,z+=i*j,F+=i*J,H+=i*k,K+=i*$,S+=i*X,w+=i*Y,i=e[8],_+=i*A,E+=i*I,C+=i*p,L+=i*B,O+=i*ce,W+=i*R,ee+=i*fe,N+=i*se,V+=i*U,z+=i*Z,F+=i*j,H+=i*J,K+=i*k,S+=i*$,w+=i*X,T+=i*Y,i=e[9],E+=i*A,C+=i*I,L+=i*p,O+=i*B,W+=i*ce,ee+=i*R,N+=i*fe,V+=i*se,z+=i*U,F+=i*Z,H+=i*j,K+=i*J,S+=i*k,w+=i*$,T+=i*X,v+=i*Y,i=e[10],C+=i*A,L+=i*I,O+=i*p,W+=i*B,ee+=i*ce,N+=i*R,V+=i*fe,z+=i*se,F+=i*U,H+=i*Z,K+=i*j,S+=i*J,w+=i*k,T+=i*$,v+=i*X,u+=i*Y,i=e[11],L+=i*A,O+=i*I,W+=i*p,ee+=i*B,N+=i*ce,V+=i*R,z+=i*fe,F+=i*se,H+=i*U,K+=i*Z,S+=i*j,w+=i*J,T+=i*k,v+=i*$,u+=i*X,d+=i*Y,i=e[12],O+=i*A,W+=i*I,ee+=i*p,N+=i*B,V+=i*ce,z+=i*R,F+=i*fe,H+=i*se,K+=i*U,S+=i*Z,w+=i*j,T+=i*J,v+=i*k,u+=i*$,d+=i*X,y+=i*Y,i=e[13],W+=i*A,ee+=i*I,N+=i*p,V+=i*B,z+=i*ce,F+=i*R,H+=i*fe,K+=i*se,S+=i*U,w+=i*Z,T+=i*j,v+=i*J,u+=i*k,d+=i*$,y+=i*X,g+=i*Y,i=e[14],ee+=i*A,N+=i*I,V+=i*p,z+=i*B,F+=i*ce,H+=i*R,K+=i*fe,S+=i*se,w+=i*U,T+=i*Z,v+=i*j,u+=i*J,d+=i*k,y+=i*$,g+=i*X,m+=i*Y,i=e[15],N+=i*A,V+=i*I,z+=i*p,F+=i*B,H+=i*ce,K+=i*R,S+=i*fe,w+=i*se,T+=i*U,v+=i*Z,u+=i*j,d+=i*J,y+=i*k,g+=i*$,m+=i*X,b+=i*Y,s+=38*V,o+=38*z,a+=38*F,f+=38*H,c+=38*K,l+=38*S,h+=38*w,x+=38*T,_+=38*v,E+=38*u,C+=38*d,L+=38*y,O+=38*g,W+=38*m,ee+=38*b,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=l+n+65535,n=Math.floor(i/65536),l=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=x+n+65535,n=Math.floor(i/65536),x=i-n*65536,i=_+n+65535,n=Math.floor(i/65536),_=i-n*65536,i=E+n+65535,n=Math.floor(i/65536),E=i-n*65536,i=C+n+65535,n=Math.floor(i/65536),C=i-n*65536,i=L+n+65535,n=Math.floor(i/65536),L=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,i=ee+n+65535,n=Math.floor(i/65536),ee=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=l+n+65535,n=Math.floor(i/65536),l=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=x+n+65535,n=Math.floor(i/65536),x=i-n*65536,i=_+n+65535,n=Math.floor(i/65536),_=i-n*65536,i=E+n+65535,n=Math.floor(i/65536),E=i-n*65536,i=C+n+65535,n=Math.floor(i/65536),C=i-n*65536,i=L+n+65535,n=Math.floor(i/65536),L=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,i=ee+n+65535,n=Math.floor(i/65536),ee=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,s+=n-1+37*(n-1),r[0]=s,r[1]=o,r[2]=a,r[3]=f,r[4]=c,r[5]=l,r[6]=h,r[7]=x,r[8]=_,r[9]=E,r[10]=C,r[11]=L,r[12]=O,r[13]=W,r[14]=ee,r[15]=N}});var Vz=M((uYe,jz)=>{"use strict";var Z5=65536;function jxe(r){let e=new Uint8Array(r),t=0;if(r>0)if(r>Z5)for(;t<r;)t+Z5>r?(crypto.getRandomValues(e.subarray(t,t+(r-t))),t+=r-t):(crypto.getRandomValues(e.subarray(t,t+Z5)),t+=Z5);else crypto.getRandomValues(e);return e}jz.exports=jxe});var J5=M((lYe,Hz)=>{"use strict";var Vxe=Vz(),Hxe=Ht();Hz.exports=function(r){if(isNaN(r)||r<=0)throw Hxe(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return Vxe(r)}});var X5=M(ib=>{"use strict";Jr();X2();var $xe=pr(),Gxe=Ai(),$z=Kr(),Gz=qo();ib.bigIntegerToUintBase64url=(r,e)=>{let t=Uint8Array.from(r.abs().toByteArray());if(t=t[0]===0?t.slice(1):t,e!=null){if(t.length>e)throw new Error("byte array longer than desired length");t=Gz([new Uint8Array(e-t.length),t])}return $z(t,"base64url")};ib.base64urlToBigInteger=r=>{let e=ib.base64urlToBuffer(r);return new $xe.jsbn.BigInteger($z(e,"base16"),16)};ib.base64urlToBuffer=(r,e)=>{let t=Gxe(r,"base64urlpad");if(e!=null){if(t.length>e)throw new Error("byte array longer than desired length");t=Gz([new Uint8Array(e-t.length),t])}return t}});var Zz=M(nb=>{"use strict";w0();Q2();var Mc=pr(),{bigIntegerToUintBase64url:Sf,base64urlToBigInteger:Af}=X5(),Yz=Ai(),Wz=Kr();nb.pkcs1ToJwk=function(r){let e=Mc.asn1.fromDer(Wz(r,"ascii")),t=Mc.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Sf(t.n),e:Sf(t.e),d:Sf(t.d),p:Sf(t.p),q:Sf(t.q),dp:Sf(t.dP),dq:Sf(t.dQ),qi:Sf(t.qInv),alg:"RS256",kid:"2011-04-29"}};nb.jwkToPkcs1=function(r){let e=Mc.pki.privateKeyToAsn1({n:Af(r.n),e:Af(r.e),d:Af(r.d),p:Af(r.p),q:Af(r.q),dP:Af(r.dp),dQ:Af(r.dq),qInv:Af(r.qi)});return Yz(Mc.asn1.toDer(e).getBytes(),"ascii")};nb.pkixToJwk=function(r){let e=Mc.asn1.fromDer(Wz(r,"ascii")),t=Mc.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Sf(t.n),e:Sf(t.e),alg:"RS256",kid:"2011-04-29"}};nb.jwkToPkix=function(r){let e=Mc.pki.publicKeyToAsn1({n:Af(r.n),e:Af(r.e)});return Yz(Mc.asn1.toDer(e).getBytes(),"ascii")}});var ej=M((pYe,Qz)=>{"use strict";Q2();var Jz=pr(),{base64urlToBigInteger:Yxe}=X5();function Xz(r,e){return e.map(t=>Yxe(r[t]))}function Wxe(r){return Jz.pki.setRsaPrivateKey(...Xz(r,["n","e","d","p","q","dp","dq","qi"]))}function Zxe(r){return Jz.pki.setRsaPublicKey(...Xz(r,["n","e"]))}Qz.exports={jwk2pub:Zxe,jwk2priv:Wxe}});var ij=M(T0=>{"use strict";var I0=eb(),Jxe=J5(),Xxe=Kr(),Qxe=Ai();T0.utils=Zz();T0.generateKey=async function(r){let e=await I0.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:r,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),t=await tj(e);return{privateKey:t[0],publicKey:t[1]}};T0.unmarshalPrivateKey=async function(r){let t=[await I0.get().subtle.importKey("jwk",r,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await ewe(r)],i=await tj({privateKey:t[0],publicKey:t[1]});return{privateKey:i[0],publicKey:i[1]}};T0.getRandomValues=Jxe;T0.hashAndSign=async function(r,e){let t=await I0.get().subtle.importKey("jwk",r,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),i=await I0.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},t,Uint8Array.from(e));return new Uint8Array(i,i.byteOffset,i.byteLength)};T0.hashAndVerify=async function(r,e,t){let i=await I0.get().subtle.importKey("jwk",r,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return I0.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},i,e,t)};function tj(r){return Promise.all([I0.get().subtle.exportKey("jwk",r.privateKey),I0.get().subtle.exportKey("jwk",r.publicKey)])}function ewe(r){return I0.get().subtle.importKey("jwk",{kty:r.kty,n:r.n,e:r.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:twe,jwk2priv:rwe}=ej();function rj(r,e,t,i){let n=e?twe(r):rwe(r),s=Xxe(Uint8Array.from(t),"ascii"),o=i(s,n);return Qxe(o,"ascii")}T0.encrypt=function(r,e){return rj(r,!0,e,(t,i)=>i.encrypt(t))};T0.decrypt=function(r,e){return rj(r,!1,e,(t,i)=>i.decrypt(t))}});var Q5=M((yYe,nj)=>{"use strict";var iwe=ff(),nwe=K9();nj.exports={export:async function(r,e){let i=await nwe.create().encrypt(r,e);return iwe.names.base64.encode(i)}}});var cj=M((mYe,fj)=>{"use strict";var sj=gh(),oj=Ht(),aj=gn(),swe=Kr();G5();e7();var e3=pr(),Ko=ij(),t3=C5(),owe=Q5(),r3=class{constructor(e){this._key=e}async verify(e,t){return Ko.hashAndVerify(this._key,t,e)}marshal(){return Ko.utils.jwkToPkix(this._key)}get bytes(){return t3.PublicKey.encode({Type:t3.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return Ko.encrypt(this._key,e)}equals(e){return aj(this.bytes,e.bytes)}async hash(){return sj.multihashing(this.bytes,"sha2-256")}},sb=class{constructor(e,t){this._key=e,this._publicKey=t}genSecret(){return Ko.getRandomValues(16)}async sign(e){return Ko.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw oj(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new r3(this._publicKey)}decrypt(e){return Ko.decrypt(this._key,e)}marshal(){return Ko.utils.jwkToPkcs1(this._key)}get bytes(){return t3.PrivateKey.encode({Type:t3.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return aj(this.bytes,e.bytes)}async hash(){return sj.multihashing(this.bytes,"sha2-256")}async id(){let e=await this.public.hash();return swe(e,"base58btc")}async export(e,t="pkcs-8"){if(t==="pkcs-8"){let i=new e3.util.ByteBuffer(this.marshal()),n=e3.asn1.fromDer(i),s=e3.pki.privateKeyFromAsn1(n),o={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return e3.pki.encryptRsaPrivateKey(s,e,o)}else{if(t==="libp2p-key")return owe.export(this.bytes,e);throw oj(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function awe(r){let e=Ko.utils.pkcs1ToJwk(r),t=await Ko.unmarshalPrivateKey(e);return new sb(t.privateKey,t.publicKey)}function fwe(r){let e=Ko.utils.pkixToJwk(r);return new r3(e)}async function cwe(r){let e=await Ko.unmarshalPrivateKey(r);return new sb(e.privateKey,e.publicKey)}async function uwe(r){let e=await Ko.generateKey(r);return new sb(e.privateKey,e.publicKey)}fj.exports={RsaPublicKey:r3,RsaPrivateKey:sb,unmarshalRsaPublicKey:fwe,unmarshalRsaPrivateKey:awe,generateKeyPair:uwe,fromJwk:cwe}});var uj=M(rl=>{"use strict";e7();var wh=pr();rl.publicKeyLength=wh.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH;rl.privateKeyLength=wh.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH;rl.generateKey=async function(){return wh.pki.ed25519.generateKeyPair()};rl.generateKeyFromSeed=async function(r){return wh.pki.ed25519.generateKeyPair({seed:r})};rl.hashAndSign=async function(r,e){return wh.pki.ed25519.sign({message:e,privateKey:r})};rl.hashAndVerify=async function(r,e,t){return wh.pki.ed25519.verify({signature:e,message:t,publicKey:r})}});var yj=M((vYe,bj)=>{"use strict";var lj=gh(),dj=Ht(),hj=gn(),pj=Vu(),is=uj(),i3=C5(),lwe=Q5(),n3=class{constructor(e){this._key=Eh(e,is.publicKeyLength)}async verify(e,t){return is.hashAndVerify(this._key,t,e)}marshal(){return this._key}get bytes(){return i3.PublicKey.encode({Type:i3.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return hj(this.bytes,e.bytes)}async hash(){return lj.multihashing(this.bytes,"sha2-256")}},_h=class{constructor(e,t){this._key=Eh(e,is.privateKeyLength),this._publicKey=Eh(t,is.publicKeyLength)}async sign(e){return is.hashAndSign(this._key,e)}get public(){return new n3(this._publicKey)}marshal(){return this._key}get bytes(){return i3.PrivateKey.encode({Type:i3.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return hj(this.bytes,e.bytes)}async hash(){return lj.multihashing(this.bytes,"sha2-256")}async id(){let e=pj.encode(this.public.bytes,"identity");return await pj.toB58String(e)}async export(e,t="libp2p-key"){if(t==="libp2p-key")return lwe.export(this.bytes,e);throw dj(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function dwe(r){if(r.length>is.privateKeyLength){r=Eh(r,is.privateKeyLength+is.publicKeyLength);let i=r.slice(0,is.privateKeyLength),n=r.slice(is.privateKeyLength,r.length);return new _h(i,n)}r=Eh(r,is.privateKeyLength);let e=r.slice(0,is.privateKeyLength),t=r.slice(is.publicKeyLength);return new _h(e,t)}function hwe(r){return r=Eh(r,is.publicKeyLength),new n3(r)}async function pwe(){let{privateKey:r,publicKey:e}=await is.generateKey();return new _h(r,e)}async function bwe(r){let{privateKey:e,publicKey:t}=await is.generateKeyFromSeed(r);return new _h(e,t)}function Eh(r,e){if(r=Uint8Array.from(r||[]),r.length!==e)throw dj(new Error(`Key must be a Uint8Array of length ${e}, got ${r.length}`),"ERR_INVALID_KEY_TYPE");return r}bj.exports={Ed25519PublicKey:n3,Ed25519PrivateKey:_h,unmarshalEd25519PrivateKey:dwe,unmarshalEd25519PublicKey:hwe,generateKeyPair:pwe,generateKeyPairFromSeed:bwe}});var gj=M((xYe,mj)=>{var Fr={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function zo(r,e){if(!r)throw new Error(e)}function Nr(r,e,t){if(zo(e instanceof Uint8Array,`Expected ${r} to be an Uint8Array`),t!==void 0)if(Array.isArray(t)){let i=t.join(", "),n=`Expected ${r} to be an Uint8Array with length [${i}]`;zo(t.includes(e.length),n)}else{let i=`Expected ${r} to be an Uint8Array with length ${t}`;zo(e.length===t,i)}}function il(r){zo(Sh(r)==="Boolean","Expected compressed to be a Boolean")}function ka(r=t=>new Uint8Array(t),e){return typeof r=="function"&&(r=r(e)),Nr("output",r,e),r}function Sh(r){return Object.prototype.toString.call(r).slice(8,-1)}mj.exports=r=>({contextRandomize(e){switch(zo(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&Nr("seed",e,32),r.contextRandomize(e)){case 1:throw new Error(Fr.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return Nr("private key",e,32),r.privateKeyVerify(e)===0},privateKeyNegate(e){switch(Nr("private key",e,32),r.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(Fr.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,t){switch(Nr("private key",e,32),Nr("tweak",t,32),r.privateKeyTweakAdd(e,t)){case 0:return e;case 1:throw new Error(Fr.TWEAK_ADD)}},privateKeyTweakMul(e,t){switch(Nr("private key",e,32),Nr("tweak",t,32),r.privateKeyTweakMul(e,t)){case 0:return e;case 1:throw new Error(Fr.TWEAK_MUL)}},publicKeyVerify(e){return Nr("public key",e,[33,65]),r.publicKeyVerify(e)===0},publicKeyCreate(e,t=!0,i){switch(Nr("private key",e,32),il(t),i=ka(i,t?33:65),r.publicKeyCreate(i,e)){case 0:return i;case 1:throw new Error(Fr.SECKEY_INVALID);case 2:throw new Error(Fr.PUBKEY_SERIALIZE)}},publicKeyConvert(e,t=!0,i){switch(Nr("public key",e,[33,65]),il(t),i=ka(i,t?33:65),r.publicKeyConvert(i,e)){case 0:return i;case 1:throw new Error(Fr.PUBKEY_PARSE);case 2:throw new Error(Fr.PUBKEY_SERIALIZE)}},publicKeyNegate(e,t=!0,i){switch(Nr("public key",e,[33,65]),il(t),i=ka(i,t?33:65),r.publicKeyNegate(i,e)){case 0:return i;case 1:throw new Error(Fr.PUBKEY_PARSE);case 2:throw new Error(Fr.IMPOSSIBLE_CASE);case 3:throw new Error(Fr.PUBKEY_SERIALIZE)}},publicKeyCombine(e,t=!0,i){zo(Array.isArray(e),"Expected public keys to be an Array"),zo(e.length>0,"Expected public keys array will have more than zero items");for(let n of e)Nr("public key",n,[33,65]);switch(il(t),i=ka(i,t?33:65),r.publicKeyCombine(i,e)){case 0:return i;case 1:throw new Error(Fr.PUBKEY_PARSE);case 2:throw new Error(Fr.PUBKEY_COMBINE);case 3:throw new Error(Fr.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,t,i=!0,n){switch(Nr("public key",e,[33,65]),Nr("tweak",t,32),il(i),n=ka(n,i?33:65),r.publicKeyTweakAdd(n,e,t)){case 0:return n;case 1:throw new Error(Fr.PUBKEY_PARSE);case 2:throw new Error(Fr.TWEAK_ADD)}},publicKeyTweakMul(e,t,i=!0,n){switch(Nr("public key",e,[33,65]),Nr("tweak",t,32),il(i),n=ka(n,i?33:65),r.publicKeyTweakMul(n,e,t)){case 0:return n;case 1:throw new Error(Fr.PUBKEY_PARSE);case 2:throw new Error(Fr.TWEAK_MUL)}},signatureNormalize(e){switch(Nr("signature",e,64),r.signatureNormalize(e)){case 0:return e;case 1:throw new Error(Fr.SIG_PARSE)}},signatureExport(e,t){Nr("signature",e,64),t=ka(t,72);let i={output:t,outputlen:72};switch(r.signatureExport(i,e)){case 0:return t.slice(0,i.outputlen);case 1:throw new Error(Fr.SIG_PARSE);case 2:throw new Error(Fr.IMPOSSIBLE_CASE)}},signatureImport(e,t){switch(Nr("signature",e),t=ka(t,64),r.signatureImport(t,e)){case 0:return t;case 1:throw new Error(Fr.SIG_PARSE);case 2:throw new Error(Fr.IMPOSSIBLE_CASE)}},ecdsaSign(e,t,i={},n){Nr("message",e,32),Nr("private key",t,32),zo(Sh(i)==="Object","Expected options to be an Object"),i.data!==void 0&&Nr("options.data",i.data),i.noncefn!==void 0&&zo(Sh(i.noncefn)==="Function","Expected options.noncefn to be a Function"),n=ka(n,64);let s={signature:n,recid:null};switch(r.ecdsaSign(s,e,t,i.data,i.noncefn)){case 0:return s;case 1:throw new Error(Fr.SIGN);case 2:throw new Error(Fr.IMPOSSIBLE_CASE)}},ecdsaVerify(e,t,i){switch(Nr("signature",e,64),Nr("message",t,32),Nr("public key",i,[33,65]),r.ecdsaVerify(e,t,i)){case 0:return!0;case 3:return!1;case 1:throw new Error(Fr.SIG_PARSE);case 2:throw new Error(Fr.PUBKEY_PARSE)}},ecdsaRecover(e,t,i,n=!0,s){switch(Nr("signature",e,64),zo(Sh(t)==="Number"&&t>=0&&t<=3,"Expected recovery id to be a Number within interval [0, 3]"),Nr("message",i,32),il(n),s=ka(s,n?33:65),r.ecdsaRecover(s,e,t,i)){case 0:return s;case 1:throw new Error(Fr.SIG_PARSE);case 2:throw new Error(Fr.RECOVER);case 3:throw new Error(Fr.IMPOSSIBLE_CASE)}},ecdh(e,t,i={},n){switch(Nr("public key",e,[33,65]),Nr("private key",t,32),zo(Sh(i)==="Object","Expected options to be an Object"),i.data!==void 0&&Nr("options.data",i.data),i.hashfn!==void 0?(zo(Sh(i.hashfn)==="Function","Expected options.hashfn to be a Function"),i.xbuf!==void 0&&Nr("options.xbuf",i.xbuf,32),i.ybuf!==void 0&&Nr("options.ybuf",i.ybuf,32),Nr("output",n)):n=ka(n,32),r.ecdh(n,e,t,i.data,i.hashfn,i.xbuf,i.ybuf)){case 0:return n;case 1:throw new Error(Fr.PUBKEY_PARSE);case 2:throw new Error(Fr.ECDH)}}})});var xj=M((wYe,vj)=>{var ywe=O2().ec,If=new ywe("secp256k1"),Br=If.curve,Qr=Br.n.constructor;function mwe(r,e){let t=new Qr(e);if(t.cmp(Br.p)>=0)return null;t=t.toRed(Br.red);let i=t.redSqr().redIMul(t).redIAdd(Br.b).redSqrt();return r===3!==i.isOdd()&&(i=i.redNeg()),If.keyPair({pub:{x:t,y:i}})}function gwe(r,e,t){let i=new Qr(e),n=new Qr(t);if(i.cmp(Br.p)>=0||n.cmp(Br.p)>=0||(i=i.toRed(Br.red),n=n.toRed(Br.red),(r===6||r===7)&&n.isOdd()!==(r===7)))return null;let s=i.redSqr().redIMul(i);return n.redSqr().redISub(s.redIAdd(Br.b)).isZero()?If.keyPair({pub:{x:i,y:n}}):null}function Rc(r){let e=r[0];switch(e){case 2:case 3:return r.length!==33?null:mwe(e,r.subarray(1,33));case 4:case 6:case 7:return r.length!==65?null:gwe(e,r.subarray(1,33),r.subarray(33,65));default:return null}}function nl(r,e){let t=e.encode(null,r.length===33);for(let i=0;i<r.length;++i)r[i]=t[i]}vj.exports={contextRandomize(){return 0},privateKeyVerify(r){let e=new Qr(r);return e.cmp(Br.n)<0&&!e.isZero()?0:1},privateKeyNegate(r){let e=new Qr(r),t=Br.n.sub(e).umod(Br.n).toArrayLike(Uint8Array,"be",32);return r.set(t),0},privateKeyTweakAdd(r,e){let t=new Qr(e);if(t.cmp(Br.n)>=0||(t.iadd(new Qr(r)),t.cmp(Br.n)>=0&&t.isub(Br.n),t.isZero()))return 1;let i=t.toArrayLike(Uint8Array,"be",32);return r.set(i),0},privateKeyTweakMul(r,e){let t=new Qr(e);if(t.cmp(Br.n)>=0||t.isZero())return 1;t.imul(new Qr(r)),t.cmp(Br.n)>=0&&(t=t.umod(Br.n));let i=t.toArrayLike(Uint8Array,"be",32);return r.set(i),0},publicKeyVerify(r){return Rc(r)===null?1:0},publicKeyCreate(r,e){let t=new Qr(e);if(t.cmp(Br.n)>=0||t.isZero())return 1;let i=If.keyFromPrivate(e).getPublic();return nl(r,i),0},publicKeyConvert(r,e){let t=Rc(e);if(t===null)return 1;let i=t.getPublic();return nl(r,i),0},publicKeyNegate(r,e){let t=Rc(e);if(t===null)return 1;let i=t.getPublic();return i.y=i.y.redNeg(),nl(r,i),0},publicKeyCombine(r,e){let t=new Array(e.length);for(let n=0;n<e.length;++n)if(t[n]=Rc(e[n]),t[n]===null)return 1;let i=t[0].getPublic();for(let n=1;n<t.length;++n)i=i.add(t[n].pub);return i.isInfinity()?2:(nl(r,i),0)},publicKeyTweakAdd(r,e,t){let i=Rc(e);if(i===null)return 1;if(t=new Qr(t),t.cmp(Br.n)>=0)return 2;let n=i.getPublic().add(Br.g.mul(t));return n.isInfinity()?2:(nl(r,n),0)},publicKeyTweakMul(r,e,t){let i=Rc(e);if(i===null)return 1;if(t=new Qr(t),t.cmp(Br.n)>=0||t.isZero())return 2;let n=i.getPublic().mul(t);return nl(r,n),0},signatureNormalize(r){let e=new Qr(r.subarray(0,32)),t=new Qr(r.subarray(32,64));return e.cmp(Br.n)>=0||t.cmp(Br.n)>=0?1:(t.cmp(If.nh)===1&&r.set(Br.n.sub(t).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(r,e){let t=e.subarray(0,32),i=e.subarray(32,64);if(new Qr(t).cmp(Br.n)>=0||new Qr(i).cmp(Br.n)>=0)return 1;let{output:n}=r,s=n.subarray(4,4+33);s[0]=0,s.set(t,1);let o=33,a=0;for(;o>1&&s[a]===0&&!(s[a+1]&128);--o,++a);if(s=s.subarray(a),s[0]&128||o>1&&s[0]===0&&!(s[1]&128))return 1;let f=n.subarray(6+33,6+33+33);f[0]=0,f.set(i,1);let c=33,l=0;for(;c>1&&f[l]===0&&!(f[l+1]&128);--c,++l);return f=f.subarray(l),f[0]&128||c>1&&f[0]===0&&!(f[1]&128)?1:(r.outputlen=6+o+c,n[0]=48,n[1]=r.outputlen-2,n[2]=2,n[3]=s.length,n.set(s,4),n[4+o]=2,n[5+o]=f.length,n.set(f,6+o),0)},signatureImport(r,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let t=e[3];if(t===0||5+t>=e.length||e[4+t]!==2)return 1;let i=e[5+t];if(i===0||6+t+i!==e.length||e[4]&128||t>1&&e[4]===0&&!(e[5]&128)||e[t+6]&128||i>1&&e[t+6]===0&&!(e[t+7]&128))return 1;let n=e.subarray(4,4+t);if(n.length===33&&n[0]===0&&(n=n.subarray(1)),n.length>32)return 1;let s=e.subarray(6+t);if(s.length===33&&s[0]===0&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let o=new Qr(n);o.cmp(Br.n)>=0&&(o=new Qr(0));let a=new Qr(e.subarray(6+t));return a.cmp(Br.n)>=0&&(a=new Qr(0)),r.set(o.toArrayLike(Uint8Array,"be",32),0),r.set(a.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(r,e,t,i,n){if(n){let a=n;n=f=>{let c=a(e,t,null,i,f);if(!(c instanceof Uint8Array&&c.length===32))throw new Error("This is the way");return new Qr(c)}}let s=new Qr(t);if(s.cmp(Br.n)>=0||s.isZero())return 1;let o;try{o=If.sign(e,t,{canonical:!0,k:n,pers:i})}catch(a){return 1}return r.signature.set(o.r.toArrayLike(Uint8Array,"be",32),0),r.signature.set(o.s.toArrayLike(Uint8Array,"be",32),32),r.recid=o.recoveryParam,0},ecdsaVerify(r,e,t){let i={r:r.subarray(0,32),s:r.subarray(32,64)},n=new Qr(i.r),s=new Qr(i.s);if(n.cmp(Br.n)>=0||s.cmp(Br.n)>=0)return 1;if(s.cmp(If.nh)===1||n.isZero()||s.isZero())return 3;let o=Rc(t);if(o===null)return 2;let a=o.getPublic();return If.verify(e,i,a)?0:3},ecdsaRecover(r,e,t,i){let n={r:e.slice(0,32),s:e.slice(32,64)},s=new Qr(n.r),o=new Qr(n.s);if(s.cmp(Br.n)>=0||o.cmp(Br.n)>=0)return 1;if(s.isZero()||o.isZero())return 2;let a;try{a=If.recoverPubKey(i,n,t)}catch(f){return 2}return nl(r,a),0},ecdh(r,e,t,i,n,s,o){let a=Rc(e);if(a===null)return 1;let f=new Qr(t);if(f.cmp(Br.n)>=0||f.isZero())return 2;let c=a.getPublic().mul(f);if(n===void 0){let l=c.encode(null,!0),h=If.hash().update(l).digest();for(let x=0;x<32;++x)r[x]=h[x]}else{s||(s=new Uint8Array(32));let l=c.getX().toArray("be",32);for(let E=0;E<32;++E)s[E]=l[E];o||(o=new Uint8Array(32));let h=c.getY().toArray("be",32);for(let E=0;E<32;++E)o[E]=h[E];let x=n(s,o,i);if(!(x instanceof Uint8Array&&x.length===r.length))return 2;r.set(x)}return 0}}});var _j=M((_Ye,wj)=>{wj.exports=gj()(xj())});var Ij=M((EYe,Aj)=>{"use strict";var Ca=_j(),Ej=gh(),Sj="sha2-256";Aj.exports=r=>{let e=32;function t(){let l;do l=r(32);while(!Ca.privateKeyVerify(l));return l}async function i(l,h){let x=await Ej.digest(h,Sj),_=Ca.ecdsaSign(x,l);return Ca.signatureExport(_.signature)}async function n(l,h,x){let _=await Ej.digest(x,Sj);return h=Ca.signatureImport(h),Ca.ecdsaVerify(h,_,l)}function s(l){if(!Ca.publicKeyVerify(l))throw new Error("Invalid public key");return Ca.publicKeyConvert(l,!0)}function o(l){return Ca.publicKeyConvert(l,!1)}function a(l){if(!Ca.privateKeyVerify(l))throw new Error("Invalid private key")}function f(l){if(!Ca.publicKeyVerify(l))throw new Error("Invalid public key")}function c(l){return a(l),Ca.publicKeyCreate(l)}return{generateKey:t,privateKeyLength:e,hashAndSign:i,hashAndVerify:n,compressPublicKey:s,decompressPublicKey:o,validatePrivateKey:a,validatePublicKey:f,computePublicKey:c}}});var Bj=M((SYe,Cj)=>{"use strict";var Tj=gh(),vwe=Ht(),kj=gn(),xwe=Kr(),wwe=Q5();Cj.exports=(r,e,t)=>{t=t||Ij()(e);class i{constructor(c){t.validatePublicKey(c),this._key=c}verify(c,l){return t.hashAndVerify(this._key,l,c)}marshal(){return t.compressPublicKey(this._key)}get bytes(){return r.PublicKey.encode({Type:r.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return kj(this.bytes,c.bytes)}hash(){return Tj.multihashing(this.bytes,"sha2-256")}}class n{constructor(c,l){this._key=c,this._publicKey=l||t.computePublicKey(c),t.validatePrivateKey(this._key),t.validatePublicKey(this._publicKey)}sign(c){return t.hashAndSign(this._key,c)}get public(){return new i(this._publicKey)}marshal(){return this._key}get bytes(){return r.PrivateKey.encode({Type:r.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return kj(this.bytes,c.bytes)}hash(){return Tj.multihashing(this.bytes,"sha2-256")}async id(){let c=await this.public.hash();return xwe(c,"base58btc")}async export(c,l="libp2p-key"){if(l==="libp2p-key")return wwe.export(this.bytes,c);throw vwe(new Error(`export format '${l}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function s(f){return new n(f)}function o(f){return new i(f)}async function a(){let f=await t.generateKey();return new n(f)}return{Secp256k1PublicKey:i,Secp256k1PrivateKey:n,unmarshalSecp256k1PrivateKey:s,unmarshalSecp256k1PublicKey:o,generateKeyPair:a}}});var Rj=M((AYe,Mj)=>{"use strict";Mj.exports={SHA1:20,SHA256:32,SHA512:64}});var t7=M(Pj=>{"use strict";var Nj=eb(),_we=Rj(),Ewe={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},Swe=async(r,e)=>{let t=await Nj.get().subtle.sign({name:"HMAC"},r,e);return new Uint8Array(t,t.byteOffset,t.byteLength)};Pj.create=async function(r,e){let t=Ewe[r],i=await Nj.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:t}},!1,["sign"]);return{async digest(n){return Swe(i,n)},length:_we[r]}}});var Uj=M((TYe,Lj)=>{"use strict";var qj=Ht(),Oj=qo(),Awe=Ai(),Iwe=t7(),Dj={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};Lj.exports=async(r,e,t)=>{let i=Dj[r];if(!i){let W=Object.keys(Dj).join(" / ");throw qj(new Error(`unknown cipher type '${r}'. Must be ${W}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw qj(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let n=i.keySize,s=i.ivSize,o=20,a=Awe("key expansion"),f=2*(s+n+o),c=await Iwe.create(e,t),l=await c.digest(a),h=[],x=0;for(;x<f;){let W=await c.digest(Oj([l,a])),ee=W.length;x+ee>f&&(ee=f-x),h.push(W),x+=ee,l=await c.digest(l)}let _=f/2,E=Oj(h),C=E.slice(0,_),L=E.slice(_,f),O=W=>({iv:W.slice(0,s),cipherKey:W.slice(s,s+n),macKey:W.slice(s+n)});return{k1:O(C),k2:O(L)}}});var Kj=M((kYe,Fj)=>{"use strict";var Twe=Ht();Fj.exports=function(r,e){if(!r.includes(e)){let t=r.join(" / ");throw Twe(new Error(`Unknown curve: ${e}. Must be ${t}`),"ERR_INVALID_CURVE")}}});var Gj=M($j=>{"use strict";var kwe=Ht(),ob=eb(),{base64urlToBuffer:zj}=X5(),Cwe=Kj(),r7=Kr(),Bwe=qo(),Mwe=gn(),jj={"P-256":256,"P-384":384,"P-521":521};$j.generateEphmeralKeyPair=async function(r){Cwe(Object.keys(jj),r);let e=await ob.get().subtle.generateKey({name:"ECDH",namedCurve:r},!0,["deriveBits"]),t=async(n,s)=>{let o;s?o=await ob.get().subtle.importKey("jwk",Nwe(r,s),{name:"ECDH",namedCurve:r},!1,["deriveBits"]):o=e.privateKey;let a=[await ob.get().subtle.importKey("jwk",Hj(r,n),{name:"ECDH",namedCurve:r},!1,[]),o],f=await ob.get().subtle.deriveBits({name:"ECDH",namedCurve:r,public:a[0]},a[1],jj[r]);return new Uint8Array(f,f.byteOffset,f.byteLength)},i=await ob.get().subtle.exportKey("jwk",e.publicKey);return{key:Rwe(i),genSharedKey:t}};var Vj={"P-256":32,"P-384":48,"P-521":66};function Rwe(r){let e=Vj[r.crv];return Bwe([Uint8Array.from([4]),zj(r.x,e),zj(r.y,e)],1+e*2)}function Hj(r,e){let t=Vj[r];if(Mwe(!e.slice(0,1),Uint8Array.from([4])))throw kwe(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:r,x:r7(e.slice(1,t+1),"base64url"),y:r7(e.slice(1+t),"base64url"),ext:!0}}var Nwe=(r,e)=>({...Hj(r,e.public),d:r7(e.private,"base64url")})});var Wj=M((BYe,Yj)=>{"use strict";var Pwe=Gj();Yj.exports=async r=>Pwe.generateEphmeralKeyPair(r)});var o3=M((MYe,Jj)=>{"use strict";var Tf=C5();w0();F9();var i7=pr(),ab=Ht(),qwe=Ai(),Owe=Sz(),jo={rsa:cj(),ed25519:yj(),secp256k1:Bj()(Tf,J5())},s3={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function Ah(r){let e=jo[r.toLowerCase()];if(!e){let t=Object.keys(jo).join(" / ");throw ab(new Error(`invalid or unsupported key type ${r}. Must be ${t}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}var Dwe=async(r,e)=>Ah(r).generateKeyPair(e),Lwe=async(r,e,t)=>{let i=Ah(r);if(r.toLowerCase()!=="ed25519")throw ab(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return i.generateKeyPairFromSeed(e,t)},Uwe=r=>{let e=Tf.PublicKey.decode(r),t=e.Data;switch(e.Type){case Tf.KeyType.RSA:return jo.rsa.unmarshalRsaPublicKey(t);case Tf.KeyType.Ed25519:return jo.ed25519.unmarshalEd25519PublicKey(t);case Tf.KeyType.Secp256k1:if(jo.secp256k1)return jo.secp256k1.unmarshalSecp256k1PublicKey(t);throw ab(new Error(s3.message),s3.code);default:Ah(e.Type)}},Fwe=(r,e)=>(e=(e||"rsa").toLowerCase(),Ah(e),r.bytes),Zj=async r=>{let e=Tf.PrivateKey.decode(r),t=e.Data;switch(e.Type){case Tf.KeyType.RSA:return jo.rsa.unmarshalRsaPrivateKey(t);case Tf.KeyType.Ed25519:return jo.ed25519.unmarshalEd25519PrivateKey(t);case Tf.KeyType.Secp256k1:if(jo.secp256k1)return jo.secp256k1.unmarshalSecp256k1PrivateKey(t);throw ab(new Error(s3.message),s3.code);default:Ah(e.Type)}},Kwe=(r,e)=>(e=(e||"rsa").toLowerCase(),Ah(e),r.bytes),zwe=async(r,e)=>{try{let n=await Owe.import(r,e);return Zj(n)}catch(n){}let t=i7.pki.decryptRsaPrivateKey(r,e);if(t===null)throw ab(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let i=i7.asn1.toDer(i7.pki.privateKeyToAsn1(t));return i=qwe(i.getBytes(),"ascii"),jo.rsa.unmarshalRsaPrivateKey(i)};Jj.exports={supportedKeys:jo,keysPBM:Tf,keyStretcher:Uj(),generateEphemeralKeyPair:Wj(),generateKeyPair:Dwe,generateKeyPairFromSeed:Lwe,unmarshalPublicKey:Uwe,marshalPublicKey:Fwe,unmarshalPrivateKey:Zj,marshalPrivateKey:Kwe,import:zwe}});var a3=M((RYe,n7)=>{"use strict";function jwe(r,{className:e,symbolName:t}){let i=Symbol.for(t),n={[e]:class extends r{constructor(...s){super(...s);Object.defineProperty(this,i,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return n[`is${e}`]=s=>!!(s&&s[i]),n}function Vwe(r,{className:e,symbolName:t,withoutNew:i}){let n=Symbol.for(t),s={[e]:function(...o){if(i&&!(this instanceof s))return new s(...o);let a=r.call(this,...o)||this;return a&&!a[n]&&Object.defineProperty(a,n,{value:!0}),a}}[e];return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,Symbol.toStringTag,{get(){return e}}),s[`is${e}`]=o=>!!(o&&o[n]),s}n7.exports=jwe;n7.exports.proto=Vwe});var eV=M((NYe,Qj)=>{"use strict";var Ih=Do(),Xj=Ih.Reader,Hwe=Ih.Writer,sn=Ih.util,fb=Ih.roots["libp2p-peer-id"]||(Ih.roots["libp2p-peer-id"]={});fb.PeerIdProto=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.id=sn.newBuffer([]),r.prototype.pubKey=sn.newBuffer([]),r.prototype.privKey=sn.newBuffer([]),r.encode=function(t,i){return i||(i=Hwe.create()),i.uint32(10).bytes(t.id),t.pubKey!=null&&Object.hasOwnProperty.call(t,"pubKey")&&i.uint32(18).bytes(t.pubKey),t.privKey!=null&&Object.hasOwnProperty.call(t,"privKey")&&i.uint32(26).bytes(t.privKey),i},r.decode=function(t,i){t instanceof Xj||(t=Xj.create(t));for(var n=i===void 0?t.len:t.pos+i,s=new fb.PeerIdProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:s.id=t.bytes();break;case 2:s.pubKey=t.bytes();break;case 3:s.privKey=t.bytes();break;default:t.skipType(o&7);break}}if(!s.hasOwnProperty("id"))throw sn.ProtocolError("missing required 'id'",{instance:s});return s},r.fromObject=function(t){if(t instanceof fb.PeerIdProto)return t;var i=new fb.PeerIdProto;return t.id!=null&&(typeof t.id=="string"?sn.base64.decode(t.id,i.id=sn.newBuffer(sn.base64.length(t.id)),0):t.id.length&&(i.id=t.id)),t.pubKey!=null&&(typeof t.pubKey=="string"?sn.base64.decode(t.pubKey,i.pubKey=sn.newBuffer(sn.base64.length(t.pubKey)),0):t.pubKey.length&&(i.pubKey=t.pubKey)),t.privKey!=null&&(typeof t.privKey=="string"?sn.base64.decode(t.privKey,i.privKey=sn.newBuffer(sn.base64.length(t.privKey)),0):t.privKey.length&&(i.privKey=t.privKey)),i},r.toObject=function(t,i){i||(i={});var n={};return i.defaults&&(i.bytes===String?n.id="":(n.id=[],i.bytes!==Array&&(n.id=sn.newBuffer(n.id))),i.bytes===String?n.pubKey="":(n.pubKey=[],i.bytes!==Array&&(n.pubKey=sn.newBuffer(n.pubKey))),i.bytes===String?n.privKey="":(n.privKey=[],i.bytes!==Array&&(n.privKey=sn.newBuffer(n.privKey)))),t.id!=null&&t.hasOwnProperty("id")&&(n.id=i.bytes===String?sn.base64.encode(t.id,0,t.id.length):i.bytes===Array?Array.prototype.slice.call(t.id):t.id),t.pubKey!=null&&t.hasOwnProperty("pubKey")&&(n.pubKey=i.bytes===String?sn.base64.encode(t.pubKey,0,t.pubKey.length):i.bytes===Array?Array.prototype.slice.call(t.pubKey):t.pubKey),t.privKey!=null&&t.hasOwnProperty("privKey")&&(n.privKey=i.bytes===String?sn.base64.encode(t.privKey,0,t.privKey.length):i.bytes===Array?Array.prototype.slice.call(t.privKey):t.privKey),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,Ih.util.toJSONOptions)},r}();Qj.exports=fb});var Gr=M((no,nV)=>{"use strict";var sl=Vu(),s7=x0(),kf=o3(),$we=a3(),{PeerIdProto:tV}=eV(),ol=gn(),cb=Ai(),Gwe=Kr(),rV=class{constructor(e,t,i){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(t&&i&&!ol(t.public.bytes,i.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=sl.toB58String(this.id),this._privKey=t,this._pubKey=i}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let e=sl.decode(this.id);e.name==="identity"&&(this._pubKey=kf.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return kf.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return kf.marshalPrivateKey(this.privKey)}marshal(e){return tV.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let t=6;return e.length<t&&(t=e.length),"<peer.ID "+e.substr(0,t)+">"}toJSON(){return{id:this.toB58String(),privKey:iV(this.marshalPrivKey()),pubKey:iV(this.marshalPubKey())}}toHexString(){return sl.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let e=new s7(1,"libp2p-key",this.id,"base32");Object.defineProperty(this,"_idCIDString",{value:e.toBaseEncodedString("base32"),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return ol(this.id,e);if(e.id)return ol(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&ol(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(sl.decode(this.id).name==="identity")return!0}catch(e){}return!1}},Cf=$we(rV,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});no=nV.exports=Cf;var ub=r=>r.bytes.length<=42?sl.encode(r.bytes,"identity"):r.hash(),o7=async(r,e)=>{let t=await ub(e);return new Cf(t,r,e)};no.create=async r=>{r=r||{},r.bits=r.bits||2048,r.keyType=r.keyType||"RSA";let e=await kf.generateKeyPair(r.keyType,r.bits);return o7(e,e.public)};no.createFromHexString=r=>new Cf(sl.fromHexString(r));no.createFromBytes=r=>new Cf(r);no.createFromB58String=r=>no.createFromCID(r);var Ywe=r=>r.codec==="libp2p-key"||r.codec==="dag-pb";no.createFromCID=r=>{if(r=s7.isCID(r)?r:new s7(r),!Ywe(r))throw new Error("Supplied PeerID CID has invalid multicodec: "+r.codec);return new Cf(r.multihash)};no.createFromPubKey=async r=>{let e=r;if(typeof e=="string"&&(e=cb(r,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let t=await kf.unmarshalPublicKey(e);return o7(null,t)};no.createFromPrivKey=async r=>{if(typeof r=="string"&&(r=cb(r,"base64pad")),!(r instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let e=await kf.unmarshalPrivateKey(r);return o7(e,e.public)};no.createFromJSON=async r=>{let e=sl.fromB58String(r.id),t=r.privKey&&cb(r.privKey,"base64pad"),i=r.pubKey&&cb(r.pubKey,"base64pad"),n=i&&await kf.unmarshalPublicKey(i);if(!t)return new Cf(e,null,n);let s=await kf.unmarshalPrivateKey(t),o=await ub(s.public),a;if(n&&(a=await ub(n)),n&&!ol(o,a))throw new Error("Public and private key do not match");if(e&&!ol(o,e))throw new Error("Id and private key do not match");return new Cf(e,s,n)};no.createFromProtobuf=async r=>{typeof r=="string"&&(r=cb(r,"base16"));let{id:e,privKey:t,pubKey:i}=tV.decode(r);t=t?await kf.unmarshalPrivateKey(t):!1,i=i?await kf.unmarshalPublicKey(i):!1;let n,s;if(t&&(s=await ub(t.public)),i&&(n=await ub(i)),t){if(i&&!ol(s,n))throw new Error("Public and private key do not match");return new Cf(s,t,t.public)}if(i)return new Cf(n,null,i);if(e)return new Cf(e);throw new Error("Protobuf did not contain any usable key material")};no.isPeerId=r=>Boolean(typeof r=="object"&&r._id&&r._idB58String);function iV(r){if(r)return Gwe(r,"base64pad")}});var f7=M((PYe,oV)=>{"use strict";var sV="[a-fA-F\\d:]",Nc=r=>r&&r.includeBoundaries?`(?:(?<=\\s|^)(?=${sV})|(?<=${sV})(?=\\s|$))`:"",Ba="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Zi="[a-fA-F\\d]{1,4}",f3=`
(?:
(?:${Zi}:){7}(?:${Zi}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${Zi}:){6}(?:${Ba}|:${Zi}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${Zi}:){5}(?::${Ba}|(?::${Zi}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${Zi}:){4}(?:(?::${Zi}){0,1}:${Ba}|(?::${Zi}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${Zi}:){3}(?:(?::${Zi}){0,2}:${Ba}|(?::${Zi}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${Zi}:){2}(?:(?::${Zi}){0,3}:${Ba}|(?::${Zi}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${Zi}:){1}(?:(?::${Zi}){0,4}:${Ba}|(?::${Zi}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${Zi}){0,5}:${Ba}|(?::${Zi}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Wwe=new RegExp(`(?:^${Ba}$)|(?:^${f3}$)`),Zwe=new RegExp(`^${Ba}$`),Jwe=new RegExp(`^${f3}$`),a7=r=>r&&r.exact?Wwe:new RegExp(`(?:${Nc(r)}${Ba}${Nc(r)})|(?:${Nc(r)}${f3}${Nc(r)})`,"g");a7.v4=r=>r&&r.exact?Zwe:new RegExp(`${Nc(r)}${Ba}${Nc(r)}`,"g");a7.v6=r=>r&&r.exact?Jwe:new RegExp(`${Nc(r)}${f3}${Nc(r)}`,"g");oV.exports=a7});var fV=M((qYe,aV)=>{"use strict";var c7=f7(),Th=r=>c7({exact:!0}).test(r);Th.v4=r=>c7.v4({exact:!0}).test(r);Th.v6=r=>c7.v6({exact:!0}).test(r);Th.version=r=>Th(r)?Th.v4(r)?4:6:void 0;aV.exports=Th});var hV=M((OYe,dV)=>{"use strict";var u7=fV(),cV=Kr(),Xwe=u7,l7=u7.v4,uV=u7.v6,lV=function(r,e,t){t=~~t;let i;if(l7(r))i=e||new Uint8Array(t+4),r.split(/\./g).map(function(s){i[t++]=parseInt(s,10)&255});else if(uV(r)){let s=r.split(":",8),o;for(o=0;o<s.length;o++){let a=l7(s[o]);var n;a&&(n=lV(s[o]),s[o]=cV(n.slice(0,2),"base16")),n&&++o<8&&s.splice(o,0,cV(n.slice(2,4),"base16"))}if(s[0]==="")for(;s.length<8;)s.unshift("0");else if(s[s.length-1]==="")for(;s.length<8;)s.push("0");else if(s.length<8){for(o=0;o<s.length&&s[o]!=="";o++);let a=[o,"1"];for(o=9-s.length;o>0;o--)a.push("0");s.splice.apply(s,a)}for(i=e||new Uint8Array(t+16),o=0;o<s.length;o++){let a=parseInt(s[o],16);i[t++]=a>>8&255,i[t++]=a&255}}if(!i)throw Error("Invalid ip address: "+r);return i},Qwe=function(r,e,t){e=~~e,t=t||r.length-e;let i=[],n,s=new DataView(r.buffer);if(t===4){for(let o=0;o<t;o++)i.push(r[e+o]);n=i.join(".")}else if(t===16){for(let o=0;o<t;o+=2)i.push(s.getUint16(e+o).toString(16));n=i.join(":"),n=n.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),n=n.replace(/:{3,4}/,"::")}return n};dV.exports={isIP:Xwe,isV4:l7,isV6:uV,toBytes:lV,toString:Qwe}});var lb=M((DYe,bV)=>{"use strict";function Fs(r){if(typeof r=="number"){if(Fs.codes[r])return Fs.codes[r];throw new Error("no protocol with code: "+r)}else if(typeof r=="string"){if(Fs.names[r])return Fs.names[r];throw new Error("no protocol with name: "+r)}throw new Error("invalid protocol id type: "+r)}var Vo=-1;Fs.lengthPrefixedVarSize=Vo;Fs.V=Vo;Fs.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,Vo,"ip6zone"],[53,Vo,"dns","resolvable"],[54,Vo,"dns4","resolvable"],[55,Vo,"dns6","resolvable"],[56,Vo,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,Vo,"unix",!1,"path"],[421,Vo,"ipfs"],[421,Vo,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,Vo,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,Vo,"memory"]];Fs.names={};Fs.codes={};Fs.table.map(r=>{let e=pV.apply(null,r);return Fs.codes[e.code]=e,Fs.names[e.name]=e,null});Fs.object=pV;function pV(r,e,t,i,n){return{code:r,size:e,name:t,resolvable:Boolean(i),path:Boolean(n)}}bV.exports=Fs});var gV=M((LYe,mV)=>{mV.exports=d7;var yV=128,e9e=127,t9e=~e9e,r9e=Math.pow(2,31);function d7(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw d7.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var i=t;r>=r9e;)e[t++]=r&255|yV,r/=128;for(;r&t9e;)e[t++]=r&255|yV,r>>>=7;return e[t]=r|0,d7.bytes=t-i+1,e}});var wV=M((UYe,xV)=>{xV.exports=h7;var i9e=128,vV=127;function h7(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o||i>49)throw h7.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&vV)<<i:(s&vV)*Math.pow(2,i),i+=7}while(s>=i9e);return h7.bytes=n-e,t}});var EV=M((FYe,_V)=>{var n9e=Math.pow(2,7),s9e=Math.pow(2,14),o9e=Math.pow(2,21),a9e=Math.pow(2,28),f9e=Math.pow(2,35),c9e=Math.pow(2,42),u9e=Math.pow(2,49),l9e=Math.pow(2,56),d9e=Math.pow(2,63);_V.exports=function(r){return r<n9e?1:r<s9e?2:r<o9e?3:r<a9e?4:r<f9e?5:r<c9e?6:r<u9e?7:r<l9e?8:r<d9e?9:10}});var c3=M((KYe,SV)=>{SV.exports={encode:gV(),decode:wV(),encodingLength:EV()}});var RV=M((zYe,MV)=>{"use strict";var u3=hV(),AV=lb(),h9e=x0(),IV=ff(),kh=c3(),l3=Kr(),TV=Ai(),d3=qo();MV.exports=db;function db(r,e){return e instanceof Uint8Array?db.toString(r,e):db.toBytes(r,e)}db.toString=function(e,t){switch(AV(e).code){case 4:case 41:return p9e(t);case 6:case 273:case 33:case 132:return CV(t).toString();case 53:case 54:case 55:case 56:case 400:case 777:return y9e(t);case 421:return g9e(t);case 444:return BV(t);case 445:return BV(t);default:return l3(t,"base16")}};db.toBytes=function(e,t){switch(AV(e).code){case 4:return kV(t);case 41:return kV(t);case 6:case 273:case 33:case 132:return p7(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 777:return b9e(t);case 421:return m9e(t);case 444:return v9e(t);case 445:return x9e(t);default:return TV(t,"base16")}};function kV(r){if(!u3.isIP(r))throw new Error("invalid ip address");return u3.toBytes(r)}function p9e(r){let e=u3.toString(r);if(!e||!u3.isIP(e))throw new Error("invalid ip address");return e}function p7(r){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,r),new Uint8Array(e)}function CV(r){return new DataView(r.buffer).getUint16(0)}function b9e(r){let e=TV(r),t=Uint8Array.from(kh.encode(e.length));return d3([t,e],t.length+e.length)}function y9e(r){let e=kh.decode(r);if(r=r.slice(kh.decode.bytes),r.length!==e)throw new Error("inconsistent lengths");return l3(r)}function m9e(r){let e=new h9e(r).multihash,t=Uint8Array.from(kh.encode(e.length));return d3([t,e],t.length+e.length)}function g9e(r){let e=kh.decode(r),t=r.slice(kh.decode.bytes);if(t.length!==e)throw new Error("inconsistent lengths");return l3(t,"base58btc")}function v9e(r){let e=r.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==16)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion address.");let t=IV.decode("b"+e[0]),i=parseInt(e[1],10);if(i<1||i>65536)throw new Error("Port number is not in range(1, 65536)");let n=p7(i);return d3([t,n],t.length+n.length)}function x9e(r){let e=r.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==56)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion3 address.");let t=IV.decode("b"+e[0]),i=parseInt(e[1],10);if(i<1||i>65536)throw new Error("Port number is not in range(1, 65536)");let n=p7(i);return d3([t,n],t.length+n.length)}function BV(r){let e=r.slice(0,r.length-2),t=r.slice(r.length-2),i=l3(e,"base32"),n=CV(t);return i+":"+n}});var VV=M((jYe,jV)=>{"use strict";var NV=RV(),b7=lb(),hb=c3(),PV=qo(),w9e=Kr();jV.exports={stringToStringTuples:qV,stringTuplesToString:OV,tuplesToStringTuples:LV,stringTuplesToTuples:DV,bytesToTuples:y7,tuplesToBytes:UV,bytesToString:_9e,stringToBytes:KV,fromString:E9e,fromBytes:zV,validateBytes:m7,isValidBytes:S9e,cleanPath:h3,ParseError:g7,protoFromTuple:pb,sizeForAddr:FV};function qV(r){let e=[],t=r.split("/").slice(1);if(t.length===1&&t[0]==="")return[];for(let i=0;i<t.length;i++){let n=t[i],s=b7(n);if(s.size===0){e.push([n]);continue}if(i++,i>=t.length)throw g7("invalid address: "+r);if(s.path){e.push([n,h3(t.slice(i).join("/"))]);break}e.push([n,t[i]])}return e}function OV(r){let e=[];return r.map(t=>{let i=pb(t);return e.push(i.name),t.length>1&&e.push(t[1]),null}),h3(e.join("/"))}function DV(r){return r.map(e=>{Array.isArray(e)||(e=[e]);let t=pb(e);return e.length>1?[t.code,NV.toBytes(t.code,e[1])]:[t.code]})}function LV(r){return r.map(e=>{let t=pb(e);return e[1]?[t.code,NV.toString(t.code,e[1])]:[t.code]})}function UV(r){return zV(PV(r.map(e=>{let t=pb(e),i=Uint8Array.from(hb.encode(t.code));return e.length>1&&(i=PV([i,e[1]])),i})))}function FV(r,e){return r.size>0?r.size/8:r.size===0?0:hb.decode(e)+hb.decode.bytes}function y7(r){let e=[],t=0;for(;t<r.length;){let i=hb.decode(r,t),n=hb.decode.bytes,s=b7(i),o=FV(s,r.slice(t+n));if(o===0){e.push([i]),t+=n;continue}let a=r.slice(t+n,t+n+o);if(t+=o+n,t>r.length)throw g7("Invalid address Uint8Array: "+w9e(r,"base16"));e.push([i,a])}return e}function _9e(r){let e=y7(r),t=LV(e);return OV(t)}function KV(r){r=h3(r);let e=qV(r),t=DV(e);return UV(t)}function E9e(r){return KV(r)}function zV(r){let e=m7(r);if(e)throw e;return Uint8Array.from(r)}function m7(r){try{y7(r)}catch(e){return e}}function S9e(r){return m7(r)===void 0}function h3(r){return"/"+r.trim().split("/").filter(e=>e).join("/")}function g7(r){return new Error("Error parsing address: "+r)}function pb(r){return b7(r[0])}});var zi=M((VYe,GV)=>{"use strict";var Ma=VV(),Ch=lb(),HV=c3(),A9e=x0(),I9e=Ht(),T9e=Symbol.for("nodejs.util.inspect.custom"),v7=Kr(),k9e=gn(),x7=new Map,$V=Symbol.for("@multiformats/js-multiaddr/multiaddr"),bs=class{constructor(e){if(e==null&&(e=""),Object.defineProperty(this,$V,{value:!0}),e instanceof Uint8Array)this.bytes=Ma.fromBytes(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=Ma.fromString(e)}else if(bs.isMultiaddr(e))this.bytes=Ma.fromBytes(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return Ma.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let e={},t=this.toString().split("/");return e.family=t[1]==="ip4"?4:6,e.host=t[2],e.transport=t[3],e.port=parseInt(t[4]),e}protos(){return this.protoCodes().map(e=>Object.assign({},Ch(e)))}protoCodes(){let e=[],t=this.bytes,i=0;for(;i<t.length;){let n=HV.decode(t,i),s=HV.decode.bytes,o=Ch(n);i+=Ma.sizeForAddr(o,t.slice(i+s))+s,e.push(n)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return Ma.bytesToTuples(this.bytes)}stringTuples(){let e=Ma.bytesToTuples(this.bytes);return Ma.tuplesToStringTuples(e)}encapsulate(e){return e=new bs(e),new bs(this.toString()+e.toString())}decapsulate(e){let t=e.toString(),i=this.toString(),n=i.lastIndexOf(t);if(n<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return new bs(i.slice(0,n))}decapsulateCode(e){let t=this.tuples();for(let i=t.length-1;i>=0;i--)if(t[i][0]===e)return new bs(Ma.tuplesToBytes(t.slice(0,i)));return this}getPeerId(){try{let t=this.stringTuples().filter(i=>i[0]===Ch.names.ipfs.code).pop();return t&&t[1]?v7(new A9e(t[1]).multihash,"base58btc"):null}catch(e){return null}}getPath(){let e=null;try{e=this.stringTuples().filter(t=>!!Ch(t[0]).path)[0][1],e||(e=null)}catch(t){e=null}return e}equals(e){return k9e(this.bytes,e.bytes)}async resolve(){let e=this.protos().find(n=>n.resolvable);if(!e)return[this];let t=x7.get(e.name);if(!t)throw I9e(new Error(`no available resolver for ${e.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await t(this)).map(n=>new bs(n))}nodeAddress(){let e=this.protoCodes(),t=this.protoNames(),i=this.toString().split("/").slice(1);if(i.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(e[0]!==4&&e[0]!==41&&e[0]!==54&&e[0]!==55)throw new Error(`no protocol with name: "'${t[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(i[2]!=="tcp"&&i[2]!=="udp")throw new Error(`no protocol with name: "'${t[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:e[0]===41||e[0]===55?6:4,address:i[1],port:parseInt(i[3])}}isThinWaistAddress(e){let t=(e||this).protos();return!(t.length!==2||t[0].code!==4&&t[0].code!==41||t[1].code!==6&&t[1].code!==273)}static fromNodeAddress(e,t){if(!e)throw new Error("requires node address object");if(!t)throw new Error("requires transport protocol");let i;switch(e.family){case 4:i="ip4";break;case 6:i="ip6";break;default:throw Error(`Invalid addr family. Got '${e.family}' instead of 4 or 6`)}return new bs("/"+[i,e.address,t,e.port].join("/"))}static isName(e){return bs.isMultiaddr(e)?e.protos().some(t=>t.resolvable):!1}static isMultiaddr(e){return e instanceof bs||Boolean(e&&e[$V])}[T9e](){return"<Multiaddr "+v7(this.bytes,"base16")+" - "+Ma.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+v7(this.bytes,"base16")+" - "+Ma.bytesToString(this.bytes)+">"}};bs.protocols=Ch;bs.resolvers=x7;function C9e(r){return new bs(r)}GV.exports={Multiaddr:bs,multiaddr:C9e,protocols:Ch,resolvers:x7}});var p3=M((HYe,YV)=>{"use strict";var B9e=async function*(r,e){for await(let t of r)await e(t)&&(yield t)};YV.exports=B9e});var ZV=M(($Ye,WV)=>{"use strict";var M9e=async function*(r,e){for await(let t of r)yield e(t)};WV.exports=M9e});var XV=M((GYe,JV)=>{"use strict";var R9e=async function*(r,e){let t=0;if(!(e<1)){for await(let i of r)if(yield i,t++,t===e)return}};JV.exports=R9e});var w7=M((YYe,QV)=>{"use strict";var N9e=Ht(),P9e=p3(),q9e=ZV(),O9e=XV();function D9e(r,e){return q9e(r,t=>(e.addressBook.add(t.id,t.multiaddrs),t))}function L9e(r){let e=new Set;return P9e(r,t=>e.has(t.id.toString())?!1:(e.add(t.id.toString()),!0))}async function*U9e(r,e=1){let t=0;for await(let i of r)t++,yield i;if(t<e)throw N9e(new Error("not found"),"NOT_FOUND")}function F9e(r,e){return e?O9e(r,e):r}QV.exports={storeAddresses:D9e,uniquePeers:L9e,requirePeers:U9e,maybeLimitSource:F9e}});var tH=M((ZYe,eH)=>{eH.exports=class{constructor(e){if(!(e>0)||(e-1&e)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}}});var _7=M((XYe,iH)=>{var rH=tH();iH.exports=class{constructor(e){this.hwm=e||16,this.head=new rH(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){let t=this.head;this.head=t.next=new rH(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next){let t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return e}isEmpty(){return this.head.isEmpty()}}});var Bh=M((QYe,nH)=>{var E7=_7();nH.exports=r=>{r=r||{};let e;typeof r=="function"?(e=r,r={}):e=r.onEnd;let t=new E7,i,n,s,o=()=>{if(!t.isEmpty()){if(r.writev){let C,L=[];for(;!t.isEmpty();){if(C=t.shift(),C.error)throw C.error;L.push(C.value)}return{done:C.done,value:L}}let E=t.shift();if(E.error)throw E.error;return E}return s?{done:!0}:new Promise((E,C)=>{n=L=>(n=null,L.error?C(L.error):r.writev&&!L.done?E({done:L.done,value:[L.value]}):E(L),i)})},a=E=>n?n(E):(t.push(E),i),f=E=>(t=new E7,n?n({error:E}):(t.push({error:E}),i)),c=E=>s?i:a({done:!1,value:E}),l=E=>s?i:(s=!0,E?f(E):a({done:!0})),h=()=>(t=new E7,l(),{done:!0}),x=E=>(l(E),{done:!0});if(i={[Symbol.asyncIterator](){return this},next:o,return:h,throw:x,push:c,end:l},!e)return i;let _=i;return i={[Symbol.asyncIterator](){return this},next(){return _.next()},throw(E){return _.throw(E),e&&(e(E),e=null),{done:!0}},return(){return _.return(),e&&(e(),e=null),{done:!0}},push:c,end(E){return _.end(E),e&&(e(E),e=null),i}},i}});var S7=M((eWe,sH)=>{"use strict";var K9e=Bh(),z9e=async function*(...r){let e=K9e();setTimeout(async()=>{try{await Promise.all(r.map(async t=>{for await(let i of t)e.push(i)})),e.end()}catch(t){e.end(t)}},0),yield*e};sH.exports=z9e});var ys=M((tWe,Mh)=>{var oH=(...r)=>{let e;for(;r.length;)e=r.shift()(e);return e},A7=r=>r&&(typeof r[Symbol.asyncIterator]=="function"||typeof r[Symbol.iterator]=="function"||typeof r.next=="function"),b3=r=>r&&typeof r.sink=="function"&&A7(r.source),j9e=r=>e=>(r.sink(e),r.source),aH=(...r)=>{if(b3(r[0])){let e=r[0];r[0]=()=>e.source}else if(A7(r[0])){let e=r[0];r[0]=()=>e}if(r.length>1&&b3(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let e=1;e<r.length-1;e++)b3(r[e])&&(r[e]=j9e(r[e]));return oH(...r)};Mh.exports=aH;Mh.exports.pipe=aH;Mh.exports.rawPipe=oH;Mh.exports.isIterable=A7;Mh.exports.isDuplex=b3});var y3=M((rWe,fH)=>{"use strict";var V9e=async r=>{for await(let e of r)return e};fH.exports=V9e});var I7=M((iWe,cH)=>{"use strict";var H9e=async r=>{for await(let e of r);};cH.exports=H9e});var T7=M((nWe,uH)=>{"use strict";var Rh=new Map,$9e=()=>`${Date.now()}:${Math.floor(Math.random()*1e6)}`;async function G9e(r,e,t){for(;Rh.get(t);){try{await r()}catch(i){setTimeout(()=>{throw i},1);break}if(!Rh.get(t))break;await new Promise(i=>{let n=setTimeout(i,e);Rh.set(t,n)})}}function Y9e(r,e,t){t=t||e;let i=$9e(),n=setTimeout(()=>{G9e(r,e,i)},t);return Rh.set(i,n),i}function W9e(r){let e=Rh.get(r);e&&(clearTimeout(e),Rh.delete(r))}uH.exports={setDelayedInterval:Y9e,clearDelayedInterval:W9e}});var mH=M((sWe,yH)=>{"use strict";var lH=sr(),Z9e=Object.assign(lH("libp2p:peer-routing"),{error:lH("libp2p:peer-routing:err")}),k7=Ht(),{storeAddresses:dH,uniquePeers:J9e,requirePeers:X9e}=w7(),hH=S7(),{pipe:pH}=ys(),Q9e=y3(),e7e=I7(),t7e=p3(),{setDelayedInterval:r7e,clearDelayedInterval:i7e}=T7(),bH=class{constructor(e){this._peerId=e.peerId,this._peerStore=e.peerStore,this._routers=e._modules.peerRouting||[],e._dht&&e._config.dht.enabled&&this._routers.push(e._dht),this._refreshManagerOptions=e._options.peerRouting.refreshManager,this._findClosestPeersTask=this._findClosestPeersTask.bind(this)}start(){!this._routers.length||this._timeoutId||!this._refreshManagerOptions.enabled||(this._timeoutId=r7e(this._findClosestPeersTask,this._refreshManagerOptions.interval,this._refreshManagerOptions.bootDelay))}async _findClosestPeersTask(){try{await e7e(this.getClosestPeers(this._peerId.id))}catch(e){Z9e.error(e)}}stop(){i7e(this._timeoutId)}async findPeer(e,t){if(!this._routers.length)throw k7(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");let i=await pH(hH(...this._routers.map(n=>[n.findPeer(e,t)])),n=>t7e(n,Boolean),n=>dH(n,this._peerStore),n=>Q9e(n));if(i)return i;throw k7(new Error("not found"),"NOT_FOUND")}async*getClosestPeers(e,t={timeout:3e4}){if(!this._routers.length)throw k7(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");yield*pH(hH(...this._routers.map(i=>i.getClosestPeers(e,t))),i=>dH(i,this._peerStore),i=>J9e(i),i=>X9e(i))}};yH.exports=bH});var Ji=M(C7=>{"use strict";C7.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available",CONN_ENCRYPTION_REQUIRED:"At least one connection encryption module is required"};C7.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",DHT_NOT_STARTED:"ERR_DHT_NOT_STARTED",CONN_ENCRYPTION_REQUIRED:"ERR_CONN_ENCRYPTION_REQUIRED",ERR_INVALID_PROTOCOLS_FOR_STREAM:"ERR_INVALID_PROTOCOLS_FOR_STREAM",ERR_CONNECTION_ENDED:"ERR_CONNECTION_ENDED",ERR_CONNECTION_FAILED:"ERR_CONNECTION_FAILED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_ALREADY_ABORTED:"ERR_ALREADY_ABORTED",ERR_NO_VALID_ADDRESSES:"ERR_NO_VALID_ADDRESSES",ERR_RELAYED_DIAL:"ERR_RELAYED_DIAL",ERR_DIALED_SELF:"ERR_DIALED_SELF",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF",ERR_DUPLICATE_TRANSPORT:"ERR_DUPLICATE_TRANSPORT",ERR_ENCRYPTION_FAILED:"ERR_ENCRYPTION_FAILED",ERR_HOP_REQUEST_FAILED:"ERR_HOP_REQUEST_FAILED",ERR_INVALID_KEY:"ERR_INVALID_KEY",ERR_INVALID_MESSAGE:"ERR_INVALID_MESSAGE",ERR_INVALID_PARAMETERS:"ERR_INVALID_PARAMETERS",ERR_INVALID_PEER:"ERR_INVALID_PEER",ERR_MUXER_UNAVAILABLE:"ERR_MUXER_UNAVAILABLE",ERR_TIMEOUT:"ERR_TIMEOUT",ERR_TRANSPORT_UNAVAILABLE:"ERR_TRANSPORT_UNAVAILABLE",ERR_TRANSPORT_DIAL_FAILED:"ERR_TRANSPORT_DIAL_FAILED",ERR_UNSUPPORTED_PROTOCOL:"ERR_UNSUPPORTED_PROTOCOL",ERR_INVALID_MULTIADDR:"ERR_INVALID_MULTIADDR",ERR_SIGNATURE_NOT_VALID:"ERR_SIGNATURE_NOT_VALID"}});var xH=M((aWe,vH)=>{"use strict";var bb=Ht(),{messages:B7,codes:M7}=Ji(),{storeAddresses:n7e,uniquePeers:s7e,requirePeers:o7e,maybeLimitSource:a7e}=w7(),f7e=S7(),{pipe:c7e}=ys(),gH=class{constructor(e){this.libp2p=e,this.routers=e._modules.contentRouting||[],this.dht=e._dht,this.dht&&e._config.dht.enabled&&this.routers.push(this.dht)}async*findProviders(e,t={}){if(!this.routers.length)throw bb(new Error("No content this.routers available"),"NO_ROUTERS_AVAILABLE");yield*c7e(f7e(...this.routers.map(i=>i.findProviders(e,t))),i=>n7e(i,this.libp2p.peerStore),i=>s7e(i),i=>a7e(i,t.maxNumProviders),i=>o7e(i))}async provide(e){if(!this.routers.length)throw bb(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE");await Promise.all(this.routers.map(t=>t.provide(e)))}put(e,t,i){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw bb(new Error(B7.NOT_STARTED_YET),M7.DHT_NOT_STARTED);return this.dht.put(e,t,i)}get(e,t){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw bb(new Error(B7.NOT_STARTED_YET),M7.DHT_NOT_STARTED);return this.dht.get(e,t)}async getMany(e,t,i){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw bb(new Error(B7.NOT_STARTED_YET),M7.DHT_NOT_STARTED);return this.dht.getMany(e,t,i)}};vH.exports=gH});var R7=M((fWe,SH)=>{"use strict";var u7e=Gr(),{Multiaddr:wH}=zi(),_H=Ht(),{codes:EH}=Ji();function l7e(r){typeof r=="string"&&(r=new wH(r));let e;if(wH.isMultiaddr(r)){e=r;let t=r.getPeerId();if(!t)throw _H(new Error(`${r} does not have a valid peer type`),EH.ERR_INVALID_MULTIADDR);try{r=u7e.createFromB58String(t)}catch(i){throw _H(new Error(`${r} is not a valid peer type`),EH.ERR_INVALID_MULTIADDR)}}return{id:r,multiaddrs:e?[e]:void 0}}SH.exports=l7e});var IH=M((cWe,AH)=>{"use strict";AH.exports=r=>{if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}});var yb=M((BH,MH)=>{"use strict";var m3=IH(),{hasOwnProperty:TH}=Object.prototype,{propertyIsEnumerable:d7e}=Object,Nh=(r,e,t)=>Object.defineProperty(r,e,{value:t,writable:!0,enumerable:!0,configurable:!0}),h7e=BH,kH={concatArrays:!1,ignoreUndefined:!1},g3=r=>{let e=[];for(let t in r)TH.call(r,t)&&e.push(t);if(Object.getOwnPropertySymbols){let t=Object.getOwnPropertySymbols(r);for(let i of t)d7e.call(r,i)&&e.push(i)}return e};function Ph(r){return Array.isArray(r)?p7e(r):m3(r)?b7e(r):r}function p7e(r){let e=r.slice(0,0);return g3(r).forEach(t=>{Nh(e,t,Ph(r[t]))}),e}function b7e(r){let e=Object.getPrototypeOf(r)===null?Object.create(null):{};return g3(r).forEach(t=>{Nh(e,t,Ph(r[t]))}),e}var CH=(r,e,t,i)=>(t.forEach(n=>{typeof e[n]=="undefined"&&i.ignoreUndefined||(n in r&&r[n]!==Object.getPrototypeOf(r)?Nh(r,n,N7(r[n],e[n],i)):Nh(r,n,Ph(e[n])))}),r),y7e=(r,e,t)=>{let i=r.slice(0,0),n=0;return[r,e].forEach(s=>{let o=[];for(let a=0;a<s.length;a++)!TH.call(s,a)||(o.push(String(a)),s===r?Nh(i,n++,s[a]):Nh(i,n++,Ph(s[a])));i=CH(i,s,g3(s).filter(a=>!o.includes(a)),t)}),i};function N7(r,e,t){return t.concatArrays&&Array.isArray(r)&&Array.isArray(e)?y7e(r,e,t):!m3(e)||!m3(r)?Ph(e):CH(r,e,g3(e),t)}MH.exports=function(...r){let e=N7(Ph(kH),this!==h7e&&this||{},kH),t={_:{}};for(let i of r)if(i!==void 0){if(!m3(i))throw new TypeError("`"+i+"` is not an Option Object");t=N7(t,{_:i},e)}return t._}});var NH=M((uWe,RH)=>{var qh=1e3,Oh=qh*60,Dh=Oh*60,al=Dh*24,m7e=al*7,g7e=al*365.25;RH.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return v7e(r);if(t==="number"&&isFinite(r))return e.long?w7e(r):x7e(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function v7e(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return t*g7e;case"weeks":case"week":case"w":return t*m7e;case"days":case"day":case"d":return t*al;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Dh;case"minutes":case"minute":case"mins":case"min":case"m":return t*Oh;case"seconds":case"second":case"secs":case"sec":case"s":return t*qh;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function x7e(r){var e=Math.abs(r);return e>=al?Math.round(r/al)+"d":e>=Dh?Math.round(r/Dh)+"h":e>=Oh?Math.round(r/Oh)+"m":e>=qh?Math.round(r/qh)+"s":r+"ms"}function w7e(r){var e=Math.abs(r);return e>=al?v3(r,e,al,"day"):e>=Dh?v3(r,e,Dh,"hour"):e>=Oh?v3(r,e,Oh,"minute"):e>=qh?v3(r,e,qh,"second"):r+" ms"}function v3(r,e,t,i){var n=e>=t*1.5;return Math.round(r/t)+" "+i+(n?"s":"")}});var OH=M((lWe,qH)=>{"use strict";qH.exports=PH;var _7e=NH(),Pc=PH.prototype,E7e=new Date%1e9;function S7e(){return(Math.random()*1e9>>>0)+E7e++}function PH(r){r=r||{},this.id=r.id||S7e(),this.max=r.max||Infinity,this.items=r.items||[],this._lookup={},this.size=this.items.length,this.lastModified=new Date(r.lastModified||new Date);for(var e,t,i=this.items.length;i--;)e=this.items[i],t=new Date(e.expires)-new Date,this._lookup[e.key]=e,t>0?this.expire(e.key,t):t<=0&&this.delete(e.key)}Pc.has=function(r){return r in this._lookup};Pc.get=function(r){if(!this.has(r))return null;var e=this._lookup[r];return e.refresh&&this.expire(r,e.refresh),this.items.splice(this.items.indexOf(e),1),this.items.push(e),e.value};Pc.meta=function(r){if(!this.has(r))return null;var e=this._lookup[r];return"meta"in e?e.meta:null};Pc.set=function(r,e,t){var i=this._lookup[r],n=this._lookup[r]={key:r,value:e};return this.lastModified=new Date,i?(clearTimeout(i.timeout),this.items.splice(this.items.indexOf(i),1,n)):(this.size>=this.max&&this.delete(this.items[0].key),this.items.push(n),this.size++),t&&("ttl"in t&&this.expire(r,t.ttl),"meta"in t&&(n.meta=t.meta),t.refresh&&(n.refresh=t.ttl)),this};Pc.delete=function(r){var e=this._lookup[r];return e?(this.lastModified=new Date,this.items.splice(this.items.indexOf(e),1),clearTimeout(e.timeout),delete this._lookup[r],this.size--,this):!1};Pc.expire=function(r,e){var t=e||0,i=this._lookup[r];if(!i)return this;if(typeof t=="string"&&(t=_7e(e)),typeof t!="number")throw new TypeError("Expiration time must be a string or number.");return clearTimeout(i.timeout),i.timeout=setTimeout(this.delete.bind(this,i.key),t),i.expires=Number(new Date)+t,this};Pc.clear=function(){for(var r=this.items.length;r--;)this.delete(this.items[r].key);return this};Pc.toJSON=function(){for(var r=new Array(this.items.length),e,t=r.length;t--;)e=this.items[t],r[t]={key:e.key,meta:e.meta,value:e.value,expires:e.expires,refresh:e.refresh};return{id:this.id,max:isFinite(this.max)?this.max:void 0,lastModified:this.lastModified,items:r}}});var mb=M((Lh,DH)=>{"use strict";var A7e=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof k0!="undefined")return k0;throw new Error("unable to locate global object")},k0=A7e();DH.exports=Lh=k0.fetch;k0.fetch&&(Lh.default=k0.fetch.bind(k0));Lh.Headers=k0.Headers;Lh.Request=k0.Request;Lh.Response=k0.Response});var LH=M((dWe,P7)=>{"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?P7.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:P7.exports={default:mb().default,Headers:mb().Headers,Request:mb().Request,Response:mb().Response}});var UH=M((hWe,x3)=>{"use strict";var{default:I7e,Headers:T7e}=LH();function k7e({serverResolver:r,hostname:e,recordType:t}){return`${r}?name=${e}&type=${t}`}x3.exports.buildResource=k7e;function C7e(r){return I7e(r,{headers:new T7e({accept:"application/dns-json"})})}x3.exports.fetch=C7e;function B7e(r,e){return`${e}_${r}`}x3.exports.getCacheKey=B7e});var zH=M((pWe,KH)=>{"use strict";var FH=sr(),w3=FH("dns-over-http-resolver");w3.error=FH("dns-over-http-resolver:error");var M7e=OH(),{buildResource:q7,fetch:O7,getCacheKey:Uh}=UH(),_3=class{constructor({maxCache:e=100}={}){this._cache=new M7e({max:e}),this._servers=["https://cloudflare-dns.com/dns-query","https://dns.google/resolve"]}getServers(){return this._servers}_getShuffledServers(){let e=[].concat(this._servers);for(let t=e.length-1;t>0;t--){let i=Math.floor(Math.random()*t),n=e[t];e[t]=e[i],e[i]=n}return e}setServers(e){this._servers=e}resolve(e,t="A"){switch(t){case"A":return this.resolve4(e);case"AAAA":return this.resolve6(e);case"TXT":return this.resolveTxt(e);default:throw new Error(`${t} is not supported`)}}async resolve4(e){let t="A",i=this._cache.get(Uh(e,t));if(i)return i;for(let n of this._getShuffledServers())try{let o=await(await O7(q7({serverResolver:n,hostname:e,recordType:t}))).json(),a=o.Answer.map(c=>c.data),f=Math.min(o.Answer.map(c=>c.TTL));return this._cache.set(Uh(e,t),a,{ttl:f}),a}catch(s){w3.error(`${n} could not resolve ${e} record ${t}`)}throw new Error(`Could not resolve ${e} record ${t}`)}async resolve6(e){let t="AAAA",i=this._cache.get(Uh(e,t));if(i)return i;for(let n of this._getShuffledServers())try{let o=await(await O7(q7({serverResolver:n,hostname:e,recordType:t}))).json(),a=o.Answer.map(c=>c.data),f=Math.min(o.Answer.map(c=>c.TTL));return this._cache.set(Uh(e,t),a,{ttl:f}),a}catch(s){w3.error(`${n} could not resolve ${e} record ${t}`)}throw new Error(`Could not resolve ${e} record ${t}`)}async resolveTxt(e){let t="TXT",i=this._cache.get(Uh(e,t));if(i)return i;for(let n of this._getShuffledServers())try{let o=await(await O7(q7({serverResolver:n,hostname:e,recordType:t}))).json(),a=o.Answer.map(c=>[c.data.replace(/['"]+/g,"")]),f=Math.min(o.Answer.map(c=>c.TTL));return this._cache.set(Uh(e,t),a,{ttl:f}),a}catch(s){w3.error(`${n} could not resolve ${e} record ${t}`)}throw new Error(`Could not resolve ${e} record ${t}`)}};_3.Resolver=_3;KH.exports=_3});var VH=M((bWe,jH)=>{"use strict";var R7e=zH();jH.exports=R7e});var $H=M((yWe,HH)=>{"use strict";var N7e=lb(),{code:P7e}=N7e("dnsaddr");async function q7e(r){let e=VH(),t=new e,i=r.getPeerId(),[,n]=r.stringTuples().find(([a])=>a===P7e)||[],o=(await t.resolveTxt(`_dnsaddr.${n}`)).flat().map(a=>a.split("=")[1]);return i&&(o=o.filter(a=>a.includes(i))),o}HH.exports={dnsaddrResolver:q7e}});var E3=M((mWe,GH)=>{"use strict";GH.exports={DIAL_TIMEOUT:3e4,MAX_PARALLEL_DIALS:100,MAX_PER_PEER_DIALS:4,METRICS:{computeThrottleMaxQueueSize:1e3,computeThrottleTimeout:2e3,movingAverageIntervals:[60*1e3,5*60*1e3,15*60*1e3],maxOldPeersRetention:50}}});var D7=M((gWe,O7e)=>{O7e.exports={name:"libp2p",version:"0.31.0",description:"JavaScript implementation of libp2p, a modular peer to peer network stack",leadMaintainer:"Jacob Heun <jacobheun@gmail.com>",main:"src/index.js",types:"dist/src/index.d.ts",typesVersions:{"*":{"src/*":["dist/src/*","dist/src/*/index"]}},files:["dist","src"],scripts:{lint:"aegir lint",build:"aegir build","build:proto":"npm run build:proto:circuit && npm run build:proto:identify && npm run build:proto:plaintext && npm run build:proto:address-book && npm run build:proto:proto-book && npm run build:proto:peer-record && npm run build:proto:envelope","build:proto:circuit":"pbjs -t static-module -w commonjs -r libp2p-circuit --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/circuit/protocol/index.js ./src/circuit/protocol/index.proto","build:proto:identify":"pbjs -t static-module -w commonjs -r libp2p-identify --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/identify/message.js ./src/identify/message.proto","build:proto:plaintext":"pbjs -t static-module -w commonjs -r libp2p-plaintext --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/insecure/proto.js ./src/insecure/proto.proto","build:proto:address-book":"pbjs -t static-module -w commonjs -r libp2p-address-book --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/peer-store/persistent/pb/address-book.js ./src/peer-store/persistent/pb/address-book.proto","build:proto:proto-book":"pbjs -t static-module -w commonjs -r libp2p-proto-book --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/peer-store/persistent/pb/proto-book.js ./src/peer-store/persistent/pb/proto-book.proto","build:proto:peer-record":"pbjs -t static-module -w commonjs -r libp2p-peer-record --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/record/peer-record/peer-record.js ./src/record/peer-record/peer-record.proto","build:proto:envelope":"pbjs -t static-module -w commonjs -r libp2p-envelope --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/record/envelope/envelope.js ./src/record/envelope/envelope.proto","build:proto-types":"npm run build:proto-types:circuit && npm run build:proto-types:identify && npm run build:proto-types:plaintext && npm run build:proto-types:address-book && npm run build:proto-types:proto-book && npm run build:proto-types:peer-record && npm run build:proto-types:envelope","build:proto-types:circuit":"pbts -o src/circuit/protocol/index.d.ts src/circuit/protocol/index.js","build:proto-types:identify":"pbts -o src/identify/message.d.ts src/identify/message.js","build:proto-types:plaintext":"pbts -o src/insecure/proto.d.ts src/insecure/proto.js","build:proto-types:address-book":"pbts -o src/peer-store/persistent/pb/address-book.d.ts src/peer-store/persistent/pb/address-book.js","build:proto-types:proto-book":"pbts -o src/peer-store/persistent/pb/proto-book.d.ts src/peer-store/persistent/pb/proto-book.js","build:proto-types:peer-record":"pbts -o src/record/peer-record/peer-record.d.ts src/record/peer-record/peer-record.js","build:proto-types:envelope":"pbts -o src/record/envelope/envelope.d.ts src/record/envelope/envelope.js",test:"aegir test","test:ts":"aegir build --no-bundle && npm run test --prefix test/ts-use","test:node":'aegir test -t node -f "./test/**/*.{node,spec}.js"',"test:browser":"aegir test -t browser","test:examples":"cd examples && npm run test:all",prepare:"aegir build --no-bundle",release:"aegir release -t node -t browser","release-minor":"aegir release --type minor -t node -t browser","release-major":"aegir release --type major -t node -t browser",coverage:"nyc --reporter=text --reporter=lcov npm run test:node"},repository:{type:"git",url:"https://github.com/libp2p/js-libp2p.git"},keywords:["libp2p","network","p2p","peer","peer-to-peer","IPFS"],bugs:{url:"https://github.com/libp2p/js-libp2p/issues"},homepage:"https://libp2p.io",license:"MIT",engines:{node:">=14.0.0"},browser:{"@motrix/nat-api":!1},eslintConfig:{extends:"ipfs",ignorePatterns:["!.aegir.js","test/ts-use"]},dependencies:{"@motrix/nat-api":"^0.3.1","abort-controller":"^3.0.0","aggregate-error":"^3.1.0","any-signal":"^2.1.1","bignumber.js":"^9.0.1",cids:"^1.1.5","class-is":"^1.1.0",debug:"^4.3.1","err-code":"^3.0.0","es6-promisify":"^6.1.1",events:"^3.3.0",hashlru:"^2.3.0","interface-datastore":"^4.0.0","ipfs-utils":"^6.0.0","it-all":"^1.0.4","it-buffer":"^0.1.2","it-drain":"^1.0.3","it-filter":"^1.0.1","it-first":"^1.0.4","it-handshake":"^2.0.0","it-length-prefixed":"^5.0.2","it-map":"^1.0.4","it-merge":"1.0.0","it-pipe":"^1.1.0","it-take":"1.0.0","libp2p-crypto":"^0.19.0","libp2p-interfaces":"^0.10.3","libp2p-utils":"^0.3.1",mafmt:"^9.0.0","merge-options":"^3.0.4","moving-average":"^1.0.0",multiaddr:"^9.0.1",multicodec:"^3.0.1","multihashing-async":"^2.1.2","multistream-select":"^2.0.0","mutable-proxy":"^1.0.0","node-forge":"^0.10.0","p-any":"^3.0.0","p-fifo":"^1.0.0","p-retry":"^4.4.0","p-settle":"^4.1.1","peer-id":"^0.14.2","private-ip":"^2.1.0",protobufjs:"^6.10.2",retimer:"^3.0.0","sanitize-filename":"^1.6.3","set-delayed-interval":"^1.0.0","streaming-iterables":"^5.0.2","timeout-abort-controller":"^1.1.1",varint:"^6.0.0",xsalsa20:"^1.1.0"},devDependencies:{"@nodeutils/defaults-deep":"^1.1.0","@types/es6-promisify":"^6.0.0","@types/node-forge":"^0.9.7","@types/varint":"^6.0.0","abortable-iterator":"^3.0.0",aegir:"^33.1.1",buffer:"^6.0.3",delay:"^5.0.0","interop-libp2p":"^0.3.0","into-stream":"^6.0.0","ipfs-http-client":"^49.0.4","it-concat":"^1.0.0","it-pair":"^1.0.0","it-pushable":"^1.4.0",libp2p:".","libp2p-bootstrap":"^0.12.3","libp2p-delegated-content-routing":"^0.10.0","libp2p-delegated-peer-routing":"^0.9.0","libp2p-floodsub":"^0.25.0","libp2p-gossipsub":"^0.8.0","libp2p-kad-dht":"^0.21.0","libp2p-mdns":"^0.16.0","libp2p-mplex":"^0.10.1","libp2p-noise":"^3.0.0","libp2p-tcp":"^0.15.1","libp2p-webrtc-star":"^0.22.0","libp2p-websockets":"^0.15.0",multihashes:"^4.0.2",nock:"^13.0.3","p-defer":"^3.0.0","p-times":"^3.0.0","p-wait-for":"^3.2.0",rimraf:"^3.0.2",sinon:"^10.0.0",uint8arrays:"^2.1.3",util:"^0.12.3"},contributors:["David Dias <daviddias.p@gmail.com>","Vasco Santos <vasco.santos@moxy.studio>","Jacob Heun <jacobheun@gmail.com>","Alex Potsides <alex@achingbrain.net>","Alan Shaw <alan@tableflip.io>","Cayman <caymannava@gmail.com>","Pedro Teixeira <i@pgte.me>","Friedel Ziegelmayer <dignifiedquire@gmail.com>","Maciej Kr\xFCger <mkg20001@gmail.com>","Hugo Dias <mail@hugodias.me>","dirkmc <dirkmdev@gmail.com>","Volker Mische <volker.mische@gmail.com>","Richard Littauer <richard.littauer@gmail.com>","a1300 <matthias-knopp@gmx.net>","Elven <mon.samuel@qq.com>","Giovanni T. Parra <fiatjaf@gmail.com>","\u1D20\u026A\u1D04\u1D1B\u1D0F\u0280 \u0299\u1D0A\u1D07\u029F\u1D0B\u029C\u1D0F\u029F\u1D0D <victorbjelkholm@gmail.com>","Thomas Eizinger <thomas@eizinger.io>","Samlior <samlior@foxmail.com>","Ryan Bell <ryan@piing.net>","Andrew Nesbitt <andrewnez@gmail.com>","Didrik Nordstr\xF6m <didrik.nordstrom@gmail.com>","Nuno Nogueira <nunofmn@gmail.com>","Philipp Muens <raute1337@gmx.de>","Smite Chow <xiaopengyou@live.com>","Soeren <nikorpoulsen@gmail.com>","S\xF6nke Hahn <soenkehahn@gmail.com>","TJKoury <TJKoury@gmail.com>","Tiago Alves <alvesjtiago@gmail.com>","Yusef Napora <yusef@napora.org>","Zane Starr <zcstarr@gmail.com>","ebinks <elizabethjbinks@gmail.com>","isan_rivkin <isanrivkin@gmail.com>","robertkiel <robert.kiel@validitylabs.org>","RasmusErik Voel Jensen <github@solsort.com>","Aleksei <vozhdb@gmail.com>","Bernd Strehl <bernd.strehl@gmail.com>","Chris Bratlien <chrisbratlien@gmail.com>","Cindy Wu <ciindy.wu@gmail.com>","Daijiro Wachi <daijiro.wachi@gmail.com>","Diogo Silva <fsdiogo@gmail.com>","Dmitriy Ryajov <dryajov@gmail.com>","Ethan Lam <elmemphis2000@gmail.com>","Fei Liu <liu.feiwood@gmail.com>","Felipe Martins <felipebrasil93@gmail.com>","Florian-Merle <florian.david.merle@gmail.com>","Francis Gulotta <wizard@roborooter.com>","Franck Royer <franck@royer.one>","Henrique Dias <hacdias@gmail.com>","Irakli Gozalishvili <rfobic@gmail.com>","Joel Gustafson <joelg@mit.edu>","Julien Bouquillon <contact@revolunet.com>","Kevin Kwok <antimatter15@gmail.com>","Kevin Lacker <lacker@gmail.com>","Miguel Mota <miguelmota2@gmail.com>"]}});var L7=M((vWe,gb)=>{"use strict";var D7e=D7().version;gb.exports.PROTOCOL_VERSION="ipfs/0.1.0";gb.exports.AGENT_VERSION=`js-libp2p/${D7e}`;gb.exports.MULTICODEC_IDENTIFY="/ipfs/id/1.0.0";gb.exports.MULTICODEC_IDENTIFY_PUSH="/ipfs/id/push/1.0.0"});var S3=M((xWe,WH)=>{"use strict";var YH=60*1e3;WH.exports={ADVERTISE_BOOT_DELAY:15*YH,ADVERTISE_TTL:30*YH,CIRCUIT_PROTO_CODE:290,HOP_METADATA_KEY:"hop_relay",HOP_METADATA_VALUE:"true",RELAY_RENDEZVOUS_NS:"/libp2p/relay"}});var ZH=M(vb=>{(function(){var r,e,t,i,n,s,o,a;a=function(f){var c,l,h,x;return c=(f&255<<24)>>>24,l=(f&255<<16)>>>16,h=(f&255<<8)>>>8,x=f&255,[c,l,h,x].join(".")},o=function(f){var c,l,h,x,_,E;for(c=[],h=x=0;x<=3&&f.length!==0;h=++x){if(h>0){if(f[0]!==".")throw new Error("Invalid IP");f=f.substring(1)}E=e(f),_=E[0],l=E[1],f=f.substring(l),c.push(_)}if(f.length!==0)throw new Error("Invalid IP");switch(c.length){case 1:if(c[0]>4294967295)throw new Error("Invalid IP");return c[0]>>>0;case 2:if(c[0]>255||c[1]>16777215)throw new Error("Invalid IP");return(c[0]<<24|c[1])>>>0;case 3:if(c[0]>255||c[1]>255||c[2]>65535)throw new Error("Invalid IP");return(c[0]<<24|c[1]<<16|c[2])>>>0;case 4:if(c[0]>255||c[1]>255||c[2]>255||c[3]>255)throw new Error("Invalid IP");return(c[0]<<24|c[1]<<16|c[2]<<8|c[3])>>>0;default:throw new Error("Invalid IP")}},t=function(f){return f.charCodeAt(0)},i=t("0"),s=t("a"),n=t("A"),e=function(f){var c,l,h,x,_;for(x=0,c=10,l="9",h=0,f.length>1&&f[h]==="0"&&(f[h+1]==="x"||f[h+1]==="X"?(h+=2,c=16):"0"<=f[h+1]&&f[h+1]<="9"&&(h++,c=8,l="7")),_=h;h<f.length;){if("0"<=f[h]&&f[h]<=l)x=x*c+(t(f[h])-i)>>>0;else if(c===16)if("a"<=f[h]&&f[h]<="f")x=x*c+(10+t(f[h])-s)>>>0;else if("A"<=f[h]&&f[h]<="F")x=x*c+(10+t(f[h])-n)>>>0;else break;else break;if(x>4294967295)throw new Error("too large");h++}if(h===_)throw new Error("empty octet");return[x,h]},r=function(){function f(c,l){var h,x,_,E;if(typeof c!="string")throw new Error("Missing `net' parameter");if(l||(E=c.split("/",2),c=E[0],l=E[1]),l||(l=32),typeof l=="string"&&l.indexOf(".")>-1){try{this.maskLong=o(l)}catch(C){throw h=C,new Error("Invalid mask: "+l)}for(x=_=32;_>=0;x=--_)if(this.maskLong===4294967295<<32-x>>>0){this.bitmask=x;break}}else if(l||l===0)this.bitmask=parseInt(l,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0);else throw new Error("Invalid mask: empty");try{this.netLong=(o(c)&this.maskLong)>>>0}catch(C){throw h=C,new Error("Invalid net address: "+c)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+l);this.size=Math.pow(2,32-this.bitmask),this.base=a(this.netLong),this.mask=a(this.maskLong),this.hostmask=a(~this.maskLong),this.first=this.bitmask<=30?a(this.netLong+1):this.base,this.last=this.bitmask<=30?a(this.netLong+this.size-2):a(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?a(this.netLong+this.size-1):void 0}return f.prototype.contains=function(c){return typeof c=="string"&&(c.indexOf("/")>0||c.split(".").length!==4)&&(c=new f(c)),c instanceof f?this.contains(c.base)&&this.contains(c.broadcast||c.last):(o(c)&this.maskLong)>>>0==(this.netLong&this.maskLong)>>>0},f.prototype.next=function(c){return c==null&&(c=1),new f(a(this.netLong+this.size*c),this.mask)},f.prototype.forEach=function(c){var l,h,x;for(x=o(this.first),h=o(this.last),l=0;x<=h;)c(a(x),x,l),l++,x++},f.prototype.toString=function(){return this.base+"/"+this.bitmask},f}(),vb.ip2long=o,vb.long2ip=a,vb.Netmask=r}).call(vb)});var QH=M((_We,XH)=>{var L7e=ZH().Netmask,JH=f7(),U7e=["0.0.0.0/8","10.0.0.0/8","100.64.0.0/10","127.0.0.0/8","169.254.0.0/16","172.16.0.0/12","192.0.0.0/24","192.0.0.0/29","192.0.0.8/32","192.0.0.9/32","192.0.0.10/32","192.0.0.170/32","192.0.0.171/32","192.0.2.0/24","192.31.196.0/24","192.52.193.0/24","192.88.99.0/24","192.168.0.0/16","192.175.48.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","240.0.0.0/4","255.255.255.255/32"],F7e=U7e.map(r=>new L7e(r));function K7e(r){for(let e of F7e)if(e.contains(r))return!0;return!1}function z7e(r){return/^::$/.test(r)||/^::1$/.test(r)||/^::f{4}:([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(r)||/^::f{4}:0.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(r)||/^64:ff9b::([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(r)||/^100::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(r)||/^2001::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(r)||/^2001:2[0-9a-fA-F]:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(r)||/^2001:db8:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(r)||/^2002:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(r)||/^f[c-d]([0-9a-fA-F]{2,2}):/i.test(r)||/^fe[8-9a-bA-B][0-9a-fA-F]:/i.test(r)||/^ff([0-9a-fA-F]{2,2}):/i.test(r)}XH.exports=r=>JH.v6().test(r)?z7e(r):JH().test(r)||r.startsWith("0")?K7e(r):!1});var U7=M((EWe,e$)=>{"use strict";e$.exports=QH()});var r$=M((SWe,t$)=>{"use strict";var j7e=U7();function V7e(r){let{address:e}=r.nodeAddress();return j7e(e)}t$.exports=V7e});var F7=M((AWe,n$)=>{"use strict";var i$=r$();function H7e(r,e){let t=i$(r.multiaddr),i=i$(e.multiaddr);return t&&!i?1:!t&&i||r.isCertified&&!e.isCertified?-1:!r.isCertified&&e.isCertified?1:0}function $7e(r){return[...r].sort(H7e)}n$.exports.publicAddressesFirst=$7e});var o$=M((IWe,K7)=>{"use strict";var s$=async r=>{try{let e=await r;return{isFulfilled:!0,isRejected:!1,value:e}}catch(e){return{isFulfilled:!1,isRejected:!0,reason:e}}};K7.exports=s$;K7.exports.default=s$});var f$=M((TWe,z7)=>{"use strict";var a$=(r,...e)=>new Promise(t=>{t(r(...e))});z7.exports=a$;z7.exports.default=a$});var u$=M((kWe,j7)=>{"use strict";var G7e=f$(),c$=r=>{if(!((Number.isInteger(r)||r===Infinity)&&r>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let e=[],t=0,i=()=>{t--,e.length>0&&e.shift()()},n=(a,f,...c)=>{t++;let l=G7e(a,...c);f(l),l.then(i,i)},s=(a,f,...c)=>{t<r?n(a,f,...c):e.push(n.bind(null,a,f,...c))},o=(a,...f)=>new Promise(c=>s(a,c,...f));return Object.defineProperties(o,{activeCount:{get:()=>t},pendingCount:{get:()=>e.length},clearQueue:{value:()=>{e.length=0}}}),o};j7.exports=c$;j7.exports.default=c$});var d$=M((CWe,l$)=>{"use strict";var V7=o$(),Y7e=u$();l$.exports=async(r,e={})=>{let{concurrency:t=Infinity}=e,i=Y7e(t);return Promise.all(r.map(n=>n&&typeof n.then=="function"?V7(n):typeof n=="function"?V7(i(()=>n())):V7(Promise.resolve(n))))}});var b$=M((BWe,p$)=>{p$.exports=H7;var h$=128,W7e=127,Z7e=~W7e,J7e=Math.pow(2,31);function H7(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw H7.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var i=t;r>=J7e;)e[t++]=r&255|h$,r/=128;for(;r&Z7e;)e[t++]=r&255|h$,r>>>=7;return e[t]=r|0,H7.bytes=t-i+1,e}});var g$=M((MWe,m$)=>{m$.exports=$7;var X7e=128,y$=127;function $7(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o||i>49)throw $7.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&y$)<<i:(s&y$)*Math.pow(2,i),i+=7}while(s>=X7e);return $7.bytes=n-e,t}});var x$=M((RWe,v$)=>{var Q7e=Math.pow(2,7),e_e=Math.pow(2,14),t_e=Math.pow(2,21),r_e=Math.pow(2,28),i_e=Math.pow(2,35),n_e=Math.pow(2,42),s_e=Math.pow(2,49),o_e=Math.pow(2,56),a_e=Math.pow(2,63);v$.exports=function(r){return r<Q7e?1:r<e_e?2:r<t_e?3:r<r_e?4:r<i_e?5:r<n_e?6:r<s_e?7:r<o_e?8:r<a_e?9:10}});var _$=M((NWe,w$)=>{w$.exports={encode:b$(),decode:g$(),encodingLength:x$()}});var A$=M((PWe,S$)=>{"use strict";var Fh=Do(),E$=Fh.Reader,f_e=Fh.Writer,bi=Fh.util,xb=Fh.roots["libp2p-envelope"]||(Fh.roots["libp2p-envelope"]={});xb.Envelope=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.publicKey=bi.newBuffer([]),r.prototype.payloadType=bi.newBuffer([]),r.prototype.payload=bi.newBuffer([]),r.prototype.signature=bi.newBuffer([]),r.encode=function(t,i){return i||(i=f_e.create()),t.publicKey!=null&&Object.hasOwnProperty.call(t,"publicKey")&&i.uint32(10).bytes(t.publicKey),t.payloadType!=null&&Object.hasOwnProperty.call(t,"payloadType")&&i.uint32(18).bytes(t.payloadType),t.payload!=null&&Object.hasOwnProperty.call(t,"payload")&&i.uint32(26).bytes(t.payload),t.signature!=null&&Object.hasOwnProperty.call(t,"signature")&&i.uint32(42).bytes(t.signature),i},r.decode=function(t,i){t instanceof E$||(t=E$.create(t));for(var n=i===void 0?t.len:t.pos+i,s=new xb.Envelope;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:s.publicKey=t.bytes();break;case 2:s.payloadType=t.bytes();break;case 3:s.payload=t.bytes();break;case 5:s.signature=t.bytes();break;default:t.skipType(o&7);break}}return s},r.fromObject=function(t){if(t instanceof xb.Envelope)return t;var i=new xb.Envelope;return t.publicKey!=null&&(typeof t.publicKey=="string"?bi.base64.decode(t.publicKey,i.publicKey=bi.newBuffer(bi.base64.length(t.publicKey)),0):t.publicKey.length&&(i.publicKey=t.publicKey)),t.payloadType!=null&&(typeof t.payloadType=="string"?bi.base64.decode(t.payloadType,i.payloadType=bi.newBuffer(bi.base64.length(t.payloadType)),0):t.payloadType.length&&(i.payloadType=t.payloadType)),t.payload!=null&&(typeof t.payload=="string"?bi.base64.decode(t.payload,i.payload=bi.newBuffer(bi.base64.length(t.payload)),0):t.payload.length&&(i.payload=t.payload)),t.signature!=null&&(typeof t.signature=="string"?bi.base64.decode(t.signature,i.signature=bi.newBuffer(bi.base64.length(t.signature)),0):t.signature.length&&(i.signature=t.signature)),i},r.toObject=function(t,i){i||(i={});var n={};return i.defaults&&(i.bytes===String?n.publicKey="":(n.publicKey=[],i.bytes!==Array&&(n.publicKey=bi.newBuffer(n.publicKey))),i.bytes===String?n.payloadType="":(n.payloadType=[],i.bytes!==Array&&(n.payloadType=bi.newBuffer(n.payloadType))),i.bytes===String?n.payload="":(n.payload=[],i.bytes!==Array&&(n.payload=bi.newBuffer(n.payload))),i.bytes===String?n.signature="":(n.signature=[],i.bytes!==Array&&(n.signature=bi.newBuffer(n.signature)))),t.publicKey!=null&&t.hasOwnProperty("publicKey")&&(n.publicKey=i.bytes===String?bi.base64.encode(t.publicKey,0,t.publicKey.length):i.bytes===Array?Array.prototype.slice.call(t.publicKey):t.publicKey),t.payloadType!=null&&t.hasOwnProperty("payloadType")&&(n.payloadType=i.bytes===String?bi.base64.encode(t.payloadType,0,t.payloadType.length):i.bytes===Array?Array.prototype.slice.call(t.payloadType):t.payloadType),t.payload!=null&&t.hasOwnProperty("payload")&&(n.payload=i.bytes===String?bi.base64.encode(t.payload,0,t.payload.length):i.bytes===Array?Array.prototype.slice.call(t.payload):t.payload),t.signature!=null&&t.hasOwnProperty("signature")&&(n.signature=i.bytes===String?bi.base64.encode(t.signature,0,t.signature.length):i.bytes===Array?Array.prototype.slice.call(t.signature):t.signature),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,Fh.util.toJSONOptions)},r}();S$.exports=xb});var I3=M((qWe,k$)=>{"use strict";var c_e=Ht(),u_e=qo(),l_e=Ai(),d_e=o3(),h_e=Gr(),G7=_$(),A3=gn(),{codes:p_e}=Ji(),{Envelope:I$}=A$(),qc=class{constructor({peerId:e,payloadType:t,payload:i,signature:n}){this.peerId=e,this.payloadType=t,this.payload=i,this.signature=n,this._marshal=void 0}marshal(){if(this._marshal)return this._marshal;let e=d_e.marshalPublicKey(this.peerId.pubKey);return this._marshal=I$.encode({publicKey:e,payloadType:this.payloadType,payload:this.payload,signature:this.signature}).finish(),this._marshal}equals(e){return A3(this.peerId.pubKey.bytes,e.peerId.pubKey.bytes)&&A3(this.payloadType,e.payloadType)&&A3(this.payload,e.payload)&&A3(this.signature,e.signature)}validate(e){let t=T$(e,this.payloadType,this.payload);return this.peerId.pubKey.verify(t,this.signature)}},T$=(r,e,t)=>{let i=l_e(r),n=G7.encode(i.byteLength),s=G7.encode(e.length),o=G7.encode(t.length);return u_e([new Uint8Array(n),i,new Uint8Array(s),e,new Uint8Array(o),t])};qc.createFromProtobuf=async r=>{let e=I$.decode(r),t=await h_e.createFromPubKey(e.publicKey);return new qc({peerId:t,payloadType:e.payloadType,payload:e.payload,signature:e.signature})};qc.seal=async(r,e)=>{let t=r.domain,i=r.codec,n=r.marshal(),s=T$(t,i,n),o=await e.privKey.sign(s);return new qc({peerId:e,payloadType:i,payload:n,signature:o})};qc.openAndCertify=async(r,e)=>{let t=await qc.createFromProtobuf(r);if(!await t.validate(e))throw c_e(new Error("envelope signature is not valid for the given domain"),p_e.ERR_SIGNATURE_NOT_VALID);return t};k$.exports=qc});var B$=M((OWe,C$)=>{"use strict";function b_e(r,e){return r.length===e.length&&e.sort()&&r.sort().every((t,i)=>e[i].equals(t))}C$.exports=b_e});var N$=M((DWe,R$)=>{"use strict";var fl=Do(),T3=fl.Reader,M$=fl.Writer,Ni=fl.util,Ho=fl.roots["libp2p-peer-record"]||(fl.roots["libp2p-peer-record"]={});Ho.PeerRecord=function(){function r(e){if(this.addresses=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.peerId=Ni.newBuffer([]),r.prototype.seq=Ni.Long?Ni.Long.fromBits(0,0,!0):0,r.prototype.addresses=Ni.emptyArray,r.encode=function(t,i){if(i||(i=M$.create()),t.peerId!=null&&Object.hasOwnProperty.call(t,"peerId")&&i.uint32(10).bytes(t.peerId),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&i.uint32(16).uint64(t.seq),t.addresses!=null&&t.addresses.length)for(var n=0;n<t.addresses.length;++n)Ho.PeerRecord.AddressInfo.encode(t.addresses[n],i.uint32(26).fork()).ldelim();return i},r.decode=function(t,i){t instanceof T3||(t=T3.create(t));for(var n=i===void 0?t.len:t.pos+i,s=new Ho.PeerRecord;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:s.peerId=t.bytes();break;case 2:s.seq=t.uint64();break;case 3:s.addresses&&s.addresses.length||(s.addresses=[]),s.addresses.push(Ho.PeerRecord.AddressInfo.decode(t,t.uint32()));break;default:t.skipType(o&7);break}}return s},r.fromObject=function(t){if(t instanceof Ho.PeerRecord)return t;var i=new Ho.PeerRecord;if(t.peerId!=null&&(typeof t.peerId=="string"?Ni.base64.decode(t.peerId,i.peerId=Ni.newBuffer(Ni.base64.length(t.peerId)),0):t.peerId.length&&(i.peerId=t.peerId)),t.seq!=null&&(Ni.Long?(i.seq=Ni.Long.fromValue(t.seq)).unsigned=!0:typeof t.seq=="string"?i.seq=parseInt(t.seq,10):typeof t.seq=="number"?i.seq=t.seq:typeof t.seq=="object"&&(i.seq=new Ni.LongBits(t.seq.low>>>0,t.seq.high>>>0).toNumber(!0))),t.addresses){if(!Array.isArray(t.addresses))throw TypeError(".PeerRecord.addresses: array expected");i.addresses=[];for(var n=0;n<t.addresses.length;++n){if(typeof t.addresses[n]!="object")throw TypeError(".PeerRecord.addresses: object expected");i.addresses[n]=Ho.PeerRecord.AddressInfo.fromObject(t.addresses[n])}}return i},r.toObject=function(t,i){i||(i={});var n={};if((i.arrays||i.defaults)&&(n.addresses=[]),i.defaults)if(i.bytes===String?n.peerId="":(n.peerId=[],i.bytes!==Array&&(n.peerId=Ni.newBuffer(n.peerId))),Ni.Long){var s=new Ni.Long(0,0,!0);n.seq=i.longs===String?s.toString():i.longs===Number?s.toNumber():s}else n.seq=i.longs===String?"0":0;if(t.peerId!=null&&t.hasOwnProperty("peerId")&&(n.peerId=i.bytes===String?Ni.base64.encode(t.peerId,0,t.peerId.length):i.bytes===Array?Array.prototype.slice.call(t.peerId):t.peerId),t.seq!=null&&t.hasOwnProperty("seq")&&(typeof t.seq=="number"?n.seq=i.longs===String?String(t.seq):t.seq:n.seq=i.longs===String?Ni.Long.prototype.toString.call(t.seq):i.longs===Number?new Ni.LongBits(t.seq.low>>>0,t.seq.high>>>0).toNumber(!0):t.seq),t.addresses&&t.addresses.length){n.addresses=[];for(var o=0;o<t.addresses.length;++o)n.addresses[o]=Ho.PeerRecord.AddressInfo.toObject(t.addresses[o],i)}return n},r.prototype.toJSON=function(){return this.constructor.toObject(this,fl.util.toJSONOptions)},r.AddressInfo=function(){function e(t){if(t)for(var i=Object.keys(t),n=0;n<i.length;++n)t[i[n]]!=null&&(this[i[n]]=t[i[n]])}return e.prototype.multiaddr=Ni.newBuffer([]),e.encode=function(i,n){return n||(n=M$.create()),i.multiaddr!=null&&Object.hasOwnProperty.call(i,"multiaddr")&&n.uint32(10).bytes(i.multiaddr),n},e.decode=function(i,n){i instanceof T3||(i=T3.create(i));for(var s=n===void 0?i.len:i.pos+n,o=new Ho.PeerRecord.AddressInfo;i.pos<s;){var a=i.uint32();switch(a>>>3){case 1:o.multiaddr=i.bytes();break;default:i.skipType(a&7);break}}return o},e.fromObject=function(i){if(i instanceof Ho.PeerRecord.AddressInfo)return i;var n=new Ho.PeerRecord.AddressInfo;return i.multiaddr!=null&&(typeof i.multiaddr=="string"?Ni.base64.decode(i.multiaddr,n.multiaddr=Ni.newBuffer(Ni.base64.length(i.multiaddr)),0):i.multiaddr.length&&(n.multiaddr=i.multiaddr)),n},e.toObject=function(i,n){n||(n={});var s={};return n.defaults&&(n.bytes===String?s.multiaddr="":(s.multiaddr=[],n.bytes!==Array&&(s.multiaddr=Ni.newBuffer(s.multiaddr)))),i.multiaddr!=null&&i.hasOwnProperty("multiaddr")&&(s.multiaddr=n.bytes===String?Ni.base64.encode(i.multiaddr,0,i.multiaddr.length):n.bytes===Array?Array.prototype.slice.call(i.multiaddr):i.multiaddr),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,fl.util.toJSONOptions)},e}(),r}();R$.exports=Ho});var O$=M((LWe,q$)=>{"use strict";var P$=i9(),y_e=P$.getName(P$.LIBP2P_PEER_RECORD)||"libp2p-peer-record",m_e=Uint8Array.from([3,1]);q$.exports={ENVELOPE_DOMAIN_PEER_RECORD:y_e,ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:m_e}});var k3=M((UWe,U$)=>{"use strict";var{Multiaddr:g_e}=zi(),v_e=Gr(),x_e=B$(),{PeerRecord:D$}=N$(),{ENVELOPE_DOMAIN_PEER_RECORD:L$,ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:w_e}=O$(),cl=class{constructor({peerId:e,multiaddrs:t=[],seqNumber:i=Date.now()}){this.domain=L$,this.codec=w_e,this.peerId=e,this.multiaddrs=t,this.seqNumber=i,this._marshal=void 0}marshal(){return this._marshal?this._marshal:(this._marshal=D$.encode({peerId:this.peerId.toBytes(),seq:this.seqNumber,addresses:this.multiaddrs.map(e=>({multiaddr:e.bytes}))}).finish(),this._marshal)}equals(e){return!(!(e instanceof cl)||!this.peerId.equals(e.peerId)||this.seqNumber!==e.seqNumber||!x_e(this.multiaddrs,e.multiaddrs))}};cl.createFromProtobuf=r=>{let e=D$.decode(r),t=v_e.createFromBytes(e.peerId),i=(e.addresses||[]).map(s=>new g_e(s.multiaddr)),n=Number(e.seq);return new cl({peerId:t,multiaddrs:i,seqNumber:n})};cl.DOMAIN=L$;U$.exports=cl});var Y7=M((FWe,F$)=>{"use strict";var __e=I3(),E_e=k3();async function S_e(r){let e=new E_e({peerId:r.peerId,multiaddrs:r.multiaddrs}),t=await __e.seal(e,r.peerId);r.peerStore.addressBook.consumePeerRecord(t)}F$.exports.updateSelfPeerRecord=S_e});var Z7=M((KWe,j$)=>{"use strict";var K$=sr(),ul=Object.assign(K$("libp2p:transports"),{error:K$("libp2p:transports:err")}),A_e=d$(),{codes:Kh}=Ji(),wb=Ht(),{updateSelfPeerRecord:z$}=Y7(),W7=class{constructor({libp2p:e,upgrader:t,faultTolerance:i=C3.FATAL_ALL}){this.libp2p=e,this.upgrader=t,this._transports=new Map,this._listeners=new Map,this._listenerOptions=new Map,this.faultTolerance=i}add(e,t,i={}){if(ul("adding %s",e),!e)throw wb(new Error(`Transport must have a valid key, was given '${e}'`),Kh.ERR_INVALID_KEY);if(this._transports.has(e))throw wb(new Error("There is already a transport with this key"),Kh.ERR_DUPLICATE_TRANSPORT);let n=new t({...i,libp2p:this.libp2p,upgrader:this.upgrader});this._transports.set(e,n),this._listenerOptions.set(e,i.listenerOptions||{}),this._listeners.has(e)||this._listeners.set(e,[])}async close(){let e=[];for(let[t,i]of this._listeners)for(ul("closing listeners for %s",t);i.length;){let n=i.pop();n.removeAllListeners("listening"),n.removeAllListeners("close"),e.push(n.close())}await Promise.all(e),ul("all listeners closed");for(let t of this._listeners.keys())this._listeners.set(t,[])}async dial(e,t){let i=this.transportForMultiaddr(e);if(!i)throw wb(new Error(`No transport available for address ${String(e)}`),Kh.ERR_TRANSPORT_UNAVAILABLE);try{return await i.dial(e,t)}catch(n){throw n.code||(n.code=Kh.ERR_TRANSPORT_DIAL_FAILED),n}}getAddrs(){let e=[];for(let t of this._listeners.values())for(let i of t)e=[...e,...i.getAddrs()];return e}getTransports(){return this._transports.values()}transportForMultiaddr(e){for(let t of this._transports.values())if(t.filter([e]).length)return t;return null}async listen(e){if(!e||e.length===0){ul("no addresses were provided for listening, this node is dial only");return}let t=[];for(let[i,n]of this._transports.entries()){let s=n.filter(e),o=[];for(let c of s){ul("creating listener for %s on %s",i,c);let l=n.createListener(this._listenerOptions.get(i));this._listeners.get(i).push(l),l.on("listening",()=>z$(this.libp2p)),l.on("close",()=>z$(this.libp2p)),o.push(l.listen(c))}if(o.length===0){t.push(i);continue}if(!(await A_e(o)).find(c=>c.isFulfilled===!0)&&this.faultTolerance!==C3.NO_FATAL)throw wb(new Error(`Transport (${i}) could not listen on any available address`),Kh.ERR_NO_VALID_ADDRESSES)}if(t.length===this._transports.size){let i=`no valid addresses were provided for transports [${t}]`;if(this.faultTolerance===C3.FATAL_ALL)throw wb(new Error(i),Kh.ERR_NO_VALID_ADDRESSES);ul(`libp2p in dial mode only: ${i}`)}}async remove(e){if(ul("removing %s",e),this._listeners.has(e))for(let t of this._listeners.get(e))t.removeAllListeners("listening"),t.removeAllListeners("close"),await t.close();this._transports.delete(e),this._listeners.delete(e)}async removeAll(){let e=[];for(let t of this._transports.keys())e.push(this.remove(t));await Promise.all(e)}},C3={FATAL_ALL:0,NO_FATAL:1};W7.FaultTolerance=C3;j$.exports=W7});var $$=M((zWe,H$)=>{"use strict";var I_e=yb(),{dnsaddrResolver:T_e}=$H(),J7=E3(),{AGENT_VERSION:k_e}=L7(),V$=S3(),{publicAddressesFirst:C_e}=F7(),{FaultTolerance:B_e}=Z7(),M_e={addresses:{listen:[],announce:[],noAnnounce:[],announceFilter:r=>r},connectionManager:{minConnections:25},transportManager:{faultTolerance:B_e.FATAL_ALL},dialer:{maxParallelDials:J7.MAX_PARALLEL_DIALS,maxDialsPerPeer:J7.MAX_PER_PEER_DIALS,dialTimeout:J7.DIAL_TIMEOUT,resolvers:{dnsaddr:T_e},addressSorter:C_e},host:{agentVersion:k_e},metrics:{enabled:!1},peerStore:{persistence:!1,threshold:5},peerRouting:{refreshManager:{enabled:!0,interval:6e5,bootDelay:1e4}},config:{dht:{enabled:!1,kBucketSize:20,randomWalk:{enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:1e4}},nat:{enabled:!0,ttl:7200,keepAlive:!0,gateway:null,externalIp:null,pmp:{enabled:!1}},peerDiscovery:{autoDial:!0},pubsub:{enabled:!0},relay:{enabled:!0,advertise:{bootDelay:V$.ADVERTISE_BOOT_DELAY,enabled:!1,ttl:V$.ADVERTISE_TTL},hop:{enabled:!1,active:!1},autoRelay:{enabled:!1,maxListeners:2}},transport:{}}};H$.exports.validate=r=>{let e=I_e(M_e,r);if(e.modules.transport.length<1)throw new Error("'options.modules.transport' must contain at least 1 transport");return e}});var W$=M((jWe,Y$)=>{"use strict";var R_e=Wn(),{Multiaddr:_b}=zi(),N_e=Gr(),G$=class extends R_e{constructor(e,{listen:t=[],announce:i=[]}={}){super();this.peerId=e,this.listen=new Set(t.map(n=>n.toString())),this.announce=new Set(i.map(n=>n.toString())),this.observed=new Set}getListenAddrs(){return Array.from(this.listen).map(e=>new _b(e))}getAnnounceAddrs(){return Array.from(this.announce).map(e=>new _b(e))}getObservedAddrs(){return Array.from(this.observed).map(e=>new _b(e))}addObservedAddr(e){let t=new _b(e),i=t.getPeerId();i&&N_e.createFromB58String(i).equals(this.peerId)&&(t=t.decapsulate(new _b(`/p2p/${this.peerId}`)));let n=t.toString();this.observed.has(n)||(this.observed.add(n),this.emit("change:addresses"))}};Y$.exports=G$});var X$=M((VWe,J$)=>{"use strict";var P_e=Wn(),X7=sr()("latency-monitor:VisibilityChangeEmitter"),Z$=class extends P_e{constructor(){super();if(typeof document=="undefined"){X7('This is not a browser, no "document" found. Stopping.');return}this._initializeVisibilityVarNames(),this._addVisibilityChangeListener()}_initializeVisibilityVarNames(){let e,t;typeof document.hidden!="undefined"?(e="hidden",t="visibilitychange"):typeof document.mozHidden!="undefined"?(e="mozHidden",t="mozvisibilitychange"):typeof document.msHidden!="undefined"?(e="msHidden",t="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(e="webkitHidden",t="webkitvisibilitychange"),this._hidden=e,this._visibilityChange=t}_addVisibilityChangeListener(){typeof document.addEventListener=="undefined"||typeof document[this._hidden]=="undefined"?X7("Checking page visibility requires a browser that supports the Page Visibility API."):document.addEventListener(this._visibilityChange,this._handleVisibilityChange.bind(this),!1)}isVisible(){if(!(this._hidden===void 0||document[this._hidden]===void 0))return!document[this._hidden]}_handleVisibilityChange(){let e=!document[this._hidden];X7(e?"Page Visible":"Page Hidden"),this.emit("visibilityChange",e)}};J$.exports=Z$});var tG=M((HWe,eG)=>{"use strict";var q_e=Wn(),O_e=X$(),C0=sr()("latency-monitor:LatencyMonitor"),Q$=class extends q_e{constructor({latencyCheckIntervalMs:e,dataEmitIntervalMs:t,asyncTestFn:i,latencyRandomPercentage:n}={}){super();let s=this;s.latencyCheckIntervalMs=e||500,s.latencyRandomPercentage=n||10,s._latecyCheckMultiply=2*(s.latencyRandomPercentage/100)*s.latencyCheckIntervalMs,s._latecyCheckSubtract=s._latecyCheckMultiply/2,s.dataEmitIntervalMs=t===null||t===0?void 0:t||5*1e3,C0("latencyCheckIntervalMs: %s dataEmitIntervalMs: %s",s.latencyCheckIntervalMs,s.dataEmitIntervalMs),s.dataEmitIntervalMs?C0("Expecting ~%s events per summary",s.latencyCheckIntervalMs/s.dataEmitIntervalMs):C0("Not emitting summaries"),s.asyncTestFn=i,globalThis.process&&globalThis.process.hrtime?(C0("Using process.hrtime for timing"),s.now=globalThis.process.hrtime,s.getDeltaMS=o=>{let a=s.now(o);return a[0]*1e3+a[1]/1e6}):typeof window!="undefined"&&window.performance&&window.performance.now?(C0("Using performance.now for timing"),s.now=window.performance.now.bind(window.performance),s.getDeltaMS=o=>Math.round(s.now()-o)):(C0("Using Date.now for timing"),s.now=Date.now,s.getDeltaMS=o=>s.now()-o),s._latencyData=s._initLatencyData(),D_e()&&(s._visibilityChangeEmitter=new O_e,s._visibilityChangeEmitter.on("visibilityChange",o=>{o?s._startTimers():(s._emitSummary(),s._stopTimers())})),(!s._visibilityChangeEmitter||s._visibilityChangeEmitter.isVisible())&&s._startTimers()}_startTimers(){this._checkLatencyID||(this._checkLatency(),this.dataEmitIntervalMs&&(this._emitIntervalID=setInterval(()=>this._emitSummary(),this.dataEmitIntervalMs),typeof this._emitIntervalID.unref=="function"&&this._emitIntervalID.unref()))}_stopTimers(){this._checkLatencyID&&(clearTimeout(this._checkLatencyID),this._checkLatencyID=void 0),this._emitIntervalID&&(clearInterval(this._emitIntervalID),this._emitIntervalID=void 0)}_emitSummary(){let e=this.getSummary();e.events>0&&this.emit("data",e)}getSummary(){let e={events:this._latencyData.events,minMs:this._latencyData.minMs,maxMs:this._latencyData.maxMs,avgMs:this._latencyData.events?this._latencyData.totalMs/this._latencyData.events:Number.POSITIVE_INFINITY,lengthMs:this.getDeltaMS(this._latencyData.startTime)};return this._latencyData=this._initLatencyData(),C0("Summary: %O",e),e}_checkLatency(){let e=this,t=Math.random()*e._latecyCheckMultiply-e._latecyCheckSubtract,i={deltaOffset:Math.ceil(e.latencyCheckIntervalMs+t),startTime:e.now()},n=()=>{if(!this._checkLatencyID)return;let s=e.getDeltaMS(i.startTime)-i.deltaOffset;e._checkLatency(),e._latencyData.events++,e._latencyData.minMs=Math.min(e._latencyData.minMs,s),e._latencyData.maxMs=Math.max(e._latencyData.maxMs,s),e._latencyData.totalMs+=s,C0("MS: %s Data: %O",s,e._latencyData)};C0("localData: %O",i),this._checkLatencyID=setTimeout(()=>{e.asyncTestFn?(i.deltaOffset=0,i.startTime=e.now(),e.asyncTestFn(n)):(i.deltaOffset-=1,n())},i.deltaOffset),typeof this._checkLatencyID.unref=="function"&&this._checkLatencyID.unref()}_initLatencyData(){return{startTime:this.now(),minMs:Number.POSITIVE_INFINITY,maxMs:Number.NEGATIVE_INFINITY,events:0,totalMs:0}}};function D_e(){return typeof window!="undefined"}eG.exports=Q$});var iG=M(($We,rG)=>{"use strict";rG.exports=function(){return Date.now()}});var Q7=M((GWe,sG)=>{"use strict";var B3=iG(),nG=class{constructor(e,t,i){let n=this;this._started=B3(),this._rescheduled=0,this._scheduled=t,this._args=i,this._triggered=!1,this._timerWrapper=()=>{n._rescheduled>0?(n._scheduled=n._rescheduled-(B3()-n._started),n._schedule(n._scheduled)):(n._triggered=!0,e.apply(null,n._args))},this._timer=setTimeout(this._timerWrapper,t)}reschedule(e){e||(e=this._scheduled);let t=B3();t+e-(this._started+this._scheduled)<0?(clearTimeout(this._timer),this._schedule(e)):this._triggered?this._schedule(e):(this._started=t,this._rescheduled=e)}_schedule(e){this._triggered=!1,this._started=B3(),this._rescheduled=0,this._scheduled=e,this._timer=setTimeout(this._timerWrapper,e)}clear(){clearTimeout(this._timer)}};function L_e(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("timeout needed");let r;if(arguments.length>0){r=new Array(arguments.length-2);for(var e=0;e<r.length;e++)r[e]=arguments[e+2]}return new nG(arguments[0],arguments[1],r)}sG.exports=L_e});var lG=M((YWe,uG)=>{"use strict";var oG=sr(),Ra=Object.assign(oG("libp2p:connection-manager"),{error:oG("libp2p:connection-manager:err")}),aG=Ht(),U_e=yb(),F_e=tG(),M3=Q7(),K_e=Wn(),z_e=Gr(),{codes:{ERR_INVALID_PARAMETERS:fG}}=Ji(),j_e={maxConnections:Infinity,minConnections:0,maxData:Infinity,maxSentData:Infinity,maxReceivedData:Infinity,maxEventLoopDelay:Infinity,pollInterval:2e3,autoDialInterval:1e4,movingAverageInterval:6e4,defaultPeerValue:1},cG=class extends K_e{constructor(e,t={}){super();if(this._libp2p=e,this._peerId=e.peerId.toB58String(),this._options=U_e.call({ignoreUndefined:!0},j_e,t),this._options.maxConnections<this._options.minConnections)throw aG(new Error("Connection Manager maxConnections must be greater than minConnections"),fG);Ra("options: %j",this._options),this._peerValues=new Map,this.connections=new Map,this._started=!1,this._timer=null,this._autoDialTimeout=null,this._checkMetrics=this._checkMetrics.bind(this),this._autoDial=this._autoDial.bind(this)}get size(){return Array.from(this.connections.values()).reduce((e,t)=>e+t.length,0)}start(){this._libp2p.metrics&&(this._timer=this._timer||M3(this._checkMetrics,this._options.pollInterval)),this._latencyMonitor=new F_e({latencyCheckIntervalMs:this._options.pollInterval,dataEmitIntervalMs:this._options.pollInterval}),this._onLatencyMeasure=this._onLatencyMeasure.bind(this),this._latencyMonitor.on("data",this._onLatencyMeasure),this._started=!0,Ra("started"),this._options.autoDial&&this._autoDial()}async stop(){this._autoDialTimeout&&this._autoDialTimeout.clear(),this._timer&&this._timer.clear(),this._latencyMonitor&&this._latencyMonitor.removeListener("data",this._onLatencyMeasure),this._started=!1,await this._close(),Ra("stopped")}async _close(){let e=[];for(let t of this.connections.values())for(let i of t)e.push(i.close());await Promise.all(e),this.connections.clear()}setPeerValue(e,t){if(t<0||t>1)throw new Error("value should be a number between 0 and 1");this._peerValues.set(e.toB58String(),t)}_checkMetrics(){if(this._libp2p.metrics){let e=this._libp2p.metrics.global.movingAverages,t=e.dataReceived[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxReceivedData",t);let i=e.dataSent[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxSentData",i);let n=t+i;this._checkMaxLimit("maxData",n),Ra("metrics update",n),this._timer=M3(this._checkMetrics,this._options.pollInterval)}}onConnect(e){let t=e.remotePeer,i=t.toB58String(),n=this.connections.get(i);this.emit("peer:connect",e),n?n.push(e):this.connections.set(i,[e]),this._libp2p.peerStore.keyBook.set(t,t.pubKey),this._peerValues.has(i)||this._peerValues.set(i,this._options.defaultPeerValue),this._checkMaxLimit("maxConnections",this.size)}onDisconnect(e){let t=e.remotePeer.toB58String(),i=this.connections.get(t);i&&i.length>1?(i=i.filter(n=>n.id!==e.id),this.connections.set(t,i)):i&&(this.connections.delete(t),this._peerValues.delete(e.remotePeer.toB58String()),this.emit("peer:disconnect",e))}get(e){let t=this.getAll(e);return t.length?t[0]:null}getAll(e){if(!z_e.isPeerId(e))throw aG(new Error("peerId must be an instance of peer-id"),fG);let t=e.toB58String(),i=this.connections.get(t);return i?i.filter(n=>n.stat.status==="open"):[]}_onLatencyMeasure(e){this._checkMaxLimit("maxEventLoopDelay",e.avgMs)}_checkMaxLimit(e,t){let i=this._options[e];Ra("checking limit of %s. current value: %d of %d",e,t,i),t>i&&(Ra("%s: limit exceeded: %s, %d",this._peerId,e,t),this._maybeDisconnectOne())}async _autoDial(){let e=this._options.minConnections;if(this.size>=e){this._autoDialTimeout=M3(this._autoDial,this._options.autoDialInterval);return}let t=Array.from(this._libp2p.peerStore.peers.values()).sort((i,n)=>n.protocols&&n.protocols.length&&(!i.protocols||!i.protocols.length)||n.id.pubKey&&!i.id.pubKey?1:-1);for(let i=0;i<t.length&&this.size<e;i++)if(!this.get(t[i].id)){Ra("connecting to a peerStore stored peer %s",t[i].id.toB58String());try{if(await this._libp2p.dialer.connectToPeer(t[i].id),!this._started)return}catch(n){Ra.error("could not connect to peerStore stored peer",n)}}this._autoDialTimeout=M3(this._autoDial,this._options.autoDialInterval)}_maybeDisconnectOne(){if(this._options.minConnections<this.connections.size){let e=Array.from(new Map([...this._peerValues.entries()].sort((i,n)=>i[1]-n[1])));Ra("%s: sorted peer values: %j",this._peerId,e);let t=e[0];if(t){let i=t[0];Ra("%s: lowest value peer is %s",this._peerId,i),Ra("%s: closing a connection to %j",this._peerId,i);for(let n of this.connections.values())if(n[0].remotePeer.toB58String()===i){n[0].close();break}}}}};uG.exports=cG});var Sb=M((WWe,wG)=>{"use strict";var{Multiaddr:e_}=zi(),dG=Jt("dns4"),hG=Jt("dns6"),pG=Jt("dnsaddr"),ll=ns(Jt("dns"),pG,dG,hG),Eb=ns(Jt("ip4"),Jt("ip6")),zh=ns(yr(Eb,Jt("tcp")),yr(ll,Jt("tcp"))),t_=yr(Eb,Jt("udp")),bG=yr(t_,Jt("utp")),yG=yr(t_,Jt("quic")),jh=ns(yr(zh,Jt("ws")),yr(ll,Jt("ws"))),Vh=ns(yr(zh,Jt("wss")),yr(ll,Jt("wss"))),R3=ns(yr(zh,Jt("http")),yr(Eb,Jt("http")),yr(ll,Jt("http"))),N3=ns(yr(zh,Jt("https")),yr(Eb,Jt("https")),yr(ll,Jt("https"))),r_=ns(yr(jh,Jt("p2p-webrtc-star"),Jt("p2p")),yr(Vh,Jt("p2p-webrtc-star"),Jt("p2p")),yr(jh,Jt("p2p-webrtc-star")),yr(Vh,Jt("p2p-webrtc-star"))),V_e=ns(yr(jh,Jt("p2p-websocket-star"),Jt("p2p")),yr(Vh,Jt("p2p-websocket-star"),Jt("p2p")),yr(jh,Jt("p2p-websocket-star")),yr(Vh,Jt("p2p-websocket-star"))),i_=ns(yr(R3,Jt("p2p-webrtc-direct"),Jt("p2p")),yr(N3,Jt("p2p-webrtc-direct"),Jt("p2p")),yr(R3,Jt("p2p-webrtc-direct")),yr(N3,Jt("p2p-webrtc-direct"))),Hh=ns(jh,Vh,R3,N3,r_,i_,zh,bG,yG,ll),H_e=ns(yr(Hh,Jt("p2p-stardust"),Jt("p2p")),yr(Hh,Jt("p2p-stardust"))),Oc=ns(yr(Hh,Jt("p2p")),r_,i_,Jt("p2p")),mG=ns(yr(Oc,Jt("p2p-circuit"),Oc),yr(Oc,Jt("p2p-circuit")),yr(Jt("p2p-circuit"),Oc),yr(Hh,Jt("p2p-circuit")),yr(Jt("p2p-circuit"),Hh),Jt("p2p-circuit")),gG=()=>ns(yr(mG,gG),mG),$h=gG(),vG=ns(yr($h,Oc,$h),yr(Oc,$h),yr($h,Oc),$h,Oc);wG.exports={DNS:ll,DNS4:dG,DNS6:hG,DNSADDR:pG,IP:Eb,TCP:zh,UDP:t_,QUIC:yG,UTP:bG,HTTP:R3,HTTPS:N3,WebSockets:jh,WebSocketsSecure:Vh,WebSocketStar:V_e,WebRTCStar:r_,WebRTCDirect:i_,Reliable:Hh,Stardust:H_e,Circuit:$h,P2P:vG,IPFS:vG};function xG(r){function e(t){if(!e_.isMultiaddr(t))try{t=new e_(t)}catch(n){return!1}let i=r(t.protoNames());return i===null?!1:i===!0||i===!1?i:i.length===0}return e}function yr(...r){function e(t){if(t.length<r.length)return null;let i=t;return r.some(n=>(i=typeof n=="function"?n().partialMatch(t):n.partialMatch(t),Array.isArray(i)&&(t=i),i===null)),i}return{toString:function(){return"{ "+r.join(" ")+" }"},input:r,matches:xG(e),partialMatch:e}}function ns(...r){function e(i){let n=null;return r.some(s=>{let o=typeof s=="function"?s().partialMatch(i):s.partialMatch(i);return o?(n=o,!0):!1}),n}return{toString:function(){return"{ "+r.join(" ")+" }"},input:r,matches:xG(e),partialMatch:e}}function Jt(r){let e=r;function t(n){if(typeof n=="string")try{n=new e_(n)}catch(o){return!1}let s=n.protoNames();return s.length===1&&s[0]===e}function i(n){return n.length===0?null:n[0]===e?n.slice(1):null}return{toString:function(){return e},matches:t,partialMatch:i}}});var Gh=M((ZWe,EG)=>{"use strict";var dl=Do(),P3=dl.Reader,_G=dl.Writer,$o=dl.util,Sn=dl.roots["libp2p-circuit"]||(dl.roots["libp2p-circuit"]={});Sn.CircuitRelay=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.type=1,r.prototype.srcPeer=null,r.prototype.dstPeer=null,r.prototype.code=100,r.encode=function(t,i){return i||(i=_G.create()),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&i.uint32(8).int32(t.type),t.srcPeer!=null&&Object.hasOwnProperty.call(t,"srcPeer")&&Sn.CircuitRelay.Peer.encode(t.srcPeer,i.uint32(18).fork()).ldelim(),t.dstPeer!=null&&Object.hasOwnProperty.call(t,"dstPeer")&&Sn.CircuitRelay.Peer.encode(t.dstPeer,i.uint32(26).fork()).ldelim(),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&i.uint32(32).int32(t.code),i},r.decode=function(t,i){t instanceof P3||(t=P3.create(t));for(var n=i===void 0?t.len:t.pos+i,s=new Sn.CircuitRelay;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:s.type=t.int32();break;case 2:s.srcPeer=Sn.CircuitRelay.Peer.decode(t,t.uint32());break;case 3:s.dstPeer=Sn.CircuitRelay.Peer.decode(t,t.uint32());break;case 4:s.code=t.int32();break;default:t.skipType(o&7);break}}return s},r.fromObject=function(t){if(t instanceof Sn.CircuitRelay)return t;var i=new Sn.CircuitRelay;switch(t.type){case"HOP":case 1:i.type=1;break;case"STOP":case 2:i.type=2;break;case"STATUS":case 3:i.type=3;break;case"CAN_HOP":case 4:i.type=4;break}if(t.srcPeer!=null){if(typeof t.srcPeer!="object")throw TypeError(".CircuitRelay.srcPeer: object expected");i.srcPeer=Sn.CircuitRelay.Peer.fromObject(t.srcPeer)}if(t.dstPeer!=null){if(typeof t.dstPeer!="object")throw TypeError(".CircuitRelay.dstPeer: object expected");i.dstPeer=Sn.CircuitRelay.Peer.fromObject(t.dstPeer)}switch(t.code){case"SUCCESS":case 100:i.code=100;break;case"HOP_SRC_ADDR_TOO_LONG":case 220:i.code=220;break;case"HOP_DST_ADDR_TOO_LONG":case 221:i.code=221;break;case"HOP_SRC_MULTIADDR_INVALID":case 250:i.code=250;break;case"HOP_DST_MULTIADDR_INVALID":case 251:i.code=251;break;case"HOP_NO_CONN_TO_DST":case 260:i.code=260;break;case"HOP_CANT_DIAL_DST":case 261:i.code=261;break;case"HOP_CANT_OPEN_DST_STREAM":case 262:i.code=262;break;case"HOP_CANT_SPEAK_RELAY":case 270:i.code=270;break;case"HOP_CANT_RELAY_TO_SELF":case 280:i.code=280;break;case"STOP_SRC_ADDR_TOO_LONG":case 320:i.code=320;break;case"STOP_DST_ADDR_TOO_LONG":case 321:i.code=321;break;case"STOP_SRC_MULTIADDR_INVALID":case 350:i.code=350;break;case"STOP_DST_MULTIADDR_INVALID":case 351:i.code=351;break;case"STOP_RELAY_REFUSED":case 390:i.code=390;break;case"MALFORMED_MESSAGE":case 400:i.code=400;break}return i},r.toObject=function(t,i){i||(i={});var n={};return i.defaults&&(n.type=i.enums===String?"HOP":1,n.srcPeer=null,n.dstPeer=null,n.code=i.enums===String?"SUCCESS":100),t.type!=null&&t.hasOwnProperty("type")&&(n.type=i.enums===String?Sn.CircuitRelay.Type[t.type]:t.type),t.srcPeer!=null&&t.hasOwnProperty("srcPeer")&&(n.srcPeer=Sn.CircuitRelay.Peer.toObject(t.srcPeer,i)),t.dstPeer!=null&&t.hasOwnProperty("dstPeer")&&(n.dstPeer=Sn.CircuitRelay.Peer.toObject(t.dstPeer,i)),t.code!=null&&t.hasOwnProperty("code")&&(n.code=i.enums===String?Sn.CircuitRelay.Status[t.code]:t.code),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,dl.util.toJSONOptions)},r.Status=function(){var e={},t=Object.create(e);return t[e[100]="SUCCESS"]=100,t[e[220]="HOP_SRC_ADDR_TOO_LONG"]=220,t[e[221]="HOP_DST_ADDR_TOO_LONG"]=221,t[e[250]="HOP_SRC_MULTIADDR_INVALID"]=250,t[e[251]="HOP_DST_MULTIADDR_INVALID"]=251,t[e[260]="HOP_NO_CONN_TO_DST"]=260,t[e[261]="HOP_CANT_DIAL_DST"]=261,t[e[262]="HOP_CANT_OPEN_DST_STREAM"]=262,t[e[270]="HOP_CANT_SPEAK_RELAY"]=270,t[e[280]="HOP_CANT_RELAY_TO_SELF"]=280,t[e[320]="STOP_SRC_ADDR_TOO_LONG"]=320,t[e[321]="STOP_DST_ADDR_TOO_LONG"]=321,t[e[350]="STOP_SRC_MULTIADDR_INVALID"]=350,t[e[351]="STOP_DST_MULTIADDR_INVALID"]=351,t[e[390]="STOP_RELAY_REFUSED"]=390,t[e[400]="MALFORMED_MESSAGE"]=400,t}(),r.Type=function(){var e={},t=Object.create(e);return t[e[1]="HOP"]=1,t[e[2]="STOP"]=2,t[e[3]="STATUS"]=3,t[e[4]="CAN_HOP"]=4,t}(),r.Peer=function(){function e(t){if(this.addrs=[],t)for(var i=Object.keys(t),n=0;n<i.length;++n)t[i[n]]!=null&&(this[i[n]]=t[i[n]])}return e.prototype.id=$o.newBuffer([]),e.prototype.addrs=$o.emptyArray,e.encode=function(i,n){if(n||(n=_G.create()),n.uint32(10).bytes(i.id),i.addrs!=null&&i.addrs.length)for(var s=0;s<i.addrs.length;++s)n.uint32(18).bytes(i.addrs[s]);return n},e.decode=function(i,n){i instanceof P3||(i=P3.create(i));for(var s=n===void 0?i.len:i.pos+n,o=new Sn.CircuitRelay.Peer;i.pos<s;){var a=i.uint32();switch(a>>>3){case 1:o.id=i.bytes();break;case 2:o.addrs&&o.addrs.length||(o.addrs=[]),o.addrs.push(i.bytes());break;default:i.skipType(a&7);break}}if(!o.hasOwnProperty("id"))throw $o.ProtocolError("missing required 'id'",{instance:o});return o},e.fromObject=function(i){if(i instanceof Sn.CircuitRelay.Peer)return i;var n=new Sn.CircuitRelay.Peer;if(i.id!=null&&(typeof i.id=="string"?$o.base64.decode(i.id,n.id=$o.newBuffer($o.base64.length(i.id)),0):i.id.length&&(n.id=i.id)),i.addrs){if(!Array.isArray(i.addrs))throw TypeError(".CircuitRelay.Peer.addrs: array expected");n.addrs=[];for(var s=0;s<i.addrs.length;++s)typeof i.addrs[s]=="string"?$o.base64.decode(i.addrs[s],n.addrs[s]=$o.newBuffer($o.base64.length(i.addrs[s])),0):i.addrs[s].length&&(n.addrs[s]=i.addrs[s])}return n},e.toObject=function(i,n){n||(n={});var s={};if((n.arrays||n.defaults)&&(s.addrs=[]),n.defaults&&(n.bytes===String?s.id="":(s.id=[],n.bytes!==Array&&(s.id=$o.newBuffer(s.id)))),i.id!=null&&i.hasOwnProperty("id")&&(s.id=n.bytes===String?$o.base64.encode(i.id,0,i.id.length):n.bytes===Array?Array.prototype.slice.call(i.id):i.id),i.addrs&&i.addrs.length){s.addrs=[];for(var o=0;o<i.addrs.length;++o)s.addrs[o]=n.bytes===String?$o.base64.encode(i.addrs[o],0,i.addrs[o].length):n.bytes===Array?Array.prototype.slice.call(i.addrs[o]):i.addrs[o]}return s},e.prototype.toJSON=function(){return this.constructor.toObject(this,dl.util.toJSONOptions)},e}(),r}();EG.exports=Sn});var q3=M((JWe,SG)=>{SG.exports=function(e){if(e){if(typeof e[Symbol.iterator]=="function")return e[Symbol.iterator]();if(typeof e[Symbol.asyncIterator]=="function")return e[Symbol.asyncIterator]();if(typeof e.next=="function")return e}throw new Error("argument is not an iterator or iterable")}});var IG=M((QWe,AG)=>{AG.exports=class extends Error{constructor(e,t){super(e||"The operation was aborted");this.type="aborted",this.code=t||"ABORT_ERR"}}});var Dc=M((eZe,hl)=>{var $_e=q3(),n_=IG(),TG=(r,e,t)=>s_(r,Array.isArray(e)?e:[{signal:e,options:t}]),s_=(r,e)=>{r=$_e(r),e=e.map(({signal:i,options:n})=>({signal:i,options:n||{}}));async function*t(){let i,n=()=>{i&&i()};for(let{signal:s}of e)s.addEventListener("abort",n);for(;;){let s;try{for(let{signal:a,options:f}of e)if(a.aborted){let{abortMessage:c,abortCode:l}=f;throw new n_(c,l)}let o=new Promise((a,f)=>{i=()=>{let{options:c}=e.find(({signal:x})=>x.aborted),{abortMessage:l,abortCode:h}=c;f(new n_(l,h))}});s=await Promise.race([o,r.next()]),i=null}catch(o){for(let{signal:c}of e)c.removeEventListener("abort",n);let a=e.find(({signal:c})=>c.aborted),f=o.type==="aborted"&&a;if(f&&a.options.onAbort&&await a.options.onAbort(r),typeof r.return=="function"&&await r.return(),f&&a.options.returnOnAbort)return;throw o}if(s.done)break;yield s.value}for(let{signal:s}of e)s.removeEventListener("abort",n)}return t()},kG=(r,e,t)=>CG(r,Array.isArray(e)?e:[{signal:e,options:t}]),CG=(r,e)=>t=>r(s_(t,e)),G_e=(r,e,t)=>Y_e(r,Array.isArray(e)?e:[{signal:e,options:t}]),Y_e=(r,e)=>({sink:CG(r.sink,e),source:s_(r.source,e)});hl.exports=TG;hl.exports.AbortError=n_;hl.exports.source=TG;hl.exports.sink=kG;hl.exports.transform=kG;hl.exports.duplex=G_e});var RG=M((tZe,MG)=>{"use strict";var{source:BG}=Dc(),W_e=sr(),Z_e=W_e("libp2p:stream:converter");function J_e({stream:r,remoteAddr:e,localAddr:t},i={}){let{sink:n,source:s}=r,o={async sink(f){i.signal&&(f=BG(f,i.signal));try{await n(f)}catch(c){c.type!=="aborted"&&Z_e(c)}a()},source:i.signal?BG(s,i.signal):s,conn:r,localAddr:t,remoteAddr:e,timeline:{open:Date.now(),close:void 0},close(){return n(new Uint8Array(0)),a()}};function a(){return o.timeline.close||(o.timeline.close=Date.now()),Promise.resolve()}return o}MG.exports=J_e});var Ab=M((rZe,NG)=>{"use strict";NG.exports={relay:"/libp2p/circuit/relay/0.1.0"}});var qG=M((iZe,PG)=>{"use strict";var{EventEmitter:X_e}=Wn(),{Multiaddr:Q_e}=zi();PG.exports=r=>{let e=new Map;async function t(s){let o=String(s).split("/p2p-circuit").find(c=>c!==""),a=await r.dial(new Q_e(o)),f=a.remoteAddr.encapsulate("/p2p-circuit");e.set(a.remotePeer.toB58String(),f),n.emit("listening")}function i(){let s=[];for(let o of e.values())s.push(o);return s}let n=Object.assign(new X_e,{close:()=>Promise.resolve(),listen:t,getAddrs:i});return r.connectionManager.on("peer:disconnect",s=>{e.delete(s.remotePeer.toB58String())&&n.emit("close")}),n}});var o_=M((nZe,LG)=>{"use strict";var{Multiaddr:OG}=zi(),{CircuitRelay:pl}=Gh();function DG(r,e){r.write({type:pl.Type.STATUS,code:e})}function eEe(r,e){try{r.dstPeer&&r.dstPeer.addrs&&r.dstPeer.addrs.forEach(t=>new OG(t))}catch(t){throw DG(e,r.type===pl.Type.HOP?pl.Status.HOP_DST_MULTIADDR_INVALID:pl.Status.STOP_DST_MULTIADDR_INVALID),t}try{r.srcPeer&&r.srcPeer.addrs&&r.srcPeer.addrs.forEach(t=>new OG(t))}catch(t){throw DG(e,r.type===pl.Type.HOP?pl.Status.HOP_SRC_MULTIADDR_INVALID:pl.Status.STOP_SRC_MULTIADDR_INVALID),t}}LG.exports={validateAddrs:eEe}});var Xh=M(Jh=>{"use strict";var a_=_d(),Yh=Ed(),UG=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Jh.Buffer=$e;Jh.SlowBuffer=oEe;Jh.INSPECT_MAX_BYTES=50;var O3=2147483647;Jh.kMaxLength=O3;$e.TYPED_ARRAY_SUPPORT=tEe();!$e.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function tEe(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(r){return!1}}Object.defineProperty($e.prototype,"parent",{enumerable:!0,get:function(){if(!!$e.isBuffer(this))return this.buffer}});Object.defineProperty($e.prototype,"offset",{enumerable:!0,get:function(){if(!!$e.isBuffer(this))return this.byteOffset}});function B0(r){if(r>O3)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,$e.prototype),e}function $e(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f_(r)}return FG(r,e,t)}$e.poolSize=8192;function FG(r,e,t){if(typeof r=="string")return iEe(r,e);if(ArrayBuffer.isView(r))return nEe(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Bf(r,ArrayBuffer)||r&&Bf(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Bf(r,SharedArrayBuffer)||r&&Bf(r.buffer,SharedArrayBuffer)))return u_(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return $e.from(i,e,t);let n=sEe(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return $e.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}$e.from=function(r,e,t){return FG(r,e,t)};Object.setPrototypeOf($e.prototype,Uint8Array.prototype);Object.setPrototypeOf($e,Uint8Array);function KG(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function rEe(r,e,t){return KG(r),r<=0?B0(r):e!==void 0?typeof t=="string"?B0(r).fill(e,t):B0(r).fill(e):B0(r)}$e.alloc=function(r,e,t){return rEe(r,e,t)};function f_(r){return KG(r),B0(r<0?0:l_(r)|0)}$e.allocUnsafe=function(r){return f_(r)};$e.allocUnsafeSlow=function(r){return f_(r)};function iEe(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!$e.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=zG(r,e)|0,i=B0(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function c_(r){let e=r.length<0?0:l_(r.length)|0,t=B0(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function nEe(r){if(Bf(r,Uint8Array)){let e=new Uint8Array(r);return u_(e.buffer,e.byteOffset,e.byteLength)}return c_(r)}function u_(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,$e.prototype),i}function sEe(r){if($e.isBuffer(r)){let e=l_(r.length)|0,t=B0(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||p_(r.length)?B0(0):c_(r);if(r.type==="Buffer"&&Array.isArray(r.data))return c_(r.data)}function l_(r){if(r>=O3)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+O3.toString(16)+" bytes");return r|0}function oEe(r){return+r!=r&&(r=0),$e.alloc(+r)}$e.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==$e.prototype};$e.compare=function(e,t){if(Bf(e,Uint8Array)&&(e=$e.from(e,e.offset,e.byteLength)),Bf(t,Uint8Array)&&(t=$e.from(t,t.offset,t.byteLength)),!$e.isBuffer(e)||!$e.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};$e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};$e.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return $e.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let n=$e.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){let o=e[i];if(Bf(o,Uint8Array))s+o.length>n.length?($e.isBuffer(o)||(o=$e.from(o)),o.copy(n,s)):Uint8Array.prototype.set.call(n,o,s);else if($e.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function zG(r,e){if($e.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Bf(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return h_(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return eY(r).length;default:if(n)return i?-1:h_(r).length;e=(""+e).toLowerCase(),n=!0}}$e.byteLength=zG;function aEe(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return mEe(this,e,t);case"utf8":case"utf-8":return HG(this,e,t);case"ascii":return bEe(this,e,t);case"latin1":case"binary":return yEe(this,e,t);case"base64":return hEe(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gEe(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}$e.prototype._isBuffer=!0;function bl(r,e,t){let i=r[e];r[e]=r[t],r[t]=i}$e.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)bl(this,t,t+1);return this};$e.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)bl(this,t,t+3),bl(this,t+1,t+2);return this};$e.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)bl(this,t,t+7),bl(this,t+1,t+6),bl(this,t+2,t+5),bl(this,t+3,t+4);return this};$e.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?HG(this,0,e):aEe.apply(this,arguments)};$e.prototype.toLocaleString=$e.prototype.toString;$e.prototype.equals=function(e){if(!$e.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:$e.compare(this,e)===0};$e.prototype.inspect=function(){let e="",t=Jh.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};UG&&($e.prototype[UG]=$e.prototype.inspect);$e.prototype.compare=function(e,t,i,n,s){if(Bf(e,Uint8Array)&&(e=$e.from(e,e.offset,e.byteLength)),!$e.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let o=s-n,a=i-t,f=Math.min(o,a),c=this.slice(n,s),l=e.slice(t,i);for(let h=0;h<f;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0};function jG(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,p_(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=$e.from(e,i)),$e.isBuffer(e))return e.length===0?-1:VG(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):VG(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function VG(r,e,t,i,n){let s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function f(l,h){return s===1?l[h]:l.readUInt16BE(h*s)}let c;if(n){let l=-1;for(c=t;c<o;c++)if(f(r,c)===f(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===a)return l*s}else l!==-1&&(c-=c-l),l=-1}else for(t+a>o&&(t=o-a),c=t;c>=0;c--){let l=!0;for(let h=0;h<a;h++)if(f(r,c+h)!==f(e,h)){l=!1;break}if(l)return c}return-1}$e.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};$e.prototype.indexOf=function(e,t,i){return jG(this,e,t,i,!0)};$e.prototype.lastIndexOf=function(e,t,i){return jG(this,e,t,i,!1)};function fEe(r,e,t,i){t=Number(t)||0;let n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;let s=e.length;i>s/2&&(i=s/2);let o;for(o=0;o<i;++o){let a=parseInt(e.substr(o*2,2),16);if(p_(a))return o;r[t+o]=a}return o}function cEe(r,e,t,i){return D3(h_(e,r.length-t),r,t,i)}function uEe(r,e,t,i){return D3(_Ee(e),r,t,i)}function lEe(r,e,t,i){return D3(eY(e),r,t,i)}function dEe(r,e,t,i){return D3(EEe(e,r.length-t),r,t,i)}$e.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return fEe(this,e,t,i);case"utf8":case"utf-8":return cEe(this,e,t,i);case"ascii":case"latin1":case"binary":return uEe(this,e,t,i);case"base64":return lEe(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dEe(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};$e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function hEe(r,e,t){return e===0&&t===r.length?a_.fromByteArray(r):a_.fromByteArray(r.slice(e,t))}function HG(r,e,t){t=Math.min(r.length,t);let i=[],n=e;for(;n<t;){let s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){let f,c,l,h;switch(a){case 1:s<128&&(o=s);break;case 2:f=r[n+1],(f&192)==128&&(h=(s&31)<<6|f&63,h>127&&(o=h));break;case 3:f=r[n+1],c=r[n+2],(f&192)==128&&(c&192)==128&&(h=(s&15)<<12|(f&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:f=r[n+1],c=r[n+2],l=r[n+3],(f&192)==128&&(c&192)==128&&(l&192)==128&&(h=(s&15)<<18|(f&63)<<12|(c&63)<<6|l&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return pEe(i)}var $G=4096;function pEe(r){let e=r.length;if(e<=$G)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=$G));return t}function bEe(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function yEe(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function mEe(r,e,t){let i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let n="";for(let s=e;s<t;++s)n+=SEe[r[s]];return n}function gEe(r,e,t){let i=r.slice(e,t),n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}$e.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,$e.prototype),n};function An(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}$e.prototype.readUintLE=$e.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||An(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return n};$e.prototype.readUintBE=$e.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||An(e,t,this.length);let n=this[e+--t],s=1;for(;t>0&&(s*=256);)n+=this[e+--t]*s;return n};$e.prototype.readUint8=$e.prototype.readUInt8=function(e,t){return e=e>>>0,t||An(e,1,this.length),this[e]};$e.prototype.readUint16LE=$e.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||An(e,2,this.length),this[e]|this[e+1]<<8};$e.prototype.readUint16BE=$e.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||An(e,2,this.length),this[e]<<8|this[e+1]};$e.prototype.readUint32LE=$e.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||An(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};$e.prototype.readUint32BE=$e.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||An(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};$e.prototype.readBigUInt64LE=Lc(function(e){e=e>>>0,Zh(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Ib(e,this.length-8);let n=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))});$e.prototype.readBigUInt64BE=Lc(function(e){e=e>>>0,Zh(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Ib(e,this.length-8);let n=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(s)});$e.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||An(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};$e.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||An(e,t,this.length);let n=t,s=1,o=this[e+--n];for(;n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};$e.prototype.readInt8=function(e,t){return e=e>>>0,t||An(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};$e.prototype.readInt16LE=function(e,t){e=e>>>0,t||An(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};$e.prototype.readInt16BE=function(e,t){e=e>>>0,t||An(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};$e.prototype.readInt32LE=function(e,t){return e=e>>>0,t||An(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};$e.prototype.readInt32BE=function(e,t){return e=e>>>0,t||An(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};$e.prototype.readBigInt64LE=Lc(function(e){e=e>>>0,Zh(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Ib(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});$e.prototype.readBigInt64BE=Lc(function(e){e=e>>>0,Zh(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Ib(e,this.length-8);let n=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});$e.prototype.readFloatLE=function(e,t){return e=e>>>0,t||An(e,4,this.length),Yh.read(this,e,!0,23,4)};$e.prototype.readFloatBE=function(e,t){return e=e>>>0,t||An(e,4,this.length),Yh.read(this,e,!1,23,4)};$e.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||An(e,8,this.length),Yh.read(this,e,!0,52,8)};$e.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||An(e,8,this.length),Yh.read(this,e,!1,52,8)};function Ks(r,e,t,i,n,s){if(!$e.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}$e.prototype.writeUintLE=$e.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;Ks(this,e,t,i,a,0)}let s=1,o=0;for(this[t]=e&255;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i};$e.prototype.writeUintBE=$e.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;Ks(this,e,t,i,a,0)}let s=i-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i};$e.prototype.writeUint8=$e.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||Ks(this,e,t,1,255,0),this[t]=e&255,t+1};$e.prototype.writeUint16LE=$e.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Ks(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};$e.prototype.writeUint16BE=$e.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Ks(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};$e.prototype.writeUint32LE=$e.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Ks(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};$e.prototype.writeUint32BE=$e.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Ks(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function GG(r,e,t,i,n){QG(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function YG(r,e,t,i,n){QG(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}$e.prototype.writeBigUInt64LE=Lc(function(e,t=0){return GG(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});$e.prototype.writeBigUInt64BE=Lc(function(e,t=0){return YG(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});$e.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let f=Math.pow(2,8*i-1);Ks(this,e,t,i,f-1,-f)}let s=0,o=1,a=0;for(this[t]=e&255;++s<i&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};$e.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let f=Math.pow(2,8*i-1);Ks(this,e,t,i,f-1,-f)}let s=i-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};$e.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||Ks(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};$e.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Ks(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};$e.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Ks(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};$e.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Ks(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};$e.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Ks(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};$e.prototype.writeBigInt64LE=Lc(function(e,t=0){return GG(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});$e.prototype.writeBigInt64BE=Lc(function(e,t=0){return YG(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function WG(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function ZG(r,e,t,i,n){return e=+e,t=t>>>0,n||WG(r,e,t,4,34028234663852886e22,-34028234663852886e22),Yh.write(r,e,t,i,23,4),t+4}$e.prototype.writeFloatLE=function(e,t,i){return ZG(this,e,t,!0,i)};$e.prototype.writeFloatBE=function(e,t,i){return ZG(this,e,t,!1,i)};function JG(r,e,t,i,n){return e=+e,t=t>>>0,n||WG(r,e,t,8,17976931348623157e292,-17976931348623157e292),Yh.write(r,e,t,i,52,8),t+8}$e.prototype.writeDoubleLE=function(e,t,i){return JG(this,e,t,!0,i)};$e.prototype.writeDoubleBE=function(e,t,i){return JG(this,e,t,!1,i)};$e.prototype.copy=function(e,t,i,n){if(!$e.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);let s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};$e.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!$e.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{let o=$e.isBuffer(e)?e:$e.from(e,n),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var Wh={};function d_(r,e,t){Wh[r]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}d_("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);d_("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);d_("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,n=t;return Number.isInteger(t)&&Math.abs(t)>2**32?n=XG(String(t)):typeof t=="bigint"&&(n=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(n=XG(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function XG(r){let e="",t=r.length,i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function vEe(r,e,t){Zh(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Ib(e,r.length-(t+1))}function QG(r,e,t,i,n,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${t}${o}`,new Wh.ERR_OUT_OF_RANGE("value",a,r)}vEe(i,n,s)}function Zh(r,e){if(typeof r!="number")throw new Wh.ERR_INVALID_ARG_TYPE(e,"number",r)}function Ib(r,e,t){throw Math.floor(r)!==r?(Zh(r,t),new Wh.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new Wh.ERR_BUFFER_OUT_OF_BOUNDS:new Wh.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var xEe=/[^+/0-9A-Za-z-_]/g;function wEe(r){if(r=r.split("=")[0],r=r.trim().replace(xEe,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function h_(r,e){e=e||Infinity;let t,i=r.length,n=null,s=[];for(let o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function _Ee(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function EEe(r,e){let t,i,n,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function eY(r){return a_.toByteArray(wEe(r))}function D3(r,e,t,i){let n;for(n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Bf(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function p_(r){return r!==r}var SEe=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let n=0;n<16;++n)e[i+n]=r[t]+r[n]}return e}();function Lc(r){return typeof BigInt=="undefined"?AEe:r}function AEe(){throw new Error("BigInt not supported")}});var mY=M(r1=>{"use strict";var b_=_d(),Qh=Ed(),tY=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r1.Buffer=Ge;r1.SlowBuffer=MEe;r1.INSPECT_MAX_BYTES=50;var L3=2147483647;r1.kMaxLength=L3;Ge.TYPED_ARRAY_SUPPORT=IEe();!Ge.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function IEe(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(r){return!1}}Object.defineProperty(Ge.prototype,"parent",{enumerable:!0,get:function(){if(!!Ge.isBuffer(this))return this.buffer}});Object.defineProperty(Ge.prototype,"offset",{enumerable:!0,get:function(){if(!!Ge.isBuffer(this))return this.byteOffset}});function M0(r){if(r>L3)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,Ge.prototype),e}function Ge(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y_(r)}return rY(r,e,t)}Ge.poolSize=8192;function rY(r,e,t){if(typeof r=="string")return kEe(r,e);if(ArrayBuffer.isView(r))return CEe(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Mf(r,ArrayBuffer)||r&&Mf(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Mf(r,SharedArrayBuffer)||r&&Mf(r.buffer,SharedArrayBuffer)))return g_(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return Ge.from(i,e,t);let n=BEe(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Ge.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Ge.from=function(r,e,t){return rY(r,e,t)};Object.setPrototypeOf(Ge.prototype,Uint8Array.prototype);Object.setPrototypeOf(Ge,Uint8Array);function iY(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function TEe(r,e,t){return iY(r),r<=0?M0(r):e!==void 0?typeof t=="string"?M0(r).fill(e,t):M0(r).fill(e):M0(r)}Ge.alloc=function(r,e,t){return TEe(r,e,t)};function y_(r){return iY(r),M0(r<0?0:v_(r)|0)}Ge.allocUnsafe=function(r){return y_(r)};Ge.allocUnsafeSlow=function(r){return y_(r)};function kEe(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Ge.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=nY(r,e)|0,i=M0(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function m_(r){let e=r.length<0?0:v_(r.length)|0,t=M0(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function CEe(r){if(Mf(r,Uint8Array)){let e=new Uint8Array(r);return g_(e.buffer,e.byteOffset,e.byteLength)}return m_(r)}function g_(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,Ge.prototype),i}function BEe(r){if(Ge.isBuffer(r)){let e=v_(r.length)|0,t=M0(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||__(r.length)?M0(0):m_(r);if(r.type==="Buffer"&&Array.isArray(r.data))return m_(r.data)}function v_(r){if(r>=L3)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L3.toString(16)+" bytes");return r|0}function MEe(r){return+r!=r&&(r=0),Ge.alloc(+r)}Ge.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Ge.prototype};Ge.compare=function(e,t){if(Mf(e,Uint8Array)&&(e=Ge.from(e,e.offset,e.byteLength)),Mf(t,Uint8Array)&&(t=Ge.from(t,t.offset,t.byteLength)),!Ge.isBuffer(e)||!Ge.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};Ge.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Ge.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Ge.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let n=Ge.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){let o=e[i];if(Mf(o,Uint8Array))s+o.length>n.length?(Ge.isBuffer(o)||(o=Ge.from(o)),o.copy(n,s)):Uint8Array.prototype.set.call(n,o,s);else if(Ge.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function nY(r,e){if(Ge.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Mf(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return w_(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return yY(r).length;default:if(n)return i?-1:w_(r).length;e=(""+e).toLowerCase(),n=!0}}Ge.byteLength=nY;function REe(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return zEe(this,e,t);case"utf8":case"utf-8":return aY(this,e,t);case"ascii":return FEe(this,e,t);case"latin1":case"binary":return KEe(this,e,t);case"base64":return LEe(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jEe(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}Ge.prototype._isBuffer=!0;function yl(r,e,t){let i=r[e];r[e]=r[t],r[t]=i}Ge.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)yl(this,t,t+1);return this};Ge.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)yl(this,t,t+3),yl(this,t+1,t+2);return this};Ge.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)yl(this,t,t+7),yl(this,t+1,t+6),yl(this,t+2,t+5),yl(this,t+3,t+4);return this};Ge.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?aY(this,0,e):REe.apply(this,arguments)};Ge.prototype.toLocaleString=Ge.prototype.toString;Ge.prototype.equals=function(e){if(!Ge.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Ge.compare(this,e)===0};Ge.prototype.inspect=function(){let e="",t=r1.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};tY&&(Ge.prototype[tY]=Ge.prototype.inspect);Ge.prototype.compare=function(e,t,i,n,s){if(Mf(e,Uint8Array)&&(e=Ge.from(e,e.offset,e.byteLength)),!Ge.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let o=s-n,a=i-t,f=Math.min(o,a),c=this.slice(n,s),l=e.slice(t,i);for(let h=0;h<f;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0};function sY(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,__(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=Ge.from(e,i)),Ge.isBuffer(e))return e.length===0?-1:oY(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):oY(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function oY(r,e,t,i,n){let s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function f(l,h){return s===1?l[h]:l.readUInt16BE(h*s)}let c;if(n){let l=-1;for(c=t;c<o;c++)if(f(r,c)===f(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===a)return l*s}else l!==-1&&(c-=c-l),l=-1}else for(t+a>o&&(t=o-a),c=t;c>=0;c--){let l=!0;for(let h=0;h<a;h++)if(f(r,c+h)!==f(e,h)){l=!1;break}if(l)return c}return-1}Ge.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};Ge.prototype.indexOf=function(e,t,i){return sY(this,e,t,i,!0)};Ge.prototype.lastIndexOf=function(e,t,i){return sY(this,e,t,i,!1)};function NEe(r,e,t,i){t=Number(t)||0;let n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;let s=e.length;i>s/2&&(i=s/2);let o;for(o=0;o<i;++o){let a=parseInt(e.substr(o*2,2),16);if(__(a))return o;r[t+o]=a}return o}function PEe(r,e,t,i){return U3(w_(e,r.length-t),r,t,i)}function qEe(r,e,t,i){return U3(GEe(e),r,t,i)}function OEe(r,e,t,i){return U3(yY(e),r,t,i)}function DEe(r,e,t,i){return U3(YEe(e,r.length-t),r,t,i)}Ge.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return NEe(this,e,t,i);case"utf8":case"utf-8":return PEe(this,e,t,i);case"ascii":case"latin1":case"binary":return qEe(this,e,t,i);case"base64":return OEe(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return DEe(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};Ge.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function LEe(r,e,t){return e===0&&t===r.length?b_.fromByteArray(r):b_.fromByteArray(r.slice(e,t))}function aY(r,e,t){t=Math.min(r.length,t);let i=[],n=e;for(;n<t;){let s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){let f,c,l,h;switch(a){case 1:s<128&&(o=s);break;case 2:f=r[n+1],(f&192)==128&&(h=(s&31)<<6|f&63,h>127&&(o=h));break;case 3:f=r[n+1],c=r[n+2],(f&192)==128&&(c&192)==128&&(h=(s&15)<<12|(f&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:f=r[n+1],c=r[n+2],l=r[n+3],(f&192)==128&&(c&192)==128&&(l&192)==128&&(h=(s&15)<<18|(f&63)<<12|(c&63)<<6|l&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return UEe(i)}var fY=4096;function UEe(r){let e=r.length;if(e<=fY)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=fY));return t}function FEe(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function KEe(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function zEe(r,e,t){let i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let n="";for(let s=e;s<t;++s)n+=WEe[r[s]];return n}function jEe(r,e,t){let i=r.slice(e,t),n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}Ge.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,Ge.prototype),n};function In(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Ge.prototype.readUintLE=Ge.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||In(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return n};Ge.prototype.readUintBE=Ge.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||In(e,t,this.length);let n=this[e+--t],s=1;for(;t>0&&(s*=256);)n+=this[e+--t]*s;return n};Ge.prototype.readUint8=Ge.prototype.readUInt8=function(e,t){return e=e>>>0,t||In(e,1,this.length),this[e]};Ge.prototype.readUint16LE=Ge.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||In(e,2,this.length),this[e]|this[e+1]<<8};Ge.prototype.readUint16BE=Ge.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||In(e,2,this.length),this[e]<<8|this[e+1]};Ge.prototype.readUint32LE=Ge.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||In(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Ge.prototype.readUint32BE=Ge.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||In(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Ge.prototype.readBigUInt64LE=Uc(function(e){e=e>>>0,t1(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Tb(e,this.length-8);let n=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))});Ge.prototype.readBigUInt64BE=Uc(function(e){e=e>>>0,t1(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Tb(e,this.length-8);let n=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(s)});Ge.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||In(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};Ge.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||In(e,t,this.length);let n=t,s=1,o=this[e+--n];for(;n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};Ge.prototype.readInt8=function(e,t){return e=e>>>0,t||In(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Ge.prototype.readInt16LE=function(e,t){e=e>>>0,t||In(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Ge.prototype.readInt16BE=function(e,t){e=e>>>0,t||In(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Ge.prototype.readInt32LE=function(e,t){return e=e>>>0,t||In(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Ge.prototype.readInt32BE=function(e,t){return e=e>>>0,t||In(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Ge.prototype.readBigInt64LE=Uc(function(e){e=e>>>0,t1(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Tb(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});Ge.prototype.readBigInt64BE=Uc(function(e){e=e>>>0,t1(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Tb(e,this.length-8);let n=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});Ge.prototype.readFloatLE=function(e,t){return e=e>>>0,t||In(e,4,this.length),Qh.read(this,e,!0,23,4)};Ge.prototype.readFloatBE=function(e,t){return e=e>>>0,t||In(e,4,this.length),Qh.read(this,e,!1,23,4)};Ge.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||In(e,8,this.length),Qh.read(this,e,!0,52,8)};Ge.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||In(e,8,this.length),Qh.read(this,e,!1,52,8)};function zs(r,e,t,i,n,s){if(!Ge.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}Ge.prototype.writeUintLE=Ge.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;zs(this,e,t,i,a,0)}let s=1,o=0;for(this[t]=e&255;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i};Ge.prototype.writeUintBE=Ge.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;zs(this,e,t,i,a,0)}let s=i-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i};Ge.prototype.writeUint8=Ge.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||zs(this,e,t,1,255,0),this[t]=e&255,t+1};Ge.prototype.writeUint16LE=Ge.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||zs(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Ge.prototype.writeUint16BE=Ge.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||zs(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Ge.prototype.writeUint32LE=Ge.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||zs(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Ge.prototype.writeUint32BE=Ge.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||zs(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function cY(r,e,t,i,n){bY(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function uY(r,e,t,i,n){bY(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}Ge.prototype.writeBigUInt64LE=Uc(function(e,t=0){return cY(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Ge.prototype.writeBigUInt64BE=Uc(function(e,t=0){return uY(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Ge.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let f=Math.pow(2,8*i-1);zs(this,e,t,i,f-1,-f)}let s=0,o=1,a=0;for(this[t]=e&255;++s<i&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};Ge.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let f=Math.pow(2,8*i-1);zs(this,e,t,i,f-1,-f)}let s=i-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};Ge.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||zs(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Ge.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||zs(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Ge.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||zs(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Ge.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||zs(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Ge.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||zs(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Ge.prototype.writeBigInt64LE=Uc(function(e,t=0){return cY(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Ge.prototype.writeBigInt64BE=Uc(function(e,t=0){return uY(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function lY(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function dY(r,e,t,i,n){return e=+e,t=t>>>0,n||lY(r,e,t,4,34028234663852886e22,-34028234663852886e22),Qh.write(r,e,t,i,23,4),t+4}Ge.prototype.writeFloatLE=function(e,t,i){return dY(this,e,t,!0,i)};Ge.prototype.writeFloatBE=function(e,t,i){return dY(this,e,t,!1,i)};function hY(r,e,t,i,n){return e=+e,t=t>>>0,n||lY(r,e,t,8,17976931348623157e292,-17976931348623157e292),Qh.write(r,e,t,i,52,8),t+8}Ge.prototype.writeDoubleLE=function(e,t,i){return hY(this,e,t,!0,i)};Ge.prototype.writeDoubleBE=function(e,t,i){return hY(this,e,t,!1,i)};Ge.prototype.copy=function(e,t,i,n){if(!Ge.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);let s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};Ge.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Ge.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{let o=Ge.isBuffer(e)?e:Ge.from(e,n),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var e1={};function x_(r,e,t){e1[r]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}x_("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);x_("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);x_("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,n=t;return Number.isInteger(t)&&Math.abs(t)>2**32?n=pY(String(t)):typeof t=="bigint"&&(n=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(n=pY(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function pY(r){let e="",t=r.length,i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function VEe(r,e,t){t1(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Tb(e,r.length-(t+1))}function bY(r,e,t,i,n,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${t}${o}`,new e1.ERR_OUT_OF_RANGE("value",a,r)}VEe(i,n,s)}function t1(r,e){if(typeof r!="number")throw new e1.ERR_INVALID_ARG_TYPE(e,"number",r)}function Tb(r,e,t){throw Math.floor(r)!==r?(t1(r,t),new e1.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new e1.ERR_BUFFER_OUT_OF_BOUNDS:new e1.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var HEe=/[^+/0-9A-Za-z-_]/g;function $Ee(r){if(r=r.split("=")[0],r=r.trim().replace(HEe,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function w_(r,e){e=e||Infinity;let t,i=r.length,n=null,s=[];for(let o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function GEe(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function YEe(r,e){let t,i,n,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function yY(r){return b_.toByteArray($Ee(r))}function U3(r,e,t,i){let n;for(n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Mf(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function __(r){return r!==r}var WEe=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let n=0;n<16;++n)e[i+n]=r[t]+r[n]}return e}();function Uc(r){return typeof BigInt=="undefined"?ZEe:r}function ZEe(){throw new Error("BigInt not supported")}});var Rf=M((cZe,vY)=>{"use strict";var{Buffer:Na}=mY(),gY=Symbol.for("BufferList");function ai(r){if(!(this instanceof ai))return new ai(r);ai._init.call(this,r)}ai._init=function(e){Object.defineProperty(this,gY,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};ai.prototype._new=function(e){return new ai(e)};ai.prototype._offset=function(e){if(e===0)return[0,0];let t=0;for(let i=0;i<this._bufs.length;i++){let n=t+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return[i,e-t];t=n}};ai.prototype._reverseOffset=function(r){let e=r[0],t=r[1];for(let i=0;i<e;i++)t+=this._bufs[i].length;return t};ai.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]};ai.prototype.slice=function(e,t){return typeof e=="number"&&e<0&&(e+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,e,t)};ai.prototype.copy=function(e,t,i,n){if((typeof i!="number"||i<0)&&(i=0),(typeof n!="number"||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||Na.alloc(0);let s=!!e,o=this._offset(i),a=n-i,f=a,c=s&&t||0,l=o[1];if(i===0&&n===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:Na.concat(this._bufs,this.length);for(let h=0;h<this._bufs.length;h++)this._bufs[h].copy(e,c),c+=this._bufs[h].length;return e}if(f<=this._bufs[o[0]].length-l)return s?this._bufs[o[0]].copy(e,t,l,l+f):this._bufs[o[0]].slice(l,l+f);s||(e=Na.allocUnsafe(a));for(let h=o[0];h<this._bufs.length;h++){let x=this._bufs[h].length-l;if(f>x)this._bufs[h].copy(e,c,l),c+=x;else{this._bufs[h].copy(e,c,l,l+f),c+=x;break}f-=x,l&&(l=0)}return e.length>c?e.slice(0,c):e};ai.prototype.shallowSlice=function(e,t){if(e=e||0,t=typeof t!="number"?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let i=this._offset(e),n=this._offset(t),s=this._bufs.slice(i[0],n[0]+1);return n[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,n[1]),i[1]!==0&&(s[0]=s[0].slice(i[1])),this._new(s)};ai.prototype.toString=function(e,t,i){return this.slice(t,i).toString(e)};ai.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};ai.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e};ai.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Na.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Na.from(e));return this};ai.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};ai.prototype.indexOf=function(r,e,t){if(t===void 0&&typeof e=="string"&&(t=e,e=void 0),typeof r=="function"||Array.isArray(r))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof r=="number"?r=Na.from([r]):typeof r=="string"?r=Na.from(r,t):this._isBufferList(r)?r=r.slice():Array.isArray(r.buffer)?r=Na.from(r.buffer,r.byteOffset,r.byteLength):Na.isBuffer(r)||(r=Na.from(r)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),r.length===0)return e>this.length?this.length:e;let i=this._offset(e),n=i[0],s=i[1];for(;n<this._bufs.length;n++){let o=this._bufs[n];for(;s<o.length;)if(o.length-s>=r.length){let f=o.indexOf(r,s);if(f!==-1)return this._reverseOffset([n,f]);s=o.length-r.length+1}else{let f=this._reverseOffset([n,s]);if(this._match(f,r))return f;s++}s=0}return-1};ai.prototype._match=function(r,e){if(this.length-r<e.length)return!1;for(let t=0;t<e.length;t++)if(this.get(r+t)!==e[t])return!1;return!0};(function(){let r={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in r)(function(t){r[t]===null?ai.prototype[t]=function(i,n){return this.slice(i,i+n)[t](0,n)}:ai.prototype[t]=function(i=0){return this.slice(i,i+r[t])[t](0)}})(e)})();ai.prototype._isBufferList=function(e){return e instanceof ai||ai.isBufferList(e)};ai.isBufferList=function(e){return e!=null&&e[gY]};vY.exports=ai});var _Y=M((uZe,wY)=>{wY.exports=E_;var xY=128,JEe=127,XEe=~JEe,QEe=Math.pow(2,31);function E_(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw E_.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var i=t;r>=QEe;)e[t++]=r&255|xY,r/=128;for(;r&XEe;)e[t++]=r&255|xY,r>>>=7;return e[t]=r|0,E_.bytes=t-i+1,e}});var AY=M((lZe,SY)=>{SY.exports=S_;var eSe=128,EY=127;function S_(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o||i>49)throw S_.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&EY)<<i:(s&EY)*Math.pow(2,i),i+=7}while(s>=eSe);return S_.bytes=n-e,t}});var TY=M((dZe,IY)=>{var tSe=Math.pow(2,7),rSe=Math.pow(2,14),iSe=Math.pow(2,21),nSe=Math.pow(2,28),sSe=Math.pow(2,35),oSe=Math.pow(2,42),aSe=Math.pow(2,49),fSe=Math.pow(2,56),cSe=Math.pow(2,63);IY.exports=function(r){return r<tSe?1:r<rSe?2:r<iSe?3:r<nSe?4:r<sSe?5:r<oSe?6:r<aSe?7:r<fSe?8:r<cSe?9:10}});var A_=M((hZe,kY)=>{kY.exports={encode:_Y(),decode:AY(),encodingLength:TY()}});var I_=M((pZe,MY)=>{"use strict";var CY=A_(),{Buffer:uSe}=Xh(),BY=(r,e,t)=>{let i=CY.encode(r,e,t);return BY.bytes=CY.encode.bytes,e||uSe.from(i)};MY.exports=BY});var DY=M((bZe,F3)=>{"use strict";var{Buffer:RY}=Xh(),NY=Rf(),PY=I_(),T_=8,qY=10*1024;function OY(r){r=r||{};let e=Math.max(r.poolSize||qY,r.minPoolSize||T_),t=r.lengthEncoder||PY;return async function*(n){let s=RY.alloc(e),o=0;for await(let a of n){t(a.length,s,o);let f=s.slice(o,o+t.bytes);o+=t.bytes,s.length-o<T_&&(s=RY.alloc(e),o=0),yield new NY().append(f).append(a)}}}OY.single=(r,e)=>{e=e||{};let t=e.lengthEncoder||PY;return new NY([t(r.length),r.slice()])};F3.exports=OY;F3.exports.MIN_POOL_SIZE=T_;F3.exports.DEFAULT_POOL_SIZE=qY});var k_=M((yZe,FY)=>{"use strict";var LY=A_(),{Buffer:lSe}=Xh(),dSe=r=>new Proxy({},{get:(e,t)=>t[0]==="l"?r[t]:r.get(parseInt(t))}),UY=r=>{let e=LY.decode(lSe.isBuffer(r)?r:dSe(r));return UY.bytes=LY.decode.bytes,e};FY.exports=UY});var VY=M((mZe,K3)=>{"use strict";var{Buffer:hSe}=Xh(),C_=Rf(),pSe=k_(),KY=8,zY=1024*1024*4,jY=hSe.alloc(0),Fc={LENGTH:"readLength",DATA:"readData"},bSe={[Fc.LENGTH]:(r,e,t,i)=>{e=e.append(r);let n;try{n=i.lengthDecoder(e)}catch(s){if(e.length>i.maxLengthLength)throw Object.assign(s,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(s instanceof RangeError)return{mode:Fc.LENGTH,buffer:e,chunk:void 0,state:void 0,data:void 0};throw s}if(n>i.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return r=e.shallowSlice(i.lengthDecoder.bytes),e=new C_,i.onLength&&i.onLength(n),n<=0?(i.onData&&i.onData(jY),{mode:Fc.LENGTH,chunk:r,buffer:e,data:jY}):{mode:Fc.DATA,chunk:r,buffer:e,state:{dataLength:n},data:void 0}},[Fc.DATA]:(r,e,t,i)=>{if(e=e.append(r),!t)throw new Error("state is required");if(e.length<t.dataLength)return{mode:Fc.DATA,buffer:e,state:t,chunk:void 0,data:void 0};let{dataLength:n}=t,s=e.shallowSlice(0,n),o=e.length>n?e.shallowSlice(n):void 0;return e=new C_,i.onData&&i.onData(s),{mode:Fc.LENGTH,chunk:o,buffer:e,state:void 0,data:s}}};function B_(r){r=r||{};let e={lengthDecoder:r.lengthDecoder||pSe,maxLengthLength:r.maxLengthLength||KY,maxDataLength:r.maxDataLength||zY,onLength:r.onLength,onData:r.onData};return async function*(i){let n=new C_,s=Fc.LENGTH,o;for await(let a of i){let f=a;for(;f;){let c=bSe[s](f,n,o,e);s=c.mode,f=c.chunk,n=c.buffer,o=c.state,c.data&&(yield c.data)}}if(n.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}B_.fromReader=(r,e)=>{let t=1,i={[Symbol.asyncIterator](){return this},next:async()=>{try{return await r.next(t)}catch(s){if(s.code==="ERR_UNDER_READ")return{done:!0,value:null};throw s}finally{t=1}}};return B_({...e||{},onLength:s=>{t=s}})(i)};K3.exports=B_;K3.exports.MAX_LENGTH_LENGTH=KY;K3.exports.MAX_DATA_LENGTH=zY});var GY=M((gZe,$Y)=>{"use strict";var{Buffer:ySe}=Xh(),HY=(r,e,t)=>(e=e||ySe.allocUnsafe(4),e.writeInt32BE(r,t),e);HY.bytes=4;$Y.exports=HY});var ZY=M((vZe,WY)=>{"use strict";var YY=r=>{if(r.length<4)throw RangeError("Could not decode int32BE");return r.readInt32BE(0)};YY.bytes=4;WY.exports=YY});var Nf=M(ml=>{"use strict";ml.encode=DY();ml.decode=VY();ml.varintEncode=I_();ml.varintDecode=k_();ml.int32BEEncode=GY();ml.int32BEDecode=ZY()});var R_=M((wZe,JY)=>{var M_=Rf();JY.exports=r=>{let e=async function*(){let t=yield,i=new M_;for await(let n of r){if(!t){t=yield i.append(n),i=new M_;continue}for(i.append(n);i.length>=t;){let s=i.shallowSlice(0,t);if(i.consume(t),t=yield s,!t){i.length&&(t=yield i,i=new M_);break}}}if(t)throw Object.assign(new Error(`stream ended before ${t} bytes became available`),{code:"ERR_UNDER_READ",buffer:i})}();return e.next(),e}});var z3=M((_Ze,XY)=>{"use strict";var mSe=()=>{let r={};return r.promise=new Promise((e,t)=>{r.resolve=e,r.reject=t}),r};XY.exports=mSe});var i1=M((EZe,QY)=>{"use strict";var gSe=R_(),vSe=Bh(),xSe=z3();QY.exports=r=>{let e=vSe(),t=gSe(r.source),i=xSe(),n,s=r.sink(async function*(){yield*e,yield*await i.promise}());return s.catch(a=>{n=a}),{reader:t,writer:e,stream:{sink:a=>n?Promise.reject(n):(i.resolve(a),s),source:t},rest:()=>e.end(),write:e.push,read:async()=>(await t.next()).value}}});var V3=M((SZe,nW)=>{"use strict";var eW=sr(),j3=Object.assign(eW("libp2p:circuit:stream-handler"),{error:eW("libp2p:circuit:stream-handler:err")}),tW=Nf(),wSe=i1(),{CircuitRelay:rW}=Gh(),iW=class{constructor({stream:e,maxLength:t=4096}){this.stream=e,this.shake=wSe(this.stream),this.decoder=tW.decode.fromReader(this.shake.reader,{maxDataLength:t})}async read(){let e=await this.decoder.next();if(e.value){let t=rW.decode(e.value.slice());return j3("read message type",t.type),t}j3("read received no value, closing stream"),this.close()}write(e){j3("write message type %s",e.type),this.shake.write(tW.encode.single(rW.encode(e).finish()))}rest(){return this.shake.rest(),this.shake.stream}end(e){this.write(e),this.close()}close(){j3("closing the stream"),this.rest().sink([])}};nW.exports=iW});var q_=M((AZe,P_)=>{"use strict";var sW=sr(),kb=Object.assign(sW("libp2p:circuit:stop"),{error:sW("libp2p:circuit:stop:err")}),{CircuitRelay:N_}=Gh(),_Se=Ab(),ESe=V3(),{validateAddrs:SSe}=o_();P_.exports.handleStop=function({connection:e,request:t,streamHandler:i}){try{SSe(t,i)}catch(n){return kb.error("invalid stop request via peer %s",e.remotePeer.toB58String(),n)}return kb("stop request is valid"),i.write({type:N_.Type.STATUS,code:N_.Status.SUCCESS}),i.rest()};P_.exports.stop=async function({connection:e,request:t}){let{stream:i}=await e.newStream([_Se.relay]);kb("starting stop request to %s",e.remotePeer.toB58String());let n=new ESe({stream:i});n.write(t);let s=await n.read();if(!s)return n.close();if(s.code===N_.Status.SUCCESS)return kb("stop request to %s was successful",e.remotePeer.toB58String()),n.rest();kb("stop request failed with code %d",s.code),n.close()}});var O_=M((IZe,lW)=>{"use strict";var oW=sr(),R0=Object.assign(oW("libp2p:circuit:hop"),{error:oW("libp2p:circuit:hop:err")}),aW=Ht(),ASe=Gr(),{validateAddrs:ISe}=o_(),fW=V3(),{CircuitRelay:so}=Gh(),{pipe:TSe}=ys(),{codes:cW}=Ji(),{stop:kSe}=q_(),uW=Ab();async function CSe({connection:r,request:e,streamHandler:t,circuit:i}){if(!i._options.hop.enabled)return R0("HOP request received but we are not acting as a relay"),t.end({type:so.Type.STATUS,code:so.Status.HOP_CANT_SPEAK_RELAY});try{ISe(e,t)}catch(c){return R0.error("invalid hop request via peer %s",r.remotePeer.toB58String(),c)}if(!e.dstPeer){R0("HOP request received but we do not receive a dstPeer");return}let n=new ASe(e.dstPeer.id),s=i._connectionManager.get(n);if(!s&&!i._options.hop.active)return R0("HOP request received but we are not connected to the destination peer"),t.end({type:so.Type.STATUS,code:so.Status.HOP_NO_CONN_TO_DST});if(!s)return;let o={type:so.Type.STOP,dstPeer:e.dstPeer,srcPeer:e.srcPeer},a;try{a=await kSe({connection:s,request:o})}catch(c){return R0.error(c)}R0("hop request from %s is valid",r.remotePeer.toB58String()),t.write({type:so.Type.STATUS,code:so.Status.SUCCESS});let f=t.rest();return TSe(f,a,f)}async function BSe({connection:r,request:e}){let{stream:t}=await r.newStream([uW.relay]),i=new fW({stream:t});i.write(e);let n=await i.read();if(!n)throw aW(new Error("HOP request had no response"),cW.ERR_HOP_REQUEST_FAILED);if(n.code===so.Status.SUCCESS)return R0("hop request was successful"),i.rest();throw R0("hop request failed with code %d, closing stream",n.code),i.close(),aW(new Error(`HOP request failed with code ${n.code}`),cW.ERR_HOP_REQUEST_FAILED)}async function MSe({connection:r}){let{stream:e}=await r.newStream([uW.relay]),t=new fW({stream:e});t.write({type:so.Type.CAN_HOP});let i=await t.read();return await t.close(),!(!i||i.code!==so.Status.SUCCESS)}function RSe({connection:r,streamHandler:e,circuit:t}){let i=t._options.hop.enabled;R0("can hop (%s) request from %s",i,r.remotePeer.toB58String()),e.end({type:so.Type.STATUS,code:i?so.Status.SUCCESS:so.Status.HOP_CANT_SPEAK_RELAY})}lW.exports={handleHop:CSe,hop:BSe,canHop:MSe,handleCanHop:RSe}});var mW=M((TZe,yW)=>{"use strict";var dW=sr(),N0=Object.assign(dW("libp2p:circuit"),{error:dW("libp2p:circuit:err")}),NSe=Ht(),PSe=Sb(),{Multiaddr:Cb}=zi(),hW=Gr(),{CircuitRelay:Bb}=Gh(),{codes:qSe}=Ji(),pW=RG(),{relay:OSe}=Ab(),DSe=qG(),{handleCanHop:LSe,handleHop:USe,hop:FSe}=O_(),{handleStop:KSe}=q_(),zSe=V3(),jSe=Symbol.for("@libp2p/js-libp2p-circuit/circuit"),bW=class{constructor({libp2p:e,upgrader:t}){this._dialer=e.dialer,this._registrar=e.registrar,this._connectionManager=e.connectionManager,this._upgrader=t,this._options=e._config.relay,this._libp2p=e,this.peerId=e.peerId,this._registrar.handle(OSe,this._onProtocol.bind(this))}async _onProtocol({connection:e,stream:t}){let i=new zSe({stream:t}),n=await i.read();if(!n)return;let s=this,o;switch(n.type){case Bb.Type.CAN_HOP:{N0("received CAN_HOP request from %s",e.remotePeer.toB58String()),await LSe({circuit:s,connection:e,streamHandler:i});break}case Bb.Type.HOP:{N0("received HOP request from %s",e.remotePeer.toB58String()),o=await USe({connection:e,request:n,streamHandler:i,circuit:s});break}case Bb.Type.STOP:{N0("received STOP request from %s",e.remotePeer.toB58String()),o=await KSe({connection:e,request:n,streamHandler:i});break}default:N0("Request of type %s not supported",n.type)}if(o){let a=new Cb(n.dstPeer.addrs[0]),f=new Cb(n.srcPeer.addrs[0]),c=pW({stream:o,remoteAddr:a,localAddr:f}),l=n.type===Bb.Type.HOP?"relay":"inbound";N0("new %s connection %s",l,c.remoteAddr);let h=await this._upgrader.upgradeInbound(c);N0("%s connection %s upgraded",l,c.remoteAddr),this.handler&&this.handler(h)}}async dial(e,t){let i=e.toString().split("/p2p-circuit"),n=new Cb(i[0]),s=new Cb(i[i.length-1]),o=n.getPeerId(),a=s.getPeerId();if(!o||!a){let x="Circuit relay dial failed as addresses did not have peer id";throw N0.error(x),NSe(new Error(x),qSe.ERR_RELAYED_DIAL)}let f=hW.createFromCID(o),c=hW.createFromCID(a),l=!1,h=this._connectionManager.get(f);h||(h=await this._dialer.connectToPeer(n,t),l=!0);try{let x=await FSe({connection:h,request:{type:Bb.Type.HOP,srcPeer:{id:this.peerId.toBytes(),addrs:this._libp2p.multiaddrs.map(C=>C.bytes)},dstPeer:{id:c.toBytes(),addrs:[new Cb(s).bytes]}}}),_=n.encapsulate(`/p2p-circuit/p2p/${this.peerId.toB58String()}`),E=pW({stream:x,remoteAddr:e,localAddr:_});return N0("new outbound connection %s",E.remoteAddr),this._upgrader.upgradeOutbound(E)}catch(x){throw N0.error("Circuit relay dial failed",x),l&&await h.close(),x}}createListener(e,t){return typeof e=="function"&&(t=e,e={}),this.handler=t,DSe(this._libp2p)}filter(e){return e=Array.isArray(e)?e:[e],e.filter(t=>PSe.Circuit.matches(t))}get[Symbol.toStringTag](){return"Circuit"}static isTransport(e){return Boolean(e&&e[jSe])}};yW.exports=bW});var gW=M((Mb,H3)=>{(function(r,e){"use strict";var t={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(_){if(!Array.isArray(_)&&!ArrayBuffer.isView(_))return!1;for(var E=0;E<_.length;E++)if(!Number.isInteger(_[E])||_[E]<0||_[E]>255)return!1;return!0}function n(_,E){return(_&65535)*E+(((_>>>16)*E&65535)<<16)}function s(_,E){return _<<E|_>>>32-E}function o(_){return _^=_>>>16,_=n(_,2246822507),_^=_>>>13,_=n(_,3266489909),_^=_>>>16,_}function a(_,E){_=[_[0]>>>16,_[0]&65535,_[1]>>>16,_[1]&65535],E=[E[0]>>>16,E[0]&65535,E[1]>>>16,E[1]&65535];var C=[0,0,0,0];return C[3]+=_[3]+E[3],C[2]+=C[3]>>>16,C[3]&=65535,C[2]+=_[2]+E[2],C[1]+=C[2]>>>16,C[2]&=65535,C[1]+=_[1]+E[1],C[0]+=C[1]>>>16,C[1]&=65535,C[0]+=_[0]+E[0],C[0]&=65535,[C[0]<<16|C[1],C[2]<<16|C[3]]}function f(_,E){_=[_[0]>>>16,_[0]&65535,_[1]>>>16,_[1]&65535],E=[E[0]>>>16,E[0]&65535,E[1]>>>16,E[1]&65535];var C=[0,0,0,0];return C[3]+=_[3]*E[3],C[2]+=C[3]>>>16,C[3]&=65535,C[2]+=_[2]*E[3],C[1]+=C[2]>>>16,C[2]&=65535,C[2]+=_[3]*E[2],C[1]+=C[2]>>>16,C[2]&=65535,C[1]+=_[1]*E[3],C[0]+=C[1]>>>16,C[1]&=65535,C[1]+=_[2]*E[2],C[0]+=C[1]>>>16,C[1]&=65535,C[1]+=_[3]*E[1],C[0]+=C[1]>>>16,C[1]&=65535,C[0]+=_[0]*E[3]+_[1]*E[2]+_[2]*E[1]+_[3]*E[0],C[0]&=65535,[C[0]<<16|C[1],C[2]<<16|C[3]]}function c(_,E){return E%=64,E===32?[_[1],_[0]]:E<32?[_[0]<<E|_[1]>>>32-E,_[1]<<E|_[0]>>>32-E]:(E-=32,[_[1]<<E|_[0]>>>32-E,_[0]<<E|_[1]>>>32-E])}function l(_,E){return E%=64,E===0?_:E<32?[_[0]<<E|_[1]>>>32-E,_[1]<<E]:[_[1]<<E-32,0]}function h(_,E){return[_[0]^E[0],_[1]^E[1]]}function x(_){return _=h(_,[0,_[0]>>>1]),_=f(_,[4283543511,3981806797]),_=h(_,[0,_[0]>>>1]),_=f(_,[3301882366,444984403]),_=h(_,[0,_[0]>>>1]),_}t.x86.hash32=function(_,E){if(t.inputValidation&&!i(_))return e;E=E||0;for(var C=_.length%4,L=_.length-C,O=E,W=0,ee=3432918353,N=461845907,V=0;V<L;V=V+4)W=_[V]|_[V+1]<<8|_[V+2]<<16|_[V+3]<<24,W=n(W,ee),W=s(W,15),W=n(W,N),O^=W,O=s(O,13),O=n(O,5)+3864292196;switch(W=0,C){case 3:W^=_[V+2]<<16;case 2:W^=_[V+1]<<8;case 1:W^=_[V],W=n(W,ee),W=s(W,15),W=n(W,N),O^=W}return O^=_.length,O=o(O),O>>>0},t.x86.hash128=function(_,E){if(t.inputValidation&&!i(_))return e;E=E||0;for(var C=_.length%16,L=_.length-C,O=E,W=E,ee=E,N=E,V=0,z=0,F=0,H=0,K=597399067,S=2869860233,w=951274213,T=2716044179,v=0;v<L;v=v+16)V=_[v]|_[v+1]<<8|_[v+2]<<16|_[v+3]<<24,z=_[v+4]|_[v+5]<<8|_[v+6]<<16|_[v+7]<<24,F=_[v+8]|_[v+9]<<8|_[v+10]<<16|_[v+11]<<24,H=_[v+12]|_[v+13]<<8|_[v+14]<<16|_[v+15]<<24,V=n(V,K),V=s(V,15),V=n(V,S),O^=V,O=s(O,19),O+=W,O=n(O,5)+1444728091,z=n(z,S),z=s(z,16),z=n(z,w),W^=z,W=s(W,17),W+=ee,W=n(W,5)+197830471,F=n(F,w),F=s(F,17),F=n(F,T),ee^=F,ee=s(ee,15),ee+=N,ee=n(ee,5)+2530024501,H=n(H,T),H=s(H,18),H=n(H,K),N^=H,N=s(N,13),N+=O,N=n(N,5)+850148119;switch(V=0,z=0,F=0,H=0,C){case 15:H^=_[v+14]<<16;case 14:H^=_[v+13]<<8;case 13:H^=_[v+12],H=n(H,T),H=s(H,18),H=n(H,K),N^=H;case 12:F^=_[v+11]<<24;case 11:F^=_[v+10]<<16;case 10:F^=_[v+9]<<8;case 9:F^=_[v+8],F=n(F,w),F=s(F,17),F=n(F,T),ee^=F;case 8:z^=_[v+7]<<24;case 7:z^=_[v+6]<<16;case 6:z^=_[v+5]<<8;case 5:z^=_[v+4],z=n(z,S),z=s(z,16),z=n(z,w),W^=z;case 4:V^=_[v+3]<<24;case 3:V^=_[v+2]<<16;case 2:V^=_[v+1]<<8;case 1:V^=_[v],V=n(V,K),V=s(V,15),V=n(V,S),O^=V}return O^=_.length,W^=_.length,ee^=_.length,N^=_.length,O+=W,O+=ee,O+=N,W+=O,ee+=O,N+=O,O=o(O),W=o(W),ee=o(ee),N=o(N),O+=W,O+=ee,O+=N,W+=O,ee+=O,N+=O,("00000000"+(O>>>0).toString(16)).slice(-8)+("00000000"+(W>>>0).toString(16)).slice(-8)+("00000000"+(ee>>>0).toString(16)).slice(-8)+("00000000"+(N>>>0).toString(16)).slice(-8)},t.x64.hash128=function(_,E){if(t.inputValidation&&!i(_))return e;E=E||0;for(var C=_.length%16,L=_.length-C,O=[0,E],W=[0,E],ee=[0,0],N=[0,0],V=[2277735313,289559509],z=[1291169091,658871167],F=0;F<L;F=F+16)ee=[_[F+4]|_[F+5]<<8|_[F+6]<<16|_[F+7]<<24,_[F]|_[F+1]<<8|_[F+2]<<16|_[F+3]<<24],N=[_[F+12]|_[F+13]<<8|_[F+14]<<16|_[F+15]<<24,_[F+8]|_[F+9]<<8|_[F+10]<<16|_[F+11]<<24],ee=f(ee,V),ee=c(ee,31),ee=f(ee,z),O=h(O,ee),O=c(O,27),O=a(O,W),O=a(f(O,[0,5]),[0,1390208809]),N=f(N,z),N=c(N,33),N=f(N,V),W=h(W,N),W=c(W,31),W=a(W,O),W=a(f(W,[0,5]),[0,944331445]);switch(ee=[0,0],N=[0,0],C){case 15:N=h(N,l([0,_[F+14]],48));case 14:N=h(N,l([0,_[F+13]],40));case 13:N=h(N,l([0,_[F+12]],32));case 12:N=h(N,l([0,_[F+11]],24));case 11:N=h(N,l([0,_[F+10]],16));case 10:N=h(N,l([0,_[F+9]],8));case 9:N=h(N,[0,_[F+8]]),N=f(N,z),N=c(N,33),N=f(N,V),W=h(W,N);case 8:ee=h(ee,l([0,_[F+7]],56));case 7:ee=h(ee,l([0,_[F+6]],48));case 6:ee=h(ee,l([0,_[F+5]],40));case 5:ee=h(ee,l([0,_[F+4]],32));case 4:ee=h(ee,l([0,_[F+3]],24));case 3:ee=h(ee,l([0,_[F+2]],16));case 2:ee=h(ee,l([0,_[F+1]],8));case 1:ee=h(ee,[0,_[F]]),ee=f(ee,V),ee=c(ee,31),ee=f(ee,z),O=h(O,ee)}return O=h(O,[0,_.length]),W=h(W,[0,_.length]),O=a(O,W),W=a(W,O),O=x(O),W=x(W),O=a(O,W),W=a(W,O),("00000000"+(O[0]>>>0).toString(16)).slice(-8)+("00000000"+(O[1]>>>0).toString(16)).slice(-8)+("00000000"+(W[0]>>>0).toString(16)).slice(-8)+("00000000"+(W[1]>>>0).toString(16)).slice(-8)},typeof Mb!="undefined"?(typeof H3!="undefined"&&H3.exports&&(Mb=H3.exports=t),Mb.murmurHash3=t):typeof define=="function"&&define.amd?define([],function(){return t}):(t._murmurHash3=r.murmurHash3,t.noConflict=function(){return r.murmurHash3=t._murmurHash3,t._murmurHash3=e,t.noConflict=e,t},r.murmurHash3=t)})(Mb)});var xW=M((kZe,vW)=>{vW.exports=gW()});var _W=M((CZe,wW)=>{"use strict";var VSe=r=>{let e=new Uint8Array(4);for(let t=0;t<4;t++)e[t]=r&255,r=r>>8;return e};wW.exports={fromNumberTo32BitBuf:VSe}});var AW=M((BZe,SW)=>{"use strict";var n1=Lv(),HSe=45569,$Se=45633,GSe={init:n1.blake2bInit,update:n1.blake2bUpdate,digest:n1.blake2bFinal},YSe={init:n1.blake2sInit,update:n1.blake2sUpdate,digest:n1.blake2sFinal},EW=(r,e)=>async t=>{let i=e.init(r,null);return e.update(i,t),e.digest(i)};SW.exports=r=>{for(let e=0;e<64;e++)r[HSe+e]=EW(e+1,GSe);for(let e=0;e<32;e++)r[$Se+e]=EW(e+1,YSe)}});var kW=M((MZe,TW)=>{"use strict";var Pf=vy(),IW=xW(),{factory:$3}=gh(),{fromNumberTo32BitBuf:WSe}=_W(),ZSe=Ai(),Go=r=>async e=>{switch(r){case"sha3-224":return new Uint8Array(Pf.sha3_224.arrayBuffer(e));case"sha3-256":return new Uint8Array(Pf.sha3_256.arrayBuffer(e));case"sha3-384":return new Uint8Array(Pf.sha3_384.arrayBuffer(e));case"sha3-512":return new Uint8Array(Pf.sha3_512.arrayBuffer(e));case"shake-128":return new Uint8Array(Pf.shake128.create(128).update(e).arrayBuffer());case"shake-256":return new Uint8Array(Pf.shake256.create(256).update(e).arrayBuffer());case"keccak-224":return new Uint8Array(Pf.keccak224.arrayBuffer(e));case"keccak-256":return new Uint8Array(Pf.keccak256.arrayBuffer(e));case"keccak-384":return new Uint8Array(Pf.keccak384.arrayBuffer(e));case"keccak-512":return new Uint8Array(Pf.keccak512.arrayBuffer(e));case"murmur3-128":return ZSe(IW.x64.hash128(e),"base16");case"murmur3-32":return WSe(IW.x86.hash32(e));default:throw new TypeError(`${r} is not a supported algorithm`)}},JSe=r=>r;TW.exports={identity:JSe,sha1:$3("sha1"),sha2256:$3("sha2-256"),sha2512:$3("sha2-512"),dblSha2256:$3("dbl-sha2-256"),sha3224:Go("sha3-224"),sha3256:Go("sha3-256"),sha3384:Go("sha3-384"),sha3512:Go("sha3-512"),shake128:Go("shake-128"),shake256:Go("shake-256"),keccak224:Go("keccak-224"),keccak256:Go("keccak-256"),keccak384:Go("keccak-384"),keccak512:Go("keccak-512"),murmur3128:Go("murmur3-128"),murmur332:Go("murmur3-32"),addBlake:AW()}});var s1=M((RZe,BW)=>{"use strict";var CW=Ht(),G3=Vu(),Tn=kW(),XSe=gn();async function Yo(r,e,t){let i=await Yo.digest(r,e,t);return G3.encode(i,e,t)}Yo.multihash=G3;Yo.digest=async(r,e,t)=>{let n=await Yo.createHash(e)(r);return t?n.slice(0,t):n};Yo.createHash=function(r){if(!r)throw CW(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");let e=G3.coerceCode(r);if(!Yo.functions[e])throw CW(new Error(`multihash function '${r}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return Yo.functions[e]};Yo.functions={0:Tn.identity,17:Tn.sha1,18:Tn.sha2256,19:Tn.sha2512,20:Tn.sha3512,21:Tn.sha3384,22:Tn.sha3256,23:Tn.sha3224,24:Tn.shake128,25:Tn.shake256,26:Tn.keccak224,27:Tn.keccak256,28:Tn.keccak384,29:Tn.keccak512,34:Tn.murmur3128,35:Tn.murmur332,86:Tn.dblSha2256};Tn.addBlake(Yo.functions);Yo.validate=async(r,e)=>{let t=await Yo(r,G3.decode(e).name);return XSe(e,t)};BW.exports=Yo});var RW=M((NZe,MW)=>{"use strict";MW.exports=TextEncoder});var D_=M((PZe,NW)=>{"use strict";var QSe=x0(),eAe=s1(),tAe=RW();NW.exports.namespaceToCid=async r=>{let e=new tAe().encode(r),t=await eAe(e,"sha2-256");return new QSe(t)}});var FW=M((qZe,UW)=>{"use strict";var PW=sr(),qW=Object.assign(PW("libp2p:auto-relay"),{error:PW("libp2p:auto-relay:err")}),rAe=Ai(),iAe=Kr(),{Multiaddr:nAe}=zi(),sAe=Gr(),{relay:oAe}=Ab(),{canHop:aAe}=O_(),{namespaceToCid:fAe}=D_(),{CIRCUIT_PROTO_CODE:cAe,HOP_METADATA_KEY:OW,HOP_METADATA_VALUE:DW,RELAY_RENDEZVOUS_NS:uAe}=S3(),LW=class{constructor({libp2p:e,maxListeners:t=1,onError:i}){this._libp2p=e,this._peerId=e.peerId,this._peerStore=e.peerStore,this._connectionManager=e.connectionManager,this._transportManager=e.transportManager,this._addressSorter=e.dialer.addressSorter,this.maxListeners=t,this._listenRelays=new Set,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this),this._peerStore.on("change:protocols",this._onProtocolChange),this._connectionManager.on("peer:disconnect",this._onPeerDisconnected),this._onError=(n,s)=>{qW.error(s||n),i&&i(n,s)}}async _onProtocolChange({peerId:e,protocols:t}){let i=e.toB58String(),n=t.find(s=>s===oAe);if(!n&&this._listenRelays.has(i)){this._removeListenRelay(i);return}else if(!n||this._listenRelays.has(i))return;try{let s=this._connectionManager.get(e);if(!s)return;if(s.remoteAddr.protoCodes().includes(cAe)){qW(`relayed connection to ${i} will not be used to hop on`);return}await aAe({connection:s})&&(this._peerStore.metadataBook.set(e,OW,rAe(DW)),await this._addListenRelay(s,i))}catch(s){this._onError(s)}}_onPeerDisconnected(e){let i=e.remotePeer.toB58String();!this._listenRelays.has(i)||this._removeListenRelay(i)}async _addListenRelay(e,t){if(this._listenRelays.size>=this.maxListeners)return;let i=this._peerStore.addressBook.getMultiaddrsForPeer(e.remotePeer,this._addressSorter);if(!i||!i.length)return;let n=`${i[0].toString()}/p2p-circuit`;this._listenRelays.add(t);try{await this._transportManager.listen([new nAe(n)])}catch(s){this._onError(s),this._listenRelays.delete(t)}}_removeListenRelay(e){this._listenRelays.delete(e)&&this._listenOnAvailableHopRelays([e])}async _listenOnAvailableHopRelays(e=[]){if(this._listenRelays.size>=this.maxListeners)return;let t=[];for(let[i,n]of this._peerStore.metadataBook.data.entries()){if(this._listenRelays.has(i)||e.includes(i))continue;let s=n.get(OW);if(!s||iAe(s)!==DW)continue;let o=sAe.createFromCID(i),a=this._connectionManager.get(o);if(!a){t.push(o);continue}if(await this._addListenRelay(a,i),this._listenRelays.size>=this.maxListeners)return}for(let i of t)if(await this._tryToListenOnRelay(i),this._listenRelays.size>=this.maxListeners)return;try{let i=await fAe(uAe);for await(let n of this._libp2p.contentRouting.findProviders(i)){if(!n.multiaddrs.length)continue;let s=n.id;if(this._peerStore.addressBook.add(s,n.multiaddrs),await this._tryToListenOnRelay(s),this._listenRelays.size>=this.maxListeners)return}}catch(i){this._onError(i)}}async _tryToListenOnRelay(e){try{let t=await this._libp2p.dial(e);await this._addListenRelay(t,e.toB58String())}catch(t){this._onError(t,`could not connect and listen on known hop relay ${e.toB58String()}`)}}};UW.exports=LW});var HW=M((OZe,VW)=>{"use strict";var KW=sr(),zW=Object.assign(KW("libp2p:relay"),{error:KW("libp2p:relay:err")}),{setDelayedInterval:lAe,clearDelayedInterval:dAe}=T7(),hAe=FW(),{namespaceToCid:pAe}=D_(),{RELAY_RENDEZVOUS_NS:bAe}=S3(),jW=class{constructor(e){this._libp2p=e,this._options={...e._config.relay},this._autoRelay=this._options.autoRelay.enabled&&new hAe({libp2p:e,...this._options.autoRelay}),this._advertiseService=this._advertiseService.bind(this)}start(){this._options.hop.enabled&&this._options.advertise.enabled&&(this._timeout=lAe(this._advertiseService,this._options.advertise.ttl,this._options.advertise.bootDelay))}stop(){dAe(this._timeout)}async _advertiseService(){try{let e=await pAe(bAe);await this._libp2p.contentRouting.provide(e)}catch(e){e.code==="NO_ROUTERS_AVAILABLE"?(zW.error("a content router, such as a DHT, must be provided in order to advertise the relay service",e),this.stop()):zW.error(e)}}};VW.exports=jW});var o1=M((DZe,Y3)=>{"use strict";var{AbortController:$W,AbortSignal:yAe}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;Y3.exports=$W;Y3.exports.AbortSignal=yAe;Y3.exports.default=$W});var YW=M((LZe,GW)=>{"use strict";GW.exports=function(){return Date.now()}});var ZW=M((UZe,WW)=>{"use strict";var L_=YW();function U_(r,e,t){var i=this;this._started=L_(),this._rescheduled=0,this._scheduled=e,this._args=t,this._timer=setTimeout(n,e);function n(){i._rescheduled>0?(i._scheduled=i._rescheduled-(L_()-i._started),i._timer=setTimeout(n,i._scheduled),i._rescheduled=0):r.apply(null,i._args)}}U_.prototype.reschedule=function(r){var e=L_();return e+r-(this._started+this._scheduled)<0?!1:(this._started=e,this._rescheduled=r,!0)};U_.prototype.clear=function(){clearTimeout(this._timer)};function mAe(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("timeout needed");var r;if(arguments.length>0){r=new Array(arguments.length-2);for(var e=0;e<r.length;e++)r[e]=arguments[e+2]}return new U_(arguments[0],arguments[1],r)}WW.exports=mAe});var XW=M((FZe,F_)=>{"use strict";var{AbortController:gAe}=typeof self!="undefined"?self:typeof window!="undefined"?window:o1(),JW=ZW(),Rb=class extends gAe{constructor(e){super();this._ms=e,this._timer=JW(()=>this.abort(),e),Object.setPrototypeOf(this,Rb.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=JW(()=>this.abort(),this._ms)}};F_.exports=Rb;F_.exports.TimeoutController=Rb});var eZ=M((KZe,QW)=>{"use strict";var W3;globalThis.AbortController&&globalThis.AbortSignal?W3=globalThis:W3=o1();QW.exports={AbortController:W3.AbortController,AbortSignal:W3.AbortSignal}});var z_=M((zZe,K_)=>{var{AbortController:vAe}=eZ();function tZ(r){let e=new vAe;function t(){e.abort();for(let i of r)!i||!i.removeEventListener||i.removeEventListener("abort",t)}for(let i of r)if(!(!i||!i.addEventListener)){if(i.aborted){t();break}i.addEventListener("abort",t)}return e.signal}K_.exports=tZ;K_.exports.anySignal=tZ});var sZ=M((VZe,nZ)=>{var rZ=_7(),iZ=z3();nZ.exports=class{constructor(){this._buffer=new rZ,this._waitingConsumers=new rZ}push(e){let{promise:t,resolve:i}=iZ();return this._buffer.push({chunk:e,resolve:i}),this._consume(),t}_consume(){for(;!this._waitingConsumers.isEmpty()&&!this._buffer.isEmpty();){let e=this._waitingConsumers.shift(),t=this._buffer.shift();e.resolve(t.chunk),t.resolve()}}shift(){let{promise:e,resolve:t}=iZ();return this._waitingConsumers.push({resolve:t}),this._consume(),e}isEmpty(){return this._buffer.isEmpty()}}});var aZ=M((HZe,oZ)=>{"use strict";oZ.exports=(r,e=1,t)=>{if(t={indent:" ",includeEmptyLines:!1,...t},typeof r!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof r}\``);if(typeof e!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof e}\``);if(typeof t.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof t.indent}\``);if(e===0)return r;let i=t.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return r.replace(i,t.indent.repeat(e))}});var fZ=M(()=>{});var dZ=M((YZe,lZ)=>{"use strict";var cZ=fZ(),uZ=/\s+at.*(?:\(|\s)(.*)\)?/,xAe=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,wAe=typeof cZ.homedir=="undefined"?"":cZ.homedir();lZ.exports=(r,e)=>(e=Object.assign({pretty:!1},e),r.replace(/\\/g,"/").split(`
`).filter(t=>{let i=t.match(uZ);if(i===null||!i[1])return!0;let n=i[1];return n.includes(".app/Contents/Resources/electron.asar")||n.includes(".app/Contents/Resources/default_app.asar")?!1:!xAe.test(n)}).filter(t=>t.trim()!=="").map(t=>e.pretty?t.replace(uZ,(i,n)=>i.replace(n,n.replace(wAe,"~"))):t).join(`
`))});var j_=M((WZe,pZ)=>{"use strict";var _Ae=aZ(),EAe=dZ(),SAe=r=>r.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),hZ=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);e=[...e].map(i=>i instanceof Error?i:i!==null&&typeof i=="object"?Object.assign(new Error(i.message),i):new Error(i));let t=e.map(i=>typeof i.stack=="string"?SAe(EAe(i.stack)):String(i)).join(`
`);t=`
`+_Ae(t,4),super(t),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(let e of this._errors)yield e}};pZ.exports=hZ});var $_=M((ZZe,H_)=>{"use strict";var V_=class extends Error{constructor(e){super(e||"Promise was canceled");this.name="CancelError"}get isCanceled(){return!0}},Nb=class{static fn(e){return(...t)=>new Nb((i,n,s)=>{t.push(s),e(...t).then(i,n)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((t,i)=>{this._reject=i;let n=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,t(a))},s=a=>{this._isPending=!1,i(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(n,s,o)})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let t of this._cancelHandlers)t()}catch(t){this._reject(t);return}this._rejectOnCancel&&this._reject(new V_(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(Nb.prototype,Promise.prototype);H_.exports=Nb;H_.exports.CancelError=V_});var yZ=M((JZe,Z3)=>{"use strict";var bZ=j_(),AAe=$_(),G_=class extends Error{},IAe=(r,e)=>new AAe((t,i,n)=>{let{count:s,filter:o=()=>!0}=e;if(!Number.isFinite(s)){i(new TypeError(`Expected a finite number, got ${typeof e.count}`));return}let a=[],f=[],c=0,l=!1,h=new Set,x=()=>(a.length===s&&(t(a),l=!0),c-f.length<s&&(i(new bZ(f)),l=!0),l),_=()=>{for(let E of r)!h.has(E)&&typeof E.cancel=="function"&&E.cancel()};n(_);for(let E of r)c++,(async()=>{try{let C=await E;if(l)return;if(!o(C))throw new G_("Value does not satisfy filter");a.push(C)}catch(C){f.push(C)}finally{h.add(E),!l&&x()&&_()}})();s>c&&(i(new RangeError(`Expected input to contain at least ${e.count} items, but contains ${c} items`)),_())});Z3.exports=IAe;Z3.exports.AggregateError=bZ;Z3.exports.FilterError=G_});var gZ=M((XZe,Y_)=>{"use strict";var mZ=yZ(),TAe=$_();Y_.exports=(r,e)=>{let t=mZ(r,{...e,count:1});return TAe.fn(async i=>{i(()=>{t.cancel()});let[n]=await t;return n})()};Y_.exports.AggregateError=mZ.AggregateError});var wZ=M((QZe,xZ)=>{"use strict";var kAe=Ht(),CAe=o1().default,{anySignal:BAe}=z_(),MAe=sZ(),RAe=gZ(),vZ=class{constructor({addrs:e,dialAction:t,dialer:i}){this.addrs=e,this.dialer=i,this.dialAction=t}async run(e={}){let t=this.dialer.getTokens(this.addrs.length);if(t.length<1)throw kAe(new Error("No dial tokens available"),"ERR_NO_DIAL_TOKENS");let i=new MAe;t.forEach(o=>i.push(o));let n=this.addrs.map(()=>new CAe),s=0;try{return await RAe(this.addrs.map(async(o,a)=>{let f=await i.shift(),c;try{let l=n[a].signal;c=await this.dialAction(o,{...e,signal:e.signal?BAe([l,e.signal]):l}),n.splice(a,1)}finally{s++,this.addrs.length-s>=t.length?i.push(f):this.dialer.releaseToken(t.splice(t.indexOf(f),1)[0])}return c}))}finally{n.map(o=>o.abort()),t.forEach(o=>this.dialer.releaseToken(o))}}};xZ.exports=vZ});var IZ=M((eJe,AZ)=>{"use strict";var _Z=sr(),a1=Object.assign(_Z("libp2p:dialer"),{error:_Z("libp2p:dialer:err")}),EZ=Ht(),{Multiaddr:W_}=zi(),NAe=XW(),{anySignal:PAe}=z_(),qAe=wZ(),{publicAddressesFirst:OAe}=F7(),DAe=R7(),{codes:Z_}=Ji(),{DIAL_TIMEOUT:LAe,MAX_PARALLEL_DIALS:UAe,MAX_PER_PEER_DIALS:FAe}=E3(),SZ=class{constructor({transportManager:e,peerStore:t,addressSorter:i=OAe,maxParallelDials:n=UAe,dialTimeout:s=LAe,maxDialsPerPeer:o=FAe,resolvers:a={}}){this.transportManager=e,this.peerStore=t,this.addressSorter=i,this.maxParallelDials=n,this.timeout=s,this.maxDialsPerPeer=o,this.tokens=[...new Array(n)].map((f,c)=>c),this._pendingDials=new Map;for(let[f,c]of Object.entries(a))W_.resolvers.set(f,c)}destroy(){for(let e of this._pendingDials.values())try{e.controller.abort()}catch(t){a1.error(t)}this._pendingDials.clear()}async connectToPeer(e,t={}){let i=await this._createDialTarget(e);if(!i.addrs.length)throw EZ(new Error("The dial request has no valid addresses"),Z_.ERR_NO_VALID_ADDRESSES);let n=this._pendingDials.get(i.id)||this._createPendingDial(i,t);try{let s=await n.promise;return a1("dial succeeded to %s",i.id),s}catch(s){throw n.controller.signal.aborted&&(s.code=Z_.ERR_TIMEOUT),a1.error(s),s}finally{n.destroy()}}async _createDialTarget(e){let{id:t,multiaddrs:i}=DAe(e);i&&this.peerStore.addressBook.add(t,i);let n=this.peerStore.addressBook.getMultiaddrsForPeer(t,this.addressSorter)||[];W_.isMultiaddr(e)&&(n=n.filter(a=>!e.equals(a)),n.unshift(e));let s=[];for(let a of n)(await this._resolve(a)).forEach(c=>s.push(c));let o=s.filter(a=>this.transportManager.transportForMultiaddr(a));return{id:t.toB58String(),addrs:o}}_createPendingDial(e,t={}){let i=(c,l)=>{if(l.signal.aborted)throw EZ(new Error("already aborted"),Z_.ERR_ALREADY_ABORTED);return this.transportManager.dial(c,l)},n=new qAe({addrs:e.addrs,dialAction:i,dialer:this}),s=new NAe(this.timeout),o=[s.signal];t.signal&&o.push(t.signal);let a=PAe(o),f={dialRequest:n,controller:s,promise:n.run({...t,signal:a}),destroy:()=>{s.clear(),this._pendingDials.delete(e.id)}};return this._pendingDials.set(e.id,f),f}getTokens(e){let t=Math.min(e,this.maxDialsPerPeer,this.tokens.length),i=this.tokens.splice(0,t);return a1("%d tokens request, returning %d, %d remaining",e,t,this.tokens.length),i}releaseToken(e){this.tokens.indexOf(e)>-1||(a1("token %d released",e),this.tokens.push(e))}async _resolve(e){if(!e.protoNames().includes("dnsaddr"))return[e];let i=await this._resolveRecord(e);return(await Promise.all(i.map(o=>this._resolve(o)))).flat().reduce((o,a)=>(o.find(f=>f.equals(a))||o.push(a),o),[])}async _resolveRecord(e){try{return e=new W_(e.toString()),await e.resolve()}catch(t){return a1.error(`multiaddr ${e} could not be resolved`),[]}}};AZ.exports=SZ});var kZ=M((tJe,TZ)=>{"use strict";function KAe(r){return r>=55296&&r<=56319}function zAe(r){return r>=56320&&r<=57343}TZ.exports=function(e,t,i){if(typeof t!="string")throw new Error("Input must be string");for(var n=t.length,s=0,o,a,f=0;f<n;f+=1){if(o=t.charCodeAt(f),a=t[f],KAe(o)&&zAe(t.charCodeAt(f+1))&&(f+=1,a+=t[f]),s+=e(a),s===i)return t.slice(0,f+1);if(s>i)return t.slice(0,f-a.length+1)}return t}});var BZ=M((rJe,CZ)=>{"use strict";function jAe(r){return r>=55296&&r<=56319}function VAe(r){return r>=56320&&r<=57343}CZ.exports=function(e){if(typeof e!="string")throw new Error("Input must be string");for(var t=e.length,i=0,n=null,s=null,o=0;o<t;o++)n=e.charCodeAt(o),VAe(n)?s!=null&&jAe(s)?i+=1:i+=3:n<=127?i+=1:n>=128&&n<=2047?i+=2:n>=2048&&n<=65535&&(i+=3),s=n;return i}});var RZ=M((iJe,MZ)=>{"use strict";var HAe=kZ(),$Ae=BZ();MZ.exports=HAe.bind(null,$Ae)});var qZ=M((nJe,PZ)=>{"use strict";var GAe=RZ(),YAe=/[\/\?<>\\:\*\|"]/g,WAe=/[\x00-\x1f\x80-\x9f]/g,ZAe=/^\.+$/,JAe=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,XAe=/[\. ]+$/;function NZ(r,e){if(typeof r!="string")throw new Error("Input must be string");var t=r.replace(YAe,e).replace(WAe,e).replace(ZAe,e).replace(JAe,e).replace(XAe,e);return GAe(t,255)}PZ.exports=function(r,e){var t=e&&e.replacement||"",i=NZ(r,t);return t===""?i:NZ(i,"")}});var LZ=M((sJe,DZ)=>{"use strict";ph();var J3=pr(),f1=Kr(),OZ=Ai();DZ.exports={createCipheriv:(r,e,t)=>{let i=J3.cipher.createCipher("AES-CTR",f1(e,"ascii"));return i.start({iv:f1(t,"ascii")}),{update:n=>(i.update(J3.util.createBuffer(f1(n,"ascii"))),OZ(i.output.getBytes(),"ascii"))}},createDecipheriv:(r,e,t)=>{let i=J3.cipher.createDecipher("AES-CTR",f1(e,"ascii"));return i.start({iv:f1(t,"ascii")}),{update:n=>(i.update(J3.util.createBuffer(f1(n,"ascii"))),OZ(i.output.getBytes(),"ascii"))}}}});var KZ=M((oJe,FZ)=>{"use strict";var QAe=Ht(),UZ={16:"aes-128-ctr",32:"aes-256-ctr"};FZ.exports=function(r){let e=UZ[r.length];if(!e){let t=Object.entries(UZ).map(([i,n])=>`${i} (${n})`).join(" / ");throw QAe(new Error(`Invalid key length ${r.length} bytes. Must be ${t}`),"ERR_INVALID_KEY_LENGTH")}return e}});var VZ=M(jZ=>{"use strict";var zZ=LZ(),eIe=KZ();jZ.create=async function(r,e){let t=eIe(r),i=zZ.createCipheriv(t,r,e),n=zZ.createDecipheriv(t,r,e);return{async encrypt(o){return i.update(o)},async decrypt(o){return n.update(o)}}}});var GZ=M((fJe,$Z)=>{"use strict";var tIe=B9(),rIe=Jr(),iIe=Ht(),HZ={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};function nIe(r,e,t,i,n){let s=HZ[n];if(!s){let a=Object.keys(HZ).join(" / ");throw iIe(new Error(`Hash '${n}' is unknown or not supported. Must be ${a}`),"ERR_UNSUPPORTED_HASH_TYPE")}let o=tIe(r,e,t,i,s);return rIe.encode64(o)}$Z.exports=nIe});var u1=M(c1=>{"use strict";var sIe=t7(),oIe=VZ(),aIe=o3();c1.aes=oIe;c1.hmac=sIe;c1.keys=aIe;c1.randomBytes=J5();c1.pbkdf2=GZ()});var YZ,WZ=eI(()=>{YZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"});var J_={};tI(J_,{customAlphabet:()=>fIe,customRandom:()=>JZ,nanoid:()=>cIe,random:()=>ZZ,urlAlphabet:()=>YZ});var ZZ,JZ,fIe,cIe,X_=eI(()=>{WZ();ZZ=r=>crypto.getRandomValues(new Uint8Array(r)),JZ=(r,e,t)=>{let i=(2<<Math.log(r.length-1)/Math.LN2)-1,n=-~(1.6*i*e/r.length);return()=>{let s="";for(;;){let o=t(n),a=n;for(;a--;)if(s+=r[o[a]&i]||"",s.length===e)return s}}},fIe=(r,e)=>JZ(r,e,ZZ),cIe=(r=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(r));for(;r--;){let i=t[r]&63;i<36?e+=i.toString(36):i<62?e+=(i-26).toString(36).toUpperCase():i<63?e+="_":e+="-"}return e}});var Q_=M((dJe,eJ)=>{"use strict";var{nanoid:uIe}=(X_(),J_),lIe=Kr(),dIe=Ai(),XZ=Symbol.for("@ipfs/interface-datastore/key"),P0="/",QZ=new TextEncoder().encode(P0),X3=QZ[0],oo=class{constructor(e,t){if(typeof e=="string")this._buf=dIe(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(t==null&&(t=!0),t&&this.clean(),this._buf.byteLength===0||this._buf[0]!==X3)throw new Error("Invalid key")}toString(e="utf8"){return lIe(this._buf,e)}uint8Array(){return this._buf}get[XZ](){return!0}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new oo(e.join(P0))}static random(){return new oo(uIe().replace(/-/g,""))}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=QZ),this._buf[0]!==X3){let e=new Uint8Array(this._buf.byteLength+1);e.fill(X3,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===X3;)this._buf=this._buf.subarray(0,-1)}less(e){let t=this.list(),i=e.list();for(let n=0;n<t.length;n++){if(i.length<n+1)return!1;let s=t[n],o=i[n];if(s<o)return!0;if(s>o)return!1}return t.length<i.length}reverse(){return oo.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(P0).slice(1)}type(){return hIe(this.baseNamespace())}name(){return pIe(this.baseNamespace())}instance(e){return new oo(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(P0)||(e+=P0),e+=this.type(),new oo(e)}parent(){let e=this.list();return e.length===1?new oo(P0):new oo(e.slice(0,-1).join(P0))}child(e){return this.toString()===P0?e:e.toString()===P0?this:new oo(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return oo.withNamespaces([...this.namespaces(),...bIe(e.map(t=>t.namespaces()))])}static isKey(e){return e instanceof oo||Boolean(e&&e[XZ])}};function hIe(r){let e=r.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function pIe(r){let e=r.split(":");return e[e.length-1]}function bIe(r){return[].concat(...r)}eJ.exports=oo});var rJ=M((hJe,tJ)=>{"use strict";var{nanoid:yIe}=(X_(),J_),mIe=(r=e=>e)=>r(yIe());tJ.exports=mIe});var eE=M((pJe,iJ)=>{"use strict";var gIe=async r=>{let e=[];for await(let t of r)e.push(t);return e};iJ.exports=gIe});var tE=M((bJe,nJ)=>{"use strict";var vIe=rJ(),xIe=eE(),wIe=(r,e)=>async function*(){yield*(await xIe(r)).sort(e)}(),_Ie=(r,e)=>{let t=new RegExp("^"+e);return r.replace(t,"")};nJ.exports={sortAll:wIe,tmpdir:vIe,replaceStartWith:_Ie}});var oJ=M((yJe,sJ)=>{"use strict";var EIe=async function*(r,e){let t=0;if(!(e<1)){for await(let i of r)if(yield i,t++,t===e)return}};sJ.exports=EIe});var rE=M((mJe,lJ)=>{"use strict";var{sortAll:aJ}=tE(),fJ=I7(),l1=p3(),cJ=oJ(),uJ=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,i){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(let{key:i,value:n}of e)await this.put(i,n,t),yield{key:i,value:n}}async*getMany(e,t={}){for await(let i of e)yield this.get(i,t)}async*deleteMany(e,t={}){for await(let i of e)await this.delete(i,t),yield i}batch(){let e=[],t=[];return{put(i,n){e.push({key:i,value:n})},delete(i){t.push(i)},commit:async i=>{await fJ(this.putMany(e,i)),e=[],await fJ(this.deleteMany(t,i)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let i=this._all(e,t);if(e.prefix!=null&&(i=l1(i,n=>n.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(i=e.filters.reduce((n,s)=>l1(n,s),i)),Array.isArray(e.orders)&&(i=e.orders.reduce((n,s)=>aJ(n,s),i)),e.offset!=null){let n=0;i=l1(i,()=>n++>=e.offset)}return e.limit!=null&&(i=cJ(i,e.limit)),i}queryKeys(e,t){let i=this._allKeys(e,t);if(e.prefix!=null&&(i=l1(i,n=>n.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(i=e.filters.reduce((n,s)=>l1(n,s),i)),Array.isArray(e.orders)&&(i=e.orders.reduce((n,s)=>aJ(n,s),i)),e.offset!=null){let n=0;i=l1(i,()=>n++>=e.offset)}return e.limit!=null&&(i=cJ(i,e.limit)),i}};lJ.exports=uJ});var iE=M((gJe,dJ)=>{"use strict";var Pb=Ht();function SIe(r){return r=r||new Error("Cannot open database"),Pb(r,"ERR_DB_OPEN_FAILED")}function AIe(r){return r=r||new Error("Delete failed"),Pb(r,"ERR_DB_DELETE_FAILED")}function IIe(r){return r=r||new Error("Write failed"),Pb(r,"ERR_DB_WRITE_FAILED")}function TIe(r){return r=r||new Error("Not Found"),Pb(r,"ERR_NOT_FOUND")}function kIe(r){return r=r||new Error("Aborted"),Pb(r,"ERR_ABORTED")}dJ.exports={dbOpenFailedError:SIe,dbDeleteFailedError:AIe,dbWriteFailedError:IIe,notFoundError:TIe,abortedError:kIe}});var yJ=M((vJe,bJ)=>{"use strict";var hJ=Q_(),CIe=rE(),BIe=iE(),pJ=class extends CIe{constructor(){super();this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(e,t){this.data[e.toString()]=t}async get(e){if(!await this.has(e))throw BIe.notFoundError();return this.data[e.toString()]}async has(e){return this.data[e.toString()]!==void 0}async delete(e){delete this.data[e.toString()]}async*_all(){yield*Object.entries(this.data).map(([e,t])=>({key:new hJ(e),value:t}))}async*_allKeys(){yield*Object.entries(this.data).map(([e])=>new hJ(e))}};bJ.exports=pJ});var d1=M((xJe,mJ)=>{"use strict";var MIe=Q_(),RIe=yJ(),NIe=tE(),PIe=iE(),qIe=rE();mJ.exports={Key:MIe,MemoryDatastore:RIe,utils:NIe,Errors:PIe,Adapter:qIe}});var wJ=M((wJe,xJ)=>{var h1=pr();w0();Jr();var Rt=h1.asn1,p1=xJ.exports=h1.pkcs7asn1=h1.pkcs7asn1||{};h1.pkcs7=h1.pkcs7||{};h1.pkcs7.asn1=p1;var gJ={name:"ContentInfo",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Rt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};p1.contentInfoValidator=gJ;var vJ={name:"EncryptedContentInfo",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Rt.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Rt.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};p1.envelopedDataValidator={name:"EnvelopedData",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(vJ)};p1.encryptedDataValidator={name:"EncryptedData",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.INTEGER,constructed:!1,capture:"version"}].concat(vJ)};var OIe={name:"SignerInfo",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Rt.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Rt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Rt.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};p1.signedDataValidator={name:"SignedData",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},gJ,{name:"SignedData.Certificates",tagClass:Rt.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Rt.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SET,capture:"signerInfos",optional:!0,value:[OIe]}]};p1.recipientInfoValidator={name:"RecipientInfo",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Rt.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:Rt.Class.UNIVERSAL,type:Rt.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var EJ=M((_Je,_J)=>{var gl=pr();Jr();gl.mgf=gl.mgf||{};var DIe=_J.exports=gl.mgf.mgf1=gl.mgf1=gl.mgf1||{};DIe.create=function(r){var e={generate:function(t,i){for(var n=new gl.util.ByteBuffer,s=Math.ceil(i/r.digestLength),o=0;o<s;o++){var a=new gl.util.ByteBuffer;a.putInt32(o),r.start(),r.update(t+a.getBytes()),n.putBuffer(r.digest())}return n.truncate(n.length()-i),n.getBytes()}};return e}});var AJ=M((EJe,SJ)=>{var Q3=pr();EJ();SJ.exports=Q3.mgf=Q3.mgf||{};Q3.mgf.mgf1=Q3.mgf1});var TJ=M((SJe,IJ)=>{var vl=pr();Tc();Jr();var LIe=IJ.exports=vl.pss=vl.pss||{};LIe.create=function(r){arguments.length===3&&(r={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=r.md,t=r.mgf,i=e.digestLength,n=r.salt||null;typeof n=="string"&&(n=vl.util.createBuffer(n));var s;if("saltLength"in r)s=r.saltLength;else if(n!==null)s=n.length();else throw new Error("Salt length not specified or specific salt not given.");if(n!==null&&n.length()!==s)throw new Error("Given salt length does not match length of given salt.");var o=r.prng||vl.random,a={};return a.encode=function(f,c){var l,h=c-1,x=Math.ceil(h/8),_=f.digest().getBytes();if(x<i+s+2)throw new Error("Message is too long to encrypt.");var E;n===null?E=o.getBytesSync(s):E=n.bytes();var C=new vl.util.ByteBuffer;C.fillWithByte(0,8),C.putBytes(_),C.putBytes(E),e.start(),e.update(C.getBytes());var L=e.digest().getBytes(),O=new vl.util.ByteBuffer;O.fillWithByte(0,x-s-i-2),O.putByte(1),O.putBytes(E);var W=O.getBytes(),ee=x-i-1,N=t.generate(L,ee),V="";for(l=0;l<ee;l++)V+=String.fromCharCode(W.charCodeAt(l)^N.charCodeAt(l));var z=65280>>8*x-h&255;return V=String.fromCharCode(V.charCodeAt(0)&~z)+V.substr(1),V+L+String.fromCharCode(188)},a.verify=function(f,c,l){var h,x=l-1,_=Math.ceil(x/8);if(c=c.substr(-_),_<i+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(c.charCodeAt(_-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var E=_-i-1,C=c.substr(0,E),L=c.substr(E,i),O=65280>>8*_-x&255;if((C.charCodeAt(0)&O)!=0)throw new Error("Bits beyond keysize not zero as expected.");var W=t.generate(L,E),ee="";for(h=0;h<E;h++)ee+=String.fromCharCode(C.charCodeAt(h)^W.charCodeAt(h));ee=String.fromCharCode(ee.charCodeAt(0)&~O)+ee.substr(1);var N=_-i-s-2;for(h=0;h<N;h++)if(ee.charCodeAt(h)!==0)throw new Error("Leftmost octets not zero as expected");if(ee.charCodeAt(N)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var V=ee.substr(-s),z=new vl.util.ByteBuffer;z.fillWithByte(0,8),z.putBytes(f),z.putBytes(V),e.start(),e.update(z.getBytes());var F=e.digest().getBytes();return L===F},a}});var sE=M((AJe,MJ)=>{var At=pr();ph();w0();D5();Ic();AJ();lh();K5();TJ();Q2();Jr();var ae=At.asn1,gt=MJ.exports=At.pki=At.pki||{},rr=gt.oids,Pi={};Pi.CN=rr.commonName;Pi.commonName="CN";Pi.C=rr.countryName;Pi.countryName="C";Pi.L=rr.localityName;Pi.localityName="L";Pi.ST=rr.stateOrProvinceName;Pi.stateOrProvinceName="ST";Pi.O=rr.organizationName;Pi.organizationName="O";Pi.OU=rr.organizationalUnitName;Pi.organizationalUnitName="OU";Pi.E=rr.emailAddress;Pi.emailAddress="E";var kJ=At.pki.rsa.publicKeyValidator,UIe={name:"Certificate",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:ae.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:ae.Class.UNIVERSAL,type:ae.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:ae.Class.UNIVERSAL,type:ae.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:ae.Class.UNIVERSAL,type:ae.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:ae.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:ae.Class.UNIVERSAL,type:ae.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:ae.Class.UNIVERSAL,type:ae.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:ae.Class.UNIVERSAL,type:ae.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:ae.Class.UNIVERSAL,type:ae.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},kJ,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:ae.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:ae.Class.UNIVERSAL,type:ae.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:ae.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:ae.Class.UNIVERSAL,type:ae.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:ae.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:ae.Class.UNIVERSAL,type:ae.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:ae.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:ae.Class.UNIVERSAL,type:ae.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},FIe={name:"rsapss",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:ae.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:ae.Class.UNIVERSAL,type:ae.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:ae.Class.UNIVERSAL,type:ae.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:ae.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:ae.Class.UNIVERSAL,type:ae.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:ae.Class.UNIVERSAL,type:ae.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:ae.Class.UNIVERSAL,type:ae.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:ae.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:ae.Class.UNIVERSAL,type:ae.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:ae.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:ae.Class.UNIVERSAL,type:ae.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},KIe={name:"CertificationRequestInfo",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:ae.Class.UNIVERSAL,type:ae.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},kJ,{name:"CertificationRequestInfo.attributes",tagClass:ae.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:ae.Class.UNIVERSAL,type:ae.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SET,constructed:!0}]}]}]},zIe={name:"CertificationRequest",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[KIe,{name:"CertificationRequest.signatureAlgorithm",tagClass:ae.Class.UNIVERSAL,type:ae.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:ae.Class.UNIVERSAL,type:ae.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:ae.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:ae.Class.UNIVERSAL,type:ae.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};gt.RDNAttributesAsArray=function(r,e){for(var t=[],i,n,s,o=0;o<r.value.length;++o){i=r.value[o];for(var a=0;a<i.value.length;++a)s={},n=i.value[a],s.type=ae.derToOid(n.value[0].value),s.value=n.value[1].value,s.valueTagClass=n.value[1].type,s.type in rr&&(s.name=rr[s.type],s.name in Pi&&(s.shortName=Pi[s.name])),e&&(e.update(s.type),e.update(s.value)),t.push(s)}return t};gt.CRIAttributesAsArray=function(r){for(var e=[],t=0;t<r.length;++t)for(var i=r[t],n=ae.derToOid(i.value[0].value),s=i.value[1].value,o=0;o<s.length;++o){var a={};if(a.type=n,a.value=s[o].value,a.valueTagClass=s[o].type,a.type in rr&&(a.name=rr[a.type],a.name in Pi&&(a.shortName=Pi[a.name])),a.type===rr.extensionRequest){a.extensions=[];for(var f=0;f<a.value.length;++f)a.extensions.push(gt.certificateExtensionFromAsn1(a.value[f]))}e.push(a)}return e};function Kc(r,e){typeof e=="string"&&(e={shortName:e});for(var t=null,i,n=0;t===null&&n<r.attributes.length;++n)i=r.attributes[n],(e.type&&e.type===i.type||e.name&&e.name===i.name||e.shortName&&e.shortName===i.shortName)&&(t=i);return t}var eg=function(r,e,t){var i={};if(r!==rr["RSASSA-PSS"])return i;t&&(i={hash:{algorithmOid:rr.sha1},mgf:{algorithmOid:rr.mgf1,hash:{algorithmOid:rr.sha1}},saltLength:20});var n={},s=[];if(!ae.validate(e,FIe,n,s)){var o=new Error("Cannot read RSASSA-PSS parameter block.");throw o.errors=s,o}return n.hashOid!==void 0&&(i.hash=i.hash||{},i.hash.algorithmOid=ae.derToOid(n.hashOid)),n.maskGenOid!==void 0&&(i.mgf=i.mgf||{},i.mgf.algorithmOid=ae.derToOid(n.maskGenOid),i.mgf.hash=i.mgf.hash||{},i.mgf.hash.algorithmOid=ae.derToOid(n.maskGenHashOid)),n.saltLength!==void 0&&(i.saltLength=n.saltLength.charCodeAt(0)),i};gt.certificateFromPem=function(r,e,t){var i=At.pem.decode(r)[0];if(i.type!=="CERTIFICATE"&&i.type!=="X509 CERTIFICATE"&&i.type!=="TRUSTED CERTIFICATE"){var n=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw n.headerType=i.type,n}if(i.procType&&i.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=ae.fromDer(i.body,t);return gt.certificateFromAsn1(s,e)};gt.certificateToPem=function(r,e){var t={type:"CERTIFICATE",body:ae.toDer(gt.certificateToAsn1(r)).getBytes()};return At.pem.encode(t,{maxline:e})};gt.publicKeyFromPem=function(r){var e=At.pem.decode(r)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var t=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw t.headerType=e.type,t}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var i=ae.fromDer(e.body);return gt.publicKeyFromAsn1(i)};gt.publicKeyToPem=function(r,e){var t={type:"PUBLIC KEY",body:ae.toDer(gt.publicKeyToAsn1(r)).getBytes()};return At.pem.encode(t,{maxline:e})};gt.publicKeyToRSAPublicKeyPem=function(r,e){var t={type:"RSA PUBLIC KEY",body:ae.toDer(gt.publicKeyToRSAPublicKey(r)).getBytes()};return At.pem.encode(t,{maxline:e})};gt.getPublicKeyFingerprint=function(r,e){e=e||{};var t=e.md||At.md.sha1.create(),i=e.type||"RSAPublicKey",n;switch(i){case"RSAPublicKey":n=ae.toDer(gt.publicKeyToRSAPublicKey(r)).getBytes();break;case"SubjectPublicKeyInfo":n=ae.toDer(gt.publicKeyToAsn1(r)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}t.start(),t.update(n);var s=t.digest();if(e.encoding==="hex"){var o=s.toHex();return e.delimiter?o.match(/.{2}/g).join(e.delimiter):o}else{if(e.encoding==="binary")return s.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return s};gt.certificationRequestFromPem=function(r,e,t){var i=At.pem.decode(r)[0];if(i.type!=="CERTIFICATE REQUEST"){var n=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw n.headerType=i.type,n}if(i.procType&&i.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=ae.fromDer(i.body,t);return gt.certificationRequestFromAsn1(s,e)};gt.certificationRequestToPem=function(r,e){var t={type:"CERTIFICATE REQUEST",body:ae.toDer(gt.certificationRequestToAsn1(r)).getBytes()};return At.pem.encode(t,{maxline:e})};gt.createCertificate=function(){var r={};return r.version=2,r.serialNumber="00",r.signatureOid=null,r.signature=null,r.siginfo={},r.siginfo.algorithmOid=null,r.validity={},r.validity.notBefore=new Date,r.validity.notAfter=new Date,r.issuer={},r.issuer.getField=function(e){return Kc(r.issuer,e)},r.issuer.addField=function(e){Wo([e]),r.issuer.attributes.push(e)},r.issuer.attributes=[],r.issuer.hash=null,r.subject={},r.subject.getField=function(e){return Kc(r.subject,e)},r.subject.addField=function(e){Wo([e]),r.subject.attributes.push(e)},r.subject.attributes=[],r.subject.hash=null,r.extensions=[],r.publicKey=null,r.md=null,r.setSubject=function(e,t){Wo(e),r.subject.attributes=e,delete r.subject.uniqueId,t&&(r.subject.uniqueId=t),r.subject.hash=null},r.setIssuer=function(e,t){Wo(e),r.issuer.attributes=e,delete r.issuer.uniqueId,t&&(r.issuer.uniqueId=t),r.issuer.hash=null},r.setExtensions=function(e){for(var t=0;t<e.length;++t)CJ(e[t],{cert:r});r.extensions=e},r.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var t=null,i,n=0;t===null&&n<r.extensions.length;++n)i=r.extensions[n],(e.id&&i.id===e.id||e.name&&i.name===e.name)&&(t=i);return t},r.sign=function(e,t){r.md=t||At.md.sha1.create();var i=rr[r.md.algorithm+"WithRSAEncryption"];if(!i){var n=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw n.algorithm=r.md.algorithm,n}r.signatureOid=r.siginfo.algorithmOid=i,r.tbsCertificate=gt.getTBSCertificate(r);var s=ae.toDer(r.tbsCertificate);r.md.update(s.getBytes()),r.signature=e.sign(r.md)},r.verify=function(e){var t=!1;if(!r.issued(e)){var i=e.issuer,n=r.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var o=e.md;if(o===null){if(e.signatureOid in rr){var a=rr[e.signatureOid];switch(a){case"sha1WithRSAEncryption":o=At.md.sha1.create();break;case"md5WithRSAEncryption":o=At.md.md5.create();break;case"sha256WithRSAEncryption":o=At.md.sha256.create();break;case"sha384WithRSAEncryption":o=At.md.sha384.create();break;case"sha512WithRSAEncryption":o=At.md.sha512.create();break;case"RSASSA-PSS":o=At.md.sha256.create();break}}if(o===null){var s=new Error("Could not compute certificate digest. Unknown signature OID.");throw s.signatureOid=e.signatureOid,s}var f=e.tbsCertificate||gt.getTBSCertificate(e),c=ae.toDer(f);o.update(c.getBytes())}if(o!==null){var l;switch(e.signatureOid){case rr.sha1WithRSAEncryption:l=void 0;break;case rr["RSASSA-PSS"]:var h,x;if(h=rr[e.signatureParameters.mgf.hash.algorithmOid],h===void 0||At.md[h]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=e.signatureParameters.mgf.hash.algorithmOid,s.name=h,s}if(x=rr[e.signatureParameters.mgf.algorithmOid],x===void 0||At.mgf[x]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=e.signatureParameters.mgf.algorithmOid,s.name=x,s}if(x=At.mgf[x].create(At.md[h].create()),h=rr[e.signatureParameters.hash.algorithmOid],h===void 0||At.md[h]===void 0)throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:h};l=At.pss.create(At.md[h].create(),x,e.signatureParameters.saltLength);break}t=r.publicKey.verify(o.digest().getBytes(),e.signature,l)}return t},r.isIssuer=function(e){var t=!1,i=r.issuer,n=e.subject;if(i.hash&&n.hash)t=i.hash===n.hash;else if(i.attributes.length===n.attributes.length){t=!0;for(var s,o,a=0;t&&a<i.attributes.length;++a)s=i.attributes[a],o=n.attributes[a],(s.type!==o.type||s.value!==o.value)&&(t=!1)}return t},r.issued=function(e){return e.isIssuer(r)},r.generateSubjectKeyIdentifier=function(){return gt.getPublicKeyFingerprint(r.publicKey,{type:"RSAPublicKey"})},r.verifySubjectKeyIdentifier=function(){for(var e=rr.subjectKeyIdentifier,t=0;t<r.extensions.length;++t){var i=r.extensions[t];if(i.id===e){var n=r.generateSubjectKeyIdentifier().getBytes();return At.util.hexToBytes(i.subjectKeyIdentifier)===n}}return!1},r};gt.certificateFromAsn1=function(r,e){var t={},i=[];if(!ae.validate(r,UIe,t,i)){var n=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw n.errors=i,n}var s=ae.derToOid(t.publicKeyOid);if(s!==gt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=gt.createCertificate();o.version=t.certVersion?t.certVersion.charCodeAt(0):0;var a=At.util.createBuffer(t.certSerialNumber);o.serialNumber=a.toHex(),o.signatureOid=At.asn1.derToOid(t.certSignatureOid),o.signatureParameters=eg(o.signatureOid,t.certSignatureParams,!0),o.siginfo.algorithmOid=At.asn1.derToOid(t.certinfoSignatureOid),o.siginfo.parameters=eg(o.siginfo.algorithmOid,t.certinfoSignatureParams,!1),o.signature=t.certSignature;var f=[];if(t.certValidity1UTCTime!==void 0&&f.push(ae.utcTimeToDate(t.certValidity1UTCTime)),t.certValidity2GeneralizedTime!==void 0&&f.push(ae.generalizedTimeToDate(t.certValidity2GeneralizedTime)),t.certValidity3UTCTime!==void 0&&f.push(ae.utcTimeToDate(t.certValidity3UTCTime)),t.certValidity4GeneralizedTime!==void 0&&f.push(ae.generalizedTimeToDate(t.certValidity4GeneralizedTime)),f.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(f.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(o.validity.notBefore=f[0],o.validity.notAfter=f[1],o.tbsCertificate=t.tbsCertificate,e){if(o.md=null,o.signatureOid in rr){var s=rr[o.signatureOid];switch(s){case"sha1WithRSAEncryption":o.md=At.md.sha1.create();break;case"md5WithRSAEncryption":o.md=At.md.md5.create();break;case"sha256WithRSAEncryption":o.md=At.md.sha256.create();break;case"sha384WithRSAEncryption":o.md=At.md.sha384.create();break;case"sha512WithRSAEncryption":o.md=At.md.sha512.create();break;case"RSASSA-PSS":o.md=At.md.sha256.create();break}}if(o.md===null){var n=new Error("Could not compute certificate digest. Unknown signature OID.");throw n.signatureOid=o.signatureOid,n}var c=ae.toDer(o.tbsCertificate);o.md.update(c.getBytes())}var l=At.md.sha1.create();o.issuer.getField=function(x){return Kc(o.issuer,x)},o.issuer.addField=function(x){Wo([x]),o.issuer.attributes.push(x)},o.issuer.attributes=gt.RDNAttributesAsArray(t.certIssuer,l),t.certIssuerUniqueId&&(o.issuer.uniqueId=t.certIssuerUniqueId),o.issuer.hash=l.digest().toHex();var h=At.md.sha1.create();return o.subject.getField=function(x){return Kc(o.subject,x)},o.subject.addField=function(x){Wo([x]),o.subject.attributes.push(x)},o.subject.attributes=gt.RDNAttributesAsArray(t.certSubject,h),t.certSubjectUniqueId&&(o.subject.uniqueId=t.certSubjectUniqueId),o.subject.hash=h.digest().toHex(),t.certExtensions?o.extensions=gt.certificateExtensionsFromAsn1(t.certExtensions):o.extensions=[],o.publicKey=gt.publicKeyFromAsn1(t.subjectPublicKeyInfo),o};gt.certificateExtensionsFromAsn1=function(r){for(var e=[],t=0;t<r.value.length;++t)for(var i=r.value[t],n=0;n<i.value.length;++n)e.push(gt.certificateExtensionFromAsn1(i.value[n]));return e};gt.certificateExtensionFromAsn1=function(r){var e={};if(e.id=ae.derToOid(r.value[0].value),e.critical=!1,r.value[1].type===ae.Type.BOOLEAN?(e.critical=r.value[1].value.charCodeAt(0)!==0,e.value=r.value[2].value):e.value=r.value[1].value,e.id in rr){if(e.name=rr[e.id],e.name==="keyUsage"){var t=ae.fromDer(e.value),i=0,n=0;t.value.length>1&&(i=t.value.charCodeAt(1),n=t.value.length>2?t.value.charCodeAt(2):0),e.digitalSignature=(i&128)==128,e.nonRepudiation=(i&64)==64,e.keyEncipherment=(i&32)==32,e.dataEncipherment=(i&16)==16,e.keyAgreement=(i&8)==8,e.keyCertSign=(i&4)==4,e.cRLSign=(i&2)==2,e.encipherOnly=(i&1)==1,e.decipherOnly=(n&128)==128}else if(e.name==="basicConstraints"){var t=ae.fromDer(e.value);t.value.length>0&&t.value[0].type===ae.Type.BOOLEAN?e.cA=t.value[0].value.charCodeAt(0)!==0:e.cA=!1;var s=null;t.value.length>0&&t.value[0].type===ae.Type.INTEGER?s=t.value[0].value:t.value.length>1&&(s=t.value[1].value),s!==null&&(e.pathLenConstraint=ae.derToInteger(s))}else if(e.name==="extKeyUsage")for(var t=ae.fromDer(e.value),o=0;o<t.value.length;++o){var a=ae.derToOid(t.value[o].value);a in rr?e[rr[a]]=!0:e[a]=!0}else if(e.name==="nsCertType"){var t=ae.fromDer(e.value),i=0;t.value.length>1&&(i=t.value.charCodeAt(1)),e.client=(i&128)==128,e.server=(i&64)==64,e.email=(i&32)==32,e.objsign=(i&16)==16,e.reserved=(i&8)==8,e.sslCA=(i&4)==4,e.emailCA=(i&2)==2,e.objCA=(i&1)==1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var f,t=ae.fromDer(e.value),c=0;c<t.value.length;++c){f=t.value[c];var l={type:f.type,value:f.value};switch(e.altNames.push(l),f.type){case 1:case 2:case 6:break;case 7:l.ip=At.util.bytesToIP(f.value);break;case 8:l.oid=ae.derToOid(f.value);break;default:}}}else if(e.name==="subjectKeyIdentifier"){var t=ae.fromDer(e.value);e.subjectKeyIdentifier=At.util.bytesToHex(t.value)}}return e};gt.certificationRequestFromAsn1=function(r,e){var t={},i=[];if(!ae.validate(r,zIe,t,i)){var n=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw n.errors=i,n}var s=ae.derToOid(t.publicKeyOid);if(s!==gt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=gt.createCertificationRequest();if(o.version=t.csrVersion?t.csrVersion.charCodeAt(0):0,o.signatureOid=At.asn1.derToOid(t.csrSignatureOid),o.signatureParameters=eg(o.signatureOid,t.csrSignatureParams,!0),o.siginfo.algorithmOid=At.asn1.derToOid(t.csrSignatureOid),o.siginfo.parameters=eg(o.siginfo.algorithmOid,t.csrSignatureParams,!1),o.signature=t.csrSignature,o.certificationRequestInfo=t.certificationRequestInfo,e){if(o.md=null,o.signatureOid in rr){var s=rr[o.signatureOid];switch(s){case"sha1WithRSAEncryption":o.md=At.md.sha1.create();break;case"md5WithRSAEncryption":o.md=At.md.md5.create();break;case"sha256WithRSAEncryption":o.md=At.md.sha256.create();break;case"sha384WithRSAEncryption":o.md=At.md.sha384.create();break;case"sha512WithRSAEncryption":o.md=At.md.sha512.create();break;case"RSASSA-PSS":o.md=At.md.sha256.create();break}}if(o.md===null){var n=new Error("Could not compute certification request digest. Unknown signature OID.");throw n.signatureOid=o.signatureOid,n}var a=ae.toDer(o.certificationRequestInfo);o.md.update(a.getBytes())}var f=At.md.sha1.create();return o.subject.getField=function(c){return Kc(o.subject,c)},o.subject.addField=function(c){Wo([c]),o.subject.attributes.push(c)},o.subject.attributes=gt.RDNAttributesAsArray(t.certificationRequestInfoSubject,f),o.subject.hash=f.digest().toHex(),o.publicKey=gt.publicKeyFromAsn1(t.subjectPublicKeyInfo),o.getAttribute=function(c){return Kc(o,c)},o.addAttribute=function(c){Wo([c]),o.attributes.push(c)},o.attributes=gt.CRIAttributesAsArray(t.certificationRequestInfoAttributes||[]),o};gt.createCertificationRequest=function(){var r={};return r.version=0,r.signatureOid=null,r.signature=null,r.siginfo={},r.siginfo.algorithmOid=null,r.subject={},r.subject.getField=function(e){return Kc(r.subject,e)},r.subject.addField=function(e){Wo([e]),r.subject.attributes.push(e)},r.subject.attributes=[],r.subject.hash=null,r.publicKey=null,r.attributes=[],r.getAttribute=function(e){return Kc(r,e)},r.addAttribute=function(e){Wo([e]),r.attributes.push(e)},r.md=null,r.setSubject=function(e){Wo(e),r.subject.attributes=e,r.subject.hash=null},r.setAttributes=function(e){Wo(e),r.attributes=e},r.sign=function(e,t){r.md=t||At.md.sha1.create();var i=rr[r.md.algorithm+"WithRSAEncryption"];if(!i){var n=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw n.algorithm=r.md.algorithm,n}r.signatureOid=r.siginfo.algorithmOid=i,r.certificationRequestInfo=gt.getCertificationRequestInfo(r);var s=ae.toDer(r.certificationRequestInfo);r.md.update(s.getBytes()),r.signature=e.sign(r.md)},r.verify=function(){var e=!1,t=r.md;if(t===null){if(r.signatureOid in rr){var i=rr[r.signatureOid];switch(i){case"sha1WithRSAEncryption":t=At.md.sha1.create();break;case"md5WithRSAEncryption":t=At.md.md5.create();break;case"sha256WithRSAEncryption":t=At.md.sha256.create();break;case"sha384WithRSAEncryption":t=At.md.sha384.create();break;case"sha512WithRSAEncryption":t=At.md.sha512.create();break;case"RSASSA-PSS":t=At.md.sha256.create();break}}if(t===null){var n=new Error("Could not compute certification request digest. Unknown signature OID.");throw n.signatureOid=r.signatureOid,n}var s=r.certificationRequestInfo||gt.getCertificationRequestInfo(r),o=ae.toDer(s);t.update(o.getBytes())}if(t!==null){var a;switch(r.signatureOid){case rr.sha1WithRSAEncryption:break;case rr["RSASSA-PSS"]:var f,c;if(f=rr[r.signatureParameters.mgf.hash.algorithmOid],f===void 0||At.md[f]===void 0){var n=new Error("Unsupported MGF hash function.");throw n.oid=r.signatureParameters.mgf.hash.algorithmOid,n.name=f,n}if(c=rr[r.signatureParameters.mgf.algorithmOid],c===void 0||At.mgf[c]===void 0){var n=new Error("Unsupported MGF function.");throw n.oid=r.signatureParameters.mgf.algorithmOid,n.name=c,n}if(c=At.mgf[c].create(At.md[f].create()),f=rr[r.signatureParameters.hash.algorithmOid],f===void 0||At.md[f]===void 0){var n=new Error("Unsupported RSASSA-PSS hash function.");throw n.oid=r.signatureParameters.hash.algorithmOid,n.name=f,n}a=At.pss.create(At.md[f].create(),c,r.signatureParameters.saltLength);break}e=r.publicKey.verify(t.digest().getBytes(),r.signature,a)}return e},r};function b1(r){for(var e=ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[]),t,i,n=r.attributes,s=0;s<n.length;++s){t=n[s];var o=t.value,a=ae.Type.PRINTABLESTRING;"valueTagClass"in t&&(a=t.valueTagClass,a===ae.Type.UTF8&&(o=At.util.encodeUtf8(o))),i=ae.create(ae.Class.UNIVERSAL,ae.Type.SET,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.OID,!1,ae.oidToDer(t.type).getBytes()),ae.create(ae.Class.UNIVERSAL,a,!1,o)])]),e.value.push(i)}return e}function Wo(r){for(var e,t=0;t<r.length;++t){if(e=r[t],typeof e.name=="undefined"&&(e.type&&e.type in gt.oids?e.name=gt.oids[e.type]:e.shortName&&e.shortName in Pi&&(e.name=gt.oids[Pi[e.shortName]])),typeof e.type=="undefined")if(e.name&&e.name in gt.oids)e.type=gt.oids[e.name];else{var i=new Error("Attribute type not specified.");throw i.attribute=e,i}if(typeof e.shortName=="undefined"&&e.name&&e.name in Pi&&(e.shortName=Pi[e.name]),e.type===rr.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=ae.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var n=0;n<e.extensions.length;++n)e.value.push(gt.certificateExtensionToAsn1(CJ(e.extensions[n])))}if(typeof e.value=="undefined"){var i=new Error("Attribute value not specified.");throw i.attribute=e,i}}}function CJ(r,e){if(e=e||{},typeof r.name=="undefined"&&r.id&&r.id in gt.oids&&(r.name=gt.oids[r.id]),typeof r.id=="undefined")if(r.name&&r.name in gt.oids)r.id=gt.oids[r.name];else{var t=new Error("Extension ID not specified.");throw t.extension=r,t}if(typeof r.value!="undefined")return r;if(r.name==="keyUsage"){var i=0,n=0,s=0;r.digitalSignature&&(n|=128,i=7),r.nonRepudiation&&(n|=64,i=6),r.keyEncipherment&&(n|=32,i=5),r.dataEncipherment&&(n|=16,i=4),r.keyAgreement&&(n|=8,i=3),r.keyCertSign&&(n|=4,i=2),r.cRLSign&&(n|=2,i=1),r.encipherOnly&&(n|=1,i=0),r.decipherOnly&&(s|=128,i=7);var o=String.fromCharCode(i);s!==0?o+=String.fromCharCode(n)+String.fromCharCode(s):n!==0&&(o+=String.fromCharCode(n)),r.value=ae.create(ae.Class.UNIVERSAL,ae.Type.BITSTRING,!1,o)}else if(r.name==="basicConstraints")r.value=ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[]),r.cA&&r.value.value.push(ae.create(ae.Class.UNIVERSAL,ae.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in r&&r.value.value.push(ae.create(ae.Class.UNIVERSAL,ae.Type.INTEGER,!1,ae.integerToDer(r.pathLenConstraint).getBytes()));else if(r.name==="extKeyUsage"){r.value=ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[]);var a=r.value.value;for(var f in r)r[f]===!0&&(f in rr?a.push(ae.create(ae.Class.UNIVERSAL,ae.Type.OID,!1,ae.oidToDer(rr[f]).getBytes())):f.indexOf(".")!==-1&&a.push(ae.create(ae.Class.UNIVERSAL,ae.Type.OID,!1,ae.oidToDer(f).getBytes())))}else if(r.name==="nsCertType"){var i=0,n=0;r.client&&(n|=128,i=7),r.server&&(n|=64,i=6),r.email&&(n|=32,i=5),r.objsign&&(n|=16,i=4),r.reserved&&(n|=8,i=3),r.sslCA&&(n|=4,i=2),r.emailCA&&(n|=2,i=1),r.objCA&&(n|=1,i=0);var o=String.fromCharCode(i);n!==0&&(o+=String.fromCharCode(n)),r.value=ae.create(ae.Class.UNIVERSAL,ae.Type.BITSTRING,!1,o)}else if(r.name==="subjectAltName"||r.name==="issuerAltName"){r.value=ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[]);for(var c,l=0;l<r.altNames.length;++l){c=r.altNames[l];var o=c.value;if(c.type===7&&c.ip){if(o=At.util.bytesFromIP(c.ip),o===null){var t=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw t.extension=r,t}}else c.type===8&&(c.oid?o=ae.oidToDer(ae.oidToDer(c.oid)):o=ae.oidToDer(o));r.value.value.push(ae.create(ae.Class.CONTEXT_SPECIFIC,c.type,!1,o))}}else if(r.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(r.comment)||r.comment.length<1||r.comment.length>128)throw new Error('Invalid "nsComment" content.');r.value=ae.create(ae.Class.UNIVERSAL,ae.Type.IA5STRING,!1,r.comment)}else if(r.name==="subjectKeyIdentifier"&&e.cert){var h=e.cert.generateSubjectKeyIdentifier();r.subjectKeyIdentifier=h.toHex(),r.value=ae.create(ae.Class.UNIVERSAL,ae.Type.OCTETSTRING,!1,h.getBytes())}else if(r.name==="authorityKeyIdentifier"&&e.cert){r.value=ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[]);var a=r.value.value;if(r.keyIdentifier){var x=r.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():r.keyIdentifier;a.push(ae.create(ae.Class.CONTEXT_SPECIFIC,0,!1,x))}if(r.authorityCertIssuer){var _=[ae.create(ae.Class.CONTEXT_SPECIFIC,4,!0,[b1(r.authorityCertIssuer===!0?e.cert.issuer:r.authorityCertIssuer)])];a.push(ae.create(ae.Class.CONTEXT_SPECIFIC,1,!0,_))}if(r.serialNumber){var E=At.util.hexToBytes(r.serialNumber===!0?e.cert.serialNumber:r.serialNumber);a.push(ae.create(ae.Class.CONTEXT_SPECIFIC,2,!1,E))}}else if(r.name==="cRLDistributionPoints"){r.value=ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[]);for(var a=r.value.value,C=ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[]),L=ae.create(ae.Class.CONTEXT_SPECIFIC,0,!0,[]),c,l=0;l<r.altNames.length;++l){c=r.altNames[l];var o=c.value;if(c.type===7&&c.ip){if(o=At.util.bytesFromIP(c.ip),o===null){var t=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw t.extension=r,t}}else c.type===8&&(c.oid?o=ae.oidToDer(ae.oidToDer(c.oid)):o=ae.oidToDer(o));L.value.push(ae.create(ae.Class.CONTEXT_SPECIFIC,c.type,!1,o))}C.value.push(ae.create(ae.Class.CONTEXT_SPECIFIC,0,!0,[L])),a.push(C)}if(typeof r.value=="undefined"){var t=new Error("Extension value not specified.");throw t.extension=r,t}return r}function nE(r,e){switch(r){case rr["RSASSA-PSS"]:var t=[];return e.hash.algorithmOid!==void 0&&t.push(ae.create(ae.Class.CONTEXT_SPECIFIC,0,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.OID,!1,ae.oidToDer(e.hash.algorithmOid).getBytes()),ae.create(ae.Class.UNIVERSAL,ae.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&t.push(ae.create(ae.Class.CONTEXT_SPECIFIC,1,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.OID,!1,ae.oidToDer(e.mgf.algorithmOid).getBytes()),ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.OID,!1,ae.oidToDer(e.mgf.hash.algorithmOid).getBytes()),ae.create(ae.Class.UNIVERSAL,ae.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&t.push(ae.create(ae.Class.CONTEXT_SPECIFIC,2,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.INTEGER,!1,ae.integerToDer(e.saltLength).getBytes())])),ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,t);default:return ae.create(ae.Class.UNIVERSAL,ae.Type.NULL,!1,"")}}function jIe(r){var e=ae.create(ae.Class.CONTEXT_SPECIFIC,0,!0,[]);if(r.attributes.length===0)return e;for(var t=r.attributes,i=0;i<t.length;++i){var n=t[i],s=n.value,o=ae.Type.UTF8;"valueTagClass"in n&&(o=n.valueTagClass),o===ae.Type.UTF8&&(s=At.util.encodeUtf8(s));var a=!1;"valueConstructed"in n&&(a=n.valueConstructed);var f=ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.OID,!1,ae.oidToDer(n.type).getBytes()),ae.create(ae.Class.UNIVERSAL,ae.Type.SET,!0,[ae.create(ae.Class.UNIVERSAL,o,a,s)])]);e.value.push(f)}return e}var VIe=new Date("1950-01-01T00:00:00Z"),HIe=new Date("2050-01-01T00:00:00Z");function BJ(r){return r>=VIe&&r<HIe?ae.create(ae.Class.UNIVERSAL,ae.Type.UTCTIME,!1,ae.dateToUtcTime(r)):ae.create(ae.Class.UNIVERSAL,ae.Type.GENERALIZEDTIME,!1,ae.dateToGeneralizedTime(r))}gt.getTBSCertificate=function(r){var e=BJ(r.validity.notBefore),t=BJ(r.validity.notAfter),i=ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[ae.create(ae.Class.CONTEXT_SPECIFIC,0,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.INTEGER,!1,ae.integerToDer(r.version).getBytes())]),ae.create(ae.Class.UNIVERSAL,ae.Type.INTEGER,!1,At.util.hexToBytes(r.serialNumber)),ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.OID,!1,ae.oidToDer(r.siginfo.algorithmOid).getBytes()),nE(r.siginfo.algorithmOid,r.siginfo.parameters)]),b1(r.issuer),ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[e,t]),b1(r.subject),gt.publicKeyToAsn1(r.publicKey)]);return r.issuer.uniqueId&&i.value.push(ae.create(ae.Class.CONTEXT_SPECIFIC,1,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.BITSTRING,!1,String.fromCharCode(0)+r.issuer.uniqueId)])),r.subject.uniqueId&&i.value.push(ae.create(ae.Class.CONTEXT_SPECIFIC,2,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.BITSTRING,!1,String.fromCharCode(0)+r.subject.uniqueId)])),r.extensions.length>0&&i.value.push(gt.certificateExtensionsToAsn1(r.extensions)),i};gt.getCertificationRequestInfo=function(r){var e=ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.INTEGER,!1,ae.integerToDer(r.version).getBytes()),b1(r.subject),gt.publicKeyToAsn1(r.publicKey),jIe(r)]);return e};gt.distinguishedNameToAsn1=function(r){return b1(r)};gt.certificateToAsn1=function(r){var e=r.tbsCertificate||gt.getTBSCertificate(r);return ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[e,ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.OID,!1,ae.oidToDer(r.signatureOid).getBytes()),nE(r.signatureOid,r.signatureParameters)]),ae.create(ae.Class.UNIVERSAL,ae.Type.BITSTRING,!1,String.fromCharCode(0)+r.signature)])};gt.certificateExtensionsToAsn1=function(r){var e=ae.create(ae.Class.CONTEXT_SPECIFIC,3,!0,[]),t=ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[]);e.value.push(t);for(var i=0;i<r.length;++i)t.value.push(gt.certificateExtensionToAsn1(r[i]));return e};gt.certificateExtensionToAsn1=function(r){var e=ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[]);e.value.push(ae.create(ae.Class.UNIVERSAL,ae.Type.OID,!1,ae.oidToDer(r.id).getBytes())),r.critical&&e.value.push(ae.create(ae.Class.UNIVERSAL,ae.Type.BOOLEAN,!1,String.fromCharCode(255)));var t=r.value;return typeof r.value!="string"&&(t=ae.toDer(t).getBytes()),e.value.push(ae.create(ae.Class.UNIVERSAL,ae.Type.OCTETSTRING,!1,t)),e};gt.certificationRequestToAsn1=function(r){var e=r.certificationRequestInfo||gt.getCertificationRequestInfo(r);return ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[e,ae.create(ae.Class.UNIVERSAL,ae.Type.SEQUENCE,!0,[ae.create(ae.Class.UNIVERSAL,ae.Type.OID,!1,ae.oidToDer(r.signatureOid).getBytes()),nE(r.signatureOid,r.signatureParameters)]),ae.create(ae.Class.UNIVERSAL,ae.Type.BITSTRING,!1,String.fromCharCode(0)+r.signature)])};gt.createCaStore=function(r){var e={certs:{}};e.getIssuer=function(o){var a=t(o.issuer);return a},e.addCertificate=function(o){if(typeof o=="string"&&(o=At.pki.certificateFromPem(o)),i(o.subject),!e.hasCertificate(o))if(o.subject.hash in e.certs){var a=e.certs[o.subject.hash];At.util.isArray(a)||(a=[a]),a.push(o),e.certs[o.subject.hash]=a}else e.certs[o.subject.hash]=o},e.hasCertificate=function(o){typeof o=="string"&&(o=At.pki.certificateFromPem(o));var a=t(o.subject);if(!a)return!1;At.util.isArray(a)||(a=[a]);for(var f=ae.toDer(gt.certificateToAsn1(o)).getBytes(),c=0;c<a.length;++c){var l=ae.toDer(gt.certificateToAsn1(a[c])).getBytes();if(f===l)return!0}return!1},e.listAllCertificates=function(){var o=[];for(var a in e.certs)if(e.certs.hasOwnProperty(a)){var f=e.certs[a];if(!At.util.isArray(f))o.push(f);else for(var c=0;c<f.length;++c)o.push(f[c])}return o},e.removeCertificate=function(o){var a;if(typeof o=="string"&&(o=At.pki.certificateFromPem(o)),i(o.subject),!e.hasCertificate(o))return null;var f=t(o.subject);if(!At.util.isArray(f))return a=e.certs[o.subject.hash],delete e.certs[o.subject.hash],a;for(var c=ae.toDer(gt.certificateToAsn1(o)).getBytes(),l=0;l<f.length;++l){var h=ae.toDer(gt.certificateToAsn1(f[l])).getBytes();c===h&&(a=f[l],f.splice(l,1))}return f.length===0&&delete e.certs[o.subject.hash],a};function t(o){return i(o),e.certs[o.hash]||null}function i(o){if(!o.hash){var a=At.md.sha1.create();o.attributes=gt.RDNAttributesAsArray(b1(o),a),o.hash=a.digest().toHex()}}if(r)for(var n=0;n<r.length;++n){var s=r[n];e.addCertificate(s)}return e};gt.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};gt.verifyCertificateChain=function(r,e,t){typeof t=="function"&&(t={verify:t}),t=t||{},e=e.slice(0);var i=e.slice(0),n=t.validityCheckDate;typeof n=="undefined"&&(n=new Date);var s=!0,o=null,a=0;do{var f=e.shift(),c=null,l=!1;if(n&&(n<f.validity.notBefore||n>f.validity.notAfter)&&(o={message:"Certificate is not valid yet or has expired.",error:gt.certificateError.certificate_expired,notBefore:f.validity.notBefore,notAfter:f.validity.notAfter,now:n}),o===null){if(c=e[0]||r.getIssuer(f),c===null&&f.isIssuer(f)&&(l=!0,c=f),c){var h=c;At.util.isArray(h)||(h=[h]);for(var x=!1;!x&&h.length>0;){c=h.shift();try{x=c.verify(f)}catch(V){}}x||(o={message:"Certificate signature is invalid.",error:gt.certificateError.bad_certificate})}o===null&&(!c||l)&&!r.hasCertificate(f)&&(o={message:"Certificate is not trusted.",error:gt.certificateError.unknown_ca})}if(o===null&&c&&!f.isIssuer(c)&&(o={message:"Certificate issuer is invalid.",error:gt.certificateError.bad_certificate}),o===null)for(var _={keyUsage:!0,basicConstraints:!0},E=0;o===null&&E<f.extensions.length;++E){var C=f.extensions[E];C.critical&&!(C.name in _)&&(o={message:"Certificate has an unsupported critical extension.",error:gt.certificateError.unsupported_certificate})}if(o===null&&(!s||e.length===0&&(!c||l))){var L=f.getExtension("basicConstraints"),O=f.getExtension("keyUsage");if(O!==null&&(!O.keyCertSign||L===null)&&(o={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:gt.certificateError.bad_certificate}),o===null&&L!==null&&!L.cA&&(o={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:gt.certificateError.bad_certificate}),o===null&&O!==null&&"pathLenConstraint"in L){var W=a-1;W>L.pathLenConstraint&&(o={message:"Certificate basicConstraints pathLenConstraint violated.",error:gt.certificateError.bad_certificate})}}var ee=o===null?!0:o.error,N=t.verify?t.verify(ee,a,i):ee;if(N===!0)o=null;else throw ee===!0&&(o={message:"The application rejected the certificate.",error:gt.certificateError.bad_certificate}),(N||N===0)&&(typeof N=="object"&&!At.util.isArray(N)?(N.message&&(o.message=N.message),N.error&&(o.error=N.error)):typeof N=="string"&&(o.error=N)),o;s=!1,++a}while(e.length>0);return!0}});var PJ=M((IJe,NJ)=>{var kt=pr();ph();w0();D5();lh();K5();wJ();Tc();Jr();sE();var Te=kt.asn1,ms=NJ.exports=kt.pkcs7=kt.pkcs7||{};ms.messageFromPem=function(r){var e=kt.pem.decode(r)[0];if(e.type!=="PKCS7"){var t=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw t.headerType=e.type,t}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var i=Te.fromDer(e.body);return ms.messageFromAsn1(i)};ms.messageToPem=function(r,e){var t={type:"PKCS7",body:Te.toDer(r.toAsn1()).getBytes()};return kt.pem.encode(t,{maxline:e})};ms.messageFromAsn1=function(r){var e={},t=[];if(!Te.validate(r,ms.asn1.contentInfoValidator,e,t)){var i=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw i.errors=t,i}var n=Te.derToOid(e.contentType),s;switch(n){case kt.pki.oids.envelopedData:s=ms.createEnvelopedData();break;case kt.pki.oids.encryptedData:s=ms.createEncryptedData();break;case kt.pki.oids.signedData:s=ms.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+n+" is not (yet) supported.")}return s.fromAsn1(e.content.value[0]),s};ms.createSignedData=function(){var r=null;return r={type:kt.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(i){if(aE(r,i,ms.asn1.signedDataValidator),r.certificates=[],r.crls=[],r.digestAlgorithmIdentifiers=[],r.contentInfo=null,r.signerInfos=[],r.rawCapture.certificates)for(var n=r.rawCapture.certificates.value,s=0;s<n.length;++s)r.certificates.push(kt.pki.certificateFromAsn1(n[s]))},toAsn1:function(){r.contentInfo||r.sign();for(var i=[],n=0;n<r.certificates.length;++n)i.push(kt.pki.certificateToAsn1(r.certificates[n]));var s=[],o=Te.create(Te.Class.CONTEXT_SPECIFIC,0,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.INTEGER,!1,Te.integerToDer(r.version).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.SET,!0,r.digestAlgorithmIdentifiers),r.contentInfo])]);return i.length>0&&o.value[0].value.push(Te.create(Te.Class.CONTEXT_SPECIFIC,0,!0,i)),s.length>0&&o.value[0].value.push(Te.create(Te.Class.CONTEXT_SPECIFIC,1,!0,s)),o.value[0].value.push(Te.create(Te.Class.UNIVERSAL,Te.Type.SET,!0,r.signerInfos)),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(r.type).getBytes()),o])},addSigner:function(i){var n=i.issuer,s=i.serialNumber;if(i.certificate){var o=i.certificate;typeof o=="string"&&(o=kt.pki.certificateFromPem(o)),n=o.issuer.attributes,s=o.serialNumber}var a=i.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof a=="string"&&(a=kt.pki.privateKeyFromPem(a));var f=i.digestAlgorithm||kt.pki.oids.sha1;switch(f){case kt.pki.oids.sha1:case kt.pki.oids.sha256:case kt.pki.oids.sha384:case kt.pki.oids.sha512:case kt.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+f)}var c=i.authenticatedAttributes||[];if(c.length>0){for(var l=!1,h=!1,x=0;x<c.length;++x){var _=c[x];if(!l&&_.type===kt.pki.oids.contentType){if(l=!0,h)break;continue}if(!h&&_.type===kt.pki.oids.messageDigest){if(h=!0,l)break;continue}}if(!l||!h)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}r.signers.push({key:a,version:1,issuer:n,serialNumber:s,digestAlgorithm:f,signatureAlgorithm:kt.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(i){if(i=i||{},(typeof r.content!="object"||r.contentInfo===null)&&(r.contentInfo=Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(kt.pki.oids.data).getBytes())]),"content"in r)){var n;r.content instanceof kt.util.ByteBuffer?n=r.content.bytes():typeof r.content=="string"&&(n=kt.util.encodeUtf8(r.content)),i.detached?r.detachedContent=Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,n):r.contentInfo.value.push(Te.create(Te.Class.CONTEXT_SPECIFIC,0,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,n)]))}if(r.signers.length!==0){var s=e();t(s)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(i){typeof i=="string"&&(i=kt.pki.certificateFromPem(i)),r.certificates.push(i)},addCertificateRevokationList:function(i){throw new Error("PKCS#7 CRL support not yet implemented.")}},r;function e(){for(var i={},n=0;n<r.signers.length;++n){var s=r.signers[n],o=s.digestAlgorithm;o in i||(i[o]=kt.md[kt.pki.oids[o]].create()),s.authenticatedAttributes.length===0?s.md=i[o]:s.md=kt.md[kt.pki.oids[o]].create()}r.digestAlgorithmIdentifiers=[];for(var o in i)r.digestAlgorithmIdentifiers.push(Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(o).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.NULL,!1,"")]));return i}function t(i){var n;if(r.detachedContent?n=r.detachedContent:(n=r.contentInfo.value[1],n=n.value[0]),!n)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=Te.derToOid(r.contentInfo.value[0].value),o=Te.toDer(n);o.getByte(),Te.getBerValueLength(o),o=o.getBytes();for(var a in i)i[a].start().update(o);for(var f=new Date,c=0;c<r.signers.length;++c){var l=r.signers[c];if(l.authenticatedAttributes.length===0){if(s!==kt.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{l.authenticatedAttributesAsn1=Te.create(Te.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=Te.create(Te.Class.UNIVERSAL,Te.Type.SET,!0,[]),x=0;x<l.authenticatedAttributes.length;++x){var _=l.authenticatedAttributes[x];_.type===kt.pki.oids.messageDigest?_.value=i[l.digestAlgorithm].digest():_.type===kt.pki.oids.signingTime&&(_.value||(_.value=f)),h.value.push(oE(_)),l.authenticatedAttributesAsn1.value.push(oE(_))}o=Te.toDer(h).getBytes(),l.md.start().update(o)}l.signature=l.key.sign(l.md,"RSASSA-PKCS1-V1_5")}r.signerInfos=JIe(r.signers)}};ms.createEncryptedData=function(){var r=null;return r={type:kt.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:kt.pki.oids["aes256-CBC"]},fromAsn1:function(e){aE(r,e,ms.asn1.encryptedDataValidator)},decrypt:function(e){e!==void 0&&(r.encryptedContent.key=e),RJ(r)}},r};ms.createEnvelopedData=function(){var r=null;return r={type:kt.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:kt.pki.oids["aes256-CBC"]},fromAsn1:function(e){var t=aE(r,e,ms.asn1.envelopedDataValidator);r.recipients=YIe(t.recipientInfos.value)},toAsn1:function(){return Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(r.type).getBytes()),Te.create(Te.Class.CONTEXT_SPECIFIC,0,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.INTEGER,!1,Te.integerToDer(r.version).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.SET,!0,WIe(r.recipients)),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,XIe(r.encryptedContent))])])])},findRecipient:function(e){for(var t=e.issuer.attributes,i=0;i<r.recipients.length;++i){var n=r.recipients[i],s=n.issuer;if(n.serialNumber===e.serialNumber&&s.length===t.length){for(var o=!0,a=0;a<t.length;++a)if(s[a].type!==t[a].type||s[a].value!==t[a].value){o=!1;break}if(o)return n}}return null},decrypt:function(e,t){if(r.encryptedContent.key===void 0&&e!==void 0&&t!==void 0)switch(e.encryptedContent.algorithm){case kt.pki.oids.rsaEncryption:case kt.pki.oids.desCBC:var i=t.decrypt(e.encryptedContent.content);r.encryptedContent.key=kt.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}RJ(r)},addRecipient:function(e){r.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:kt.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,t){if(r.encryptedContent.content===void 0){t=t||r.encryptedContent.algorithm,e=e||r.encryptedContent.key;var i,n,s;switch(t){case kt.pki.oids["aes128-CBC"]:i=16,n=16,s=kt.aes.createEncryptionCipher;break;case kt.pki.oids["aes192-CBC"]:i=24,n=16,s=kt.aes.createEncryptionCipher;break;case kt.pki.oids["aes256-CBC"]:i=32,n=16,s=kt.aes.createEncryptionCipher;break;case kt.pki.oids["des-EDE3-CBC"]:i=24,n=8,s=kt.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+t)}if(e===void 0)e=kt.util.createBuffer(kt.random.getBytes(i));else if(e.length()!=i)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+i+".");r.encryptedContent.algorithm=t,r.encryptedContent.key=e,r.encryptedContent.parameter=kt.util.createBuffer(kt.random.getBytes(n));var o=s(e);if(o.start(r.encryptedContent.parameter.copy()),o.update(r.content),!o.finish())throw new Error("Symmetric encryption failed.");r.encryptedContent.content=o.output}for(var a=0;a<r.recipients.length;++a){var f=r.recipients[a];if(f.encryptedContent.content===void 0)switch(f.encryptedContent.algorithm){case kt.pki.oids.rsaEncryption:f.encryptedContent.content=f.encryptedContent.key.encrypt(r.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+f.encryptedContent.algorithm)}}}},r};function $Ie(r){var e={},t=[];if(!Te.validate(r,ms.asn1.recipientInfoValidator,e,t)){var i=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw i.errors=t,i}return{version:e.version.charCodeAt(0),issuer:kt.pki.RDNAttributesAsArray(e.issuer),serialNumber:kt.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:Te.derToOid(e.encAlgorithm),parameter:e.encParameter.value,content:e.encKey}}}function GIe(r){return Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.INTEGER,!1,Te.integerToDer(r.version).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[kt.pki.distinguishedNameToAsn1({attributes:r.issuer}),Te.create(Te.Class.UNIVERSAL,Te.Type.INTEGER,!1,kt.util.hexToBytes(r.serialNumber))]),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(r.encryptedContent.algorithm).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.NULL,!1,"")]),Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,r.encryptedContent.content)])}function YIe(r){for(var e=[],t=0;t<r.length;++t)e.push($Ie(r[t]));return e}function WIe(r){for(var e=[],t=0;t<r.length;++t)e.push(GIe(r[t]));return e}function ZIe(r){var e=Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.INTEGER,!1,Te.integerToDer(r.version).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[kt.pki.distinguishedNameToAsn1({attributes:r.issuer}),Te.create(Te.Class.UNIVERSAL,Te.Type.INTEGER,!1,kt.util.hexToBytes(r.serialNumber))]),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(r.digestAlgorithm).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.NULL,!1,"")])]);if(r.authenticatedAttributesAsn1&&e.value.push(r.authenticatedAttributesAsn1),e.value.push(Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(r.signatureAlgorithm).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.NULL,!1,"")])),e.value.push(Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,r.signature)),r.unauthenticatedAttributes.length>0){for(var t=Te.create(Te.Class.CONTEXT_SPECIFIC,1,!0,[]),i=0;i<r.unauthenticatedAttributes.length;++i){var n=r.unauthenticatedAttributes[i];t.values.push(oE(n))}e.value.push(t)}return e}function JIe(r){for(var e=[],t=0;t<r.length;++t)e.push(ZIe(r[t]));return e}function oE(r){var e;if(r.type===kt.pki.oids.contentType)e=Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(r.value).getBytes());else if(r.type===kt.pki.oids.messageDigest)e=Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,r.value.bytes());else if(r.type===kt.pki.oids.signingTime){var t=new Date("1950-01-01T00:00:00Z"),i=new Date("2050-01-01T00:00:00Z"),n=r.value;if(typeof n=="string"){var s=Date.parse(n);isNaN(s)?n.length===13?n=Te.utcTimeToDate(n):n=Te.generalizedTimeToDate(n):n=new Date(s)}n>=t&&n<i?e=Te.create(Te.Class.UNIVERSAL,Te.Type.UTCTIME,!1,Te.dateToUtcTime(n)):e=Te.create(Te.Class.UNIVERSAL,Te.Type.GENERALIZEDTIME,!1,Te.dateToGeneralizedTime(n))}return Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(r.type).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.SET,!0,[e])])}function XIe(r){return[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(kt.pki.oids.data).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(r.algorithm).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,r.parameter.getBytes())]),Te.create(Te.Class.CONTEXT_SPECIFIC,0,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,r.content.getBytes())])]}function aE(r,e,t){var i={},n=[];if(!Te.validate(e,t,i,n)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var o=Te.derToOid(i.contentType);if(o!==kt.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(i.encryptedContent){var a="";if(kt.util.isArray(i.encryptedContent))for(var f=0;f<i.encryptedContent.length;++f){if(i.encryptedContent[f].type!==Te.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");a+=i.encryptedContent[f].value}else a=i.encryptedContent;r.encryptedContent={algorithm:Te.derToOid(i.encAlgorithm),parameter:kt.util.createBuffer(i.encParameter.value),content:kt.util.createBuffer(a)}}if(i.content){var a="";if(kt.util.isArray(i.content))for(var f=0;f<i.content.length;++f){if(i.content[f].type!==Te.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");a+=i.content[f].value}else a=i.content;r.content=kt.util.createBuffer(a)}return r.version=i.version.charCodeAt(0),r.rawCapture=i,i}function RJ(r){if(r.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(r.content===void 0){var e;switch(r.encryptedContent.algorithm){case kt.pki.oids["aes128-CBC"]:case kt.pki.oids["aes192-CBC"]:case kt.pki.oids["aes256-CBC"]:e=kt.aes.createDecryptionCipher(r.encryptedContent.key);break;case kt.pki.oids.desCBC:case kt.pki.oids["des-EDE3-CBC"]:e=kt.des.createDecryptionCipher(r.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+r.encryptedContent.algorithm)}if(e.start(r.encryptedContent.parameter),e.update(r.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");r.content=e.output}}});var DJ=M((TJe,OJ)=>{"use strict";sE();var QIe=pr(),qJ=QIe.pki,eTe=(r,e)=>{let t=qJ.setRsaPublicKey(e.n,e.e),i=qJ.createCertificate();i.publicKey=t,i.serialNumber="01",i.validity.notBefore=new Date,i.validity.notAfter=new Date,i.validity.notAfter.setFullYear(i.validity.notBefore.getFullYear()+10);let n=[{name:"organizationName",value:"ipfs"},{shortName:"OU",value:"keystore"},{name:"commonName",value:r.id}];return i.setSubject(n),i.setIssuer(n),i.setExtensions([{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"extKeyUsage",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:"nsCertType",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),i.sign(e),i};async function tTe(r,e){let t=r.map(e),n=(await Promise.all(t)).findIndex(s=>s);return r[n]}OJ.exports={certificateForKey:eTe,findAsync:tTe}});var KJ=M((kJe,FJ)=>{"use strict";PJ();F9();var zc=pr(),{certificateForKey:rTe,findAsync:iTe}=DJ(),y1=Ht(),LJ=Ai(),nTe=Kr(),fE=new WeakMap,UJ=class{constructor(e,t){if(!e)throw y1(new Error("keychain is required"),"ERR_KEYCHAIN_REQUIRED");this.keychain=e,fE.set(this,{dek:t})}async encrypt(e,t){if(!(t instanceof Uint8Array))throw y1(new Error("Plain data must be a Uint8Array"),"ERR_INVALID_PARAMS");let i=await this.keychain.findKeyByName(e),n=await this.keychain._getPrivateKey(e),s=fE.get(this).dek,o=zc.pki.decryptRsaPrivateKey(n,s),a=await rTe(i,o),f=zc.pkcs7.createEnvelopedData();f.addRecipient(a),f.content=zc.util.createBuffer(t),f.encrypt();let c=zc.asn1.toDer(f.toAsn1()).getBytes();return LJ(c,"ascii")}async decrypt(e){if(!(e instanceof Uint8Array))throw y1(new Error("CMS data is required"),"ERR_INVALID_PARAMS");let t;try{let c=zc.util.createBuffer(nTe(e,"ascii")),l=zc.asn1.fromDer(c);t=zc.pkcs7.messageFromAsn1(l)}catch(c){throw y1(new Error("Invalid CMS: "+c.message),"ERR_INVALID_CMS")}let i=t.recipients.filter(c=>c.issuer.find(l=>l.shortName==="O"&&l.value==="ipfs")).filter(c=>c.issuer.find(l=>l.shortName==="CN")).map(c=>({recipient:c,keyId:c.issuer.find(l=>l.shortName==="CN").value})),n=await iTe(i,async c=>{try{if(await this.keychain.findKeyById(c.keyId))return!0}catch(l){return!1}return!1});if(!n){let c=i.map(l=>l.keyId);throw y1(new Error("Decryption needs one of the key(s): "+c.join(", ")),"ERR_MISSING_KEYS",{missingKeys:c})}let s=await this.keychain.findKeyById(n.keyId);if(!s)throw y1(new Error("No key available to decrypto"),"ERR_NO_KEY");let o=await this.keychain._getPrivateKey(s.name),a=fE.get(this).dek,f=zc.pki.decryptRsaPrivateKey(o,a);return t.decrypt(n.recipient,f),LJ(t.content.getBytes(),"ascii")}};FJ.exports=UJ});var $J=M((CJe,HJ)=>{"use strict";var sTe=qZ(),oTe=yb(),qb=u1(),{Key:zJ}=d1(),aTe=KJ(),ji=Ht(),m1=Kr(),xl=Ai();G5();var fTe="/pkcs8/",jJ="/info/",g1=new WeakMap,wl={minKeyLength:112/8,minSaltLength:128/8,minIterationCount:1e3},cE={dek:{keyLength:512/8,iterationCount:1e4,salt:"you should override this value with a crypto secure random number",hash:"sha2-512"}};function q0(r){return!r||typeof r!="string"?!1:r===sTe(r.trim())}async function ei(r){let e=200,t=1e3,i=Math.random()*(t-e)+e;throw await new Promise(n=>setTimeout(n,i)),r}function jc(r){return new zJ(fTe+r)}function _l(r){return new zJ(jJ+r)}var VJ=class{constructor(e,t){if(!e)throw new Error("store is required");if(this.store=e,this.opts=oTe(cE,t),this.opts.pass&&this.opts.pass.length<20)throw new Error("pass must be least 20 characters");if(this.opts.dek.keyLength<wl.minKeyLength)throw new Error(`dek.keyLength must be least ${wl.minKeyLength} bytes`);if(this.opts.dek.salt.length<wl.minSaltLength)throw new Error(`dek.saltLength must be least ${wl.minSaltLength} bytes`);if(this.opts.dek.iterationCount<wl.minIterationCount)throw new Error(`dek.iterationCount must be least ${wl.minIterationCount}`);let i=this.opts.pass?qb.pbkdf2(this.opts.pass,this.opts.dek.salt,this.opts.dek.iterationCount,this.opts.dek.keyLength,this.opts.dek.hash):"";g1.set(this,{dek:i})}get cms(){return new aTe(this,g1.get(this).dek)}static generateOptions(){let e=Object.assign({},cE),t=Math.ceil(wl.minSaltLength/3)*3;return e.dek.salt=m1(qb.randomBytes(t),"base64"),e}static get options(){return cE}async createKey(e,t,i=2048){let n=this;if(!q0(e)||e==="self")return ei(ji(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(typeof t!="string")return ei(ji(new Error(`Invalid key type '${t}'`),"ERR_INVALID_KEY_TYPE"));let s=jc(e);if(await n.store.has(s))return ei(ji(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));switch(t.toLowerCase()){case"rsa":if(!Number.isSafeInteger(i)||i<2048)return ei(ji(new Error(`Invalid RSA key size ${i}`),"ERR_INVALID_KEY_SIZE"));break;default:break}let a;try{let f=await qb.keys.generateKeyPair(t,i),c=await f.id(),l=g1.get(this).dek,h=await f.export(l);a={name:e,id:c};let x=n.store.batch();x.put(s,xl(h)),x.put(_l(e),xl(JSON.stringify(a))),await x.commit()}catch(f){return ei(f)}return a}async listKeys(){let e=this,t={prefix:jJ},i=[];for await(let n of e.store.query(t))i.push(JSON.parse(m1(n.value)));return i}async findKeyById(e){try{return(await this.listKeys()).find(i=>i.id===e)}catch(t){return ei(t)}}async findKeyByName(e){if(!q0(e))return ei(ji(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));let t=_l(e);try{let i=await this.store.get(t);return JSON.parse(m1(i))}catch(i){return ei(ji(new Error(`Key '${e}' does not exist. ${i.message}`),"ERR_KEY_NOT_FOUND"))}}async removeKey(e){let t=this;if(!q0(e)||e==="self")return ei(ji(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));let i=jc(e),n=await t.findKeyByName(e),s=t.store.batch();return s.delete(i),s.delete(_l(e)),await s.commit(),n}async renameKey(e,t){let i=this;if(!q0(e)||e==="self")return ei(ji(new Error(`Invalid old key name '${e}'`),"ERR_OLD_KEY_NAME_INVALID"));if(!q0(t)||t==="self")return ei(ji(new Error(`Invalid new key name '${t}'`),"ERR_NEW_KEY_NAME_INVALID"));let n=jc(e),s=jc(t),o=_l(e),a=_l(t);if(await i.store.has(s))return ei(ji(new Error(`Key '${t}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{let c=await i.store.get(n),l=await i.store.get(o),h=JSON.parse(m1(l));h.name=t;let x=i.store.batch();return x.put(s,c),x.put(a,xl(JSON.stringify(h))),x.delete(n),x.delete(o),await x.commit(),h}catch(c){return ei(c)}}async exportKey(e,t){if(!q0(e))return ei(ji(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t)return ei(ji(new Error("Password is required"),"ERR_PASSWORD_REQUIRED"));let i=jc(e);try{let n=await this.store.get(i),s=m1(n),o=g1.get(this).dek;return(await qb.keys.import(s,o)).export(t)}catch(n){return ei(n)}}async importKey(e,t,i){let n=this;if(!q0(e)||e==="self")return ei(ji(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t)return ei(ji(new Error("PEM encoded key is required"),"ERR_PEM_REQUIRED"));let s=jc(e);if(await n.store.has(s))return ei(ji(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));let a;try{a=await qb.keys.import(t,i)}catch(h){return ei(ji(new Error("Cannot read the key, most likely the password is wrong"),"ERR_CANNOT_READ_KEY"))}let f;try{f=await a.id();let h=g1.get(this).dek;t=await a.export(h)}catch(h){return ei(h)}let c={name:e,id:f},l=n.store.batch();return l.put(s,xl(t)),l.put(_l(e),xl(JSON.stringify(c))),await l.commit(),c}async importPeer(e,t){let i=this;if(!q0(e))return ei(ji(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t||!t.privKey)return ei(ji(new Error("Peer.privKey is required"),"ERR_MISSING_PRIVATE_KEY"));let n=t.privKey,s=jc(e);if(await i.store.has(s))return ei(ji(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{let a=await n.id(),f=g1.get(this).dek,c=await n.export(f),l={name:e,id:a},h=i.store.batch();return h.put(s,xl(c)),h.put(_l(e),xl(JSON.stringify(l))),await h.commit(),l}catch(a){return ei(a)}}async _getPrivateKey(e){if(!q0(e))return ei(ji(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));try{let t=jc(e),i=await this.store.get(t);return m1(i)}catch(t){return ei(ji(new Error(`Key '${e}' does not exist. ${t.message}`),"ERR_KEY_NOT_FOUND"))}}};HJ.exports=VJ});var Ob=M((tg,GJ)=>{(function(r,e){typeof tg=="object"&&typeof GJ!="undefined"?e(tg):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis!="undefined"?globalThis:r||self,e(r.streamingIterables={}))})(tg,function(r){"use strict";async function*e(k,$){let X=[];for await(let Y of $)X.push(Y),X.length===k&&(yield X,X=[]);X.length>0&&(yield X)}function*t(k,$){let X=[];for(let Y of $)X.push(Y),X.length===k&&(yield X,X=[]);X.length>0&&(yield X)}function i(k,$){return $===void 0?X=>i(k,X):$[Symbol.asyncIterator]?e(k,$):t(k,$)}function n(k){if(typeof k.next=="function")return k;if(typeof k[Symbol.iterator]=="function")return k[Symbol.iterator]();if(typeof k[Symbol.asyncIterator]=="function")return k[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function s(){let k,$;return{promise:new Promise((Y,ve)=>{$=Y,k=ve}),reject:k,resolve:$}}function o(k,$){let X=n($),Y=[],ve=[],ue=!1,ge=!1;function xe(){for(;ve.length>0&&Y.length>0;){let be=ve.shift(),{error:D,value:_e}=Y.shift();D?be.reject(D):be.resolve({done:!1,value:_e})}for(;ve.length>0&&ge;){let{resolve:be}=ve.shift();be({done:!0,value:void 0})}}async function we(){if(!ge&&!ue&&!(Y.length>=k)){ue=!0;try{let{done:be,value:D}=await X.next();be?ge=!0:Y.push({value:D})}catch(be){ge=!0,Y.push({error:be})}xe(),ue=!1,we()}}async function Me(){if(Y.length>0){let{error:D,value:_e}=Y.shift();if(D)throw D;return we(),{done:!1,value:_e}}if(ge)return{done:!0,value:void 0};let be=s();return ve.push(be),we(),be.promise}let pe={next:Me,[Symbol.asyncIterator]:()=>pe};return pe}function*a(k,$){let X=[],Y;try{for(let ve of $)X.push(ve),!(X.length<=k)&&(yield X.shift())}catch(ve){Y=ve}for(let ve of X)yield ve;if(Y)throw Y}function f(k,$){return $===void 0?X=>f(k,X):k===0?$:$[Symbol.asyncIterator]?o(k,$):a(k,$)}async function c(k){let $=[];for await(let X of k)$.push(X);return $}function l(k){return k[Symbol.asyncIterator]?c(k):Array.from(k)}async function*h(k){for await(let $ of k)yield*$}function*x(k){for(let $ of k)yield*$}function _(...k){return k.find(X=>X[Symbol.asyncIterator]!==void 0)?h(k):x(k)}async function E(k){for await(let $ of k);}function C(k){if(k[Symbol.asyncIterator])return E(k);for(let $ of k);}async function*L(k,$){for await(let X of $)await k(X)&&(yield X)}function O(k,$){return $===void 0?X=>L(k,X):L(k,$)}async function*W(k){for await(let $ of k)$&&typeof $!="string"&&($[Symbol.iterator]||$[Symbol.asyncIterator])?yield*W($):yield $}async function*ee(k,$){for await(let X of $)yield await k(X)}function N(k,$){return $===void 0?X=>ee(k,X):ee(k,$)}function V(k,$){return $===void 0?X=>V(k,X):O(X=>X!=null,W(N(k,$)))}function z(k,$,X){let Y=n(X),ve=[],ue=[],ge=!1,xe=!1,we=0,Me=null;function pe(){for(;ue.length>0&&ve.length>0;){let{resolve:ie}=ue.shift(),Re=ve.shift();ie({done:!1,value:Re})}for(;ue.length>0&&we===0&&ge;){let{resolve:ie,reject:Re}=ue.shift();Me?(Re(Me),Me=null):ie({done:!0,value:void 0})}}async function be(){if(ge){pe();return}if(!xe&&!(we+ve.length>=k)){xe=!0,we++;try{let{done:ie,value:Re}=await Y.next();ie?(ge=!0,we--,pe()):D(Re)}catch(ie){ge=!0,we--,Me=ie,pe()}xe=!1,be()}}async function D(ie){try{let Re=await $(ie);if(Re&&Re[Symbol.asyncIterator])for await(let Ae of Re)ve.push(Ae);else ve.push(Re)}catch(Re){ge=!0,Me=Re}we--,pe(),be()}async function _e(){if(ve.length===0){let Re=s();return ue.push(Re),be(),Re.promise}let ie=ve.shift();return be(),{done:!1,value:ie}}let de={next:_e,[Symbol.asyncIterator]:()=>de};return de}function F(k,$,X){return $===void 0?(Y,ve)=>ve?F(k,Y,ve):F(k,Y):X===void 0?Y=>F(k,$,Y):O(Y=>Y!=null,W(z(k,$,X)))}async function H(k){return new Promise($=>{k.once("readable",()=>{$()})})}async function*K(k){for(;;){let $=k.read();if($!==null){yield $;continue}if(k._readableState.ended)break;await H(k)}}function S(k){return typeof k[Symbol.asyncIterator]=="function"?k:K(k)}async function*w(...k){let $=new Set(k.map(n));for(;$.size>0;)for(let X of $){let Y=await X.next();Y.done?$.delete(X):yield Y.value}}function T(k,...$){let X=k();for(let Y of $)X=Y(X);return X}async function*v(k,$,X){let Y=null,ve=we=>({value:$(we)}),ue=async function*(we){for await(let Me of we){if(Y)return;yield Me}},ge=T(()=>X,f(1),ue,N(ve),f(k-1)),xe=n(ge);for(;;){let{value:we,done:Me}=await xe.next();if(Me)break;try{let pe=await we.value;Y||(yield pe)}catch(pe){Y=pe}}if(Y)throw Y}function u(k,$,X){return $===void 0?(Y,ve)=>u(k,Y,ve):X===void 0?Y=>u(k,$,Y):k===1?N($,X):v(k,$,X)}function d(k,$,X){return $===void 0?(Y,ve)=>ve?d(k,Y,ve):d(k,Y):X===void 0?Y=>d(k,$,Y):O(Y=>Y!=null,W(u(k,$,X)))}async function*y(...k){let $=k.map(n),X=new Set,Y=new Map,ve=null,ue=null,ge=null,xe=be=>{ve=be,ue&&ue(be)},we=be=>{ge&&ge(be)},Me=()=>new Promise((be,D)=>{if(ve&&D(ve),Y.size>0)return be();ge=be,ue=D}),pe=be=>{let D=Promise.resolve(be.next()).then(async({done:_e,value:de})=>{_e||Y.set(be,de),X.delete(D)});X.add(D),D.then(we,xe)};for(let be of $)pe(be);for(;;){if(X.size===0&&Y.size===0)return;await Me();for(let[be,D]of Y)Y.delete(be),yield D,pe(be)}}async function g(k,$,X){let Y=$;for await(let ve of X)Y=await k(Y,ve);return Y}function m(k,$,X){return $===void 0?(Y,ve)=>ve?g(k,Y,ve):m(k,Y):X===void 0?Y=>m(k,$,Y):g(k,$,X)}async function*b(k,$){let X=0;for await(let Y of $)if(yield await Y,X++,X>=k)break}function*A(k,$){let X=0;for(let Y of $)if(yield Y,X++,X>=k)break}function I(k,$){return $===void 0?X=>I(k,X):$[Symbol.asyncIterator]?b(k,$):A(k,$)}async function*p(k,$){for await(let X of $)await k(X),yield X}function B(k,$){return $===void 0?X=>p(k,X):p(k,$)}function ce(k,$){let X=k[0]+$[0],Y=k[1]+$[1];if(Y>=1e9){let ve=Y%1e9;X+=(Y-ve)/1e9,Y=ve}return[X,Y]}async function*R(k,$){let X=$[Symbol.asyncIterator](),Y=[0,0];for(;;){let ve=process.hrtime(),{value:ue,done:ge}=await X.next(),xe=process.hrtime(ve);if(Y=ce(Y,xe),k.progress&&k.progress(xe,Y),ge)return k.total&&k.total(Y),ue;yield ue}}function*fe(k,$){let X=$[Symbol.iterator](),Y=[0,0];for(;;){let ve=process.hrtime(),{value:ue,done:ge}=X.next(),xe=process.hrtime(ve);if(Y=ce(Y,xe),k.progress&&k.progress(xe,Y),ge)return k.total&&k.total(Y),ue;yield ue}}function se(k={},$){return $===void 0?X=>se(k,X):$[Symbol.asyncIterator]!==void 0?R(k,$):fe(k,$)}function U(k,$,X){let Y=n(X),ve=[],ue=[],ge=!1,xe=!1,we=0,Me=null;function pe(){for(;ue.length>0&&ve.length>0;){let{resolve:ie}=ue.shift(),Re=ve.shift();ie({done:!1,value:Re})}for(;ue.length>0&&we===0&&ge;){let{resolve:ie,reject:Re}=ue.shift();Me?(Re(Me),Me=null):ie({done:!0,value:void 0})}}async function be(){if(ge){pe();return}if(!xe&&!(we+ve.length>=k)){xe=!0,we++;try{let{done:ie,value:Re}=await Y.next();ie?(ge=!0,we--,pe()):D(Re)}catch(ie){ge=!0,we--,Me=ie,pe()}xe=!1,be()}}async function D(ie){try{let Re=await $(ie);ve.push(Re)}catch(Re){ge=!0,Me=Re}we--,pe(),be()}async function _e(){if(ve.length===0){let Re=s();return ue.push(Re),be(),Re.promise}let ie=ve.shift();return be(),{done:!1,value:ie}}let de={next:_e,[Symbol.asyncIterator]:()=>de};return de}function Z(k,$,X){return $===void 0?(Y,ve)=>ve?Z(k,Y,ve):Z(k,Y):X===void 0?Y=>Z(k,$,Y):U(k,$,X)}async function j(k,$){let X=null,Y=null,ve=null,ue=Me=>{X=Me,Y&&Y(Me)},ge=()=>{ve&&ve()},xe=()=>{k.removeListener("error",ue),k.removeListener("drain",ge)};k.once("error",ue);let we=()=>new Promise((Me,pe)=>{if(X)return pe(X);k.once("drain",ge),ve=Me,Y=pe});for await(let Me of $)if(k.write(Me)===!1&&await we(),X)break;if(xe(),X)throw X}function J(k,$){return $===void 0?X=>j(k,X):j(k,$)}r.batch=i,r.buffer=f,r.collect=l,r.concat=_,r.consume=C,r.filter=O,r.flatMap=V,r.flatTransform=F,r.flatten=W,r.fromStream=S,r.getIterator=n,r.map=N,r.merge=w,r.parallelFlatMap=d,r.parallelMap=u,r.parallelMerge=y,r.pipeline=T,r.reduce=m,r.take=I,r.tap=B,r.time=se,r.transform=Z,r.writeToStream=J,Object.defineProperty(r,"__esModule",{value:!0})})});var uE=M((BJe,YJ)=>{YJ.exports=function(r){if(!r)throw Error("hashlru must have a max value, of type number, greater than 0");var e=0,t=Object.create(null),i=Object.create(null);function n(s,o){t[s]=o,e++,e>=r&&(e=0,i=t,t=Object.create(null))}return{has:function(s){return t[s]!==void 0||i[s]!==void 0},remove:function(s){t[s]!==void 0&&(t[s]=void 0),i[s]!==void 0&&(i[s]=void 0)},get:function(s){var o=t[s];if(o!==void 0)return o;if((o=i[s])!==void 0)return n(s,o),o},set:function(s,o){t[s]!==void 0?t[s]=o:n(s,o)},clear:function(){t=Object.create(null),i=Object.create(null)}}}});var ZJ=M((MJe,WJ)=>{"use strict";var cTe=uE();WJ.exports=r=>{let e=cTe(r);return e.delete=e.remove,e}});var XJ=M((JJ,rg)=>{(function(r){"use strict";var e,t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,n=Math.floor,s="[BigNumber Error] ",o=s+"Number primitive has more than 15 significant digits: ",a=1e14,f=14,c=9007199254740991,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,x=1e9;function _(V){var z,F,H,K=p.prototype={constructor:p,toString:null,valueOf:null},S=new p(1),w=20,T=4,v=-7,u=21,d=-1e7,y=1e7,g=!1,m=1,b=0,A={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},I="0123456789abcdefghijklmnopqrstuvwxyz";function p(U,Z){var j,J,k,$,X,Y,ve,ue,ge=this;if(!(ge instanceof p))return new p(U,Z);if(Z==null){if(U&&U._isBigNumber===!0){ge.s=U.s,!U.c||U.e>y?ge.c=ge.e=null:U.e<d?ge.c=[ge.e=0]:(ge.e=U.e,ge.c=U.c.slice());return}if((Y=typeof U=="number")&&U*0==0){if(ge.s=1/U<0?(U=-U,-1):1,U===~~U){for($=0,X=U;X>=10;X/=10,$++);$>y?ge.c=ge.e=null:(ge.e=$,ge.c=[U]);return}ue=String(U)}else{if(!t.test(ue=String(U)))return H(ge,ue,Y);ge.s=ue.charCodeAt(0)==45?(ue=ue.slice(1),-1):1}($=ue.indexOf("."))>-1&&(ue=ue.replace(".","")),(X=ue.search(/e/i))>0?($<0&&($=X),$+=+ue.slice(X+1),ue=ue.substring(0,X)):$<0&&($=ue.length)}else{if(O(Z,2,I.length,"Base"),Z==10)return ge=new p(U),fe(ge,w+ge.e+1,T);if(ue=String(U),Y=typeof U=="number"){if(U*0!=0)return H(ge,ue,Y,Z);if(ge.s=1/U<0?(ue=ue.slice(1),-1):1,p.DEBUG&&ue.replace(/^0\.0*|\./,"").length>15)throw Error(o+U)}else ge.s=ue.charCodeAt(0)===45?(ue=ue.slice(1),-1):1;for(j=I.slice(0,Z),$=X=0,ve=ue.length;X<ve;X++)if(j.indexOf(J=ue.charAt(X))<0){if(J=="."){if(X>$){$=ve;continue}}else if(!k&&(ue==ue.toUpperCase()&&(ue=ue.toLowerCase())||ue==ue.toLowerCase()&&(ue=ue.toUpperCase()))){k=!0,X=-1,$=0;continue}return H(ge,String(U),Y,Z)}Y=!1,ue=F(ue,Z,10,ge.s),($=ue.indexOf("."))>-1?ue=ue.replace(".",""):$=ue.length}for(X=0;ue.charCodeAt(X)===48;X++);for(ve=ue.length;ue.charCodeAt(--ve)===48;);if(ue=ue.slice(X,++ve)){if(ve-=X,Y&&p.DEBUG&&ve>15&&(U>c||U!==n(U)))throw Error(o+ge.s*U);if(($=$-X-1)>y)ge.c=ge.e=null;else if($<d)ge.c=[ge.e=0];else{if(ge.e=$,ge.c=[],X=($+1)%f,$<0&&(X+=f),X<ve){for(X&&ge.c.push(+ue.slice(0,X)),ve-=f;X<ve;)ge.c.push(+ue.slice(X,X+=f));X=f-(ue=ue.slice(X)).length}else X-=ve;for(;X--;ue+="0");ge.c.push(+ue)}}else ge.c=[ge.e=0]}p.clone=_,p.ROUND_UP=0,p.ROUND_DOWN=1,p.ROUND_CEIL=2,p.ROUND_FLOOR=3,p.ROUND_HALF_UP=4,p.ROUND_HALF_DOWN=5,p.ROUND_HALF_EVEN=6,p.ROUND_HALF_CEIL=7,p.ROUND_HALF_FLOOR=8,p.EUCLID=9,p.config=p.set=function(U){var Z,j;if(U!=null)if(typeof U=="object"){if(U.hasOwnProperty(Z="DECIMAL_PLACES")&&(j=U[Z],O(j,0,x,Z),w=j),U.hasOwnProperty(Z="ROUNDING_MODE")&&(j=U[Z],O(j,0,8,Z),T=j),U.hasOwnProperty(Z="EXPONENTIAL_AT")&&(j=U[Z],j&&j.pop?(O(j[0],-x,0,Z),O(j[1],0,x,Z),v=j[0],u=j[1]):(O(j,-x,x,Z),v=-(u=j<0?-j:j))),U.hasOwnProperty(Z="RANGE"))if(j=U[Z],j&&j.pop)O(j[0],-x,-1,Z),O(j[1],1,x,Z),d=j[0],y=j[1];else if(O(j,-x,x,Z),j)d=-(y=j<0?-j:j);else throw Error(s+Z+" cannot be zero: "+j);if(U.hasOwnProperty(Z="CRYPTO"))if(j=U[Z],j===!!j)if(j)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))g=j;else throw g=!j,Error(s+"crypto unavailable");else g=j;else throw Error(s+Z+" not true or false: "+j);if(U.hasOwnProperty(Z="MODULO_MODE")&&(j=U[Z],O(j,0,9,Z),m=j),U.hasOwnProperty(Z="POW_PRECISION")&&(j=U[Z],O(j,0,x,Z),b=j),U.hasOwnProperty(Z="FORMAT"))if(j=U[Z],typeof j=="object")A=j;else throw Error(s+Z+" not an object: "+j);if(U.hasOwnProperty(Z="ALPHABET"))if(j=U[Z],typeof j=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(j))I=j;else throw Error(s+Z+" invalid: "+j)}else throw Error(s+"Object expected: "+U);return{DECIMAL_PLACES:w,ROUNDING_MODE:T,EXPONENTIAL_AT:[v,u],RANGE:[d,y],CRYPTO:g,MODULO_MODE:m,POW_PRECISION:b,FORMAT:A,ALPHABET:I}},p.isBigNumber=function(U){if(!U||U._isBigNumber!==!0)return!1;if(!p.DEBUG)return!0;var Z,j,J=U.c,k=U.e,$=U.s;e:if({}.toString.call(J)=="[object Array]"){if(($===1||$===-1)&&k>=-x&&k<=x&&k===n(k)){if(J[0]===0){if(k===0&&J.length===1)return!0;break e}if(Z=(k+1)%f,Z<1&&(Z+=f),String(J[0]).length==Z){for(Z=0;Z<J.length;Z++)if(j=J[Z],j<0||j>=a||j!==n(j))break e;if(j!==0)return!0}}}else if(J===null&&k===null&&($===null||$===1||$===-1))return!0;throw Error(s+"Invalid BigNumber: "+U)},p.maximum=p.max=function(){return ce(arguments,K.lt)},p.minimum=p.min=function(){return ce(arguments,K.gt)},p.random=function(){var U=9007199254740992,Z=Math.random()*U&2097151?function(){return n(Math.random()*U)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(j){var J,k,$,X,Y,ve=0,ue=[],ge=new p(S);if(j==null?j=w:O(j,0,x),X=i(j/f),g)if(crypto.getRandomValues){for(J=crypto.getRandomValues(new Uint32Array(X*=2));ve<X;)Y=J[ve]*131072+(J[ve+1]>>>11),Y>=9e15?(k=crypto.getRandomValues(new Uint32Array(2)),J[ve]=k[0],J[ve+1]=k[1]):(ue.push(Y%1e14),ve+=2);ve=X/2}else if(crypto.randomBytes){for(J=crypto.randomBytes(X*=7);ve<X;)Y=(J[ve]&31)*281474976710656+J[ve+1]*1099511627776+J[ve+2]*4294967296+J[ve+3]*16777216+(J[ve+4]<<16)+(J[ve+5]<<8)+J[ve+6],Y>=9e15?crypto.randomBytes(7).copy(J,ve):(ue.push(Y%1e14),ve+=7);ve=X/7}else throw g=!1,Error(s+"crypto unavailable");if(!g)for(;ve<X;)Y=Z(),Y<9e15&&(ue[ve++]=Y%1e14);for(X=ue[--ve],j%=f,X&&j&&(Y=l[f-j],ue[ve]=n(X/Y)*Y);ue[ve]===0;ue.pop(),ve--);if(ve<0)ue=[$=0];else{for($=-1;ue[0]===0;ue.splice(0,1),$-=f);for(ve=1,Y=ue[0];Y>=10;Y/=10,ve++);ve<f&&($-=f-ve)}return ge.e=$,ge.c=ue,ge}}(),p.sum=function(){for(var U=1,Z=arguments,j=new p(Z[0]);U<Z.length;)j=j.plus(Z[U++]);return j},F=function(){var U="0123456789";function Z(j,J,k,$){for(var X,Y=[0],ve,ue=0,ge=j.length;ue<ge;){for(ve=Y.length;ve--;Y[ve]*=J);for(Y[0]+=$.indexOf(j.charAt(ue++)),X=0;X<Y.length;X++)Y[X]>k-1&&(Y[X+1]==null&&(Y[X+1]=0),Y[X+1]+=Y[X]/k|0,Y[X]%=k)}return Y.reverse()}return function(j,J,k,$,X){var Y,ve,ue,ge,xe,we,Me,pe,be=j.indexOf("."),D=w,_e=T;for(be>=0&&(ge=b,b=0,j=j.replace(".",""),pe=new p(J),we=pe.pow(j.length-be),b=ge,pe.c=Z(N(C(we.c),we.e,"0"),10,k,U),pe.e=pe.c.length),Me=Z(j,J,k,X?(Y=I,U):(Y=U,I)),ue=ge=Me.length;Me[--ge]==0;Me.pop());if(!Me[0])return Y.charAt(0);if(be<0?--ue:(we.c=Me,we.e=ue,we.s=$,we=z(we,pe,D,_e,k),Me=we.c,xe=we.r,ue=we.e),ve=ue+D+1,be=Me[ve],ge=k/2,xe=xe||ve<0||Me[ve+1]!=null,xe=_e<4?(be!=null||xe)&&(_e==0||_e==(we.s<0?3:2)):be>ge||be==ge&&(_e==4||xe||_e==6&&Me[ve-1]&1||_e==(we.s<0?8:7)),ve<1||!Me[0])j=xe?N(Y.charAt(1),-D,Y.charAt(0)):Y.charAt(0);else{if(Me.length=ve,xe)for(--k;++Me[--ve]>k;)Me[ve]=0,ve||(++ue,Me=[1].concat(Me));for(ge=Me.length;!Me[--ge];);for(be=0,j="";be<=ge;j+=Y.charAt(Me[be++]));j=N(j,ue,Y.charAt(0))}return j}}(),z=function(){function U(J,k,$){var X,Y,ve,ue,ge=0,xe=J.length,we=k%h,Me=k/h|0;for(J=J.slice();xe--;)ve=J[xe]%h,ue=J[xe]/h|0,X=Me*ve+ue*we,Y=we*ve+X%h*h+ge,ge=(Y/$|0)+(X/h|0)+Me*ue,J[xe]=Y%$;return ge&&(J=[ge].concat(J)),J}function Z(J,k,$,X){var Y,ve;if($!=X)ve=$>X?1:-1;else for(Y=ve=0;Y<$;Y++)if(J[Y]!=k[Y]){ve=J[Y]>k[Y]?1:-1;break}return ve}function j(J,k,$,X){for(var Y=0;$--;)J[$]-=Y,Y=J[$]<k[$]?1:0,J[$]=Y*X+J[$]-k[$];for(;!J[0]&&J.length>1;J.splice(0,1));}return function(J,k,$,X,Y){var ve,ue,ge,xe,we,Me,pe,be,D,_e,de,ie,Re,Ae,Ce,me,q,le=J.s==k.s?1:-1,ft=J.c,Oe=k.c;if(!ft||!ft[0]||!Oe||!Oe[0])return new p(!J.s||!k.s||(ft?Oe&&ft[0]==Oe[0]:!Oe)?NaN:ft&&ft[0]==0||!Oe?le*0:le/0);for(be=new p(le),D=be.c=[],ue=J.e-k.e,le=$+ue+1,Y||(Y=a,ue=E(J.e/f)-E(k.e/f),le=le/f|0),ge=0;Oe[ge]==(ft[ge]||0);ge++);if(Oe[ge]>(ft[ge]||0)&&ue--,le<0)D.push(1),xe=!0;else{for(Ae=ft.length,me=Oe.length,ge=0,le+=2,we=n(Y/(Oe[0]+1)),we>1&&(Oe=U(Oe,we,Y),ft=U(ft,we,Y),me=Oe.length,Ae=ft.length),Re=me,_e=ft.slice(0,me),de=_e.length;de<me;_e[de++]=0);q=Oe.slice(),q=[0].concat(q),Ce=Oe[0],Oe[1]>=Y/2&&Ce++;do{if(we=0,ve=Z(Oe,_e,me,de),ve<0){if(ie=_e[0],me!=de&&(ie=ie*Y+(_e[1]||0)),we=n(ie/Ce),we>1)for(we>=Y&&(we=Y-1),Me=U(Oe,we,Y),pe=Me.length,de=_e.length;Z(Me,_e,pe,de)==1;)we--,j(Me,me<pe?q:Oe,pe,Y),pe=Me.length,ve=1;else we==0&&(ve=we=1),Me=Oe.slice(),pe=Me.length;if(pe<de&&(Me=[0].concat(Me)),j(_e,Me,de,Y),de=_e.length,ve==-1)for(;Z(Oe,_e,me,de)<1;)we++,j(_e,me<de?q:Oe,de,Y),de=_e.length}else ve===0&&(we++,_e=[0]);D[ge++]=we,_e[0]?_e[de++]=ft[Re]||0:(_e=[ft[Re]],de=1)}while((Re++<Ae||_e[0]!=null)&&le--);xe=_e[0]!=null,D[0]||D.splice(0,1)}if(Y==a){for(ge=1,le=D[0];le>=10;le/=10,ge++);fe(be,$+(be.e=ge+ue*f-1)+1,X,xe)}else be.e=ue,be.r=+xe;return be}}();function B(U,Z,j,J){var k,$,X,Y,ve;if(j==null?j=T:O(j,0,8),!U.c)return U.toString();if(k=U.c[0],X=U.e,Z==null)ve=C(U.c),ve=J==1||J==2&&(X<=v||X>=u)?ee(ve,X):N(ve,X,"0");else if(U=fe(new p(U),Z,j),$=U.e,ve=C(U.c),Y=ve.length,J==1||J==2&&(Z<=$||$<=v)){for(;Y<Z;ve+="0",Y++);ve=ee(ve,$)}else if(Z-=X,ve=N(ve,$,"0"),$+1>Y){if(--Z>0)for(ve+=".";Z--;ve+="0");}else if(Z+=$-Y,Z>0)for($+1==Y&&(ve+=".");Z--;ve+="0");return U.s<0&&k?"-"+ve:ve}function ce(U,Z){for(var j,J=1,k=new p(U[0]);J<U.length;J++)if(j=new p(U[J]),j.s)Z.call(k,j)&&(k=j);else{k=j;break}return k}function R(U,Z,j){for(var J=1,k=Z.length;!Z[--k];Z.pop());for(k=Z[0];k>=10;k/=10,J++);return(j=J+j*f-1)>y?U.c=U.e=null:j<d?U.c=[U.e=0]:(U.e=j,U.c=Z),U}H=function(){var U=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Z=/^([^.]+)\.$/,j=/^\.([^.]+)$/,J=/^-?(Infinity|NaN)$/,k=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function($,X,Y,ve){var ue,ge=Y?X:X.replace(k,"");if(J.test(ge))$.s=isNaN(ge)?null:ge<0?-1:1;else{if(!Y&&(ge=ge.replace(U,function(xe,we,Me){return ue=(Me=Me.toLowerCase())=="x"?16:Me=="b"?2:8,!ve||ve==ue?we:xe}),ve&&(ue=ve,ge=ge.replace(Z,"$1").replace(j,"0.$1")),X!=ge))return new p(ge,ue);if(p.DEBUG)throw Error(s+"Not a"+(ve?" base "+ve:"")+" number: "+X);$.s=null}$.c=$.e=null}}();function fe(U,Z,j,J){var k,$,X,Y,ve,ue,ge,xe=U.c,we=l;if(xe){e:{for(k=1,Y=xe[0];Y>=10;Y/=10,k++);if($=Z-k,$<0)$+=f,X=Z,ve=xe[ue=0],ge=ve/we[k-X-1]%10|0;else if(ue=i(($+1)/f),ue>=xe.length)if(J){for(;xe.length<=ue;xe.push(0));ve=ge=0,k=1,$%=f,X=$-f+1}else break e;else{for(ve=Y=xe[ue],k=1;Y>=10;Y/=10,k++);$%=f,X=$-f+k,ge=X<0?0:ve/we[k-X-1]%10|0}if(J=J||Z<0||xe[ue+1]!=null||(X<0?ve:ve%we[k-X-1]),J=j<4?(ge||J)&&(j==0||j==(U.s<0?3:2)):ge>5||ge==5&&(j==4||J||j==6&&($>0?X>0?ve/we[k-X]:0:xe[ue-1])%10&1||j==(U.s<0?8:7)),Z<1||!xe[0])return xe.length=0,J?(Z-=U.e+1,xe[0]=we[(f-Z%f)%f],U.e=-Z||0):xe[0]=U.e=0,U;if($==0?(xe.length=ue,Y=1,ue--):(xe.length=ue+1,Y=we[f-$],xe[ue]=X>0?n(ve/we[k-X]%we[X])*Y:0),J)for(;;)if(ue==0){for($=1,X=xe[0];X>=10;X/=10,$++);for(X=xe[0]+=Y,Y=1;X>=10;X/=10,Y++);$!=Y&&(U.e++,xe[0]==a&&(xe[0]=1));break}else{if(xe[ue]+=Y,xe[ue]!=a)break;xe[ue--]=0,Y=1}for($=xe.length;xe[--$]===0;xe.pop());}U.e>y?U.c=U.e=null:U.e<d&&(U.c=[U.e=0])}return U}function se(U){var Z,j=U.e;return j===null?U.toString():(Z=C(U.c),Z=j<=v||j>=u?ee(Z,j):N(Z,j,"0"),U.s<0?"-"+Z:Z)}return K.absoluteValue=K.abs=function(){var U=new p(this);return U.s<0&&(U.s=1),U},K.comparedTo=function(U,Z){return L(this,new p(U,Z))},K.decimalPlaces=K.dp=function(U,Z){var j,J,k,$=this;if(U!=null)return O(U,0,x),Z==null?Z=T:O(Z,0,8),fe(new p($),U+$.e+1,Z);if(!(j=$.c))return null;if(J=((k=j.length-1)-E(this.e/f))*f,k=j[k])for(;k%10==0;k/=10,J--);return J<0&&(J=0),J},K.dividedBy=K.div=function(U,Z){return z(this,new p(U,Z),w,T)},K.dividedToIntegerBy=K.idiv=function(U,Z){return z(this,new p(U,Z),0,1)},K.exponentiatedBy=K.pow=function(U,Z){var j,J,k,$,X,Y,ve,ue,ge,xe=this;if(U=new p(U),U.c&&!U.isInteger())throw Error(s+"Exponent not an integer: "+se(U));if(Z!=null&&(Z=new p(Z)),Y=U.e>14,!xe.c||!xe.c[0]||xe.c[0]==1&&!xe.e&&xe.c.length==1||!U.c||!U.c[0])return ge=new p(Math.pow(+se(xe),Y?2-W(U):+se(U))),Z?ge.mod(Z):ge;if(ve=U.s<0,Z){if(Z.c?!Z.c[0]:!Z.s)return new p(NaN);J=!ve&&xe.isInteger()&&Z.isInteger(),J&&(xe=xe.mod(Z))}else{if(U.e>9&&(xe.e>0||xe.e<-1||(xe.e==0?xe.c[0]>1||Y&&xe.c[1]>=24e7:xe.c[0]<8e13||Y&&xe.c[0]<=9999975e7)))return $=xe.s<0&&W(U)?-0:0,xe.e>-1&&($=1/$),new p(ve?1/$:$);b&&($=i(b/f+2))}for(Y?(j=new p(.5),ve&&(U.s=1),ue=W(U)):(k=Math.abs(+se(U)),ue=k%2),ge=new p(S);;){if(ue){if(ge=ge.times(xe),!ge.c)break;$?ge.c.length>$&&(ge.c.length=$):J&&(ge=ge.mod(Z))}if(k){if(k=n(k/2),k===0)break;ue=k%2}else if(U=U.times(j),fe(U,U.e+1,1),U.e>14)ue=W(U);else{if(k=+se(U),k===0)break;ue=k%2}xe=xe.times(xe),$?xe.c&&xe.c.length>$&&(xe.c.length=$):J&&(xe=xe.mod(Z))}return J?ge:(ve&&(ge=S.div(ge)),Z?ge.mod(Z):$?fe(ge,b,T,X):ge)},K.integerValue=function(U){var Z=new p(this);return U==null?U=T:O(U,0,8),fe(Z,Z.e+1,U)},K.isEqualTo=K.eq=function(U,Z){return L(this,new p(U,Z))===0},K.isFinite=function(){return!!this.c},K.isGreaterThan=K.gt=function(U,Z){return L(this,new p(U,Z))>0},K.isGreaterThanOrEqualTo=K.gte=function(U,Z){return(Z=L(this,new p(U,Z)))===1||Z===0},K.isInteger=function(){return!!this.c&&E(this.e/f)>this.c.length-2},K.isLessThan=K.lt=function(U,Z){return L(this,new p(U,Z))<0},K.isLessThanOrEqualTo=K.lte=function(U,Z){return(Z=L(this,new p(U,Z)))===-1||Z===0},K.isNaN=function(){return!this.s},K.isNegative=function(){return this.s<0},K.isPositive=function(){return this.s>0},K.isZero=function(){return!!this.c&&this.c[0]==0},K.minus=function(U,Z){var j,J,k,$,X=this,Y=X.s;if(U=new p(U,Z),Z=U.s,!Y||!Z)return new p(NaN);if(Y!=Z)return U.s=-Z,X.plus(U);var ve=X.e/f,ue=U.e/f,ge=X.c,xe=U.c;if(!ve||!ue){if(!ge||!xe)return ge?(U.s=-Z,U):new p(xe?X:NaN);if(!ge[0]||!xe[0])return xe[0]?(U.s=-Z,U):new p(ge[0]?X:T==3?-0:0)}if(ve=E(ve),ue=E(ue),ge=ge.slice(),Y=ve-ue){for(($=Y<0)?(Y=-Y,k=ge):(ue=ve,k=xe),k.reverse(),Z=Y;Z--;k.push(0));k.reverse()}else for(J=($=(Y=ge.length)<(Z=xe.length))?Y:Z,Y=Z=0;Z<J;Z++)if(ge[Z]!=xe[Z]){$=ge[Z]<xe[Z];break}if($&&(k=ge,ge=xe,xe=k,U.s=-U.s),Z=(J=xe.length)-(j=ge.length),Z>0)for(;Z--;ge[j++]=0);for(Z=a-1;J>Y;){if(ge[--J]<xe[J]){for(j=J;j&&!ge[--j];ge[j]=Z);--ge[j],ge[J]+=a}ge[J]-=xe[J]}for(;ge[0]==0;ge.splice(0,1),--ue);return ge[0]?R(U,ge,ue):(U.s=T==3?-1:1,U.c=[U.e=0],U)},K.modulo=K.mod=function(U,Z){var j,J,k=this;return U=new p(U,Z),!k.c||!U.s||U.c&&!U.c[0]?new p(NaN):!U.c||k.c&&!k.c[0]?new p(k):(m==9?(J=U.s,U.s=1,j=z(k,U,0,3),U.s=J,j.s*=J):j=z(k,U,0,m),U=k.minus(j.times(U)),!U.c[0]&&m==1&&(U.s=k.s),U)},K.multipliedBy=K.times=function(U,Z){var j,J,k,$,X,Y,ve,ue,ge,xe,we,Me,pe,be,D,_e=this,de=_e.c,ie=(U=new p(U,Z)).c;if(!de||!ie||!de[0]||!ie[0])return!_e.s||!U.s||de&&!de[0]&&!ie||ie&&!ie[0]&&!de?U.c=U.e=U.s=null:(U.s*=_e.s,!de||!ie?U.c=U.e=null:(U.c=[0],U.e=0)),U;for(J=E(_e.e/f)+E(U.e/f),U.s*=_e.s,ve=de.length,xe=ie.length,ve<xe&&(pe=de,de=ie,ie=pe,k=ve,ve=xe,xe=k),k=ve+xe,pe=[];k--;pe.push(0));for(be=a,D=h,k=xe;--k>=0;){for(j=0,we=ie[k]%D,Me=ie[k]/D|0,X=ve,$=k+X;$>k;)ue=de[--X]%D,ge=de[X]/D|0,Y=Me*ue+ge*we,ue=we*ue+Y%D*D+pe[$]+j,j=(ue/be|0)+(Y/D|0)+Me*ge,pe[$--]=ue%be;pe[$]=j}return j?++J:pe.splice(0,1),R(U,pe,J)},K.negated=function(){var U=new p(this);return U.s=-U.s||null,U},K.plus=function(U,Z){var j,J=this,k=J.s;if(U=new p(U,Z),Z=U.s,!k||!Z)return new p(NaN);if(k!=Z)return U.s=-Z,J.minus(U);var $=J.e/f,X=U.e/f,Y=J.c,ve=U.c;if(!$||!X){if(!Y||!ve)return new p(k/0);if(!Y[0]||!ve[0])return ve[0]?U:new p(Y[0]?J:k*0)}if($=E($),X=E(X),Y=Y.slice(),k=$-X){for(k>0?(X=$,j=ve):(k=-k,j=Y),j.reverse();k--;j.push(0));j.reverse()}for(k=Y.length,Z=ve.length,k-Z<0&&(j=ve,ve=Y,Y=j,Z=k),k=0;Z;)k=(Y[--Z]=Y[Z]+ve[Z]+k)/a|0,Y[Z]=a===Y[Z]?0:Y[Z]%a;return k&&(Y=[k].concat(Y),++X),R(U,Y,X)},K.precision=K.sd=function(U,Z){var j,J,k,$=this;if(U!=null&&U!==!!U)return O(U,1,x),Z==null?Z=T:O(Z,0,8),fe(new p($),U,Z);if(!(j=$.c))return null;if(k=j.length-1,J=k*f+1,k=j[k]){for(;k%10==0;k/=10,J--);for(k=j[0];k>=10;k/=10,J++);}return U&&$.e+1>J&&(J=$.e+1),J},K.shiftedBy=function(U){return O(U,-c,c),this.times("1e"+U)},K.squareRoot=K.sqrt=function(){var U,Z,j,J,k,$=this,X=$.c,Y=$.s,ve=$.e,ue=w+4,ge=new p("0.5");if(Y!==1||!X||!X[0])return new p(!Y||Y<0&&(!X||X[0])?NaN:X?$:1/0);if(Y=Math.sqrt(+se($)),Y==0||Y==1/0?(Z=C(X),(Z.length+ve)%2==0&&(Z+="0"),Y=Math.sqrt(+Z),ve=E((ve+1)/2)-(ve<0||ve%2),Y==1/0?Z="5e"+ve:(Z=Y.toExponential(),Z=Z.slice(0,Z.indexOf("e")+1)+ve),j=new p(Z)):j=new p(Y+""),j.c[0]){for(ve=j.e,Y=ve+ue,Y<3&&(Y=0);;)if(k=j,j=ge.times(k.plus(z($,k,ue,1))),C(k.c).slice(0,Y)===(Z=C(j.c)).slice(0,Y))if(j.e<ve&&--Y,Z=Z.slice(Y-3,Y+1),Z=="9999"||!J&&Z=="4999"){if(!J&&(fe(k,k.e+w+2,0),k.times(k).eq($))){j=k;break}ue+=4,Y+=4,J=1}else{(!+Z||!+Z.slice(1)&&Z.charAt(0)=="5")&&(fe(j,j.e+w+2,1),U=!j.times(j).eq($));break}}return fe(j,j.e+w+1,T,U)},K.toExponential=function(U,Z){return U!=null&&(O(U,0,x),U++),B(this,U,Z,1)},K.toFixed=function(U,Z){return U!=null&&(O(U,0,x),U=U+this.e+1),B(this,U,Z)},K.toFormat=function(U,Z,j){var J,k=this;if(j==null)U!=null&&Z&&typeof Z=="object"?(j=Z,Z=null):U&&typeof U=="object"?(j=U,U=Z=null):j=A;else if(typeof j!="object")throw Error(s+"Argument not an object: "+j);if(J=k.toFixed(U,Z),k.c){var $,X=J.split("."),Y=+j.groupSize,ve=+j.secondaryGroupSize,ue=j.groupSeparator||"",ge=X[0],xe=X[1],we=k.s<0,Me=we?ge.slice(1):ge,pe=Me.length;if(ve&&($=Y,Y=ve,ve=$,pe-=$),Y>0&&pe>0){for($=pe%Y||Y,ge=Me.substr(0,$);$<pe;$+=Y)ge+=ue+Me.substr($,Y);ve>0&&(ge+=ue+Me.slice($)),we&&(ge="-"+ge)}J=xe?ge+(j.decimalSeparator||"")+((ve=+j.fractionGroupSize)?xe.replace(new RegExp("\\d{"+ve+"}\\B","g"),"$&"+(j.fractionGroupSeparator||"")):xe):ge}return(j.prefix||"")+J+(j.suffix||"")},K.toFraction=function(U){var Z,j,J,k,$,X,Y,ve,ue,ge,xe,we,Me=this,pe=Me.c;if(U!=null&&(Y=new p(U),!Y.isInteger()&&(Y.c||Y.s!==1)||Y.lt(S)))throw Error(s+"Argument "+(Y.isInteger()?"out of range: ":"not an integer: ")+se(Y));if(!pe)return new p(Me);for(Z=new p(S),ue=j=new p(S),J=ve=new p(S),we=C(pe),$=Z.e=we.length-Me.e-1,Z.c[0]=l[(X=$%f)<0?f+X:X],U=!U||Y.comparedTo(Z)>0?$>0?Z:ue:Y,X=y,y=1/0,Y=new p(we),ve.c[0]=0;ge=z(Y,Z,0,1),k=j.plus(ge.times(J)),k.comparedTo(U)!=1;)j=J,J=k,ue=ve.plus(ge.times(k=ue)),ve=k,Z=Y.minus(ge.times(k=Z)),Y=k;return k=z(U.minus(j),J,0,1),ve=ve.plus(k.times(ue)),j=j.plus(k.times(J)),ve.s=ue.s=Me.s,$=$*2,xe=z(ue,J,$,T).minus(Me).abs().comparedTo(z(ve,j,$,T).minus(Me).abs())<1?[ue,J]:[ve,j],y=X,xe},K.toNumber=function(){return+se(this)},K.toPrecision=function(U,Z){return U!=null&&O(U,1,x),B(this,U,Z,2)},K.toString=function(U){var Z,j=this,J=j.s,k=j.e;return k===null?J?(Z="Infinity",J<0&&(Z="-"+Z)):Z="NaN":(U==null?Z=k<=v||k>=u?ee(C(j.c),k):N(C(j.c),k,"0"):U===10?(j=fe(new p(j),w+k+1,T),Z=N(C(j.c),j.e,"0")):(O(U,2,I.length,"Base"),Z=F(N(C(j.c),k,"0"),10,U,J,!0)),J<0&&j.c[0]&&(Z="-"+Z)),Z},K.valueOf=K.toJSON=function(){return se(this)},K._isBigNumber=!0,V!=null&&p.set(V),p}function E(V){var z=V|0;return V>0||V===z?z:z-1}function C(V){for(var z,F,H=1,K=V.length,S=V[0]+"";H<K;){for(z=V[H++]+"",F=f-z.length;F--;z="0"+z);S+=z}for(K=S.length;S.charCodeAt(--K)===48;);return S.slice(0,K+1||1)}function L(V,z){var F,H,K=V.c,S=z.c,w=V.s,T=z.s,v=V.e,u=z.e;if(!w||!T)return null;if(F=K&&!K[0],H=S&&!S[0],F||H)return F?H?0:-T:w;if(w!=T)return w;if(F=w<0,H=v==u,!K||!S)return H?0:!K^F?1:-1;if(!H)return v>u^F?1:-1;for(T=(v=K.length)<(u=S.length)?v:u,w=0;w<T;w++)if(K[w]!=S[w])return K[w]>S[w]^F?1:-1;return v==u?0:v>u^F?1:-1}function O(V,z,F,H){if(V<z||V>F||V!==n(V))throw Error(s+(H||"Argument")+(typeof V=="number"?V<z||V>F?" out of range: ":" not an integer: ":" not a primitive number: ")+String(V))}function W(V){var z=V.c.length-1;return E(V.e/f)==z&&V.c[z]%2!=0}function ee(V,z){return(V.length>1?V.charAt(0)+"."+V.slice(1):V)+(z<0?"e":"e+")+z}function N(V,z,F){var H,K;if(z<0){for(K=F+".";++z;K+=F);V=K+V}else if(H=V.length,++z>H){for(K=F,z-=H;--z;K+=F);V+=K}else z<H&&(V=V.slice(0,z)+"."+V.slice(z));return V}e=_(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof rg!="undefined"&&rg.exports?rg.exports=e:(r||(r=typeof self!="undefined"&&self?self:window),r.BigNumber=e)})(JJ)});var tX=M((QJ,eX)=>{"use strict";var uTe=Math.exp;QJ=eX.exports=function(e){if(typeof e!="number")throw new Error("must provide a timespan to the moving average constructor");if(e<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let t,i=0,n=0,s=0,o,a={};function f(c,l){return 1-uTe(-(c-l)/e)}return a.push=function(l,h){if(o){let x=f(l,o),_=h-t,E=x*_;t=x*h+(1-x)*t,i=(1-x)*(i+_*E),n=Math.sqrt(i),s=t+x*_}else t=h;o=l},a.movingAverage=function(){return t},a.variance=function(){return i},a.deviation=function(){return n},a.forecast=function(){return s},a}});var sX=M((RJe,nX)=>{"use strict";var lTe=Wn(),{BigNumber:ig}=XJ(),rX=tX(),dTe=Q7(),iX=class extends lTe{constructor(e,t){super();this._options=t,this._queue=[],this._stats={dataReceived:ig(0),dataSent:ig(0)},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this);let i=this._options.movingAverageIntervals;for(let n=0;n<e.length;n++){let s=e[n];this._stats[s]=ig(0),this._movingAverages[s]={};for(let o=0;o<i.length;o++){let a=i[o];(this._movingAverages[s][a]=rX(a)).push(this._frequencyLastTime,0)}}}start(){this._queue.length&&this._resetComputeTimeout()}stop(){this._timeout&&(this._timeout.clear(),this._timeout=null)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}toJSON(){let e=this.snapshot,t=this.movingAverages,i={dataReceived:e.dataReceived.toString(),dataSent:e.dataSent.toString(),movingAverages:{}},n=Object.keys(t);for(let s of n){i.movingAverages[s]={};for(let o of Object.keys(t[s]))i.movingAverages[s][o]=t[s][o].movingAverage()}return i}push(e,t){this._queue.push([e,t,Date.now()]),this._resetComputeTimeout()}_resetComputeTimeout(){this._timeout=dTe(this._update,this._nextTimeout())}_nextTimeout(){let e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(e of this._queue)this._applyOp(e);this._queue=[],this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){let t=e-this._frequencyLastTime;Object.keys(this._stats).forEach(i=>{this._updateFrequencyFor(i,t,e)}),this._frequencyLastTime=e}_updateFrequencyFor(e,t,i){let n=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;let o=n/(t||1)*1e3,a=this._movingAverages[e];a||(a=this._movingAverages[e]={});let f=this._options.movingAverageIntervals;for(let c=0;c<f.length;c++){let l=f[c],h=a[l];h||(h=a[l]=rX(l)),h.push(i,o)}}_applyOp(e){let t=e[0],i=e[1];if(typeof i!="number")throw new Error(`invalid increment number: ${i}`);let n;Object.prototype.hasOwnProperty.call(this._stats,t)?n=this._stats[t]:n=this._stats[t]=ig(0),this._stats[t]=n.plus(i),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=i}};nX.exports=iX});var fX=M((NJe,aX)=>{"use strict";var hTe=yb(),{pipe:pTe}=ys(),{tap:oX}=Ob(),bTe=ZJ(),{METRICS:yTe}=E3(),lE=sX(),dE=["dataReceived","dataSent"],mTe={in:"dataReceived",out:"dataSent"},ng=class{constructor(e){this._options=hTe(yTe,e),this._globalStats=new lE(dE,this._options),this._peerStats=new Map,this._protocolStats=new Map,this._oldPeers=bTe(this._options.maxOldPeersRetention),this._running=!1,this._onMessage=this._onMessage.bind(this),this._connectionManager=e.connectionManager,this._connectionManager.on("peer:disconnect",t=>{this.onPeerDisconnected(t.remotePeer)})}start(){this._running=!0}stop(){this._running=!1,this._globalStats.stop();for(let e of this._peerStats.values())e.stop();for(let e of this._protocolStats.values())e.stop()}get global(){return this._globalStats}get peers(){return Array.from(this._peerStats.keys())}forPeer(e){let t=e.toB58String();return this._peerStats.get(t)||this._oldPeers.get(t)}get protocols(){return Array.from(this._protocolStats.keys())}forProtocol(e){return this._protocolStats.get(e)}onPeerDisconnected(e){let t=e.toB58String(),i=this._peerStats.get(t);i&&(i.stop(),this._peerStats.delete(t),this._oldPeers.set(t,i))}_onMessage({remotePeer:e,protocol:t,direction:i,dataLength:n}){if(!this._running)return;let s=mTe[i],o=this.forPeer(e);if(o||(o=new lE(dE,this._options),this._peerStats.set(e.toB58String(),o)),o.push(s,n),this._globalStats.push(s,n),t){let a=this.forProtocol(t);a||(a=new lE(dE,this._options),this._protocolStats.set(t,a)),a.push(s,n)}}updatePlaceholder(e,t){if(!this._running)return;let i=this.forPeer(e),n=t.toB58String(),s=this.forPeer(t),o=i;s&&(o=ng.mergeStats(s,o),this._oldPeers.delete(n)),this._peerStats.delete(e.toB58String()),this._peerStats.set(n,o),o.start()}trackStream({stream:e,remotePeer:t,protocol:i}){let n=this,s=e.source;e.source=oX(a=>n._onMessage({remotePeer:t,protocol:i,direction:"in",dataLength:a.length}))(s);let o=e.sink;return e.sink=a=>pTe(a,oX(f=>n._onMessage({remotePeer:t,protocol:i,direction:"out",dataLength:f.length})),o),e}static mergeStats(e,t){return e.stop(),t.stop(),e._queue=[...e._queue,...t._queue],e}};aX.exports=ng});var sg=M(El=>{"use strict";var cX=Rf(),uX=Nf(),gTe=ys(),vTe=Ht(),xTe=Ai(),wTe=y3(),lX=xTe(`
`);El.encode=r=>uX.encode.single(new cX([r,lX]));El.write=(r,e)=>r.push(El.encode(e));El.writeAll=(r,e)=>{r.push(e.reduce((t,i)=>t.append(El.encode(i)),new cX))};El.read=async r=>{let e=1,t={[Symbol.asyncIterator](){return this},next:()=>r.next(e)},i=s=>{e=s},n=await gTe(t,uX.decode({onLength:i}),wTe);if(n.get(n.length-1)!==lX[0])throw vTe(new Error("missing newline"),"ERR_INVALID_MULTISTREAM_SELECT_MESSAGE");return n.shallowSlice(0,-1)}});var hX=M((qJe,dX)=>{"use strict";var v1=sr()("mss:select"),_Te=Ht(),x1=sg(),ETe=i1();dX.exports=async(r,e,t)=>{e=Array.isArray(e)?[...e]:[e];let{reader:i,writer:n,rest:s,stream:o}=ETe(r),a=e.shift();t?(v1('select: write ["%s", "%s"]',t,a),x1.writeAll(n,[t,a])):(v1('select: write "%s"',a),x1.write(n,a));let f=(await x1.read(i)).toString();if(v1('select: read "%s"',f),f===t&&(f=(await x1.read(i)).toString(),v1('select: read "%s"',f)),f===a)return s(),{stream:o,protocol:a};for(let c of e){v1('select: write "%s"',c),x1.write(n,c);let l=(await x1.read(i)).toString();if(v1('select: read "%s" for "%s"',l,c),l===c)return s(),{stream:o,protocol:c}}throw s(),_Te(new Error("protocol selection failed"),"ERR_UNSUPPORTED_PROTOCOL")}});var hE=M(pX=>{"use strict";pX.PROTOCOL_ID="/multistream/1.0.0"});var yX=M((DJe,bX)=>{"use strict";var Db=sr()("mss:handle"),STe=Rf(),w1=sg(),ATe=i1(),{PROTOCOL_ID:pE}=hE();bX.exports=async(r,e)=>{e=Array.isArray(e)?e:[e];let{writer:t,reader:i,rest:n,stream:s}=ATe(r);for(;;){let o=(await w1.read(i)).toString();if(Db('read "%s"',o),o===pE){Db('respond with "%s" for "%s"',pE,o),w1.write(t,pE);continue}if(e.includes(o))return w1.write(t,o),Db('respond with "%s" for "%s"',o,o),n(),{stream:s,protocol:o};if(o==="ls"){w1.write(t,new STe(e.map(a=>w1.encode(a)))),Db('respond with "%s" for %s',e,o);continue}w1.write(t,"na"),Db('respond with "na" for "%s"',o)}}});var vX=M((LJe,gX)=>{"use strict";var ITe=R_(),TTe=sr()("it-multistream-select:ls"),mX=sg(),kTe=i1(),CTe=Nf(),BTe=ys();gX.exports=async r=>{let{reader:e,writer:t,rest:i,stream:n}=kTe(r);TTe('write "ls"'),mX.write(t,"ls"),i();let s=await mX.read(e),o=ITe([s]),a=[];return await BTe(o,CTe.decode(),async f=>{for await(let c of f)a.push(c.shallowSlice(0,-1).toString())}),{stream:n,protocols:a}}});var EX=M(og=>{"use strict";var xX=hX(),MTe=yX(),RTe=vX(),{PROTOCOL_ID:bE}=hE();og.PROTOCOL_ID=bE;var yE=class{constructor(e){this._stream=e,this._shaken=!1}async _handshake(){if(this._shaken)return;let{stream:e}=await xX(this._stream,bE);this._stream=e,this._shaken=!0}},wX=class extends yE{select(e){return xX(this._stream,e,this._shaken?null:bE)}async ls(){await this._handshake();let{stream:e,protocols:t}=await RTe(this._stream);return this._stream=e,t}};og.Dialer=wX;var _X=class extends yE{handle(e){return MTe(this._stream,e)}};og.Listener=_X});var AX=M((FJe,SX)=>{"use strict";var NTe={OPEN:"open",CLOSING:"closing",CLOSED:"closed"};SX.exports=NTe});var MX=M((KJe,BX)=>{"use strict";var IX=Gr(),{Multiaddr:PTe}=zi(),ao=Ht(),{OPEN:qTe,CLOSING:TX,CLOSED:mE}=AX(),kX=Symbol.for("@libp2p/interface-connection/connection"),CX=class{constructor({localAddr:e,remoteAddr:t,localPeer:i,remotePeer:n,newStream:s,close:o,getStreams:a,stat:f}){OTe(e,i,n,s,o,a,f),this.id=parseInt(String(Math.random()*1e9)).toString(36)+Date.now(),this.localAddr=e,this.remoteAddr=t,this.localPeer=i,this.remotePeer=n,this._stat={...f,status:qTe},this._newStream=s,this._close=o,this._getStreams=a,this.registry=new Map,this.tags=[]}get[Symbol.toStringTag](){return"Connection"}get[kX](){return!0}static isConnection(e){return Boolean(e&&e[kX])}get stat(){return this._stat}get streams(){return this._getStreams()}async newStream(e){if(this.stat.status===TX)throw ao(new Error("the connection is being closed"),"ERR_CONNECTION_BEING_CLOSED");if(this.stat.status===mE)throw ao(new Error("the connection is closed"),"ERR_CONNECTION_CLOSED");Array.isArray(e)||(e=[e]);let{stream:t,protocol:i}=await this._newStream(e);return this.addStream(t,{protocol:i}),{stream:t,protocol:i}}addStream(e,{protocol:t,metadata:i={}}){this.registry.set(e.id,{protocol:t,...i})}removeStream(e){this.registry.delete(e)}async close(){if(this.stat.status!==mE){if(this._closing)return this._closing;this.stat.status=TX,this._closing=await this._close(),this._stat.timeline.close=Date.now(),this.stat.status=mE}}};BX.exports=CX;function OTe(r,e,t,i,n,s,o){if(r&&!PTe.isMultiaddr(r))throw ao(new Error("localAddr must be an instance of multiaddr"),"ERR_INVALID_PARAMETERS");if(!IX.isPeerId(e))throw ao(new Error("localPeer must be an instance of peer-id"),"ERR_INVALID_PARAMETERS");if(!IX.isPeerId(t))throw ao(new Error("remotePeer must be an instance of peer-id"),"ERR_INVALID_PARAMETERS");if(typeof i!="function")throw ao(new Error("new stream must be a function"),"ERR_INVALID_PARAMETERS");if(typeof n!="function")throw ao(new Error("close must be a function"),"ERR_INVALID_PARAMETERS");if(typeof s!="function")throw ao(new Error("getStreams must be a function"),"ERR_INVALID_PARAMETERS");if(!o)throw ao(new Error("connection metadata object must be provided"),"ERR_INVALID_PARAMETERS");if(o.direction!=="inbound"&&o.direction!=="outbound")throw ao(new Error('direction must be "inbound" or "outbound"'),"ERR_INVALID_PARAMETERS");if(!o.timeline)throw ao(new Error("connection timeline object must be provided in the stat object"),"ERR_INVALID_PARAMETERS");if(!o.timeline.open)throw ao(new Error("connection open timestamp must be provided"),"ERR_INVALID_PARAMETERS");if(!o.timeline.upgraded)throw ao(new Error("connection upgraded timestamp must be provided"),"ERR_INVALID_PARAMETERS")}});var NX=M(RX=>{"use strict";RX.Connection=MX()});var qX=M((jJe,PX)=>{"use strict";function DTe(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}PX.exports=function(e){var t=void 0,i=void 0;function n(a){if(!(a instanceof Object))throw new Error('Target "'+a+'" is not an object');i=a}function s(a){Object.keys(a).forEach(function(f){var c=a[f];if(typeof c!="function")throw new Error('Trap "'+f+": "+c+'" is not a function');if(!Reflect[f])throw new Error('Trap "'+f+": "+c+'" is not a valid trap')}),t=a}n(function(){}),e&&n(e),s(Reflect);var o=new Proxy({},{get:function(f,c){return function(){for(var l=arguments.length,h=Array(l),x=0;x<l;x++)h[x]=arguments[x];return t[c].apply(null,[i].concat(DTe(h.slice(1))))}}});return{setTarget:n,setHandler:s,getTarget:function(){return i},getHandler:function(){return t},proxy:new Proxy(i,o)}}});var FX=M((VJe,UX)=>{"use strict";var OX=sr(),on=Object.assign(OX("libp2p:upgrader"),{error:OX("libp2p:upgrader:err")}),_1=Ht(),E1=EX(),{Connection:LTe}=NX(),UTe=Gr(),{pipe:FTe}=ys(),DX=qX(),{codes:Lb}=Ji(),LX=class{constructor({localPeer:e,metrics:t,cryptos:i=new Map,muxers:n=new Map,onConnectionEnd:s=()=>{},onConnection:o=()=>{}}){this.localPeer=e,this.metrics=t,this.cryptos=i,this.muxers=n,this.protector=null,this.protocols=new Map,this.onConnection=o,this.onConnectionEnd=s}async upgradeInbound(e){let t,i,n,s,o,a,f;if(this.metrics){({setTarget:a,proxy:f}=DX());let l=(Math.random()*1e9).toString(36)+Date.now();a({toB58String:()=>l}),e=this.metrics.trackStream({stream:e,remotePeer:f})}on("Starting the inbound connection upgrade");let c=e;this.protector&&(c=await this.protector.protect(e));try{({conn:t,remotePeer:i,protocol:o}=await this._encryptInbound(this.localPeer,c,this.cryptos)),this.muxers.size?{stream:n,Muxer:s}=await this._multiplexInbound(t,this.muxers):n=t}catch(l){throw on.error("Failed to upgrade inbound connection",l),await e.close(l),l}return this.metrics&&(this.metrics.updatePlaceholder(f,i),a(i)),on("Successfully upgraded inbound connection"),this._createConnection({cryptoProtocol:o,direction:"inbound",maConn:e,upgradedConn:n,Muxer:s,remotePeer:i})}async upgradeOutbound(e){let t=UTe.createFromB58String(e.remoteAddr.getPeerId()),i,n,s,o,a,f,c;if(this.metrics){({setTarget:f,proxy:c}=DX());let h=(Math.random()*1e9).toString(36)+Date.now();f({toB58String:()=>h}),e=this.metrics.trackStream({stream:e,remotePeer:c})}on("Starting the outbound connection upgrade");let l=e;this.protector&&(l=await this.protector.protect(e));try{({conn:i,remotePeer:n,protocol:o}=await this._encryptOutbound(this.localPeer,l,t,this.cryptos)),this.muxers.size?{stream:s,Muxer:a}=await this._multiplexOutbound(i,this.muxers):s=i}catch(h){throw on.error("Failed to upgrade outbound connection",h),await e.close(h),h}return this.metrics&&(this.metrics.updatePlaceholder(c,n),f(n)),on("Successfully upgraded outbound connection"),this._createConnection({cryptoProtocol:o,direction:"outbound",maConn:e,upgradedConn:s,Muxer:a,remotePeer:n})}_createConnection({cryptoProtocol:e,direction:t,maConn:i,upgradedConn:n,Muxer:s,remotePeer:o}){let a,f,c;s&&(a=new s({onStream:async x=>{if(!c)return;let _=new E1.Listener(x);try{let{stream:E,protocol:C}=await _.handle(Array.from(this.protocols.keys()));on("%s: incoming stream opened on %s",t,C),this.metrics&&this.metrics.trackStream({stream:E,remotePeer:o,protocol:C}),c.addStream(x,{protocol:C}),this._onStream({connection:c,stream:{...x,...E},protocol:C})}catch(E){on.error(E)}},onStreamEnd:x=>{c.removeStream(x.id)}}),f=async x=>{on("%s: starting new stream on %s",t,x);let _=a.newStream(),E=new E1.Dialer(_);try{let{stream:C,protocol:L}=await E.select(x);return this.metrics&&this.metrics.trackStream({stream:C,remotePeer:o,protocol:L}),{stream:{..._,...C},protocol:L}}catch(C){throw on.error("could not create new stream",C),_1(C,Lb.ERR_UNSUPPORTED_PROTOCOL)}},FTe(n,a,n).catch(on.error));let l=i.timeline;i.timeline=new Proxy(l,{set:(...x)=>(c&&x[1]==="close"&&x[2]&&!l.close&&(async()=>{try{c.stat.status==="open"&&await c.close()}catch(_){on.error(_)}finally{this.onConnectionEnd(c)}})(),Reflect.set(...x))}),i.timeline.upgraded=Date.now();let h=()=>{throw _1(new Error("connection is not multiplexed"),"ERR_CONNECTION_NOT_MULTIPLEXED")};return c=new LTe({localAddr:i.localAddr,remoteAddr:i.remoteAddr,localPeer:this.localPeer,remotePeer:o,stat:{direction:t,timeline:i.timeline,multiplexer:s&&s.multicodec,encryption:e},newStream:f||h,getStreams:()=>a?a.streams:h(),close:async()=>{await i.close(),a&&a.streams.map(x=>x.abort())}}),this.onConnection(c),c}_onStream({connection:e,stream:t,protocol:i}){this.protocols.get(i)({connection:e,stream:t,protocol:i})}async _encryptInbound(e,t,i){let n=new E1.Listener(t),s=Array.from(i.keys());on("handling inbound crypto protocol selection",s);try{let{stream:o,protocol:a}=await n.handle(s),f=i.get(a);if(on("encrypting inbound connection..."),!f)throw new Error(`no crypto module found for ${a}`);return{...await f.secureInbound(e,o),protocol:a}}catch(o){throw _1(o,Lb.ERR_ENCRYPTION_FAILED)}}async _encryptOutbound(e,t,i,n){let s=new E1.Dialer(t),o=Array.from(n.keys());on("selecting outbound crypto protocol",o);try{let{stream:a,protocol:f}=await s.select(o),c=n.get(f);if(on("encrypting outbound connection to %j",i),!c)throw new Error(`no crypto module found for ${f}`);return{...await c.secureOutbound(e,a,i),protocol:f}}catch(a){throw _1(a,Lb.ERR_ENCRYPTION_FAILED)}}async _multiplexOutbound(e,t){let i=new E1.Dialer(e),n=Array.from(t.keys());on("outbound selecting muxer %s",n);try{let{stream:s,protocol:o}=await i.select(n);on("%s selected as muxer protocol",o);let a=t.get(o);return{stream:s,Muxer:a}}catch(s){throw _1(s,Lb.ERR_MUXER_UNAVAILABLE)}}async _multiplexInbound(e,t){let i=new E1.Listener(e),n=Array.from(t.keys());on("inbound handling muxers %s",n);try{let{stream:s,protocol:o}=await i.handle(n),a=t.get(o);return{stream:s,Muxer:a}}catch(s){throw _1(s,Lb.ERR_MUXER_UNAVAILABLE)}}};UX.exports=LX});var Ub=M((HJe,VX)=>{"use strict";var gE=Ht(),KX=Gr(),{codes:{ERR_INVALID_PARAMETERS:zX}}=Ji(),KTe=r=>r,jX=class{constructor({peerStore:e,eventName:t,eventProperty:i,eventTransformer:n=KTe}){this._ps=e,this.eventName=t,this.eventProperty=i,this.eventTransformer=n,this.data=new Map}set(e,t){throw gE(new Error("set must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}_setData(e,t,{emit:i=!0}={}){let n=e.toB58String();this.data.set(n,t),i&&this._emit(e,t)}_emit(e,t){this._ps.emit(this.eventName,{peerId:e,[this.eventProperty]:this.eventTransformer(t)})}get(e){if(!KX.isPeerId(e))throw gE(new Error("peerId must be an instance of peer-id"),zX);let t=this.data.get(e.toB58String());return t?[...t]:void 0}delete(e){if(!KX.isPeerId(e))throw gE(new Error("peerId must be an instance of peer-id"),zX);return this.data.delete(e.toB58String())?(this._emit(e,[]),!0):!1}};VX.exports=jX});var YX=M(($Je,GX)=>{"use strict";var HX=sr(),Pa=Object.assign(HX("libp2p:peer-store:address-book"),{error:HX("libp2p:peer-store:address-book:err")}),S1=Ht(),{Multiaddr:zTe}=zi(),ag=Gr(),jTe=Ub(),VTe=k3(),{codes:{ERR_INVALID_PARAMETERS:A1}}=Ji(),HTe=I3(),$X=class extends jTe{constructor(e){super({peerStore:e,eventName:"change:multiaddrs",eventProperty:"multiaddrs",eventTransformer:t=>t.addresses?t.addresses.map(i=>i.multiaddr):[]});this.data=new Map}consumePeerRecord(e){let t;try{t=VTe.createFromProtobuf(e.payload)}catch(f){return Pa.error("invalid peer record received"),!1}if(!t.peerId.equals(e.peerId))return Pa("signing key does not match PeerId in the PeerRecord"),!1;if(!t.multiaddrs||!t.multiaddrs.length)return!1;let i=t.peerId,n=i.toB58String(),o=(this.data.get(n)||{record:void 0}).record;if(o&&o.seqNumber>=t.seqNumber)return!1;let a=this._toAddresses(t.multiaddrs,!0);return this._setData(i,{addresses:a,record:{raw:e.marshal(),seqNumber:t.seqNumber}}),Pa(`stored provided peer record for ${n}`),!0}getRawEnvelope(e){let t=this.data.get(e.toB58String());if(!(!t||!t.record||!t.record.raw))return t.record.raw}getPeerRecord(e){let t=this.getRawEnvelope(e);if(!!t)return HTe.createFromProtobuf(t)}set(e,t){if(!ag.isPeerId(e))throw Pa.error("peerId must be an instance of peer-id to store data"),S1(new Error("peerId must be an instance of peer-id"),A1);let i=this._toAddresses(t);if(!i.length)return this;let n=e.toB58String(),s=this.data.get(n);return s&&s.addresses&&s.addresses.length===i.length&&s.addresses.filter(a=>i.some(f=>a.multiaddr.equals(f.multiaddr))).length===s.addresses.length?(Pa(`the addresses provided to store are equal to the already stored for ${n}`),this):(this._setData(e,{addresses:i,record:s&&s.record}),Pa(`stored provided multiaddrs for ${n}`),s||this._ps.emit("peer",e),this)}add(e,t){if(!ag.isPeerId(e))throw Pa.error("peerId must be an instance of peer-id to store data"),S1(new Error("peerId must be an instance of peer-id"),A1);let i=this._toAddresses(t),n=e.toB58String();if(!i.length)return this;let s=this.data.get(n);return s&&s.addresses&&(s.addresses.forEach(o=>{i.find(a=>a.multiaddr.equals(o.multiaddr))||i.push(o)}),s.addresses.length===i.length)?(Pa(`the addresses provided to store are already stored for ${n}`),this):(this._setData(e,{addresses:i,record:s&&s.record}),Pa(`added provided multiaddrs for ${n}`),s&&s.addresses||this._ps.emit("peer",e),this)}get(e){if(!ag.isPeerId(e))throw S1(new Error("peerId must be an instance of peer-id"),A1);let t=this.data.get(e.toB58String());return t&&t.addresses?[...t.addresses]:void 0}_toAddresses(e,t=!1){if(!e)throw Pa.error("multiaddrs must be provided to store data"),S1(new Error("multiaddrs must be provided"),A1);let i=[];return e.forEach(n=>{if(!zTe.isMultiaddr(n))throw Pa.error(`multiaddr ${n} must be an instance of multiaddr`),S1(new Error(`multiaddr ${n} must be an instance of multiaddr`),A1);i.find(s=>s.multiaddr.equals(n))||i.push({multiaddr:n,isCertified:t})}),i}getMultiaddrsForPeer(e,t=i=>i){if(!ag.isPeerId(e))throw S1(new Error("peerId must be an instance of peer-id"),A1);let i=this.data.get(e.toB58String());if(!(!i||!i.addresses))return t(i.addresses||[]).map(n=>{let s=n.multiaddr,o=s.getPeerId();return o&&o===e.toB58String()?s:s.encapsulate(`/p2p/${e.toB58String()}`)})}};GX.exports=$X});var rQ=M((GJe,tQ)=>{"use strict";var WX=sr(),ZX=Object.assign(WX("libp2p:peer-store:key-book"),{error:WX("libp2p:peer-store:key-book:err")}),JX=Ht(),XX=Gr(),$Te=Ub(),{codes:{ERR_INVALID_PARAMETERS:QX}}=Ji(),eQ=class extends $Te{constructor(e){super({peerStore:e,eventName:"change:pubkey",eventProperty:"pubkey",eventTransformer:t=>t.pubKey});this.data=new Map}set(e,t){if(!XX.isPeerId(e))throw ZX.error("peerId must be an instance of peer-id to store data"),JX(new Error("peerId must be an instance of peer-id"),QX);let i=e.toB58String();return!this.data.get(i)&&t&&(e.pubKey=t,this._setData(e,e),ZX(`stored provided public key for ${i}`)),this}get(e){if(!XX.isPeerId(e))throw JX(new Error("peerId must be an instance of peer-id"),QX);let t=this.data.get(e.toB58String());return t?t.pubKey:void 0}};tQ.exports=eQ});var oQ=M((YJe,sQ)=>{"use strict";var iQ=sr(),vE=Object.assign(iQ("libp2p:peer-store:proto-book"),{error:iQ("libp2p:peer-store:proto-book:err")}),I1=Ht(),GTe=gn(),Fb=Gr(),YTe=Ub(),{codes:{ERR_INVALID_PARAMETERS:T1}}=Ji(),nQ=class extends YTe{constructor(e){super({peerStore:e,eventName:"change:metadata",eventProperty:"metadata"});this.data=new Map}set(e,t,i){if(!Fb.isPeerId(e))throw vE.error("peerId must be an instance of peer-id to store data"),I1(new Error("peerId must be an instance of peer-id"),T1);if(typeof t!="string"||!(i instanceof Uint8Array))throw vE.error("valid key and value must be provided to store data"),I1(new Error("valid key and value must be provided"),T1);return this._setValue(e,t,i),this}_setValue(e,t,i,{emit:n=!0}={}){let s=e.toB58String(),o=this.data.get(s)||new Map,a=o.get(t);if(a&&GTe(i,a)){vE(`the metadata provided to store is equal to the already stored for ${s} on ${t}`);return}o.set(t,i),this.data.set(s,o),n&&this._emit(e,t)}get(e){if(!Fb.isPeerId(e))throw I1(new Error("peerId must be an instance of peer-id"),T1);return this.data.get(e.toB58String())}getValue(e,t){if(!Fb.isPeerId(e))throw I1(new Error("peerId must be an instance of peer-id"),T1);let i=this.data.get(e.toB58String());return i&&i.get(t)}delete(e){if(!Fb.isPeerId(e))throw I1(new Error("peerId must be an instance of peer-id"),T1);return this.data.delete(e.toB58String())?(this._emit(e),!0):!1}deleteValue(e,t){if(!Fb.isPeerId(e))throw I1(new Error("peerId must be an instance of peer-id"),T1);let i=this.data.get(e.toB58String());return!i||!i.delete(t)?!1:(this._emit(e,t),!0)}};sQ.exports=nQ});var uQ=M((WJe,cQ)=>{"use strict";var aQ=sr(),qa=Object.assign(aQ("libp2p:peer-store:proto-book"),{error:aQ("libp2p:peer-store:proto-book:err")}),k1=Ht(),xE=Gr(),WTe=Ub(),{codes:{ERR_INVALID_PARAMETERS:C1}}=Ji(),fQ=class extends WTe{constructor(e){super({peerStore:e,eventName:"change:protocols",eventProperty:"protocols",eventTransformer:t=>Array.from(t)});this.data=new Map}set(e,t){if(!xE.isPeerId(e))throw qa.error("peerId must be an instance of peer-id to store data"),k1(new Error("peerId must be an instance of peer-id"),C1);if(!t)throw qa.error("protocols must be provided to store data"),k1(new Error("protocols must be provided"),C1);let i=e.toB58String(),n=this.data.get(i),s=new Set(t);return n&&((a,f)=>a.size===f.size&&[...a].every(c=>f.has(c)))(n,s)?(qa(`the protocols provided to store are equal to the already stored for ${i}`),this):(this._setData(e,s),qa(`stored provided protocols for ${i}`),this)}add(e,t){if(!xE.isPeerId(e))throw qa.error("peerId must be an instance of peer-id to store data"),k1(new Error("peerId must be an instance of peer-id"),C1);if(!t)throw qa.error("protocols must be provided to store data"),k1(new Error("protocols must be provided"),C1);let i=e.toB58String(),n=this.data.get(i)||new Set,s=new Set([...n,...t]);return n.size===s.size?(qa(`the protocols provided to store are already stored for ${i}`),this):(this._setData(e,s),qa(`added provided protocols for ${i}`),this)}remove(e,t){if(!xE.isPeerId(e))throw qa.error("peerId must be an instance of peer-id to store data"),k1(new Error("peerId must be an instance of peer-id"),C1);if(!t)throw qa.error("protocols must be provided to store data"),k1(new Error("protocols must be provided"),C1);let i=e.toB58String(),n=this.data.get(i);if(n){let s=new Set([...n].filter(o=>!t.includes(o)));if(n.size===s.size)return this;this._setData(e,s),qa(`removed provided protocols for ${i}`)}return this}};cQ.exports=fQ});var wE=M((ZJe,hQ)=>{"use strict";var ZTe=Ht(),JTe=Wn(),lQ=Gr(),XTe=YX(),QTe=rQ(),eke=oQ(),tke=uQ(),{codes:{ERR_INVALID_PARAMETERS:rke}}=Ji(),dQ=class extends JTe{constructor({peerId:e}){super();this._peerId=e,this.addressBook=new XTe(this),this.keyBook=new QTe(this),this.metadataBook=new eke(this),this.protoBook=new tke(this)}start(){}stop(){}get peers(){let e=new Set([...this.addressBook.data.keys(),...this.keyBook.data.keys(),...this.protoBook.data.keys(),...this.metadataBook.data.keys()]);this._peerId&&e.delete(this._peerId.toB58String());let t=new Map;return e.forEach(i=>{t.set(i,this.get(lQ.createFromCID(i)))}),t}delete(e){let t=this.addressBook.delete(e),i=this.keyBook.delete(e),n=this.protoBook.delete(e),s=this.metadataBook.delete(e);return t||i||n||s}get(e){if(!lQ.isPeerId(e))throw ZTe(new Error("peerId must be an instance of peer-id"),rke);let t=this.keyBook.data.get(e.toB58String()),i=this.addressBook.get(e),n=this.metadataBook.get(e),s=this.protoBook.get(e);if(!(!t&&!i&&!n&&!s))return{id:t||e,addresses:i||[],protocols:s||[],metadata:n}}};hQ.exports=dQ});var bQ=M((JJe,pQ)=>{"use strict";function ike(r,e,t){let i=new r(e,t);i._subscribeAdapter=i.subscribe,i._unsubscribeAdapter=i.unsubscribe;function n(o,a){a&&i.on(o,a),i._subscribeAdapter(o)}function s(o,a){a?i.removeListener(o,a):i.removeAllListeners(o),i.listenerCount(o)===0&&i._unsubscribeAdapter(o)}return i.subscribe=n,i.unsubscribe=s,i}pQ.exports=ike});var yQ=M((XJe,B1)=>{"use strict";B1.exports.NAMESPACE_COMMON="/peers/";B1.exports.NAMESPACE_ADDRESS="/peers/addrs/";B1.exports.NAMESPACE_KEYS="/peers/keys/";B1.exports.NAMESPACE_METADATA="/peers/metadata/";B1.exports.NAMESPACE_PROTOCOL="/peers/protos/"});var gQ=M((QJe,mQ)=>{"use strict";var Vc=Do(),M1=Vc.Reader,_E=Vc.Writer,qi=Vc.util,an=Vc.roots["libp2p-address-book"]||(Vc.roots["libp2p-address-book"]={});an.Addresses=function(){function r(e){if(this.addrs=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.addrs=qi.emptyArray,r.prototype.certifiedRecord=null,r.encode=function(t,i){if(i||(i=_E.create()),t.addrs!=null&&t.addrs.length)for(var n=0;n<t.addrs.length;++n)an.Addresses.Address.encode(t.addrs[n],i.uint32(10).fork()).ldelim();return t.certifiedRecord!=null&&Object.hasOwnProperty.call(t,"certifiedRecord")&&an.Addresses.CertifiedRecord.encode(t.certifiedRecord,i.uint32(18).fork()).ldelim(),i},r.decode=function(t,i){t instanceof M1||(t=M1.create(t));for(var n=i===void 0?t.len:t.pos+i,s=new an.Addresses;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:s.addrs&&s.addrs.length||(s.addrs=[]),s.addrs.push(an.Addresses.Address.decode(t,t.uint32()));break;case 2:s.certifiedRecord=an.Addresses.CertifiedRecord.decode(t,t.uint32());break;default:t.skipType(o&7);break}}return s},r.fromObject=function(t){if(t instanceof an.Addresses)return t;var i=new an.Addresses;if(t.addrs){if(!Array.isArray(t.addrs))throw TypeError(".Addresses.addrs: array expected");i.addrs=[];for(var n=0;n<t.addrs.length;++n){if(typeof t.addrs[n]!="object")throw TypeError(".Addresses.addrs: object expected");i.addrs[n]=an.Addresses.Address.fromObject(t.addrs[n])}}if(t.certifiedRecord!=null){if(typeof t.certifiedRecord!="object")throw TypeError(".Addresses.certifiedRecord: object expected");i.certifiedRecord=an.Addresses.CertifiedRecord.fromObject(t.certifiedRecord)}return i},r.toObject=function(t,i){i||(i={});var n={};if((i.arrays||i.defaults)&&(n.addrs=[]),i.defaults&&(n.certifiedRecord=null),t.addrs&&t.addrs.length){n.addrs=[];for(var s=0;s<t.addrs.length;++s)n.addrs[s]=an.Addresses.Address.toObject(t.addrs[s],i)}return t.certifiedRecord!=null&&t.hasOwnProperty("certifiedRecord")&&(n.certifiedRecord=an.Addresses.CertifiedRecord.toObject(t.certifiedRecord,i)),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,Vc.util.toJSONOptions)},r.Address=function(){function e(t){if(t)for(var i=Object.keys(t),n=0;n<i.length;++n)t[i[n]]!=null&&(this[i[n]]=t[i[n]])}return e.prototype.multiaddr=qi.newBuffer([]),e.prototype.isCertified=!1,e.encode=function(i,n){return n||(n=_E.create()),i.multiaddr!=null&&Object.hasOwnProperty.call(i,"multiaddr")&&n.uint32(10).bytes(i.multiaddr),i.isCertified!=null&&Object.hasOwnProperty.call(i,"isCertified")&&n.uint32(16).bool(i.isCertified),n},e.decode=function(i,n){i instanceof M1||(i=M1.create(i));for(var s=n===void 0?i.len:i.pos+n,o=new an.Addresses.Address;i.pos<s;){var a=i.uint32();switch(a>>>3){case 1:o.multiaddr=i.bytes();break;case 2:o.isCertified=i.bool();break;default:i.skipType(a&7);break}}return o},e.fromObject=function(i){if(i instanceof an.Addresses.Address)return i;var n=new an.Addresses.Address;return i.multiaddr!=null&&(typeof i.multiaddr=="string"?qi.base64.decode(i.multiaddr,n.multiaddr=qi.newBuffer(qi.base64.length(i.multiaddr)),0):i.multiaddr.length&&(n.multiaddr=i.multiaddr)),i.isCertified!=null&&(n.isCertified=Boolean(i.isCertified)),n},e.toObject=function(i,n){n||(n={});var s={};return n.defaults&&(n.bytes===String?s.multiaddr="":(s.multiaddr=[],n.bytes!==Array&&(s.multiaddr=qi.newBuffer(s.multiaddr))),s.isCertified=!1),i.multiaddr!=null&&i.hasOwnProperty("multiaddr")&&(s.multiaddr=n.bytes===String?qi.base64.encode(i.multiaddr,0,i.multiaddr.length):n.bytes===Array?Array.prototype.slice.call(i.multiaddr):i.multiaddr),i.isCertified!=null&&i.hasOwnProperty("isCertified")&&(s.isCertified=i.isCertified),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Vc.util.toJSONOptions)},e}(),r.CertifiedRecord=function(){function e(t){if(t)for(var i=Object.keys(t),n=0;n<i.length;++n)t[i[n]]!=null&&(this[i[n]]=t[i[n]])}return e.prototype.seq=qi.Long?qi.Long.fromBits(0,0,!0):0,e.prototype.raw=qi.newBuffer([]),e.encode=function(i,n){return n||(n=_E.create()),i.seq!=null&&Object.hasOwnProperty.call(i,"seq")&&n.uint32(8).uint64(i.seq),i.raw!=null&&Object.hasOwnProperty.call(i,"raw")&&n.uint32(18).bytes(i.raw),n},e.decode=function(i,n){i instanceof M1||(i=M1.create(i));for(var s=n===void 0?i.len:i.pos+n,o=new an.Addresses.CertifiedRecord;i.pos<s;){var a=i.uint32();switch(a>>>3){case 1:o.seq=i.uint64();break;case 2:o.raw=i.bytes();break;default:i.skipType(a&7);break}}return o},e.fromObject=function(i){if(i instanceof an.Addresses.CertifiedRecord)return i;var n=new an.Addresses.CertifiedRecord;return i.seq!=null&&(qi.Long?(n.seq=qi.Long.fromValue(i.seq)).unsigned=!0:typeof i.seq=="string"?n.seq=parseInt(i.seq,10):typeof i.seq=="number"?n.seq=i.seq:typeof i.seq=="object"&&(n.seq=new qi.LongBits(i.seq.low>>>0,i.seq.high>>>0).toNumber(!0))),i.raw!=null&&(typeof i.raw=="string"?qi.base64.decode(i.raw,n.raw=qi.newBuffer(qi.base64.length(i.raw)),0):i.raw.length&&(n.raw=i.raw)),n},e.toObject=function(i,n){n||(n={});var s={};if(n.defaults){if(qi.Long){var o=new qi.Long(0,0,!0);s.seq=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.seq=n.longs===String?"0":0;n.bytes===String?s.raw="":(s.raw=[],n.bytes!==Array&&(s.raw=qi.newBuffer(s.raw)))}return i.seq!=null&&i.hasOwnProperty("seq")&&(typeof i.seq=="number"?s.seq=n.longs===String?String(i.seq):i.seq:s.seq=n.longs===String?qi.Long.prototype.toString.call(i.seq):n.longs===Number?new qi.LongBits(i.seq.low>>>0,i.seq.high>>>0).toNumber(!0):i.seq),i.raw!=null&&i.hasOwnProperty("raw")&&(s.raw=n.bytes===String?qi.base64.encode(i.raw,0,i.raw.length):n.bytes===Array?Array.prototype.slice.call(i.raw):i.raw),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Vc.util.toJSONOptions)},e}(),r}();mQ.exports=an});var wQ=M((eXe,xQ)=>{"use strict";var R1=Do(),vQ=R1.Reader,nke=R1.Writer,ske=R1.util,Kb=R1.roots["libp2p-proto-book"]||(R1.roots["libp2p-proto-book"]={});Kb.Protocols=function(){function r(e){if(this.protocols=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.protocols=ske.emptyArray,r.encode=function(t,i){if(i||(i=nke.create()),t.protocols!=null&&t.protocols.length)for(var n=0;n<t.protocols.length;++n)i.uint32(10).string(t.protocols[n]);return i},r.decode=function(t,i){t instanceof vQ||(t=vQ.create(t));for(var n=i===void 0?t.len:t.pos+i,s=new Kb.Protocols;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:s.protocols&&s.protocols.length||(s.protocols=[]),s.protocols.push(t.string());break;default:t.skipType(o&7);break}}return s},r.fromObject=function(t){if(t instanceof Kb.Protocols)return t;var i=new Kb.Protocols;if(t.protocols){if(!Array.isArray(t.protocols))throw TypeError(".Protocols.protocols: array expected");i.protocols=[];for(var n=0;n<t.protocols.length;++n)i.protocols[n]=String(t.protocols[n])}return i},r.toObject=function(t,i){i||(i={});var n={};if((i.arrays||i.defaults)&&(n.protocols=[]),t.protocols&&t.protocols.length){n.protocols=[];for(var s=0;s<t.protocols.length;++s)n.protocols[s]=t.protocols[s]}return n},r.prototype.toJSON=function(){return this.constructor.toObject(this,R1.util.toJSONOptions)},r}();xQ.exports=Kb});var TQ=M((tXe,IQ)=>{"use strict";var _Q=sr(),kn=Object.assign(_Q("libp2p:persistent-peer-store"),{error:_Q("libp2p:persistent-peer-store:err")}),{Key:fg}=d1(),{Multiaddr:oke}=zi(),EE=Gr(),ake=wE(),{NAMESPACE_ADDRESS:fke,NAMESPACE_COMMON:cke,NAMESPACE_KEYS:uke,NAMESPACE_METADATA:lke,NAMESPACE_PROTOCOL:dke}=yQ(),{Addresses:EQ}=gQ(),{Protocols:SQ}=wQ(),AQ=class extends ake{constructor({peerId:e,datastore:t,threshold:i=5}){super({peerId:e});this._datastore=t,this._dirtyPeers=new Set,this._dirtyMetadata=new Map,this.threshold=i,this._addDirtyPeer=this._addDirtyPeer.bind(this)}async start(){kn("PeerStore is starting"),this.on("change:protocols",this._addDirtyPeer),this.on("change:multiaddrs",this._addDirtyPeer),this.on("change:pubkey",this._addDirtyPeerKey),this.on("change:metadata",this._addDirtyPeerMetadata);for await(let e of this._datastore.query({prefix:cke}))await this._processDatastoreEntry(e);kn("PeerStore started")}async stop(){kn("PeerStore is stopping"),this.removeAllListeners(),await this._commitData(),kn("PeerStore stopped")}_addDirtyPeer({peerId:e}){let t=e.toB58String();kn("add dirty peer",t),this._dirtyPeers.add(t),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(i=>{kn.error("error committing data",i)})}_addDirtyPeerKey({peerId:e}){if(e.hasInlinePublicKey())return;let t=e.toB58String();kn("add dirty peer key",t),this._dirtyPeers.add(t),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(i=>{kn.error("error committing data",i)})}_addDirtyPeerMetadata({peerId:e,metadata:t}){let i=e.toB58String();kn("add dirty metadata peer",i),this._dirtyPeers.add(i);let n=this._dirtyMetadata.get(i)||new Set;n.add(t),this._dirtyMetadata.set(i,n),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(s=>{kn.error("error committing data",s)})}async _commitData(){let e=Array.from(this._dirtyPeers);if(!e.length)return;this._dirtyPeers.clear(),kn("create batch commit");let t=this._datastore.batch();for(let i of e){let n=this.keyBook.data.get(i)||EE.createFromCID(i);this._batchAddressBook(n,t),!n.hasInlinePublicKey()&&this._batchKeyBook(n,t),this._batchMetadataBook(n,t),this._batchProtoBook(n,t)}await t.commit(),kn("batch committed")}_batchAddressBook(e,t){let i=e.toString(),n=new fg(`${fke}${i}`),s=this.addressBook.data.get(e.toB58String());try{if(!s){t.delete(n);return}let o=EQ.encode({addrs:s.addresses.map(a=>({multiaddr:a.multiaddr.bytes,isCertified:a.isCertified})),certifiedRecord:s.record?{seq:s.record.seqNumber,raw:s.record.raw}:void 0}).finish();t.put(n,o)}catch(o){kn.error(o)}}_batchKeyBook(e,t){let i=e.toString(),n=new fg(`${uke}${i}`);try{if(!e.pubKey){t.delete(n);return}let s=e.marshalPubKey();t.put(n,s)}catch(s){kn.error(s)}}_batchMetadataBook(e,t){let i=e.toString(),n=this._dirtyMetadata.get(e.toB58String())||[];try{n.forEach(s=>{let o=new fg(`${lke}${i}/${s}`),a=this.metadataBook.getValue(e,s);a?t.put(o,a):t.delete(o)})}catch(s){kn.error(s)}}_batchProtoBook(e,t){let i=e.toString(),n=new fg(`${dke}${i}`),s=this.protoBook.get(e);try{if(!s){t.delete(n);return}let o=SQ.encode({protocols:s}).finish();t.put(n,o)}catch(o){kn.error(o)}}async _processDatastoreEntry({key:e,value:t}){try{let i=e.toString().split("/"),n=EE.createFromCID(i[3]),s;switch(i[2]){case"addrs":s=EQ.decode(t),this.addressBook._setData(n,{addresses:s.addrs.map(o=>({multiaddr:new oke(o.multiaddr),isCertified:Boolean(o.isCertified)})),record:s.certifiedRecord?{raw:s.certifiedRecord.raw,seqNumber:s.certifiedRecord.seq}:void 0},{emit:!1});break;case"keys":s=await EE.createFromPubKey(t),this.keyBook._setData(s,s,{emit:!1});break;case"metadata":this.metadataBook._setValue(n,i[4],t,{emit:!1});break;case"protos":s=SQ.decode(t),this.protoBook._setData(n,new Set(s.protocols),{emit:!1});break;default:kn("invalid data persisted for: ",e.toString())}}catch(i){kn.error(i)}}};IQ.exports=AQ});var SE=M((rXe,MQ)=>{"use strict";var kQ=()=>{},CQ=Symbol.for("@libp2p/js-interfaces/topology"),BQ=class{constructor({min:e=0,max:t=Infinity,handlers:i={}}){this.min=e,this.max=t,this._onConnect=i.onConnect||kQ,this._onDisconnect=i.onDisconnect||kQ,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[CQ](){return!0}static isTopology(e){return Boolean(e&&e[CQ])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}};MQ.exports=BQ});var qQ=M((iXe,PQ)=>{"use strict";var RQ=sr(),hke=Object.assign(RQ("libp2p:registrar"),{error:RQ("libp2p:registrar:err")}),pke=Ht(),{codes:{ERR_INVALID_PARAMETERS:bke}}=Ji(),yke=SE(),NQ=class{constructor({peerStore:e,connectionManager:t}){this.peerStore=e,this.connectionManager=t,this.topologies=new Map,this._handle=void 0,this._onDisconnect=this._onDisconnect.bind(this),this.connectionManager.on("peer:disconnect",this._onDisconnect)}get handle(){return this._handle}set handle(e){this._handle=e}getConnection(e){return this.connectionManager.get(e)}register(e){if(!yke.isTopology(e))throw hke.error("topology must be an instance of interfaces/topology"),pke(new Error("topology must be an instance of interfaces/topology"),bke);let t=(Math.random()*1e9).toString(36)+Date.now();return this.topologies.set(t,e),e.registrar=this,t}unregister(e){return this.topologies.delete(e)}_onDisconnect(e){for(let[,t]of this.topologies)t.disconnect(e.remotePeer)}};PQ.exports=NQ});var XQ=M(O1=>{"use strict";var AE=_d(),N1=Ed(),OQ=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;O1.Buffer=Ye;O1.SlowBuffer=_ke;O1.INSPECT_MAX_BYTES=50;var cg=2147483647;O1.kMaxLength=cg;Ye.TYPED_ARRAY_SUPPORT=mke();!Ye.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function mke(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(r){return!1}}Object.defineProperty(Ye.prototype,"parent",{enumerable:!0,get:function(){if(!!Ye.isBuffer(this))return this.buffer}});Object.defineProperty(Ye.prototype,"offset",{enumerable:!0,get:function(){if(!!Ye.isBuffer(this))return this.byteOffset}});function O0(r){if(r>cg)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,Ye.prototype),e}function Ye(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return IE(r)}return DQ(r,e,t)}Ye.poolSize=8192;function DQ(r,e,t){if(typeof r=="string")return vke(r,e);if(ArrayBuffer.isView(r))return xke(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(qf(r,ArrayBuffer)||r&&qf(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(qf(r,SharedArrayBuffer)||r&&qf(r.buffer,SharedArrayBuffer)))return kE(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return Ye.from(i,e,t);let n=wke(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Ye.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Ye.from=function(r,e,t){return DQ(r,e,t)};Object.setPrototypeOf(Ye.prototype,Uint8Array.prototype);Object.setPrototypeOf(Ye,Uint8Array);function LQ(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function gke(r,e,t){return LQ(r),r<=0?O0(r):e!==void 0?typeof t=="string"?O0(r).fill(e,t):O0(r).fill(e):O0(r)}Ye.alloc=function(r,e,t){return gke(r,e,t)};function IE(r){return LQ(r),O0(r<0?0:CE(r)|0)}Ye.allocUnsafe=function(r){return IE(r)};Ye.allocUnsafeSlow=function(r){return IE(r)};function vke(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Ye.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=UQ(r,e)|0,i=O0(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function TE(r){let e=r.length<0?0:CE(r.length)|0,t=O0(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function xke(r){if(qf(r,Uint8Array)){let e=new Uint8Array(r);return kE(e.buffer,e.byteOffset,e.byteLength)}return TE(r)}function kE(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,Ye.prototype),i}function wke(r){if(Ye.isBuffer(r)){let e=CE(r.length)|0,t=O0(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||RE(r.length)?O0(0):TE(r);if(r.type==="Buffer"&&Array.isArray(r.data))return TE(r.data)}function CE(r){if(r>=cg)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+cg.toString(16)+" bytes");return r|0}function _ke(r){return+r!=r&&(r=0),Ye.alloc(+r)}Ye.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Ye.prototype};Ye.compare=function(e,t){if(qf(e,Uint8Array)&&(e=Ye.from(e,e.offset,e.byteLength)),qf(t,Uint8Array)&&(t=Ye.from(t,t.offset,t.byteLength)),!Ye.isBuffer(e)||!Ye.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};Ye.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Ye.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Ye.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let n=Ye.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){let o=e[i];if(qf(o,Uint8Array))s+o.length>n.length?(Ye.isBuffer(o)||(o=Ye.from(o)),o.copy(n,s)):Uint8Array.prototype.set.call(n,o,s);else if(Ye.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function UQ(r,e){if(Ye.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||qf(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return ME(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return JQ(r).length;default:if(n)return i?-1:ME(r).length;e=(""+e).toLowerCase(),n=!0}}Ye.byteLength=UQ;function Eke(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Nke(this,e,t);case"utf8":case"utf-8":return zQ(this,e,t);case"ascii":return Mke(this,e,t);case"latin1":case"binary":return Rke(this,e,t);case"base64":return Cke(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pke(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}Ye.prototype._isBuffer=!0;function Sl(r,e,t){let i=r[e];r[e]=r[t],r[t]=i}Ye.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Sl(this,t,t+1);return this};Ye.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Sl(this,t,t+3),Sl(this,t+1,t+2);return this};Ye.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Sl(this,t,t+7),Sl(this,t+1,t+6),Sl(this,t+2,t+5),Sl(this,t+3,t+4);return this};Ye.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?zQ(this,0,e):Eke.apply(this,arguments)};Ye.prototype.toLocaleString=Ye.prototype.toString;Ye.prototype.equals=function(e){if(!Ye.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Ye.compare(this,e)===0};Ye.prototype.inspect=function(){let e="",t=O1.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};OQ&&(Ye.prototype[OQ]=Ye.prototype.inspect);Ye.prototype.compare=function(e,t,i,n,s){if(qf(e,Uint8Array)&&(e=Ye.from(e,e.offset,e.byteLength)),!Ye.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let o=s-n,a=i-t,f=Math.min(o,a),c=this.slice(n,s),l=e.slice(t,i);for(let h=0;h<f;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0};function FQ(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,RE(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=Ye.from(e,i)),Ye.isBuffer(e))return e.length===0?-1:KQ(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):KQ(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function KQ(r,e,t,i,n){let s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function f(l,h){return s===1?l[h]:l.readUInt16BE(h*s)}let c;if(n){let l=-1;for(c=t;c<o;c++)if(f(r,c)===f(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===a)return l*s}else l!==-1&&(c-=c-l),l=-1}else for(t+a>o&&(t=o-a),c=t;c>=0;c--){let l=!0;for(let h=0;h<a;h++)if(f(r,c+h)!==f(e,h)){l=!1;break}if(l)return c}return-1}Ye.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};Ye.prototype.indexOf=function(e,t,i){return FQ(this,e,t,i,!0)};Ye.prototype.lastIndexOf=function(e,t,i){return FQ(this,e,t,i,!1)};function Ske(r,e,t,i){t=Number(t)||0;let n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;let s=e.length;i>s/2&&(i=s/2);let o;for(o=0;o<i;++o){let a=parseInt(e.substr(o*2,2),16);if(RE(a))return o;r[t+o]=a}return o}function Ake(r,e,t,i){return ug(ME(e,r.length-t),r,t,i)}function Ike(r,e,t,i){return ug(Lke(e),r,t,i)}function Tke(r,e,t,i){return ug(JQ(e),r,t,i)}function kke(r,e,t,i){return ug(Uke(e,r.length-t),r,t,i)}Ye.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return Ske(this,e,t,i);case"utf8":case"utf-8":return Ake(this,e,t,i);case"ascii":case"latin1":case"binary":return Ike(this,e,t,i);case"base64":return Tke(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kke(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};Ye.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Cke(r,e,t){return e===0&&t===r.length?AE.fromByteArray(r):AE.fromByteArray(r.slice(e,t))}function zQ(r,e,t){t=Math.min(r.length,t);let i=[],n=e;for(;n<t;){let s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){let f,c,l,h;switch(a){case 1:s<128&&(o=s);break;case 2:f=r[n+1],(f&192)==128&&(h=(s&31)<<6|f&63,h>127&&(o=h));break;case 3:f=r[n+1],c=r[n+2],(f&192)==128&&(c&192)==128&&(h=(s&15)<<12|(f&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:f=r[n+1],c=r[n+2],l=r[n+3],(f&192)==128&&(c&192)==128&&(l&192)==128&&(h=(s&15)<<18|(f&63)<<12|(c&63)<<6|l&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return Bke(i)}var jQ=4096;function Bke(r){let e=r.length;if(e<=jQ)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=jQ));return t}function Mke(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function Rke(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function Nke(r,e,t){let i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let n="";for(let s=e;s<t;++s)n+=Fke[r[s]];return n}function Pke(r,e,t){let i=r.slice(e,t),n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}Ye.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,Ye.prototype),n};function Cn(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Ye.prototype.readUintLE=Ye.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Cn(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return n};Ye.prototype.readUintBE=Ye.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Cn(e,t,this.length);let n=this[e+--t],s=1;for(;t>0&&(s*=256);)n+=this[e+--t]*s;return n};Ye.prototype.readUint8=Ye.prototype.readUInt8=function(e,t){return e=e>>>0,t||Cn(e,1,this.length),this[e]};Ye.prototype.readUint16LE=Ye.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Cn(e,2,this.length),this[e]|this[e+1]<<8};Ye.prototype.readUint16BE=Ye.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Cn(e,2,this.length),this[e]<<8|this[e+1]};Ye.prototype.readUint32LE=Ye.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Cn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Ye.prototype.readUint32BE=Ye.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Cn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Ye.prototype.readBigUInt64LE=Hc(function(e){e=e>>>0,q1(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&zb(e,this.length-8);let n=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))});Ye.prototype.readBigUInt64BE=Hc(function(e){e=e>>>0,q1(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&zb(e,this.length-8);let n=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(s)});Ye.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Cn(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};Ye.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Cn(e,t,this.length);let n=t,s=1,o=this[e+--n];for(;n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};Ye.prototype.readInt8=function(e,t){return e=e>>>0,t||Cn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Ye.prototype.readInt16LE=function(e,t){e=e>>>0,t||Cn(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Ye.prototype.readInt16BE=function(e,t){e=e>>>0,t||Cn(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Ye.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Cn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Ye.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Cn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Ye.prototype.readBigInt64LE=Hc(function(e){e=e>>>0,q1(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&zb(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});Ye.prototype.readBigInt64BE=Hc(function(e){e=e>>>0,q1(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&zb(e,this.length-8);let n=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});Ye.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Cn(e,4,this.length),N1.read(this,e,!0,23,4)};Ye.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Cn(e,4,this.length),N1.read(this,e,!1,23,4)};Ye.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Cn(e,8,this.length),N1.read(this,e,!0,52,8)};Ye.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Cn(e,8,this.length),N1.read(this,e,!1,52,8)};function js(r,e,t,i,n,s){if(!Ye.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}Ye.prototype.writeUintLE=Ye.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;js(this,e,t,i,a,0)}let s=1,o=0;for(this[t]=e&255;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i};Ye.prototype.writeUintBE=Ye.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;js(this,e,t,i,a,0)}let s=i-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i};Ye.prototype.writeUint8=Ye.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||js(this,e,t,1,255,0),this[t]=e&255,t+1};Ye.prototype.writeUint16LE=Ye.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||js(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Ye.prototype.writeUint16BE=Ye.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||js(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Ye.prototype.writeUint32LE=Ye.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||js(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Ye.prototype.writeUint32BE=Ye.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||js(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function VQ(r,e,t,i,n){ZQ(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function HQ(r,e,t,i,n){ZQ(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}Ye.prototype.writeBigUInt64LE=Hc(function(e,t=0){return VQ(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Ye.prototype.writeBigUInt64BE=Hc(function(e,t=0){return HQ(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Ye.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let f=Math.pow(2,8*i-1);js(this,e,t,i,f-1,-f)}let s=0,o=1,a=0;for(this[t]=e&255;++s<i&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};Ye.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let f=Math.pow(2,8*i-1);js(this,e,t,i,f-1,-f)}let s=i-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};Ye.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||js(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Ye.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||js(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Ye.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||js(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Ye.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||js(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Ye.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||js(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Ye.prototype.writeBigInt64LE=Hc(function(e,t=0){return VQ(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Ye.prototype.writeBigInt64BE=Hc(function(e,t=0){return HQ(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $Q(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function GQ(r,e,t,i,n){return e=+e,t=t>>>0,n||$Q(r,e,t,4,34028234663852886e22,-34028234663852886e22),N1.write(r,e,t,i,23,4),t+4}Ye.prototype.writeFloatLE=function(e,t,i){return GQ(this,e,t,!0,i)};Ye.prototype.writeFloatBE=function(e,t,i){return GQ(this,e,t,!1,i)};function YQ(r,e,t,i,n){return e=+e,t=t>>>0,n||$Q(r,e,t,8,17976931348623157e292,-17976931348623157e292),N1.write(r,e,t,i,52,8),t+8}Ye.prototype.writeDoubleLE=function(e,t,i){return YQ(this,e,t,!0,i)};Ye.prototype.writeDoubleBE=function(e,t,i){return YQ(this,e,t,!1,i)};Ye.prototype.copy=function(e,t,i,n){if(!Ye.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);let s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};Ye.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Ye.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{let o=Ye.isBuffer(e)?e:Ye.from(e,n),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var P1={};function BE(r,e,t){P1[r]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}BE("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);BE("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);BE("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,n=t;return Number.isInteger(t)&&Math.abs(t)>2**32?n=WQ(String(t)):typeof t=="bigint"&&(n=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(n=WQ(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function WQ(r){let e="",t=r.length,i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function qke(r,e,t){q1(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&zb(e,r.length-(t+1))}function ZQ(r,e,t,i,n,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${t}${o}`,new P1.ERR_OUT_OF_RANGE("value",a,r)}qke(i,n,s)}function q1(r,e){if(typeof r!="number")throw new P1.ERR_INVALID_ARG_TYPE(e,"number",r)}function zb(r,e,t){throw Math.floor(r)!==r?(q1(r,t),new P1.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new P1.ERR_BUFFER_OUT_OF_BOUNDS:new P1.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var Oke=/[^+/0-9A-Za-z-_]/g;function Dke(r){if(r=r.split("=")[0],r=r.trim().replace(Oke,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function ME(r,e){e=e||Infinity;let t,i=r.length,n=null,s=[];for(let o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function Lke(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Uke(r,e){let t,i,n,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function JQ(r){return AE.toByteArray(Dke(r))}function ug(r,e,t,i){let n;for(n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function qf(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function RE(r){return r!==r}var Fke=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let n=0;n<16;++n)e[i+n]=r[t]+r[n]}return e}();function Hc(r){return typeof BigInt=="undefined"?Kke:r}function Kke(){throw new Error("BigInt not supported")}});var hg=M((oXe,jb)=>{"use strict";var{Buffer:lg}=XQ(),dg=Rf();jb.exports=async function*(r){for await(let e of r)lg.isBuffer(e)?yield e:dg.isBufferList(e)?yield e.slice():yield lg.from(e)};jb.exports.toBuffer=jb.exports;jb.exports.toList=async function*(r){for await(let e of r)lg.isBuffer(e)?yield new dg().append(e):dg.isBufferList(e)?yield e:yield new dg().append(lg.from(e))}});var eee=M((aXe,QQ)=>{"use strict";QQ.exports={PROTOCOL:"/ipfs/ping/1.0.0",PING_LENGTH:32}});var nee=M((bg,iee)=>{"use strict";var tee=sr(),zke=Object.assign(tee("libp2p:ping"),{error:tee("libp2p:ping:err")}),jke=Ht(),Vke=u1(),{pipe:ree}=ys(),{toBuffer:Hke}=hg(),{collect:$ke,take:Gke}=Ob(),Yke=gn(),{PROTOCOL:pg,PING_LENGTH:Wke}=eee();async function Zke(r,e){zke("dialing %s to %s",pg,e.toB58String?e.toB58String():e);let t=await r.dial(e),{stream:i}=await t.newStream(pg),n=Date.now(),s=Vke.randomBytes(Wke),[o]=await ree([s],i,f=>Gke(1,f),Hke,$ke),a=Date.now();if(!Yke(s,o))throw jke(new Error("Received wrong ping ack"),"ERR_WRONG_PING_ACK");return a-n}function Jke(r){r.handle(pg,({stream:e})=>ree(e,e))}function Xke(r){r.unhandle(pg)}bg=iee.exports=Zke;bg.mount=Jke;bg.unmount=Xke});var aee=M((fXe,oee)=>{"use strict";var D1=Do(),see=D1.Reader,Qke=D1.Writer,yi=D1.util,Vb=D1.roots["libp2p-identify"]||(D1.roots["libp2p-identify"]={});Vb.Identify=function(){function r(e){if(this.listenAddrs=[],this.protocols=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.protocolVersion="",r.prototype.agentVersion="",r.prototype.publicKey=yi.newBuffer([]),r.prototype.listenAddrs=yi.emptyArray,r.prototype.observedAddr=yi.newBuffer([]),r.prototype.protocols=yi.emptyArray,r.prototype.signedPeerRecord=yi.newBuffer([]),r.encode=function(t,i){if(i||(i=Qke.create()),t.publicKey!=null&&Object.hasOwnProperty.call(t,"publicKey")&&i.uint32(10).bytes(t.publicKey),t.listenAddrs!=null&&t.listenAddrs.length)for(var n=0;n<t.listenAddrs.length;++n)i.uint32(18).bytes(t.listenAddrs[n]);if(t.protocols!=null&&t.protocols.length)for(var n=0;n<t.protocols.length;++n)i.uint32(26).string(t.protocols[n]);return t.observedAddr!=null&&Object.hasOwnProperty.call(t,"observedAddr")&&i.uint32(34).bytes(t.observedAddr),t.protocolVersion!=null&&Object.hasOwnProperty.call(t,"protocolVersion")&&i.uint32(42).string(t.protocolVersion),t.agentVersion!=null&&Object.hasOwnProperty.call(t,"agentVersion")&&i.uint32(50).string(t.agentVersion),t.signedPeerRecord!=null&&Object.hasOwnProperty.call(t,"signedPeerRecord")&&i.uint32(66).bytes(t.signedPeerRecord),i},r.decode=function(t,i){t instanceof see||(t=see.create(t));for(var n=i===void 0?t.len:t.pos+i,s=new Vb.Identify;t.pos<n;){var o=t.uint32();switch(o>>>3){case 5:s.protocolVersion=t.string();break;case 6:s.agentVersion=t.string();break;case 1:s.publicKey=t.bytes();break;case 2:s.listenAddrs&&s.listenAddrs.length||(s.listenAddrs=[]),s.listenAddrs.push(t.bytes());break;case 4:s.observedAddr=t.bytes();break;case 3:s.protocols&&s.protocols.length||(s.protocols=[]),s.protocols.push(t.string());break;case 8:s.signedPeerRecord=t.bytes();break;default:t.skipType(o&7);break}}return s},r.fromObject=function(t){if(t instanceof Vb.Identify)return t;var i=new Vb.Identify;if(t.protocolVersion!=null&&(i.protocolVersion=String(t.protocolVersion)),t.agentVersion!=null&&(i.agentVersion=String(t.agentVersion)),t.publicKey!=null&&(typeof t.publicKey=="string"?yi.base64.decode(t.publicKey,i.publicKey=yi.newBuffer(yi.base64.length(t.publicKey)),0):t.publicKey.length&&(i.publicKey=t.publicKey)),t.listenAddrs){if(!Array.isArray(t.listenAddrs))throw TypeError(".Identify.listenAddrs: array expected");i.listenAddrs=[];for(var n=0;n<t.listenAddrs.length;++n)typeof t.listenAddrs[n]=="string"?yi.base64.decode(t.listenAddrs[n],i.listenAddrs[n]=yi.newBuffer(yi.base64.length(t.listenAddrs[n])),0):t.listenAddrs[n].length&&(i.listenAddrs[n]=t.listenAddrs[n])}if(t.observedAddr!=null&&(typeof t.observedAddr=="string"?yi.base64.decode(t.observedAddr,i.observedAddr=yi.newBuffer(yi.base64.length(t.observedAddr)),0):t.observedAddr.length&&(i.observedAddr=t.observedAddr)),t.protocols){if(!Array.isArray(t.protocols))throw TypeError(".Identify.protocols: array expected");i.protocols=[];for(var n=0;n<t.protocols.length;++n)i.protocols[n]=String(t.protocols[n])}return t.signedPeerRecord!=null&&(typeof t.signedPeerRecord=="string"?yi.base64.decode(t.signedPeerRecord,i.signedPeerRecord=yi.newBuffer(yi.base64.length(t.signedPeerRecord)),0):t.signedPeerRecord.length&&(i.signedPeerRecord=t.signedPeerRecord)),i},r.toObject=function(t,i){i||(i={});var n={};if((i.arrays||i.defaults)&&(n.listenAddrs=[],n.protocols=[]),i.defaults&&(i.bytes===String?n.publicKey="":(n.publicKey=[],i.bytes!==Array&&(n.publicKey=yi.newBuffer(n.publicKey))),i.bytes===String?n.observedAddr="":(n.observedAddr=[],i.bytes!==Array&&(n.observedAddr=yi.newBuffer(n.observedAddr))),n.protocolVersion="",n.agentVersion="",i.bytes===String?n.signedPeerRecord="":(n.signedPeerRecord=[],i.bytes!==Array&&(n.signedPeerRecord=yi.newBuffer(n.signedPeerRecord)))),t.publicKey!=null&&t.hasOwnProperty("publicKey")&&(n.publicKey=i.bytes===String?yi.base64.encode(t.publicKey,0,t.publicKey.length):i.bytes===Array?Array.prototype.slice.call(t.publicKey):t.publicKey),t.listenAddrs&&t.listenAddrs.length){n.listenAddrs=[];for(var s=0;s<t.listenAddrs.length;++s)n.listenAddrs[s]=i.bytes===String?yi.base64.encode(t.listenAddrs[s],0,t.listenAddrs[s].length):i.bytes===Array?Array.prototype.slice.call(t.listenAddrs[s]):t.listenAddrs[s]}if(t.protocols&&t.protocols.length){n.protocols=[];for(var s=0;s<t.protocols.length;++s)n.protocols[s]=t.protocols[s]}return t.observedAddr!=null&&t.hasOwnProperty("observedAddr")&&(n.observedAddr=i.bytes===String?yi.base64.encode(t.observedAddr,0,t.observedAddr.length):i.bytes===Array?Array.prototype.slice.call(t.observedAddr):t.observedAddr),t.protocolVersion!=null&&t.hasOwnProperty("protocolVersion")&&(n.protocolVersion=t.protocolVersion),t.agentVersion!=null&&t.hasOwnProperty("agentVersion")&&(n.agentVersion=t.agentVersion),t.signedPeerRecord!=null&&t.hasOwnProperty("signedPeerRecord")&&(n.signedPeerRecord=i.bytes===String?yi.base64.encode(t.signedPeerRecord,0,t.signedPeerRecord.length):i.bytes===Array?Array.prototype.slice.call(t.signedPeerRecord):t.signedPeerRecord),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,D1.util.toJSONOptions)},r}();oee.exports=Vb});var yee=M((cXe,bee)=>{"use strict";var fee=sr(),Of=Object.assign(fee("libp2p:identify"),{error:fee("libp2p:identify:err")}),NE=Ht(),yg=Nf(),{pipe:mg}=ys(),{collect:cee,take:uee,consume:lee}=Ob(),PE=Ai(),eCe=Gr(),{Multiaddr:qE}=zi(),{toBuffer:dee}=hg(),Hb=aee(),hee=I3(),pee=k3(),{MULTICODEC_IDENTIFY:OE,MULTICODEC_IDENTIFY_PUSH:gg,PROTOCOL_VERSION:tCe}=L7(),{codes:DE}=Ji(),L1=class{constructor({libp2p:e}){this._libp2p=e,this.peerStore=e.peerStore,this.addressManager=e.addressManager,this.connectionManager=e.connectionManager,this.peerId=e.peerId,this.handleMessage=this.handleMessage.bind(this),this._host={protocolVersion:tCe,...e._options.host},this.peerStore.metadataBook.set(this.peerId,"AgentVersion",PE(this._host.agentVersion)),this.peerStore.metadataBook.set(this.peerId,"ProtocolVersion",PE(this._host.protocolVersion)),this.connectionManager.on("peer:connect",t=>{this.identify(t).catch(Of.error)}),this.peerStore.on("change:multiaddrs",({peerId:t})=>{t.toString()===this.peerId.toString()&&this.pushToPeerStore()}),this.peerStore.on("change:protocols",({peerId:t})=>{t.toString()===this.peerId.toString()&&this.pushToPeerStore()})}async push(e){let t=await this.peerStore.addressBook.getRawEnvelope(this.peerId),i=this._libp2p.multiaddrs.map(o=>o.bytes),n=this.peerStore.protoBook.get(this.peerId)||[],s=e.map(async o=>{try{let{stream:a}=await o.newStream(gg);await mg([Hb.Identify.encode({listenAddrs:i,signedPeerRecord:t,protocols:n}).finish()],yg.encode(),a,lee)}catch(a){Of.error("could not push identify update to peer",a)}});return Promise.all(s)}pushToPeerStore(){if(!this._libp2p.isStarted())return;let e=[],t;for(let i of this.peerStore.peers.values())i.protocols.includes(gg)&&(t=this.connectionManager.get(i.id))&&e.push(t);this.push(e)}async identify(e){let{stream:t}=await e.newStream(OE),[i]=await mg([],t,yg.decode(),uee(1),dee,cee);if(!i)throw NE(new Error("No data could be retrieved"),DE.ERR_CONNECTION_ENDED);let n;try{n=Hb.Identify.decode(i)}catch(x){throw NE(x,DE.ERR_INVALID_MESSAGE)}let{publicKey:s,listenAddrs:o,protocols:a,observedAddr:f,signedPeerRecord:c}=n,l=await eCe.createFromPubKey(s);if(e.remotePeer.toB58String()!==l.toB58String())throw NE(new Error("identified peer does not match the expected peer"),DE.ERR_INVALID_PEER);let h=L1.getCleanMultiaddr(f);try{let x=await hee.openAndCertify(c,pee.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(x)){this.peerStore.protoBook.set(l,a);return}}catch(x){Of("received invalid envelope, discard it and fallback to listenAddrs is available",x)}try{this.peerStore.addressBook.set(l,o.map(x=>new qE(x)))}catch(x){Of.error("received invalid addrs",x)}this.peerStore.protoBook.set(l,a),this.peerStore.metadataBook.set(l,"AgentVersion",PE(n.agentVersion)),Of("received observed address of %s",h)}handleMessage({connection:e,stream:t,protocol:i}){switch(i){case OE:return this._handleIdentify({connection:e,stream:t});case gg:return this._handlePush({connection:e,stream:t});default:Of.error("cannot handle unknown protocol %s",i)}}async _handleIdentify({connection:e,stream:t}){let i=new Uint8Array(0);this.peerId.pubKey&&(i=this.peerId.pubKey.bytes);let n=await this.peerStore.addressBook.getRawEnvelope(this.peerId),s=this.peerStore.protoBook.get(this.peerId)||[],o=Hb.Identify.encode({protocolVersion:this._host.protocolVersion,agentVersion:this._host.agentVersion,publicKey:i,listenAddrs:this._libp2p.multiaddrs.map(a=>a.bytes),signedPeerRecord:n,observedAddr:e.remoteAddr.bytes,protocols:s}).finish();try{await mg([o],yg.encode(),t,lee)}catch(a){Of.error("could not respond to identify request",a)}}async _handlePush({connection:e,stream:t}){let i;try{let[s]=await mg([],t,yg.decode(),uee(1),dee,cee);i=Hb.Identify.decode(s)}catch(s){return Of.error("received invalid message",s)}let n=e.remotePeer;try{let s=await hee.openAndCertify(i.signedPeerRecord,pee.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(s)){this.peerStore.protoBook.set(n,i.protocols);return}}catch(s){Of("received invalid envelope, discard it and fallback to listenAddrs is available",s)}try{this.peerStore.addressBook.set(n,i.listenAddrs.map(s=>new qE(s)))}catch(s){Of.error("received invalid addrs",s)}this.peerStore.protoBook.set(n,i.protocols)}static getCleanMultiaddr(e){if(e&&e.length>0)try{return new qE(e)}catch(t){return null}return null}},rCe={IDENTIFY:OE,IDENTIFY_PUSH:gg};L1.multicodecs=rCe;L1.Messsage=Hb;bee.exports=L1});var mee=M(()=>{});var vee=M(LE=>{"use strict";Object.defineProperty(LE,"__esModule",{value:!0});LE.promisify=vg;var gee="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__";function vg(r){if(typeof r!="function")throw new TypeError("Argument to promisify must be a function");var e=r[gee],t=vg.Promise||Promise;if(typeof t!="function")throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var i=this,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return new t(function(a,f){s.push(function(l){if(l)return f(l);for(var h=arguments.length,x=new Array(h>1?h-1:0),_=1;_<h;_++)x[_-1]=arguments[_];if(x.length===1||!e)return a(x[0]);var E={};x.forEach(function(C,L){var O=e[L];O&&(E[O]=C)}),a(E)}),r.apply(i,s)})}}vg.argumentNames=gee;vg.Promise=void 0});var wee=M((hXe,xee)=>{function iCe(){return typeof window!="undefined"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process!="undefined"&&typeof process.versions=="object"&&!!process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}xee.exports=iCe});var UE=M((pXe,_ee)=>{"use strict";var nCe=wee(),xg=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,$b=nCe(),sCe=xg&&!$b,oCe=$b&&!xg,aCe=$b&&xg,fCe=typeof ia=="function"&&typeof process!="undefined"&&typeof process.release!="undefined"&&process.release.name==="node"&&!$b,cCe=typeof importScripts=="function"&&typeof self!="undefined"&&typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,uCe=typeof process!="undefined"&&typeof process.env!="undefined"&&!1;_ee.exports={isTest:uCe,isElectron:$b,isElectronMain:oCe,isElectronRenderer:aCe,isNode:fCe,isBrowser:sCe,isWebWorker:cCe,isEnvWithDom:xg}});var See=M((bXe,Eee)=>{function Zo(r,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(r)),this._timeouts=r,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||Infinity,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}Eee.exports=Zo;Zo.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};Zo.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};Zo.prototype.retry=function(r){if(this._timeout&&clearTimeout(this._timeout),!r)return!1;var e=new Date().getTime();if(r&&e-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(r);var t=this._timeouts.shift();if(t===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),t=this._timeouts.shift();else return!1;var i=this,n=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},t);return this._options.unref&&n.unref(),!0};Zo.prototype.attempt=function(r,e){this._fn=r,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var t=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){t._operationTimeoutCb()},t._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Zo.prototype.try=function(r){console.log("Using RetryOperation.try() is deprecated"),this.attempt(r)};Zo.prototype.start=function(r){console.log("Using RetryOperation.start() is deprecated"),this.attempt(r)};Zo.prototype.start=Zo.prototype.try;Zo.prototype.errors=function(){return this._errors};Zo.prototype.attempts=function(){return this._attempts};Zo.prototype.mainError=function(){if(this._errors.length===0)return null;for(var r={},e=null,t=0,i=0;i<this._errors.length;i++){var n=this._errors[i],s=n.message,o=(r[s]||0)+1;r[s]=o,o>=t&&(e=n,t=o)}return e}});var Aee=M(Al=>{var lCe=See();Al.operation=function(r){var e=Al.timeouts(r);return new lCe(e,{forever:r&&r.forever,unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})};Al.timeouts=function(r){if(r instanceof Array)return[].concat(r);var e={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:Infinity,randomize:!1};for(var t in r)e[t]=r[t];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],n=0;n<e.retries;n++)i.push(this.createTimeout(n,e));return r&&r.forever&&!i.length&&i.push(this.createTimeout(n,e)),i.sort(function(s,o){return s-o}),i};Al.createTimeout=function(r,e){var t=e.randomize?Math.random()+1:1,i=Math.round(t*e.minTimeout*Math.pow(e.factor,r));return i=Math.min(i,e.maxTimeout),i};Al.wrap=function(r,e,t){if(e instanceof Array&&(t=e,e=null),!t){t=[];for(var i in r)typeof r[i]=="function"&&t.push(i)}for(var n=0;n<t.length;n++){var s=t[n],o=r[s];r[s]=function(f){var c=Al.operation(e),l=Array.prototype.slice.call(arguments,1),h=l.pop();l.push(function(x){c.retry(x)||(x&&(arguments[0]=c.mainError()),h.apply(this,arguments))}),c.attempt(function(){f.apply(r,l)})}.bind(r,o),r[s].options=e}}});var Tee=M((mXe,Iee)=>{Iee.exports=Aee()});var Cee=M((gXe,wg)=>{"use strict";var dCe=Tee(),hCe=["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Network request failed"],FE=class extends Error{constructor(e){super();e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}},pCe=(r,e,t)=>{let i=t.retries-(e-1);return r.attemptNumber=e,r.retriesLeft=i,r},bCe=r=>hCe.includes(r),kee=(r,e)=>new Promise((t,i)=>{e={onFailedAttempt:()=>{},retries:10,...e};let n=dCe.operation(e);n.attempt(async s=>{try{t(await r(s))}catch(o){if(!(o instanceof Error)){i(new TypeError(`Non-error was thrown: "${o}". You should only throw errors.`));return}if(o instanceof FE)n.stop(),i(o.originalError);else if(o instanceof TypeError&&!bCe(o.message))n.stop(),i(o);else{pCe(o,s,e);try{await e.onFailedAttempt(o)}catch(a){i(a);return}n.retry(o)||i(n.mainError())}}})});wg.exports=kee;wg.exports.default=kee;wg.exports.AbortError=FE});var Mee=M((vXe,Bee)=>{"use strict";function yCe(r){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(r)||/^::1$/.test(r)}Bee.exports=yCe});var Nee=M((xXe,Ree)=>{"use strict";var mCe=Mee();function gCe(r){let{address:e}=r.nodeAddress();return mCe(e)}Ree.exports=gCe});var Uee=M((wXe,Lee)=>{"use strict";var vCe=mee(),Pee=sr(),{promisify:KE}=vee(),{Multiaddr:xCe}=zi(),U1=Object.assign(Pee("libp2p:nat"),{error:Pee("libp2p:nat:err")}),{isBrowser:qee}=UE(),zE=Cee(),wCe=U7(),Oee=D7(),_Ce=Ht(),{codes:{ERR_INVALID_PARAMETERS:ECe}}=Ji(),SCe=Nee(),jE=7200;function ACe(r=1024,e=65535){return Math.floor(Math.random()*(e-r+1)+r)}var Dee=class{constructor({peerId:e,addressManager:t,transportManager:i,...n}){if(this._peerId=e,this._addressManager=t,this._transportManager=i,this._enabled=n.enabled,this._externalIp=n.externalIp,this._options={description:n.description||`${Oee.name}@${Oee.version} ${this._peerId}`,ttl:n.ttl||jE,autoUpdate:n.keepAlive||!0,gateway:n.gateway,enablePMP:Boolean(n.pmp&&n.pmp.enabled)},this._options.ttl<jE)throw _Ce(new Error(`NatManager ttl should be at least ${jE} seconds`),ECe)}start(){qee||!this._enabled||this._start().catch(e=>{U1.error(e)})}async _start(){let e=this._transportManager.getAddrs();for(let t of e){let{family:i,host:n,port:s,transport:o}=t.toOptions();if(!t.isThinWaistAddress()||o!=="tcp"||SCe(t)||i!==4)continue;let a=this._getClient(),f=this._externalIp||await a.externalIp();if(wCe(f))throw new Error(`${f} is private - please set config.nat.externalIp to an externally routable IP or ensure you are not behind a double NAT`);let c=ACe();U1(`opening uPnP connection from ${f}:${c} to ${n}:${s}`),await a.map({publicPort:c,privatePort:s,protocol:o.toUpperCase()}),this._addressManager.addObservedAddr(xCe.fromNodeAddress({family:4,address:f,port:c},o))}}_getClient(){if(this._client)return this._client;let e=new vCe(this._options),t=KE(e.map.bind(e)),i=KE(e.destroy.bind(e)),n=KE(e.externalIp.bind(e));return this._client={map:(...s)=>zE(()=>t(...s),{onFailedAttempt:U1.error,unref:!0}),destroy:(...s)=>zE(()=>i(...s),{onFailedAttempt:U1.error,unref:!0}),externalIp:(...s)=>zE(()=>n(...s),{onFailedAttempt:U1.error,unref:!0})},this._client}async stop(){if(!(qee||!this._client))try{await this._client.destroy(),this._client=null}catch(e){U1.error(e)}}};Lee.exports=Dee});var Hee=M((_Xe,Vee)=>{"use strict";var Fee=sr(),fo=Object.assign(Fee("libp2p"),{error:Fee("libp2p:err")}),ICe=Wn(),VE=Ht(),TCe=Gr(),{Multiaddr:kCe}=zi(),CCe=mH(),BCe=xH(),HE=R7(),{validate:MCe}=$$(),{codes:_g,messages:RCe}=Ji(),NCe=W$(),PCe=lG(),Kee=mW(),qCe=HW(),OCe=IZ(),zee=$J(),DCe=fX(),LCe=Z7(),UCe=FX(),FCe=wE(),KCe=bQ(),zCe=TQ(),jCe=qQ(),Eg=nee(),jee=yee(),VCe=jee.multicodecs,HCe=Uee(),{updateSelfPeerRecord:$Ce}=Y7(),Gb=class extends ICe{static async create(e){if(e.peerId)return new Gb(e);let t=await TCe.create();return e.peerId=t,new Gb(e)}constructor(e){super();if(this._options=MCe(e),this.peerId=this._options.peerId,this.datastore=this._options.datastore,this.peerStore=this.datastore&&this._options.peerStore.persistence?new zCe({peerId:this.peerId,datastore:this.datastore,...this._options.peerStore}):new FCe({peerId:this.peerId}),this.addresses=this._options.addresses,this.addressManager=new NCe(this.peerId,this._options.addresses),this.addressManager.on("change:addresses",()=>{$Ce(this).catch(i=>{fo.error("Error updating self peer record",i)})}),this._modules=this._options.modules,this._config=this._options.config,this._transport=[],this._discovery=new Map,this.connectionManager=new PCe(this,{autoDial:this._config.peerDiscovery.autoDial,...this._options.connectionManager}),this._options.metrics.enabled&&(this.metrics=new DCe({...this._options.metrics,connectionManager:this.connectionManager})),this._options.keychain&&this._options.keychain.datastore){fo("creating keychain");let i=zee.generateOptions();this.keychain=new zee(this._options.keychain.datastore,{...i,...this._options.keychain}),fo("keychain constructed")}if(this.upgrader=new UCe({localPeer:this.peerId,metrics:this.metrics,onConnection:i=>this.connectionManager.onConnect(i),onConnectionEnd:i=>this.connectionManager.onDisconnect(i)}),this.transportManager=new LCe({libp2p:this,upgrader:this.upgrader,faultTolerance:this._options.transportManager.faultTolerance}),this.natManager=new HCe({peerId:this.peerId,addressManager:this.addressManager,transportManager:this.transportManager,...this._options.config.nat}),this.registrar=new jCe({peerStore:this.peerStore,connectionManager:this.connectionManager}),this.handle=this.handle.bind(this),this.registrar.handle=this.handle,!this._modules.connEncryption||!this._modules.connEncryption.length)throw VE(new Error(RCe.CONN_ENCRYPTION_REQUIRED),_g.CONN_ENCRYPTION_REQUIRED);if(this._modules.connEncryption.forEach(i=>{this.upgrader.cryptos.set(i.protocol,i)}),this.dialer=new OCe({transportManager:this.transportManager,peerStore:this.peerStore,...this._options.dialer}),this._modules.transport.forEach(i=>{let n=i.prototype[Symbol.toStringTag],s=this._config.transport[n];this.transportManager.add(n,i,s)}),this._config.relay.enabled&&(this.transportManager.add(Kee.prototype[Symbol.toStringTag],Kee),this.relay=new qCe(this)),this._modules.streamMuxer&&(this._modules.streamMuxer.forEach(n=>{this.upgrader.muxers.set(n.multicodec,n)}),this.identifyService=new jee({libp2p:this}),this.handle(Object.values(VCe),this.identifyService.handleMessage)),this._modules.connProtector)this.upgrader.protector=this._modules.connProtector;else if(globalThis.process!==void 0&&globalThis.process.env&&globalThis.process.env.LIBP2P_FORCE_PNET)throw new Error("Private network is enforced, but no protector was provided");if(this._modules.dht){let i=this._modules.dht;this._dht=new i({libp2p:this,dialer:this.dialer,peerId:this.peerId,peerStore:this.peerStore,registrar:this.registrar,datastore:this.datastore,...this._config.dht})}if(this._modules.pubsub){let i=this._modules.pubsub;this.pubsub=KCe(i,this,this._config.pubsub)}this.peerRouting=new CCe(this),this.contentRouting=new BCe(this),Eg.mount(this),this._onDiscoveryPeer=this._onDiscoveryPeer.bind(this)}emit(e,...t){return e==="error"&&!this._events.error?(fo.error(t),!1):super.emit(e,...t)}async start(){fo("libp2p is starting");try{await this._onStarting(),await this._onDidStart(),fo("libp2p has started")}catch(e){throw this.emit("error",e),fo.error("An error occurred starting libp2p",e),await this.stop(),e}}async stop(){fo("libp2p is stopping");try{this._isStarted=!1,this.relay&&this.relay.stop(),this.peerRouting.stop();for(let e of this._discovery.values())e.removeListener("peer",this._onDiscoveryPeer);await Promise.all(Array.from(this._discovery.values(),e=>e.stop())),this._discovery=new Map,await this.peerStore.stop(),await this.connectionManager.stop(),await Promise.all([this.pubsub&&this.pubsub.stop(),this._dht&&this._dht.stop(),this.metrics&&this.metrics.stop()]),await this.natManager.stop(),await this.transportManager.close(),Eg.unmount(this),this.dialer.destroy()}catch(e){e&&(fo.error(e),this.emit("error",e))}fo("libp2p has stopped")}async loadKeychain(){if(!!this.keychain)try{await this.keychain.findKeyByName("self")}catch(e){await this.keychain.importPeer("self",this.peerId)}}isStarted(){return this._isStarted}get connections(){return this.connectionManager.connections}dial(e,t){return this._dial(e,t)}async dialProtocol(e,t,i){if(!t||!t.length)throw VE(new Error("no protocols were provided to open a stream"),_g.ERR_INVALID_PROTOCOLS_FOR_STREAM);return(await this._dial(e,i)).newStream(t)}async _dial(e,t){let{id:i,multiaddrs:n}=HE(e);if(i.equals(this.peerId))throw VE(new Error("Cannot dial self"),_g.ERR_DIALED_SELF);let s=this.connectionManager.get(i);return s?n&&this.peerStore.addressBook.add(i,n):s=await this.dialer.connectToPeer(e,t),s}get multiaddrs(){let e=this.addressManager.getAnnounceAddrs().map(n=>n.toString());e.length||(e=this.transportManager.getAddrs().map(n=>n.toString())),e=e.concat(this.addressManager.getObservedAddrs().map(n=>n.toString()));let t=this._options.addresses.announceFilter,i=new Set(e);return t(Array.from(i).map(n=>new kCe(n)))}async hangUp(e){let{id:t}=HE(e),i=this.connectionManager.connections.get(t.toB58String());!i||await Promise.all(i.map(n=>n.close()))}ping(e){let{id:t,multiaddrs:i}=HE(e);return i?Eg(this,i[0]):Eg(this,t)}handle(e,t){e=Array.isArray(e)?e:[e],e.forEach(i=>{this.upgrader.protocols.set(i,t)}),this.peerStore.protoBook.add(this.peerId,e)}unhandle(e){e=Array.isArray(e)?e:[e],e.forEach(t=>{this.upgrader.protocols.delete(t)}),this.peerStore.protoBook.remove(this.peerId,e)}async _onStarting(){let e=this.addressManager.getListenAddrs();await this.transportManager.listen(e),this.natManager.start(),await this.peerStore.start(),this._config.pubsub.enabled&&this.pubsub&&this.pubsub.start(),this._config.dht.enabled&&(this._dht&&this._dht.start(),this._dht.on("peer",this._onDiscoveryPeer)),this.metrics&&this.metrics.start()}async _onDidStart(){this._isStarted=!0,this.peerStore.on("peer",e=>{this.emit("peer:discovery",e),this._maybeConnect(e)});for(let e of this.peerStore.peers.values())this.emit("peer:discovery",e.id);this.connectionManager.start(),await this._setupPeerDiscovery(),this.relay&&this.relay.start(),this.peerRouting.start()}_onDiscoveryPeer(e){if(e.id.toB58String()===this.peerId.toB58String()){fo.error(new Error(_g.ERR_DISCOVERED_SELF));return}e.multiaddrs&&this.peerStore.addressBook.add(e.id,e.multiaddrs),e.protocols&&this.peerStore.protoBook.set(e.id,e.protocols)}async _maybeConnect(e){if(this._config.peerDiscovery.autoDial===!0&&!this.connectionManager.get(e)&&(this._options.connectionManager.minConnections||0)>this.connectionManager.size){fo("connecting to discovered peer %s",e.toB58String());try{await this.dialer.connectToPeer(e)}catch(i){fo.error(`could not connect to discovered peer ${e.toB58String()} with ${i}`)}}}async _setupPeerDiscovery(){let e=t=>{let i={enabled:!0};if(t.tag&&this._config.peerDiscovery&&this._config.peerDiscovery[t.tag]&&(i={...i,...this._config.peerDiscovery[t.tag]}),i.enabled&&!this._discovery.has(t.tag)){let n;typeof t=="function"?n=new t(Object.assign({},i,{peerId:this.peerId,libp2p:this})):n=t,n.on("peer",this._onDiscoveryPeer),this._discovery.set(t.tag,n)}};for(let t of this._modules.peerDiscovery||[])e(t);for(let t of this.transportManager.getTransports())t.discovery&&e(t.discovery);await Promise.all(Array.from(this._discovery.values(),t=>t.start()))}};Vee.exports=Gb});var $ee=M(()=>{});var Yee=M((AXe,Gee)=>{Gee.exports=typeof WebSocket=="undefined"?$ee():WebSocket});var lte=M(j1=>{"use strict";var $E=_d(),F1=Ed(),Wee=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;j1.Buffer=We;j1.SlowBuffer=XCe;j1.INSPECT_MAX_BYTES=50;var Sg=2147483647;j1.kMaxLength=Sg;We.TYPED_ARRAY_SUPPORT=GCe();!We.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function GCe(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(r){return!1}}Object.defineProperty(We.prototype,"parent",{enumerable:!0,get:function(){if(!!We.isBuffer(this))return this.buffer}});Object.defineProperty(We.prototype,"offset",{enumerable:!0,get:function(){if(!!We.isBuffer(this))return this.byteOffset}});function D0(r){if(r>Sg)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,We.prototype),e}function We(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return GE(r)}return Zee(r,e,t)}We.poolSize=8192;function Zee(r,e,t){if(typeof r=="string")return WCe(r,e);if(ArrayBuffer.isView(r))return ZCe(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Df(r,ArrayBuffer)||r&&Df(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Df(r,SharedArrayBuffer)||r&&Df(r.buffer,SharedArrayBuffer)))return WE(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return We.from(i,e,t);let n=JCe(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return We.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}We.from=function(r,e,t){return Zee(r,e,t)};Object.setPrototypeOf(We.prototype,Uint8Array.prototype);Object.setPrototypeOf(We,Uint8Array);function Jee(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function YCe(r,e,t){return Jee(r),r<=0?D0(r):e!==void 0?typeof t=="string"?D0(r).fill(e,t):D0(r).fill(e):D0(r)}We.alloc=function(r,e,t){return YCe(r,e,t)};function GE(r){return Jee(r),D0(r<0?0:ZE(r)|0)}We.allocUnsafe=function(r){return GE(r)};We.allocUnsafeSlow=function(r){return GE(r)};function WCe(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!We.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=Xee(r,e)|0,i=D0(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function YE(r){let e=r.length<0?0:ZE(r.length)|0,t=D0(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function ZCe(r){if(Df(r,Uint8Array)){let e=new Uint8Array(r);return WE(e.buffer,e.byteOffset,e.byteLength)}return YE(r)}function WE(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,We.prototype),i}function JCe(r){if(We.isBuffer(r)){let e=ZE(r.length)|0,t=D0(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||QE(r.length)?D0(0):YE(r);if(r.type==="Buffer"&&Array.isArray(r.data))return YE(r.data)}function ZE(r){if(r>=Sg)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Sg.toString(16)+" bytes");return r|0}function XCe(r){return+r!=r&&(r=0),We.alloc(+r)}We.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==We.prototype};We.compare=function(e,t){if(Df(e,Uint8Array)&&(e=We.from(e,e.offset,e.byteLength)),Df(t,Uint8Array)&&(t=We.from(t,t.offset,t.byteLength)),!We.isBuffer(e)||!We.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};We.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};We.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return We.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let n=We.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){let o=e[i];if(Df(o,Uint8Array))s+o.length>n.length?(We.isBuffer(o)||(o=We.from(o)),o.copy(n,s)):Uint8Array.prototype.set.call(n,o,s);else if(We.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function Xee(r,e){if(We.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Df(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return XE(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return ute(r).length;default:if(n)return i?-1:XE(r).length;e=(""+e).toLowerCase(),n=!0}}We.byteLength=Xee;function QCe(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return cBe(this,e,t);case"utf8":case"utf-8":return tte(this,e,t);case"ascii":return aBe(this,e,t);case"latin1":case"binary":return fBe(this,e,t);case"base64":return sBe(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return uBe(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}We.prototype._isBuffer=!0;function Il(r,e,t){let i=r[e];r[e]=r[t],r[t]=i}We.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Il(this,t,t+1);return this};We.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Il(this,t,t+3),Il(this,t+1,t+2);return this};We.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Il(this,t,t+7),Il(this,t+1,t+6),Il(this,t+2,t+5),Il(this,t+3,t+4);return this};We.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?tte(this,0,e):QCe.apply(this,arguments)};We.prototype.toLocaleString=We.prototype.toString;We.prototype.equals=function(e){if(!We.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:We.compare(this,e)===0};We.prototype.inspect=function(){let e="",t=j1.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Wee&&(We.prototype[Wee]=We.prototype.inspect);We.prototype.compare=function(e,t,i,n,s){if(Df(e,Uint8Array)&&(e=We.from(e,e.offset,e.byteLength)),!We.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let o=s-n,a=i-t,f=Math.min(o,a),c=this.slice(n,s),l=e.slice(t,i);for(let h=0;h<f;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0};function Qee(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,QE(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=We.from(e,i)),We.isBuffer(e))return e.length===0?-1:ete(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):ete(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function ete(r,e,t,i,n){let s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function f(l,h){return s===1?l[h]:l.readUInt16BE(h*s)}let c;if(n){let l=-1;for(c=t;c<o;c++)if(f(r,c)===f(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===a)return l*s}else l!==-1&&(c-=c-l),l=-1}else for(t+a>o&&(t=o-a),c=t;c>=0;c--){let l=!0;for(let h=0;h<a;h++)if(f(r,c+h)!==f(e,h)){l=!1;break}if(l)return c}return-1}We.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};We.prototype.indexOf=function(e,t,i){return Qee(this,e,t,i,!0)};We.prototype.lastIndexOf=function(e,t,i){return Qee(this,e,t,i,!1)};function eBe(r,e,t,i){t=Number(t)||0;let n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;let s=e.length;i>s/2&&(i=s/2);let o;for(o=0;o<i;++o){let a=parseInt(e.substr(o*2,2),16);if(QE(a))return o;r[t+o]=a}return o}function tBe(r,e,t,i){return Ag(XE(e,r.length-t),r,t,i)}function rBe(r,e,t,i){return Ag(pBe(e),r,t,i)}function iBe(r,e,t,i){return Ag(ute(e),r,t,i)}function nBe(r,e,t,i){return Ag(bBe(e,r.length-t),r,t,i)}We.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return eBe(this,e,t,i);case"utf8":case"utf-8":return tBe(this,e,t,i);case"ascii":case"latin1":case"binary":return rBe(this,e,t,i);case"base64":return iBe(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nBe(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};We.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function sBe(r,e,t){return e===0&&t===r.length?$E.fromByteArray(r):$E.fromByteArray(r.slice(e,t))}function tte(r,e,t){t=Math.min(r.length,t);let i=[],n=e;for(;n<t;){let s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){let f,c,l,h;switch(a){case 1:s<128&&(o=s);break;case 2:f=r[n+1],(f&192)==128&&(h=(s&31)<<6|f&63,h>127&&(o=h));break;case 3:f=r[n+1],c=r[n+2],(f&192)==128&&(c&192)==128&&(h=(s&15)<<12|(f&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:f=r[n+1],c=r[n+2],l=r[n+3],(f&192)==128&&(c&192)==128&&(l&192)==128&&(h=(s&15)<<18|(f&63)<<12|(c&63)<<6|l&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return oBe(i)}var rte=4096;function oBe(r){let e=r.length;if(e<=rte)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=rte));return t}function aBe(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function fBe(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function cBe(r,e,t){let i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let n="";for(let s=e;s<t;++s)n+=yBe[r[s]];return n}function uBe(r,e,t){let i=r.slice(e,t),n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}We.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,We.prototype),n};function Bn(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}We.prototype.readUintLE=We.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Bn(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return n};We.prototype.readUintBE=We.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Bn(e,t,this.length);let n=this[e+--t],s=1;for(;t>0&&(s*=256);)n+=this[e+--t]*s;return n};We.prototype.readUint8=We.prototype.readUInt8=function(e,t){return e=e>>>0,t||Bn(e,1,this.length),this[e]};We.prototype.readUint16LE=We.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Bn(e,2,this.length),this[e]|this[e+1]<<8};We.prototype.readUint16BE=We.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Bn(e,2,this.length),this[e]<<8|this[e+1]};We.prototype.readUint32LE=We.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Bn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};We.prototype.readUint32BE=We.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Bn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};We.prototype.readBigUInt64LE=$c(function(e){e=e>>>0,z1(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Yb(e,this.length-8);let n=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))});We.prototype.readBigUInt64BE=$c(function(e){e=e>>>0,z1(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Yb(e,this.length-8);let n=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(s)});We.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Bn(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};We.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Bn(e,t,this.length);let n=t,s=1,o=this[e+--n];for(;n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};We.prototype.readInt8=function(e,t){return e=e>>>0,t||Bn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};We.prototype.readInt16LE=function(e,t){e=e>>>0,t||Bn(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};We.prototype.readInt16BE=function(e,t){e=e>>>0,t||Bn(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};We.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Bn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};We.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Bn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};We.prototype.readBigInt64LE=$c(function(e){e=e>>>0,z1(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Yb(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});We.prototype.readBigInt64BE=$c(function(e){e=e>>>0,z1(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Yb(e,this.length-8);let n=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});We.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Bn(e,4,this.length),F1.read(this,e,!0,23,4)};We.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Bn(e,4,this.length),F1.read(this,e,!1,23,4)};We.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Bn(e,8,this.length),F1.read(this,e,!0,52,8)};We.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Bn(e,8,this.length),F1.read(this,e,!1,52,8)};function Vs(r,e,t,i,n,s){if(!We.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}We.prototype.writeUintLE=We.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;Vs(this,e,t,i,a,0)}let s=1,o=0;for(this[t]=e&255;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i};We.prototype.writeUintBE=We.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;Vs(this,e,t,i,a,0)}let s=i-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i};We.prototype.writeUint8=We.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||Vs(this,e,t,1,255,0),this[t]=e&255,t+1};We.prototype.writeUint16LE=We.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Vs(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};We.prototype.writeUint16BE=We.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Vs(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};We.prototype.writeUint32LE=We.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Vs(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};We.prototype.writeUint32BE=We.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Vs(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function ite(r,e,t,i,n){cte(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function nte(r,e,t,i,n){cte(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}We.prototype.writeBigUInt64LE=$c(function(e,t=0){return ite(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});We.prototype.writeBigUInt64BE=$c(function(e,t=0){return nte(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});We.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let f=Math.pow(2,8*i-1);Vs(this,e,t,i,f-1,-f)}let s=0,o=1,a=0;for(this[t]=e&255;++s<i&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};We.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let f=Math.pow(2,8*i-1);Vs(this,e,t,i,f-1,-f)}let s=i-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};We.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||Vs(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};We.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Vs(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};We.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Vs(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};We.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Vs(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};We.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Vs(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};We.prototype.writeBigInt64LE=$c(function(e,t=0){return ite(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});We.prototype.writeBigInt64BE=$c(function(e,t=0){return nte(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ste(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function ote(r,e,t,i,n){return e=+e,t=t>>>0,n||ste(r,e,t,4,34028234663852886e22,-34028234663852886e22),F1.write(r,e,t,i,23,4),t+4}We.prototype.writeFloatLE=function(e,t,i){return ote(this,e,t,!0,i)};We.prototype.writeFloatBE=function(e,t,i){return ote(this,e,t,!1,i)};function ate(r,e,t,i,n){return e=+e,t=t>>>0,n||ste(r,e,t,8,17976931348623157e292,-17976931348623157e292),F1.write(r,e,t,i,52,8),t+8}We.prototype.writeDoubleLE=function(e,t,i){return ate(this,e,t,!0,i)};We.prototype.writeDoubleBE=function(e,t,i){return ate(this,e,t,!1,i)};We.prototype.copy=function(e,t,i,n){if(!We.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);let s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};We.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!We.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{let o=We.isBuffer(e)?e:We.from(e,n),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var K1={};function JE(r,e,t){K1[r]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}JE("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);JE("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);JE("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,n=t;return Number.isInteger(t)&&Math.abs(t)>2**32?n=fte(String(t)):typeof t=="bigint"&&(n=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(n=fte(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function fte(r){let e="",t=r.length,i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function lBe(r,e,t){z1(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Yb(e,r.length-(t+1))}function cte(r,e,t,i,n,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${t}${o}`,new K1.ERR_OUT_OF_RANGE("value",a,r)}lBe(i,n,s)}function z1(r,e){if(typeof r!="number")throw new K1.ERR_INVALID_ARG_TYPE(e,"number",r)}function Yb(r,e,t){throw Math.floor(r)!==r?(z1(r,t),new K1.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new K1.ERR_BUFFER_OUT_OF_BOUNDS:new K1.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var dBe=/[^+/0-9A-Za-z-_]/g;function hBe(r){if(r=r.split("=")[0],r=r.trim().replace(dBe,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function XE(r,e){e=e||Infinity;let t,i=r.length,n=null,s=[];for(let o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function pBe(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function bBe(r,e){let t,i,n,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function ute(r){return $E.toByteArray(hBe(r))}function Ag(r,e,t,i){let n;for(n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Df(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function QE(r){return r!==r}var yBe=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let n=0;n<16;++n)e[i+n]=r[t]+r[n]}return e}();function $c(r){return typeof BigInt=="undefined"?mBe:r}function mBe(){throw new Error("BigInt not supported")}});var hte=M(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});var dte=class{constructor(){this.pullQueue=[],this.pushQueue=[],this.eventHandlers={},this.isPaused=!1,this.isStopped=!1}push(e){if(this.isStopped)return;let t={value:e,done:!1};if(this.pullQueue.length){let i=this.pullQueue.shift();i&&i.resolve(t)}else this.pushQueue.push(Promise.resolve(t)),this.highWaterMark!==void 0&&this.pushQueue.length>=this.highWaterMark&&!this.isPaused&&(this.isPaused=!0,this.eventHandlers.highWater?this.eventHandlers.highWater():console&&console.warn(`EventIterator queue reached ${this.pushQueue.length} items`))}stop(){if(!this.isStopped){this.isStopped=!0,this.remove();for(let e of this.pullQueue)e.resolve({value:void 0,done:!0});this.pullQueue.length=0}}fail(e){if(!this.isStopped)if(this.isStopped=!0,this.remove(),this.pullQueue.length){for(let t of this.pullQueue)t.reject(e);this.pullQueue.length=0}else{let t=Promise.reject(e);t.catch(()=>{}),this.pushQueue.push(t)}}remove(){Promise.resolve().then(()=>{this.removeCallback&&this.removeCallback()})}[Symbol.asyncIterator](){return{next:e=>{let t=this.pushQueue.shift();return t?(this.lowWaterMark!==void 0&&this.pushQueue.length<=this.lowWaterMark&&this.isPaused&&(this.isPaused=!1,this.eventHandlers.lowWater&&this.eventHandlers.lowWater()),t):this.isStopped?Promise.resolve({value:void 0,done:!0}):new Promise((i,n)=>{this.pullQueue.push({resolve:i,reject:n})})},return:()=>(this.isStopped=!0,this.pushQueue.length=0,this.remove(),Promise.resolve({value:void 0,done:!0}))}}},eS=class{constructor(e,{highWaterMark:t=100,lowWaterMark:i=1}={}){let n=new dte;n.highWaterMark=t,n.lowWaterMark=i,n.removeCallback=e({push:s=>n.push(s),stop:()=>n.stop(),fail:s=>n.fail(s),on:(s,o)=>{n.eventHandlers[s]=o}})||(()=>{}),this[Symbol.asyncIterator]=()=>n[Symbol.asyncIterator](),Object.freeze(this)}};Ig.EventIterator=eS;Ig.default=eS});var pte=M(Wb=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0});var tS=hte();Wb.EventIterator=tS.EventIterator;function gBe(r,e,t){return new tS.EventIterator(({push:i})=>(this.addEventListener(r,i,e),()=>this.removeEventListener(r,i,e)),t)}Wb.subscribe=gBe;Wb.default=tS.EventIterator});var yte=M((BXe,bte)=>{var{Buffer:vBe}=lte(),{EventIterator:xBe}=pte();function wBe(r){return r instanceof ArrayBuffer||r!=null&&r.constructor!=null&&r.constructor.name==="ArrayBuffer"&&typeof r.byteLength=="number"}bte.exports=r=>{let e=r.removeEventListener||r.removeListener,t=async function*(){let s=new xBe(({push:o,stop:a,fail:f})=>(r.addEventListener("message",o),r.addEventListener("error",f),r.addEventListener("close",a),()=>{e.call(r,"message",o),e.call(r,"error",f),e.call(r,"close",a)}),{highWaterMark:Infinity});for await(let{data:o}of s)yield wBe(o)?vBe.from(o):o}(),i=r.readyState===1,n;return r.addEventListener("open",()=>{i=!0,n=null}),r.addEventListener("close",()=>{i=!1,n=null}),r.addEventListener("error",s=>{i||(n=s)}),t.connected=()=>new Promise((s,o)=>{if(i)return s();if(n)return o(n);let a=l=>{e.call(r,"open",f),e.call(r,"error",c),l()},f=()=>a(s),c=l=>a(()=>o(l));r.addEventListener("open",f),r.addEventListener("error",c)}),t}});var gte=M((MXe,mte)=>{mte.exports=async r=>{if(r.readyState>=2)throw new Error("socket closed");if(r.readyState!==1)return new Promise((e,t)=>{let i=r&&(r.removeEventListener||r.removeListener);function n(){typeof i=="function"&&(i.call(r,"open",s),i.call(r,"error",o))}function s(){n(),e()}function o(a){n(),t(a)}r.addEventListener("open",s),r.addEventListener("error",o)})}});var xte=M((RXe,vte)=>{var _Be=gte();vte.exports=(r,e)=>(e=e||{},e.closeOnEnd=e.closeOnEnd!==!1,async t=>{for await(let i of t){try{await _Be(r)}catch(n){if(n.message==="socket closed")break;throw n}r.send(i)}if(e.closeOnEnd&&r.readyState<=1)return new Promise((i,n)=>{r.addEventListener("close",s=>{if(s.wasClean||s.code===1006)i();else{let o=Object.assign(new Error("ws error"),{event:s});n(o)}}),setTimeout(()=>r.close())})})});var _te=M((NXe,wte)=>{var EBe=yte(),SBe=xte();wte.exports=(r,e)=>{e=e||{},e.binaryType?r.binaryType=e.binaryType:e.binary&&(r.binaryType="arraybuffer");let t={sink:SBe(r,e),source:EBe(r,e),connected:()=>t.source.connected()};return t}});var rS=M((PXe,Ate)=>{"use strict";var ABe=typeof navigator!="undefined"&&navigator.product==="ReactNative";function IBe(){return ABe?"http://localhost":self.location.protocol+"//"+self.location.host}var Zb=self.URL,Ete=IBe(),Ste=class{constructor(e="",t=Ete){this.super=new Zb(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set username(e){this.super.username=e}static createObjectURL(e){return Zb.createObjectURL(e)}static revokeObjectURL(e){Zb.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function TBe(r){if(typeof r=="string")return new Zb(r).toString();if(!(r instanceof Zb)){let e=r.username&&r.password?`${r.username}:${r.password}@`:"",t=r.auth?r.auth+"@":"",i=r.port?":"+r.port:"",n=r.protocol?r.protocol+"//":"",s=r.host||"",o=r.hostname||"",a=r.search||(r.query?"?"+r.query:""),f=r.hash||"",c=r.pathname||"",l=r.path||c+a;return`${n}${e||t}${s||o+i}${l}${f}`}}Ate.exports={URLWithLegacySupport:Ste,URLSearchParams:self.URLSearchParams,defaultBase:Ete,format:TBe}});var kte=M((qXe,Tte)=>{"use strict";var{URLWithLegacySupport:Ite,format:kBe}=rS();Tte.exports=(r,e={},t={},i)=>{let n=e.protocol?e.protocol.replace(":",""):"http";n=(t[n]||i||n)+":";let s;try{s=new Ite(r)}catch(a){s={}}let o=Object.assign({},e,{protocol:n||s.protocol,host:e.host||s.host});return new Ite(r,kBe(o)).toString()}});var Bte=M((OXe,Cte)=>{"use strict";var{URLWithLegacySupport:CBe,format:BBe,URLSearchParams:MBe,defaultBase:RBe}=rS(),NBe=kte();Cte.exports={URL:CBe,URLSearchParams:MBe,format:BBe,relative:NBe,defaultBase:RBe}});var Rte=M((DXe,Mte)=>{var{relative:PBe}=Bte(),qBe={http:"ws",https:"wss"},OBe="ws";Mte.exports=(r,e)=>PBe(r,e,qBe,OBe)});var Nte=M((LXe,Tg)=>{"use strict";var DBe=Yee(),LBe=_te(),UBe=Rte();Tg.exports=function(r,e={}){let t=typeof window=="undefined"?{}:window.location,i=UBe(r,t),n=new DBe(i,e.websocket),s=LBe(n,e);return s.remoteAddress=i,s.close=()=>new Promise((o,a)=>{n.addEventListener("close",o),n.close()}),s.destroy=()=>{n.terminate?n.terminate():n.close()},s.socket=n,s};Tg.exports.connect=Tg.exports});var qte=M((UXe,Pte)=>{var{Multiaddr:FBe}=zi(),kg=(r,e)=>e,KBe=(r,e,t,i)=>{if(i&&i.assumeHttp===!1)return`tcp://${r}:${e}`;let n="tcp",s=`:${e}`;return t[t.length-1].protocol==="tcp"&&(n=e==="443"?"https":"http",s=e==="443"||e==="80"?"":s),`${n}://${r}${s}`},zBe={ip4:kg,ip6:(r,e,t,i)=>i.length===1&&i[0].protocol==="ip6"?e:`[${e}]`,tcp:(r,e,t,i,n)=>i.some(s=>["http","https","ws","wss"].includes(s.protocol))?`${r}:${e}`:KBe(r,e,i,n),udp:(r,e)=>`udp://${r}:${e}`,dnsaddr:kg,dns4:kg,dns6:kg,ipfs:(r,e)=>`${r}/ipfs/${e}`,p2p:(r,e)=>`${r}/p2p/${e}`,http:r=>`http://${r}`,https:r=>`https://${r}`,ws:r=>`ws://${r}`,wss:r=>`wss://${r}`,"p2p-websocket-star":r=>`${r}/p2p-websocket-star`,"p2p-webrtc-star":r=>`${r}/p2p-webrtc-star`,"p2p-webrtc-direct":r=>`${r}/p2p-webrtc-direct`};Pte.exports=(r,e)=>{let t=new FBe(r),i=r.toString().split("/").slice(1);return t.tuples().map(n=>({protocol:i.shift(),content:n[1]?i.shift():null})).reduce((n,s,o,a)=>{let f=zBe[s.protocol];if(!f)throw new Error(`Unsupported protocol ${s.protocol}`);return f(n,s.content,o,a,e)},"")}});var Dte=M((FXe,Ote)=>{"use strict";Ote.exports=function(){throw new Error("WebSocket Servers can not be created in the browser!")}});var iS=M(Tl=>{"use strict";Tl.CODE_P2P=421;Tl.CODE_CIRCUIT=290;Tl.CODE_TCP=6;Tl.CODE_WS=477;Tl.CODE_WSS=478;Tl.CLOSE_TIMEOUT=2e3});var nS=M(V1=>{"use strict";Object.defineProperty(V1,"__esModule",{value:!0});V1.isCorrect=V1.isInSubnet=void 0;function jBe(r){return this.subnetMask<r.subnetMask?!1:this.mask(r.subnetMask)===r.mask()}V1.isInSubnet=jBe;function VBe(r){return function(){return this.addressMinusSuffix!==this.correctForm()?!1:this.subnetMask===r&&!this.parsedSubnet?!0:this.parsedSubnet===String(this.subnetMask)}}V1.isCorrect=VBe});var sS=M(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.RE_SUBNET_STRING=Lf.RE_ADDRESS=Lf.GROUPS=Lf.BITS=void 0;Lf.BITS=32;Lf.GROUPS=4;Lf.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g;Lf.RE_SUBNET_STRING=/\/\d{1,2}$/});var oS=M(H1=>{"use strict";var HBe=H1&&H1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(H1,"__esModule",{value:!0});H1.AddressError=void 0;var $Be=function(r){HBe(e,r);function e(t,i){var n=r.call(this,t)||this;return n.name="AddressError",i!==null&&(n.parseMessage=i),n}return e}(Error);H1.AddressError=$Be});var aS=M((Cg,Lte)=>{(function(){var r,e=244837814094590,t=(e&16777215)==15715070;function i(Q,ne,ye){Q!=null&&(typeof Q=="number"?this.fromNumber(Q,ne,ye):ne==null&&typeof Q!="string"?this.fromString(Q,256):this.fromString(Q,ne))}function n(){return new i(null)}function s(Q,ne,ye,Ie,Ve,et){for(;--et>=0;){var ct=ne*this[Q++]+ye[Ie]+Ve;Ve=Math.floor(ct/67108864),ye[Ie++]=ct&67108863}return Ve}function o(Q,ne,ye,Ie,Ve,et){for(var ct=ne&32767,qt=ne>>15;--et>=0;){var ui=this[Q]&32767,un=this[Q++]>>15,co=qt*ui+un*ct;ui=ct*ui+((co&32767)<<15)+ye[Ie]+(Ve&1073741823),Ve=(ui>>>30)+(co>>>15)+qt*un+(Ve>>>30),ye[Ie++]=ui&1073741823}return Ve}function a(Q,ne,ye,Ie,Ve,et){for(var ct=ne&16383,qt=ne>>14;--et>=0;){var ui=this[Q]&16383,un=this[Q++]>>14,co=qt*ui+un*ct;ui=ct*ui+((co&16383)<<14)+ye[Ie]+Ve,Ve=(ui>>28)+(co>>14)+qt*un,ye[Ie++]=ui&268435455}return Ve}var f=typeof navigator!="undefined";f&&t&&navigator.appName=="Microsoft Internet Explorer"?(i.prototype.am=o,r=30):f&&t&&navigator.appName!="Netscape"?(i.prototype.am=s,r=26):(i.prototype.am=a,r=28),i.prototype.DB=r,i.prototype.DM=(1<<r)-1,i.prototype.DV=1<<r;var c=52;i.prototype.FV=Math.pow(2,c),i.prototype.F1=c-r,i.prototype.F2=2*r-c;var l="0123456789abcdefghijklmnopqrstuvwxyz",h=new Array,x,_;for(x="0".charCodeAt(0),_=0;_<=9;++_)h[x++]=_;for(x="a".charCodeAt(0),_=10;_<36;++_)h[x++]=_;for(x="A".charCodeAt(0),_=10;_<36;++_)h[x++]=_;function E(Q){return l.charAt(Q)}function C(Q,ne){var ye=h[Q.charCodeAt(ne)];return ye??-1}function L(Q){for(var ne=this.t-1;ne>=0;--ne)Q[ne]=this[ne];Q.t=this.t,Q.s=this.s}function O(Q){this.t=1,this.s=Q<0?-1:0,Q>0?this[0]=Q:Q<-1?this[0]=Q+this.DV:this.t=0}function W(Q){var ne=n();return ne.fromInt(Q),ne}function ee(Q,ne){var ye;if(ne==16)ye=4;else if(ne==8)ye=3;else if(ne==256)ye=8;else if(ne==2)ye=1;else if(ne==32)ye=5;else if(ne==4)ye=2;else{this.fromRadix(Q,ne);return}this.t=0,this.s=0;for(var Ie=Q.length,Ve=!1,et=0;--Ie>=0;){var ct=ye==8?Q[Ie]&255:C(Q,Ie);if(ct<0){Q.charAt(Ie)=="-"&&(Ve=!0);continue}Ve=!1,et==0?this[this.t++]=ct:et+ye>this.DB?(this[this.t-1]|=(ct&(1<<this.DB-et)-1)<<et,this[this.t++]=ct>>this.DB-et):this[this.t-1]|=ct<<et,et+=ye,et>=this.DB&&(et-=this.DB)}ye==8&&(Q[0]&128)!=0&&(this.s=-1,et>0&&(this[this.t-1]|=(1<<this.DB-et)-1<<et)),this.clamp(),Ve&&i.ZERO.subTo(this,this)}function N(){for(var Q=this.s&this.DM;this.t>0&&this[this.t-1]==Q;)--this.t}function V(Q){if(this.s<0)return"-"+this.negate().toString(Q);var ne;if(Q==16)ne=4;else if(Q==8)ne=3;else if(Q==2)ne=1;else if(Q==32)ne=5;else if(Q==4)ne=2;else return this.toRadix(Q);var ye=(1<<ne)-1,Ie,Ve=!1,et="",ct=this.t,qt=this.DB-ct*this.DB%ne;if(ct-- >0)for(qt<this.DB&&(Ie=this[ct]>>qt)>0&&(Ve=!0,et=E(Ie));ct>=0;)qt<ne?(Ie=(this[ct]&(1<<qt)-1)<<ne-qt,Ie|=this[--ct]>>(qt+=this.DB-ne)):(Ie=this[ct]>>(qt-=ne)&ye,qt<=0&&(qt+=this.DB,--ct)),Ie>0&&(Ve=!0),Ve&&(et+=E(Ie));return Ve?et:"0"}function z(){var Q=n();return i.ZERO.subTo(this,Q),Q}function F(){return this.s<0?this.negate():this}function H(Q){var ne=this.s-Q.s;if(ne!=0)return ne;var ye=this.t;if(ne=ye-Q.t,ne!=0)return this.s<0?-ne:ne;for(;--ye>=0;)if((ne=this[ye]-Q[ye])!=0)return ne;return 0}function K(Q){var ne=1,ye;return(ye=Q>>>16)!=0&&(Q=ye,ne+=16),(ye=Q>>8)!=0&&(Q=ye,ne+=8),(ye=Q>>4)!=0&&(Q=ye,ne+=4),(ye=Q>>2)!=0&&(Q=ye,ne+=2),(ye=Q>>1)!=0&&(Q=ye,ne+=1),ne}function S(){return this.t<=0?0:this.DB*(this.t-1)+K(this[this.t-1]^this.s&this.DM)}function w(Q,ne){var ye;for(ye=this.t-1;ye>=0;--ye)ne[ye+Q]=this[ye];for(ye=Q-1;ye>=0;--ye)ne[ye]=0;ne.t=this.t+Q,ne.s=this.s}function T(Q,ne){for(var ye=Q;ye<this.t;++ye)ne[ye-Q]=this[ye];ne.t=Math.max(this.t-Q,0),ne.s=this.s}function v(Q,ne){var ye=Q%this.DB,Ie=this.DB-ye,Ve=(1<<Ie)-1,et=Math.floor(Q/this.DB),ct=this.s<<ye&this.DM,qt;for(qt=this.t-1;qt>=0;--qt)ne[qt+et+1]=this[qt]>>Ie|ct,ct=(this[qt]&Ve)<<ye;for(qt=et-1;qt>=0;--qt)ne[qt]=0;ne[et]=ct,ne.t=this.t+et+1,ne.s=this.s,ne.clamp()}function u(Q,ne){ne.s=this.s;var ye=Math.floor(Q/this.DB);if(ye>=this.t){ne.t=0;return}var Ie=Q%this.DB,Ve=this.DB-Ie,et=(1<<Ie)-1;ne[0]=this[ye]>>Ie;for(var ct=ye+1;ct<this.t;++ct)ne[ct-ye-1]|=(this[ct]&et)<<Ve,ne[ct-ye]=this[ct]>>Ie;Ie>0&&(ne[this.t-ye-1]|=(this.s&et)<<Ve),ne.t=this.t-ye,ne.clamp()}function d(Q,ne){for(var ye=0,Ie=0,Ve=Math.min(Q.t,this.t);ye<Ve;)Ie+=this[ye]-Q[ye],ne[ye++]=Ie&this.DM,Ie>>=this.DB;if(Q.t<this.t){for(Ie-=Q.s;ye<this.t;)Ie+=this[ye],ne[ye++]=Ie&this.DM,Ie>>=this.DB;Ie+=this.s}else{for(Ie+=this.s;ye<Q.t;)Ie-=Q[ye],ne[ye++]=Ie&this.DM,Ie>>=this.DB;Ie-=Q.s}ne.s=Ie<0?-1:0,Ie<-1?ne[ye++]=this.DV+Ie:Ie>0&&(ne[ye++]=Ie),ne.t=ye,ne.clamp()}function y(Q,ne){var ye=this.abs(),Ie=Q.abs(),Ve=ye.t;for(ne.t=Ve+Ie.t;--Ve>=0;)ne[Ve]=0;for(Ve=0;Ve<Ie.t;++Ve)ne[Ve+ye.t]=ye.am(0,Ie[Ve],ne,Ve,0,ye.t);ne.s=0,ne.clamp(),this.s!=Q.s&&i.ZERO.subTo(ne,ne)}function g(Q){for(var ne=this.abs(),ye=Q.t=2*ne.t;--ye>=0;)Q[ye]=0;for(ye=0;ye<ne.t-1;++ye){var Ie=ne.am(ye,ne[ye],Q,2*ye,0,1);(Q[ye+ne.t]+=ne.am(ye+1,2*ne[ye],Q,2*ye+1,Ie,ne.t-ye-1))>=ne.DV&&(Q[ye+ne.t]-=ne.DV,Q[ye+ne.t+1]=1)}Q.t>0&&(Q[Q.t-1]+=ne.am(ye,ne[ye],Q,2*ye,0,1)),Q.s=0,Q.clamp()}function m(Q,ne,ye){var Ie=Q.abs();if(!(Ie.t<=0)){var Ve=this.abs();if(Ve.t<Ie.t){ne!=null&&ne.fromInt(0),ye!=null&&this.copyTo(ye);return}ye==null&&(ye=n());var et=n(),ct=this.s,qt=Q.s,ui=this.DB-K(Ie[Ie.t-1]);ui>0?(Ie.lShiftTo(ui,et),Ve.lShiftTo(ui,ye)):(Ie.copyTo(et),Ve.copyTo(ye));var un=et.t,co=et[un-1];if(co!=0){var Ys=co*(1<<this.F1)+(un>1?et[un-2]>>this.F2:0),Hf=this.FV/Ys,k6=(1<<this.F1)/Ys,ta=1<<this.F2,ra=ye.t,C6=ra-un,Y0=ne??n();for(et.dlShiftTo(C6,Y0),ye.compareTo(Y0)>=0&&(ye[ye.t++]=1,ye.subTo(Y0,ye)),i.ONE.dlShiftTo(un,Y0),Y0.subTo(et,et);et.t<un;)et[et.t++]=0;for(;--C6>=0;){var M8=ye[--ra]==co?this.DM:Math.floor(ye[ra]*Hf+(ye[ra-1]+ta)*k6);if((ye[ra]+=et.am(0,M8,ye,C6,0,un))<M8)for(et.dlShiftTo(C6,Y0),ye.subTo(Y0,ye);ye[ra]<--M8;)ye.subTo(Y0,ye)}ne!=null&&(ye.drShiftTo(un,ne),ct!=qt&&i.ZERO.subTo(ne,ne)),ye.t=un,ye.clamp(),ui>0&&ye.rShiftTo(ui,ye),ct<0&&i.ZERO.subTo(ye,ye)}}}function b(Q){var ne=n();return this.abs().divRemTo(Q,null,ne),this.s<0&&ne.compareTo(i.ZERO)>0&&Q.subTo(ne,ne),ne}function A(Q){this.m=Q}function I(Q){return Q.s<0||Q.compareTo(this.m)>=0?Q.mod(this.m):Q}function p(Q){return Q}function B(Q){Q.divRemTo(this.m,null,Q)}function ce(Q,ne,ye){Q.multiplyTo(ne,ye),this.reduce(ye)}function R(Q,ne){Q.squareTo(ne),this.reduce(ne)}A.prototype.convert=I,A.prototype.revert=p,A.prototype.reduce=B,A.prototype.mulTo=ce,A.prototype.sqrTo=R;function fe(){if(this.t<1)return 0;var Q=this[0];if((Q&1)==0)return 0;var ne=Q&3;return ne=ne*(2-(Q&15)*ne)&15,ne=ne*(2-(Q&255)*ne)&255,ne=ne*(2-((Q&65535)*ne&65535))&65535,ne=ne*(2-Q*ne%this.DV)%this.DV,ne>0?this.DV-ne:-ne}function se(Q){this.m=Q,this.mp=Q.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<Q.DB-15)-1,this.mt2=2*Q.t}function U(Q){var ne=n();return Q.abs().dlShiftTo(this.m.t,ne),ne.divRemTo(this.m,null,ne),Q.s<0&&ne.compareTo(i.ZERO)>0&&this.m.subTo(ne,ne),ne}function Z(Q){var ne=n();return Q.copyTo(ne),this.reduce(ne),ne}function j(Q){for(;Q.t<=this.mt2;)Q[Q.t++]=0;for(var ne=0;ne<this.m.t;++ne){var ye=Q[ne]&32767,Ie=ye*this.mpl+((ye*this.mph+(Q[ne]>>15)*this.mpl&this.um)<<15)&Q.DM;for(ye=ne+this.m.t,Q[ye]+=this.m.am(0,Ie,Q,ne,0,this.m.t);Q[ye]>=Q.DV;)Q[ye]-=Q.DV,Q[++ye]++}Q.clamp(),Q.drShiftTo(this.m.t,Q),Q.compareTo(this.m)>=0&&Q.subTo(this.m,Q)}function J(Q,ne){Q.squareTo(ne),this.reduce(ne)}function k(Q,ne,ye){Q.multiplyTo(ne,ye),this.reduce(ye)}se.prototype.convert=U,se.prototype.revert=Z,se.prototype.reduce=j,se.prototype.mulTo=k,se.prototype.sqrTo=J;function $(){return(this.t>0?this[0]&1:this.s)==0}function X(Q,ne){if(Q>4294967295||Q<1)return i.ONE;var ye=n(),Ie=n(),Ve=ne.convert(this),et=K(Q)-1;for(Ve.copyTo(ye);--et>=0;)if(ne.sqrTo(ye,Ie),(Q&1<<et)>0)ne.mulTo(Ie,Ve,ye);else{var ct=ye;ye=Ie,Ie=ct}return ne.revert(ye)}function Y(Q,ne){var ye;return Q<256||ne.isEven()?ye=new A(ne):ye=new se(ne),this.exp(Q,ye)}i.prototype.copyTo=L,i.prototype.fromInt=O,i.prototype.fromString=ee,i.prototype.clamp=N,i.prototype.dlShiftTo=w,i.prototype.drShiftTo=T,i.prototype.lShiftTo=v,i.prototype.rShiftTo=u,i.prototype.subTo=d,i.prototype.multiplyTo=y,i.prototype.squareTo=g,i.prototype.divRemTo=m,i.prototype.invDigit=fe,i.prototype.isEven=$,i.prototype.exp=X,i.prototype.toString=V,i.prototype.negate=z,i.prototype.abs=F,i.prototype.compareTo=H,i.prototype.bitLength=S,i.prototype.mod=b,i.prototype.modPowInt=Y,i.ZERO=W(0),i.ONE=W(1);function ve(){var Q=n();return this.copyTo(Q),Q}function ue(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function ge(){return this.t==0?this.s:this[0]<<24>>24}function xe(){return this.t==0?this.s:this[0]<<16>>16}function we(Q){return Math.floor(Math.LN2*this.DB/Math.log(Q))}function Me(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function pe(Q){if(Q==null&&(Q=10),this.signum()==0||Q<2||Q>36)return"0";var ne=this.chunkSize(Q),ye=Math.pow(Q,ne),Ie=W(ye),Ve=n(),et=n(),ct="";for(this.divRemTo(Ie,Ve,et);Ve.signum()>0;)ct=(ye+et.intValue()).toString(Q).substr(1)+ct,Ve.divRemTo(Ie,Ve,et);return et.intValue().toString(Q)+ct}function be(Q,ne){this.fromInt(0),ne==null&&(ne=10);for(var ye=this.chunkSize(ne),Ie=Math.pow(ne,ye),Ve=!1,et=0,ct=0,qt=0;qt<Q.length;++qt){var ui=C(Q,qt);if(ui<0){Q.charAt(qt)=="-"&&this.signum()==0&&(Ve=!0);continue}ct=ne*ct+ui,++et>=ye&&(this.dMultiply(Ie),this.dAddOffset(ct,0),et=0,ct=0)}et>0&&(this.dMultiply(Math.pow(ne,et)),this.dAddOffset(ct,0)),Ve&&i.ZERO.subTo(this,this)}function D(Q,ne,ye){if(typeof ne=="number")if(Q<2)this.fromInt(1);else for(this.fromNumber(Q,ye),this.testBit(Q-1)||this.bitwiseTo(i.ONE.shiftLeft(Q-1),q,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(ne);)this.dAddOffset(2,0),this.bitLength()>Q&&this.subTo(i.ONE.shiftLeft(Q-1),this);else{var Ie=new Array,Ve=Q&7;Ie.length=(Q>>3)+1,ne.nextBytes(Ie),Ve>0?Ie[0]&=(1<<Ve)-1:Ie[0]=0,this.fromString(Ie,256)}}function _e(){var Q=this.t,ne=new Array;ne[0]=this.s;var ye=this.DB-Q*this.DB%8,Ie,Ve=0;if(Q-- >0)for(ye<this.DB&&(Ie=this[Q]>>ye)!=(this.s&this.DM)>>ye&&(ne[Ve++]=Ie|this.s<<this.DB-ye);Q>=0;)ye<8?(Ie=(this[Q]&(1<<ye)-1)<<8-ye,Ie|=this[--Q]>>(ye+=this.DB-8)):(Ie=this[Q]>>(ye-=8)&255,ye<=0&&(ye+=this.DB,--Q)),(Ie&128)!=0&&(Ie|=-256),Ve==0&&(this.s&128)!=(Ie&128)&&++Ve,(Ve>0||Ie!=this.s)&&(ne[Ve++]=Ie);return ne}function de(Q){return this.compareTo(Q)==0}function ie(Q){return this.compareTo(Q)<0?this:Q}function Re(Q){return this.compareTo(Q)>0?this:Q}function Ae(Q,ne,ye){var Ie,Ve,et=Math.min(Q.t,this.t);for(Ie=0;Ie<et;++Ie)ye[Ie]=ne(this[Ie],Q[Ie]);if(Q.t<this.t){for(Ve=Q.s&this.DM,Ie=et;Ie<this.t;++Ie)ye[Ie]=ne(this[Ie],Ve);ye.t=this.t}else{for(Ve=this.s&this.DM,Ie=et;Ie<Q.t;++Ie)ye[Ie]=ne(Ve,Q[Ie]);ye.t=Q.t}ye.s=ne(this.s,Q.s),ye.clamp()}function Ce(Q,ne){return Q&ne}function me(Q){var ne=n();return this.bitwiseTo(Q,Ce,ne),ne}function q(Q,ne){return Q|ne}function le(Q){var ne=n();return this.bitwiseTo(Q,q,ne),ne}function ft(Q,ne){return Q^ne}function Oe(Q){var ne=n();return this.bitwiseTo(Q,ft,ne),ne}function Je(Q,ne){return Q&~ne}function Tt(Q){var ne=n();return this.bitwiseTo(Q,Je,ne),ne}function it(){for(var Q=n(),ne=0;ne<this.t;++ne)Q[ne]=this.DM&~this[ne];return Q.t=this.t,Q.s=~this.s,Q}function pt(Q){var ne=n();return Q<0?this.rShiftTo(-Q,ne):this.lShiftTo(Q,ne),ne}function vr(Q){var ne=n();return Q<0?this.lShiftTo(-Q,ne):this.rShiftTo(Q,ne),ne}function vt(Q){if(Q==0)return-1;var ne=0;return(Q&65535)==0&&(Q>>=16,ne+=16),(Q&255)==0&&(Q>>=8,ne+=8),(Q&15)==0&&(Q>>=4,ne+=4),(Q&3)==0&&(Q>>=2,ne+=2),(Q&1)==0&&++ne,ne}function xt(){for(var Q=0;Q<this.t;++Q)if(this[Q]!=0)return Q*this.DB+vt(this[Q]);return this.s<0?this.t*this.DB:-1}function Sr(Q){for(var ne=0;Q!=0;)Q&=Q-1,++ne;return ne}function lt(){for(var Q=0,ne=this.s&this.DM,ye=0;ye<this.t;++ye)Q+=Sr(this[ye]^ne);return Q}function dt(Q){var ne=Math.floor(Q/this.DB);return ne>=this.t?this.s!=0:(this[ne]&1<<Q%this.DB)!=0}function Mr(Q,ne){var ye=i.ONE.shiftLeft(Q);return this.bitwiseTo(ye,ne,ye),ye}function ht(Q){return this.changeBit(Q,q)}function wt(Q){return this.changeBit(Q,Je)}function ri(Q){return this.changeBit(Q,ft)}function at(Q,ne){for(var ye=0,Ie=0,Ve=Math.min(Q.t,this.t);ye<Ve;)Ie+=this[ye]+Q[ye],ne[ye++]=Ie&this.DM,Ie>>=this.DB;if(Q.t<this.t){for(Ie+=Q.s;ye<this.t;)Ie+=this[ye],ne[ye++]=Ie&this.DM,Ie>>=this.DB;Ie+=this.s}else{for(Ie+=this.s;ye<Q.t;)Ie+=Q[ye],ne[ye++]=Ie&this.DM,Ie>>=this.DB;Ie+=Q.s}ne.s=Ie<0?-1:0,Ie>0?ne[ye++]=Ie:Ie<-1&&(ne[ye++]=this.DV+Ie),ne.t=ye,ne.clamp()}function _t(Q){var ne=n();return this.addTo(Q,ne),ne}function G(Q){var ne=n();return this.subTo(Q,ne),ne}function re(Q){var ne=n();return this.multiplyTo(Q,ne),ne}function te(){var Q=n();return this.squareTo(Q),Q}function P(Q){var ne=n();return this.divRemTo(Q,ne,null),ne}function oe(Q){var ne=n();return this.divRemTo(Q,null,ne),ne}function Ee(Q){var ne=n(),ye=n();return this.divRemTo(Q,ne,ye),new Array(ne,ye)}function Ne(Q){this[this.t]=this.am(0,Q-1,this,0,0,this.t),++this.t,this.clamp()}function Be(Q,ne){if(Q!=0){for(;this.t<=ne;)this[this.t++]=0;for(this[ne]+=Q;this[ne]>=this.DV;)this[ne]-=this.DV,++ne>=this.t&&(this[this.t++]=0),++this[ne]}}function Pe(){}function Et(Q){return Q}function Xe(Q,ne,ye){Q.multiplyTo(ne,ye)}function bt(Q,ne){Q.squareTo(ne)}Pe.prototype.convert=Et,Pe.prototype.revert=Et,Pe.prototype.mulTo=Xe,Pe.prototype.sqrTo=bt;function yt(Q){return this.exp(Q,new Pe)}function Dt(Q,ne,ye){var Ie=Math.min(this.t+Q.t,ne);for(ye.s=0,ye.t=Ie;Ie>0;)ye[--Ie]=0;var Ve;for(Ve=ye.t-this.t;Ie<Ve;++Ie)ye[Ie+this.t]=this.am(0,Q[Ie],ye,Ie,0,this.t);for(Ve=Math.min(Q.t,ne);Ie<Ve;++Ie)this.am(0,Q[Ie],ye,Ie,0,ne-Ie);ye.clamp()}function Lt(Q,ne,ye){--ne;var Ie=ye.t=this.t+Q.t-ne;for(ye.s=0;--Ie>=0;)ye[Ie]=0;for(Ie=Math.max(ne-this.t,0);Ie<Q.t;++Ie)ye[this.t+Ie-ne]=this.am(ne-Ie,Q[Ie],ye,0,0,this.t+Ie-ne);ye.clamp(),ye.drShiftTo(1,ye)}function Ot(Q){this.r2=n(),this.q3=n(),i.ONE.dlShiftTo(2*Q.t,this.r2),this.mu=this.r2.divide(Q),this.m=Q}function Ft(Q){if(Q.s<0||Q.t>2*this.m.t)return Q.mod(this.m);if(Q.compareTo(this.m)<0)return Q;var ne=n();return Q.copyTo(ne),this.reduce(ne),ne}function zt(Q){return Q}function Vt(Q){for(Q.drShiftTo(this.m.t-1,this.r2),Q.t>this.m.t+1&&(Q.t=this.m.t+1,Q.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);Q.compareTo(this.r2)<0;)Q.dAddOffset(1,this.m.t+1);for(Q.subTo(this.r2,Q);Q.compareTo(this.m)>=0;)Q.subTo(this.m,Q)}function jt(Q,ne){Q.squareTo(ne),this.reduce(ne)}function St(Q,ne,ye){Q.multiplyTo(ne,ye),this.reduce(ye)}Ot.prototype.convert=Ft,Ot.prototype.revert=zt,Ot.prototype.reduce=Vt,Ot.prototype.mulTo=St,Ot.prototype.sqrTo=jt;function Nt(Q,ne){var ye=Q.bitLength(),Ie,Ve=W(1),et;if(ye<=0)return Ve;ye<18?Ie=1:ye<48?Ie=3:ye<144?Ie=4:ye<768?Ie=5:Ie=6,ye<8?et=new A(ne):ne.isEven()?et=new Ot(ne):et=new se(ne);var ct=new Array,qt=3,ui=Ie-1,un=(1<<Ie)-1;if(ct[1]=et.convert(this),Ie>1){var co=n();for(et.sqrTo(ct[1],co);qt<=un;)ct[qt]=n(),et.mulTo(co,ct[qt-2],ct[qt]),qt+=2}var Ys=Q.t-1,Hf,k6=!0,ta=n(),ra;for(ye=K(Q[Ys])-1;Ys>=0;){for(ye>=ui?Hf=Q[Ys]>>ye-ui&un:(Hf=(Q[Ys]&(1<<ye+1)-1)<<ui-ye,Ys>0&&(Hf|=Q[Ys-1]>>this.DB+ye-ui)),qt=Ie;(Hf&1)==0;)Hf>>=1,--qt;if((ye-=qt)<0&&(ye+=this.DB,--Ys),k6)ct[Hf].copyTo(Ve),k6=!1;else{for(;qt>1;)et.sqrTo(Ve,ta),et.sqrTo(ta,Ve),qt-=2;qt>0?et.sqrTo(Ve,ta):(ra=Ve,Ve=ta,ta=ra),et.mulTo(ta,ct[Hf],Ve)}for(;Ys>=0&&(Q[Ys]&1<<ye)==0;)et.sqrTo(Ve,ta),ra=Ve,Ve=ta,ta=ra,--ye<0&&(ye=this.DB-1,--Ys)}return et.revert(Ve)}function mt(Q){var ne=this.s<0?this.negate():this.clone(),ye=Q.s<0?Q.negate():Q.clone();if(ne.compareTo(ye)<0){var Ie=ne;ne=ye,ye=Ie}var Ve=ne.getLowestSetBit(),et=ye.getLowestSetBit();if(et<0)return ne;for(Ve<et&&(et=Ve),et>0&&(ne.rShiftTo(et,ne),ye.rShiftTo(et,ye));ne.signum()>0;)(Ve=ne.getLowestSetBit())>0&&ne.rShiftTo(Ve,ne),(Ve=ye.getLowestSetBit())>0&&ye.rShiftTo(Ve,ye),ne.compareTo(ye)>=0?(ne.subTo(ye,ne),ne.rShiftTo(1,ne)):(ye.subTo(ne,ye),ye.rShiftTo(1,ye));return et>0&&ye.lShiftTo(et,ye),ye}function It(Q){if(Q<=0)return 0;var ne=this.DV%Q,ye=this.s<0?Q-1:0;if(this.t>0)if(ne==0)ye=this[0]%Q;else for(var Ie=this.t-1;Ie>=0;--Ie)ye=(ne*ye+this[Ie])%Q;return ye}function Ct(Q){var ne=Q.isEven();if(this.isEven()&&ne||Q.signum()==0)return i.ZERO;for(var ye=Q.clone(),Ie=this.clone(),Ve=W(1),et=W(0),ct=W(0),qt=W(1);ye.signum()!=0;){for(;ye.isEven();)ye.rShiftTo(1,ye),ne?((!Ve.isEven()||!et.isEven())&&(Ve.addTo(this,Ve),et.subTo(Q,et)),Ve.rShiftTo(1,Ve)):et.isEven()||et.subTo(Q,et),et.rShiftTo(1,et);for(;Ie.isEven();)Ie.rShiftTo(1,Ie),ne?((!ct.isEven()||!qt.isEven())&&(ct.addTo(this,ct),qt.subTo(Q,qt)),ct.rShiftTo(1,ct)):qt.isEven()||qt.subTo(Q,qt),qt.rShiftTo(1,qt);ye.compareTo(Ie)>=0?(ye.subTo(Ie,ye),ne&&Ve.subTo(ct,Ve),et.subTo(qt,et)):(Ie.subTo(ye,Ie),ne&&ct.subTo(Ve,ct),qt.subTo(et,qt))}if(Ie.compareTo(i.ONE)!=0)return i.ZERO;if(qt.compareTo(Q)>=0)return qt.subtract(Q);if(qt.signum()<0)qt.addTo(Q,qt);else return qt;return qt.signum()<0?qt.add(Q):qt}var ot=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Le=(1<<26)/ot[ot.length-1];function Ue(Q){var ne,ye=this.abs();if(ye.t==1&&ye[0]<=ot[ot.length-1]){for(ne=0;ne<ot.length;++ne)if(ye[0]==ot[ne])return!0;return!1}if(ye.isEven())return!1;for(ne=1;ne<ot.length;){for(var Ie=ot[ne],Ve=ne+1;Ve<ot.length&&Ie<Le;)Ie*=ot[Ve++];for(Ie=ye.modInt(Ie);ne<Ve;)if(Ie%ot[ne++]==0)return!1}return ye.millerRabin(Q)}function rt(Q){var ne=this.subtract(i.ONE),ye=ne.getLowestSetBit();if(ye<=0)return!1;var Ie=ne.shiftRight(ye);Q=Q+1>>1,Q>ot.length&&(Q=ot.length);for(var Ve=n(),et=0;et<Q;++et){Ve.fromInt(ot[Math.floor(Math.random()*ot.length)]);var ct=Ve.modPow(Ie,this);if(ct.compareTo(i.ONE)!=0&&ct.compareTo(ne)!=0){for(var qt=1;qt++<ye&&ct.compareTo(ne)!=0;)if(ct=ct.modPowInt(2,this),ct.compareTo(i.ONE)==0)return!1;if(ct.compareTo(ne)!=0)return!1}}return!0}i.prototype.chunkSize=we,i.prototype.toRadix=pe,i.prototype.fromRadix=be,i.prototype.fromNumber=D,i.prototype.bitwiseTo=Ae,i.prototype.changeBit=Mr,i.prototype.addTo=at,i.prototype.dMultiply=Ne,i.prototype.dAddOffset=Be,i.prototype.multiplyLowerTo=Dt,i.prototype.multiplyUpperTo=Lt,i.prototype.modInt=It,i.prototype.millerRabin=rt,i.prototype.clone=ve,i.prototype.intValue=ue,i.prototype.byteValue=ge,i.prototype.shortValue=xe,i.prototype.signum=Me,i.prototype.toByteArray=_e,i.prototype.equals=de,i.prototype.min=ie,i.prototype.max=Re,i.prototype.and=me,i.prototype.or=le,i.prototype.xor=Oe,i.prototype.andNot=Tt,i.prototype.not=it,i.prototype.shiftLeft=pt,i.prototype.shiftRight=vr,i.prototype.getLowestSetBit=xt,i.prototype.bitCount=lt,i.prototype.testBit=dt,i.prototype.setBit=ht,i.prototype.clearBit=wt,i.prototype.flipBit=ri,i.prototype.add=_t,i.prototype.subtract=G,i.prototype.multiply=re,i.prototype.divide=P,i.prototype.remainder=oe,i.prototype.divideAndRemainder=Ee,i.prototype.modPow=Nt,i.prototype.modInverse=Ct,i.prototype.pow=yt,i.prototype.gcd=mt,i.prototype.isProbablePrime=Ue,i.prototype.square=te,i.prototype.Barrett=Ot;var Ze,ze,tt;function Yt(Q){ze[tt++]^=Q&255,ze[tt++]^=Q>>8&255,ze[tt++]^=Q>>16&255,ze[tt++]^=Q>>24&255,tt>=Pr&&(tt-=Pr)}function er(){Yt(new Date().getTime())}if(ze==null){ze=new Array,tt=0;var Wt;if(typeof window!="undefined"&&window.crypto){if(window.crypto.getRandomValues){var tr=new Uint8Array(32);for(window.crypto.getRandomValues(tr),Wt=0;Wt<32;++Wt)ze[tt++]=tr[Wt]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var Se=window.crypto.random(32);for(Wt=0;Wt<Se.length;++Wt)ze[tt++]=Se.charCodeAt(Wt)&255}}for(;tt<Pr;)Wt=Math.floor(65536*Math.random()),ze[tt++]=Wt>>>8,ze[tt++]=Wt&255;tt=0,er()}function ur(){if(Ze==null){for(er(),Ze=xi(),Ze.init(ze),tt=0;tt<ze.length;++tt)ze[tt]=0;tt=0}return Ze.next()}function kr(Q){var ne;for(ne=0;ne<Q.length;++ne)Q[ne]=ur()}function xr(){}xr.prototype.nextBytes=kr;function ir(){this.i=0,this.j=0,this.S=new Array}function Ar(Q){var ne,ye,Ie;for(ne=0;ne<256;++ne)this.S[ne]=ne;for(ye=0,ne=0;ne<256;++ne)ye=ye+this.S[ne]+Q[ne%Q.length]&255,Ie=this.S[ne],this.S[ne]=this.S[ye],this.S[ye]=Ie;this.i=0,this.j=0}function Ir(){var Q;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,Q=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=Q,this.S[Q+this.S[this.i]&255]}ir.prototype.init=Ar,ir.prototype.next=Ir;function xi(){return new ir}var Pr=256;typeof Cg!="undefined"?Cg=Lte.exports={default:i,BigInteger:i,SecureRandom:xr}:this.jsbn={BigInteger:i,SecureRandom:xr}}).call(Cg)});var Jb=M(Bg=>{(function(){"use strict";var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(o){return i(s(o),arguments)}function t(o,a){return e.apply(null,[o].concat(a||[]))}function i(o,a){var f=1,c=o.length,l,h="",x,_,E,C,L,O,W,ee;for(x=0;x<c;x++)if(typeof o[x]=="string")h+=o[x];else if(typeof o[x]=="object"){if(E=o[x],E.keys)for(l=a[f],_=0;_<E.keys.length;_++){if(l==null)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',E.keys[_],E.keys[_-1]));l=l[E.keys[_]]}else E.param_no?l=a[E.param_no]:l=a[f++];if(r.not_type.test(E.type)&&r.not_primitive.test(E.type)&&l instanceof Function&&(l=l()),r.numeric_arg.test(E.type)&&typeof l!="number"&&isNaN(l))throw new TypeError(e("[sprintf] expecting number but found %T",l));switch(r.number.test(E.type)&&(W=l>=0),E.type){case"b":l=parseInt(l,10).toString(2);break;case"c":l=String.fromCharCode(parseInt(l,10));break;case"d":case"i":l=parseInt(l,10);break;case"j":l=JSON.stringify(l,null,E.width?parseInt(E.width):0);break;case"e":l=E.precision?parseFloat(l).toExponential(E.precision):parseFloat(l).toExponential();break;case"f":l=E.precision?parseFloat(l).toFixed(E.precision):parseFloat(l);break;case"g":l=E.precision?String(Number(l.toPrecision(E.precision))):parseFloat(l);break;case"o":l=(parseInt(l,10)>>>0).toString(8);break;case"s":l=String(l),l=E.precision?l.substring(0,E.precision):l;break;case"t":l=String(!!l),l=E.precision?l.substring(0,E.precision):l;break;case"T":l=Object.prototype.toString.call(l).slice(8,-1).toLowerCase(),l=E.precision?l.substring(0,E.precision):l;break;case"u":l=parseInt(l,10)>>>0;break;case"v":l=l.valueOf(),l=E.precision?l.substring(0,E.precision):l;break;case"x":l=(parseInt(l,10)>>>0).toString(16);break;case"X":l=(parseInt(l,10)>>>0).toString(16).toUpperCase();break}r.json.test(E.type)?h+=l:(r.number.test(E.type)&&(!W||E.sign)?(ee=W?"+":"-",l=l.toString().replace(r.sign,"")):ee="",L=E.pad_char?E.pad_char==="0"?"0":E.pad_char.charAt(1):" ",O=E.width-(ee+l).length,C=E.width&&O>0?L.repeat(O):"",h+=E.align?ee+l+C:L==="0"?ee+C+l:C+ee+l)}return h}var n=Object.create(null);function s(o){if(n[o])return n[o];for(var a=o,f,c=[],l=0;a;){if((f=r.text.exec(a))!==null)c.push(f[0]);else if((f=r.modulo.exec(a))!==null)c.push("%");else if((f=r.placeholder.exec(a))!==null){if(f[2]){l|=1;var h=[],x=f[2],_=[];if((_=r.key.exec(x))!==null)for(h.push(_[1]);(x=x.substring(_[0].length))!=="";)if((_=r.key_access.exec(x))!==null)h.push(_[1]);else if((_=r.index_access.exec(x))!==null)h.push(_[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");f[2]=h}else l|=2;if(l===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c.push({placeholder:f[0],param_no:f[1],keys:f[2],sign:f[3],pad_char:f[4],align:f[5],width:f[6],precision:f[7],type:f[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");a=a.substring(f[0].length)}return n[o]=c}typeof Bg!="undefined"&&(Bg.sprintf=e,Bg.vsprintf=t),typeof window!="undefined"&&(window.sprintf=e,window.vsprintf=t,typeof define=="function"&&define.amd&&define(function(){return{sprintf:e,vsprintf:t}}))})()});var fS=M(Uf=>{"use strict";var GBe=Uf&&Uf.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),YBe=Uf&&Uf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ute=Uf&&Uf.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&GBe(e,r,t);return YBe(e,r),e};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.Address4=void 0;var Fte=Ute(nS()),Oa=Ute(sS()),Kte=oS(),Xb=aS(),Qb=Jb(),WBe=function(){function r(e){this.groups=Oa.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=Fte.isCorrect(Oa.BITS),this.isInSubnet=Fte.isInSubnet,this.address=e;var t=Oa.RE_SUBNET_STRING.exec(e);if(t){if(this.parsedSubnet=t[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,this.subnetMask<0||this.subnetMask>Oa.BITS)throw new Kte.AddressError("Invalid subnet mask.");e=e.replace(Oa.RE_SUBNET_STRING,"")}this.addressMinusSuffix=e,this.parsedAddress=this.parse(e)}return r.isValid=function(e){try{return new r(e),!0}catch(t){return!1}},r.prototype.parse=function(e){var t=e.split(".");if(!e.match(Oa.RE_ADDRESS))throw new Kte.AddressError("Invalid IPv4 address.");return t},r.prototype.correctForm=function(){return this.parsedAddress.map(function(e){return parseInt(e,10)}).join(".")},r.fromHex=function(e){var t=e.replace(/:/g,"").padStart(8,"0"),i=[],n;for(n=0;n<8;n+=2){var s=t.slice(n,n+2);i.push(parseInt(s,16))}return new r(i.join("."))},r.fromInteger=function(e){return r.fromHex(e.toString(16))},r.prototype.toHex=function(){return this.parsedAddress.map(function(e){return Qb.sprintf("%02x",parseInt(e,10))}).join(":")},r.prototype.toArray=function(){return this.parsedAddress.map(function(e){return parseInt(e,10)})},r.prototype.toGroup6=function(){var e=[],t;for(t=0;t<Oa.GROUPS;t+=2){var i=Qb.sprintf("%02x%02x",parseInt(this.parsedAddress[t],10),parseInt(this.parsedAddress[t+1],10));e.push(Qb.sprintf("%x",parseInt(i,16)))}return e.join(":")},r.prototype.bigInteger=function(){return new Xb.BigInteger(this.parsedAddress.map(function(e){return Qb.sprintf("%02x",parseInt(e,10))}).join(""),16)},r.prototype._startAddress=function(){return new Xb.BigInteger(this.mask()+"0".repeat(Oa.BITS-this.subnetMask),2)},r.prototype.startAddress=function(){return r.fromBigInteger(this._startAddress())},r.prototype.startAddressExclusive=function(){var e=new Xb.BigInteger("1");return r.fromBigInteger(this._startAddress().add(e))},r.prototype._endAddress=function(){return new Xb.BigInteger(this.mask()+"1".repeat(Oa.BITS-this.subnetMask),2)},r.prototype.endAddress=function(){return r.fromBigInteger(this._endAddress())},r.prototype.endAddressExclusive=function(){var e=new Xb.BigInteger("1");return r.fromBigInteger(this._endAddress().subtract(e))},r.fromBigInteger=function(e){return r.fromInteger(parseInt(e.toString(),10))},r.prototype.mask=function(e){return e===void 0&&(e=this.subnetMask),this.getBitsBase2(0,e)},r.prototype.getBitsBase2=function(e,t){return this.binaryZeroPad().slice(e,t)},r.prototype.isMulticast=function(){return this.isInSubnet(new r("224.0.0.0/4"))},r.prototype.binaryZeroPad=function(){return this.bigInteger().toString(2).padStart(Oa.BITS,"0")},r.prototype.groupForV6=function(){var e=this.parsedAddress;return this.address.replace(Oa.RE_ADDRESS,Qb.sprintf('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',e.slice(0,2).join("."),e.slice(2,4).join(".")))},r}();Uf.Address4=WBe});var cS=M(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.RE_URL_WITH_PORT=Oi.RE_URL=Oi.RE_ZONE_STRING=Oi.RE_SUBNET_STRING=Oi.RE_BAD_ADDRESS=Oi.RE_BAD_CHARACTERS=Oi.TYPES=Oi.SCOPES=Oi.GROUPS=Oi.BITS=void 0;Oi.BITS=128;Oi.GROUPS=8;Oi.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"};Oi.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"};Oi.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi;Oi.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi;Oi.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/;Oi.RE_ZONE_STRING=/%.*$/;Oi.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/);Oi.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)});var uS=M(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.simpleGroup=Ff.spanLeadingZeroes=Ff.spanAll=Ff.spanAllZeroes=void 0;var zte=Jb();function jte(r){return r.replace(/(0+)/g,'<span class="zero">$1</span>')}Ff.spanAllZeroes=jte;function ZBe(r,e){e===void 0&&(e=0);var t=r.split("");return t.map(function(i,n){return zte.sprintf('<span class="digit value-%s position-%d">%s</span>',i,n+e,jte(i))}).join("")}Ff.spanAll=ZBe;function Vte(r){return r.replace(/^(0+)/,'<span class="zero">$1</span>')}function JBe(r){var e=r.split(":");return e.map(function(t){return Vte(t)}).join(":")}Ff.spanLeadingZeroes=JBe;function XBe(r,e){e===void 0&&(e=0);var t=r.split(":");return t.map(function(i,n){return/group-v4/.test(i)?i:zte.sprintf('<span class="hover-group group-%d">%s</span>',n+e,Vte(i))})}Ff.simpleGroup=XBe});var Hte=M(Mn=>{"use strict";var QBe=Mn&&Mn.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),eMe=Mn&&Mn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tMe=Mn&&Mn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&QBe(e,r,t);return eMe(e,r),e};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.possibleElisions=Mn.simpleRegularExpression=Mn.ADDRESS_BOUNDARY=Mn.padGroup=Mn.groupPossibilities=void 0;var rMe=tMe(cS()),$1=Jb();function Mg(r){return $1.sprintf("(%s)",r.join("|"))}Mn.groupPossibilities=Mg;function Rg(r){return r.length<4?$1.sprintf("0{0,%d}%s",4-r.length,r):r}Mn.padGroup=Rg;Mn.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]";function iMe(r){var e=[];r.forEach(function(i,n){var s=parseInt(i,16);s===0&&e.push(n)});var t=e.map(function(i){return r.map(function(n,s){if(s===i){var o=s===0||s===rMe.GROUPS-1?":":"";return Mg([Rg(n),o])}return Rg(n)}).join(":")});return t.push(r.map(Rg).join(":")),Mg(t)}Mn.simpleRegularExpression=iMe;function nMe(r,e,t){var i=e?"":":",n=t?"":":",s=[];!e&&!t&&s.push("::"),e&&t&&s.push(""),(t&&!e||!t&&e)&&s.push(":"),s.push($1.sprintf("%s(:0{1,4}){1,%d}",i,r-1)),s.push($1.sprintf("(0{1,4}:){1,%d}%s",r-1,n)),s.push($1.sprintf("(0{1,4}:){%d}0{1,4}",r-1));for(var o=1;o<r-1;o++)for(var a=1;a<r-o;a++)s.push($1.sprintf("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",a,r-a-o-1));return Mg(s)}Mn.possibleElisions=nMe});var Wte=M(Jo=>{"use strict";var sMe=Jo&&Jo.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),oMe=Jo&&Jo.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ng=Jo&&Jo.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&sMe(e,r,t);return oMe(e,r),e},aMe=Jo&&Jo.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.Address6=void 0;var $te=Ng(nS()),lS=Ng(sS()),fi=Ng(cS()),dS=Ng(uS()),kl=fS(),Cl=Hte(),L0=oS(),gs=aS(),vs=Jb();function Pg(r){if(!r)throw new Error("Assertion failed.")}function fMe(r){for(var e=/(\d+)(\d{3})/;e.test(r);)r=r.replace(e,"$1,$2");return r}function cMe(r){return r=r.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2'),r=r.replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2'),r}function uMe(r,e){var t=[],i=[],n;for(n=0;n<r.length;n++)n<e[0]?t.push(r[n]):n>e[1]&&i.push(r[n]);return t.concat(["compact"]).concat(i)}function Gte(r){return vs.sprintf("%04x",parseInt(r,16))}function Yte(r){return r&255}var lMe=function(){function r(e,t){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=$te.isInSubnet,this.isCorrect=$te.isCorrect(fi.BITS),t===void 0?this.groups=fi.GROUPS:this.groups=t,this.address=e;var i=fi.RE_SUBNET_STRING.exec(e);if(i){if(this.parsedSubnet=i[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>fi.BITS)throw new L0.AddressError("Invalid subnet mask.");e=e.replace(fi.RE_SUBNET_STRING,"")}else if(/\//.test(e))throw new L0.AddressError("Invalid subnet mask.");var n=fi.RE_ZONE_STRING.exec(e);n&&(this.zone=n[0],e=e.replace(fi.RE_ZONE_STRING,"")),this.addressMinusSuffix=e,this.parsedAddress=this.parse(this.addressMinusSuffix)}return r.isValid=function(e){try{return new r(e),!0}catch(t){return!1}},r.fromBigInteger=function(e){var t=e.toString(16).padStart(32,"0"),i=[],n;for(n=0;n<fi.GROUPS;n++)i.push(t.slice(n*4,(n+1)*4));return new r(i.join(":"))},r.fromURL=function(e){var t,i=null,n;if(e.indexOf("[")!==-1&&e.indexOf("]:")!==-1){if(n=fi.RE_URL_WITH_PORT.exec(e),n===null)return{error:"failed to parse address with port",address:null,port:null};t=n[1],i=n[2]}else if(e.indexOf("/")!==-1){if(e=e.replace(/^[a-z0-9]+:\/\//,""),n=fi.RE_URL.exec(e),n===null)return{error:"failed to parse address from URL",address:null,port:null};t=n[1]}else t=e;return i?(i=parseInt(i,10),(i<0||i>65536)&&(i=null)):i=null,{address:new r(t),port:i}},r.fromAddress4=function(e){var t=new kl.Address4(e),i=fi.BITS-(lS.BITS-t.subnetMask);return new r("::ffff:"+t.correctForm()+"/"+i)},r.fromArpa=function(e){var t=e.replace(/(\.ip6\.arpa)?\.$/,""),i=7;if(t.length!==63)throw new L0.AddressError("Invalid 'ip6.arpa' form.");for(var n=t.split(".").reverse(),s=i;s>0;s--){var o=s*4;n.splice(o,0,":")}return t=n.join(""),new r(t)},r.prototype.microsoftTranscription=function(){return vs.sprintf("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))},r.prototype.mask=function(e){return e===void 0&&(e=this.subnetMask),this.getBitsBase2(0,e)},r.prototype.possibleSubnets=function(e){e===void 0&&(e=128);var t=fi.BITS-this.subnetMask,i=Math.abs(e-fi.BITS),n=t-i;return n<0?"0":fMe(new gs.BigInteger("2",10).pow(n).toString(10))},r.prototype._startAddress=function(){return new gs.BigInteger(this.mask()+"0".repeat(fi.BITS-this.subnetMask),2)},r.prototype.startAddress=function(){return r.fromBigInteger(this._startAddress())},r.prototype.startAddressExclusive=function(){var e=new gs.BigInteger("1");return r.fromBigInteger(this._startAddress().add(e))},r.prototype._endAddress=function(){return new gs.BigInteger(this.mask()+"1".repeat(fi.BITS-this.subnetMask),2)},r.prototype.endAddress=function(){return r.fromBigInteger(this._endAddress())},r.prototype.endAddressExclusive=function(){var e=new gs.BigInteger("1");return r.fromBigInteger(this._endAddress().subtract(e))},r.prototype.getScope=function(){var e=fi.SCOPES[this.getBits(12,16).intValue()];return this.getType()==="Global unicast"&&e!=="Link local"&&(e="Global"),e||"Unknown"},r.prototype.getType=function(){for(var e=0,t=Object.keys(fi.TYPES);e<t.length;e++){var i=t[e];if(this.isInSubnet(new r(i)))return fi.TYPES[i]}return"Global unicast"},r.prototype.getBits=function(e,t){return new gs.BigInteger(this.getBitsBase2(e,t),2)},r.prototype.getBitsBase2=function(e,t){return this.binaryZeroPad().slice(e,t)},r.prototype.getBitsBase16=function(e,t){var i=t-e;if(i%4!=0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(e,t).toString(16).padStart(i/4,"0")},r.prototype.getBitsPastSubnet=function(){return this.getBitsBase2(this.subnetMask,fi.BITS)},r.prototype.reverseForm=function(e){e||(e={});var t=Math.floor(this.subnetMask/4),i=this.canonicalForm().replace(/:/g,"").split("").slice(0,t).reverse().join(".");return t>0?e.omitSuffix?i:vs.sprintf("%s.ip6.arpa.",i):e.omitSuffix?"":"ip6.arpa."},r.prototype.correctForm=function(){var e,t=[],i=0,n=[];for(e=0;e<this.parsedAddress.length;e++){var s=parseInt(this.parsedAddress[e],16);s===0&&i++,s!==0&&i>0&&(i>1&&n.push([e-i,e-1]),i=0)}i>1&&n.push([this.parsedAddress.length-i,this.parsedAddress.length-1]);var o=n.map(function(c){return c[1]-c[0]+1});if(n.length>0){var a=o.indexOf(Math.max.apply(Math,o));t=uMe(this.parsedAddress,n[a])}else t=this.parsedAddress;for(e=0;e<t.length;e++)t[e]!=="compact"&&(t[e]=parseInt(t[e],16).toString(16));var f=t.join(":");return f=f.replace(/^compact$/,"::"),f=f.replace(/^compact|compact$/,":"),f=f.replace(/compact/,""),f},r.prototype.binaryZeroPad=function(){return this.bigInteger().toString(2).padStart(fi.BITS,"0")},r.prototype.parse4in6=function(e){var t=e.split(":"),i=t.slice(-1)[0],n=i.match(lS.RE_ADDRESS);if(n){this.parsedAddress4=n[0],this.address4=new kl.Address4(this.parsedAddress4);for(var s=0;s<this.address4.groups;s++)if(/^0[0-9]+/.test(this.address4.parsedAddress[s]))throw new L0.AddressError("IPv4 addresses can't have leading zeroes.",e.replace(lS.RE_ADDRESS,this.address4.parsedAddress.map(cMe).join(".")));this.v4=!0,t[t.length-1]=this.address4.toGroup6(),e=t.join(":")}return e},r.prototype.parse=function(e){e=this.parse4in6(e);var t=e.match(fi.RE_BAD_CHARACTERS);if(t)throw new L0.AddressError(vs.sprintf("Bad character%s detected in address: %s",t.length>1?"s":"",t.join("")),e.replace(fi.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));var i=e.match(fi.RE_BAD_ADDRESS);if(i)throw new L0.AddressError(vs.sprintf("Address failed regex: %s",i.join("")),e.replace(fi.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));var n=[],s=e.split("::");if(s.length===2){var o=s[0].split(":"),a=s[1].split(":");o.length===1&&o[0]===""&&(o=[]),a.length===1&&a[0]===""&&(a=[]);var f=this.groups-(o.length+a.length);if(!f)throw new L0.AddressError("Error parsing groups");this.elidedGroups=f,this.elisionBegin=o.length,this.elisionEnd=o.length+this.elidedGroups,n=n.concat(o);for(var c=0;c<f;c++)n.push("0");n=n.concat(a)}else if(s.length===1)n=e.split(":"),this.elidedGroups=0;else throw new L0.AddressError("Too many :: groups found");if(n=n.map(function(l){return vs.sprintf("%x",parseInt(l,16))}),n.length!==this.groups)throw new L0.AddressError("Incorrect number of groups found");return n},r.prototype.canonicalForm=function(){return this.parsedAddress.map(Gte).join(":")},r.prototype.decimal=function(){return this.parsedAddress.map(function(e){return vs.sprintf("%05d",parseInt(e,16))}).join(":")},r.prototype.bigInteger=function(){return new gs.BigInteger(this.parsedAddress.map(Gte).join(""),16)},r.prototype.to4=function(){var e=this.binaryZeroPad().split("");return kl.Address4.fromHex(new gs.BigInteger(e.slice(96,128).join(""),2).toString(16))},r.prototype.to4in6=function(){var e=this.to4(),t=new r(this.parsedAddress.slice(0,6).join(":"),6),i=t.correctForm(),n="";return/:$/.test(i)||(n=":"),i+n+e.address},r.prototype.inspectTeredo=function(){var e=this.getBitsBase16(0,32),t=this.getBits(80,96).xor(new gs.BigInteger("ffff",16)).toString(),i=kl.Address4.fromHex(this.getBitsBase16(32,64)),n=kl.Address4.fromHex(this.getBits(96,128).xor(new gs.BigInteger("ffffffff",16)).toString(16)),s=this.getBits(64,80),o=this.getBitsBase2(64,80),a=s.testBit(15),f=s.testBit(14),c=s.testBit(8),l=s.testBit(9),h=new gs.BigInteger(o.slice(2,6)+o.slice(8,16),2).toString(10);return{prefix:vs.sprintf("%s:%s",e.slice(0,4),e.slice(4,8)),server4:i.address,client4:n.address,flags:o,coneNat:a,microsoft:{reserved:f,universalLocal:l,groupIndividual:c,nonce:h},udpPort:t}},r.prototype.inspect6to4=function(){var e=this.getBitsBase16(0,16),t=kl.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:vs.sprintf("%s",e.slice(0,4)),gateway:t.address}},r.prototype.to6to4=function(){if(!this.is4())return null;var e=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new r(e)},r.prototype.toByteArray=function(){var e=this.bigInteger().toByteArray();return e.length===17&&e[0]===0?e.slice(1):e},r.prototype.toUnsignedByteArray=function(){return this.toByteArray().map(Yte)},r.fromByteArray=function(e){return this.fromUnsignedByteArray(e.map(Yte))},r.fromUnsignedByteArray=function(e){for(var t=new gs.BigInteger("256",10),i=new gs.BigInteger("0",10),n=new gs.BigInteger("1",10),s=e.length-1;s>=0;s--)i=i.add(n.multiply(new gs.BigInteger(e[s].toString(10),10))),n=n.multiply(t);return r.fromBigInteger(i)},r.prototype.isCanonical=function(){return this.addressMinusSuffix===this.canonicalForm()},r.prototype.isLinkLocal=function(){return this.getBitsBase2(0,64)==="1111111010000000000000000000000000000000000000000000000000000000"},r.prototype.isMulticast=function(){return this.getType()==="Multicast"},r.prototype.is4=function(){return this.v4},r.prototype.isTeredo=function(){return this.isInSubnet(new r("2001::/32"))},r.prototype.is6to4=function(){return this.isInSubnet(new r("2002::/16"))},r.prototype.isLoopback=function(){return this.getType()==="Loopback"},r.prototype.href=function(e){return e===void 0?e="":e=vs.sprintf(":%s",e),vs.sprintf("http://[%s]%s/",this.correctForm(),e)},r.prototype.link=function(e){e||(e={}),e.className===void 0&&(e.className=""),e.prefix===void 0&&(e.prefix="/#address="),e.v4===void 0&&(e.v4=!1);var t=this.correctForm;return e.v4&&(t=this.to4in6),e.className?vs.sprintf('<a href="%1$s%2$s" class="%3$s">%2$s</a>',e.prefix,t.call(this),e.className):vs.sprintf('<a href="%1$s%2$s">%2$s</a>',e.prefix,t.call(this))},r.prototype.group=function(){if(this.elidedGroups===0)return dS.simpleGroup(this.address).join(":");Pg(typeof this.elidedGroups=="number"),Pg(typeof this.elisionBegin=="number");var e=[],t=this.address.split("::"),i=t[0],n=t[1];i.length?e.push.apply(e,dS.simpleGroup(i)):e.push("");for(var s=["hover-group"],o=this.elisionBegin;o<this.elisionBegin+this.elidedGroups;o++)s.push(vs.sprintf("group-%d",o));return e.push(vs.sprintf('<span class="%s"></span>',s.join(" "))),n.length?e.push.apply(e,dS.simpleGroup(n,this.elisionEnd)):e.push(""),this.is4()&&(Pg(this.address4 instanceof kl.Address4),e.pop(),e.push(this.address4.groupForV6())),e.join(":")},r.prototype.regularExpressionString=function(e){e===void 0&&(e=!1);var t=[],i=new r(this.correctForm());if(i.elidedGroups===0)t.push(Cl.simpleRegularExpression(i.parsedAddress));else if(i.elidedGroups===fi.GROUPS)t.push(Cl.possibleElisions(fi.GROUPS));else{var n=i.address.split("::");n[0].length&&t.push(Cl.simpleRegularExpression(n[0].split(":"))),Pg(typeof i.elidedGroups=="number"),t.push(Cl.possibleElisions(i.elidedGroups,n[0].length!==0,n[1].length!==0)),n[1].length&&t.push(Cl.simpleRegularExpression(n[1].split(":"))),t=[t.join(":")]}return e||(t=aMe(["(?=^|",Cl.ADDRESS_BOUNDARY,"|[^\\w\\:])("],t,[")(?=[^\\w\\:]|",Cl.ADDRESS_BOUNDARY,"|$)"])),t.join("")},r.prototype.regularExpression=function(e){return e===void 0&&(e=!1),new RegExp(this.regularExpressionString(e),"i")},r}();Jo.Address6=lMe});var Zte=M(Hs=>{"use strict";var dMe=Hs&&Hs.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),hMe=Hs&&Hs.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),pMe=Hs&&Hs.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&dMe(e,r,t);return hMe(e,r),e};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.v6=Hs.Address6=Hs.Address4=void 0;var bMe=fS();Object.defineProperty(Hs,"Address4",{enumerable:!0,get:function(){return bMe.Address4}});var yMe=Wte();Object.defineProperty(Hs,"Address6",{enumerable:!0,get:function(){return yMe.Address6}});var mMe=pMe(uS());Hs.v6={helpers:mMe}});var Og=M((XXe,bS)=>{"use strict";var Jte=sr(),gMe=Object.assign(Jte("libp2p:ip-port-to-multiaddr"),{error:Jte("libp2p:ip-port-to-multiaddr:err")}),{Multiaddr:hS}=zi(),pS=Ht(),{Address4:vMe,Address6:xMe}=Zte(),qg={ERR_INVALID_IP_PARAMETER:"ERR_INVALID_IP_PARAMETER",ERR_INVALID_PORT_PARAMETER:"ERR_INVALID_PORT_PARAMETER",ERR_INVALID_IP:"ERR_INVALID_IP"};function wMe(r,e){if(typeof r!="string")throw pS(new Error(`invalid ip provided: ${r}`),qg.ERR_INVALID_IP_PARAMETER);if(typeof e=="string"&&(e=parseInt(e)),isNaN(e))throw pS(new Error(`invalid port provided: ${e}`),qg.ERR_INVALID_PORT_PARAMETER);try{return new vMe(r),new hS(`/ip4/${r}/tcp/${e}`)}catch{}try{let t=new xMe(r);return t.is4()?new hS(`/ip4/${t.to4().correctForm()}/tcp/${e}`):new hS(`/ip6/${r}/tcp/${e}`)}catch(t){let i=`invalid ip:port for creating a multiaddr: ${r}:${e}`;throw gMe.error(i),pS(new Error(i),qg.ERR_INVALID_IP)}}bS.exports=wMe;bS.exports.Errors=qg});var Qte=M((QXe,Dg)=>{"use strict";var yS=class extends Error{constructor(e){super(e);this.name="TimeoutError"}},Xte=(r,e,t,i)=>{let n,s=new Promise((o,a)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===Infinity){o(r);return}i={customTimers:{setTimeout,clearTimeout},...i},n=i.customTimers.setTimeout.call(void 0,()=>{if(typeof t=="function"){try{o(t())}catch(l){a(l)}return}let f=typeof t=="string"?t:`Promise timed out after ${e} milliseconds`,c=t instanceof Error?t:new yS(f);typeof r.cancel=="function"&&r.cancel(),a(c)},e),(async()=>{try{o(await r)}catch(f){a(f)}finally{i.customTimers.clearTimeout.call(void 0,n)}})()});return s.clear=()=>{clearTimeout(n),n=void 0},s};Dg.exports=Xte;Dg.exports.default=Xte;Dg.exports.TimeoutError=yS});var nre=M((eQe,ire)=>{"use strict";var ere=Dc(),{CLOSE_TIMEOUT:_Me}=iS(),tre=Og(),EMe=Qte(),rre=sr(),mS=rre("libp2p:websockets:socket");mS.error=rre("libp2p:websockets:socket:error");ire.exports=(r,e={})=>{let t={async sink(i){e.signal&&(i=ere(i,e.signal));try{await r.sink(async function*(){for await(let n of i)yield n instanceof Uint8Array?n:n.slice()}())}catch(n){n.type!=="aborted"&&mS.error(n)}},source:e.signal?ere(r.source,e.signal):r.source,conn:r,localAddr:e.localAddr||(r.localAddress&&r.localPort?tre(r.localAddress,r.localPort):void 0),remoteAddr:e.remoteAddr||tre(r.remoteAddress,r.remotePort),timeline:{open:Date.now()},async close(){let i=Date.now();try{await EMe(r.close(),_Me)}catch(n){let{host:s,port:o}=t.remoteAddr.toOptions();mS("timeout closing stream to %s:%s after %dms, destroying it manually",s,o,Date.now()-i),r.destroy()}finally{t.timeline.close=Date.now()}}};return r.socket.once&&r.socket.once("close",()=>{t.timeline.close||(t.timeline.close=Date.now())}),t}});var are=M((tQe,ore)=>{"use strict";var Gc=Sb(),{CODE_CIRCUIT:gS,CODE_P2P:vS,CODE_TCP:xS,CODE_WS:SMe,CODE_WSS:sre}=iS();ore.exports={all:r=>r.filter(e=>{if(e.protoCodes().includes(gS))return!1;let t=e.decapsulateCode(vS);return Gc.WebSockets.matches(t)||Gc.WebSocketsSecure.matches(t)}),dnsWss:r=>r.filter(e=>{if(e.protoCodes().includes(gS))return!1;let t=e.decapsulateCode(vS);return Gc.WebSocketsSecure.matches(t)&&Gc.DNS.matches(t.decapsulateCode(xS).decapsulateCode(sre))}),dnsWsOrWss:r=>r.filter(e=>{if(e.protoCodes().includes(gS))return!1;let t=e.decapsulateCode(vS);return Gc.WebSockets.matches(t)?Gc.DNS.matches(t.decapsulateCode(xS).decapsulateCode(SMe)):Gc.WebSocketsSecure.matches(t)&&Gc.DNS.matches(t.decapsulateCode(xS).decapsulateCode(sre))})}});var pre=M((rQe,hre)=>{"use strict";var AMe=Nte(),IMe=a3(),TMe=qte(),{AbortError:fre}=Dc(),kMe=z3(),cre=sr(),Yc=cre("libp2p:websockets");Yc.error=cre("libp2p:websockets:error");var ure=UE(),CMe=Dte(),BMe=nre(),lre=are(),dre=class{constructor({upgrader:e,filter:t}){if(!e)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=e,this._filter=t}async dial(e,t={}){Yc("dialing %s",e);let i=await this._connect(e,t),n=BMe(i,{remoteAddr:e,signal:t.signal});Yc("new outbound connection %s",n.remoteAddr);let s=await this._upgrader.upgradeOutbound(n);return Yc("outbound connection %s upgraded",n.remoteAddr),s}async _connect(e,t={}){if(t.signal&&t.signal.aborted)throw new fre;let i=e.toOptions();Yc("dialing %s:%s",i.host,i.port);let n=kMe(),s=c=>{let l=`connection error: ${c.message}`;Yc.error(l),n.reject(c)},o=AMe(TMe(e),Object.assign({binary:!0},t));if(o.socket.on?o.socket.on("error",s):o.socket.onerror=s,!t.signal)return await Promise.race([o.connected(),n.promise]),Yc("connected %s",e),o;let a,f=new Promise((c,l)=>{if(a=()=>{l(new fre),setTimeout(()=>{o.close()})},t.signal.aborted)return a();t.signal.addEventListener("abort",a)});try{await Promise.race([f,n.promise,o.connected()])}finally{t.signal.removeEventListener("abort",a)}return Yc("connected %s",e),o}createListener(e={},t){return typeof e=="function"&&(t=e,e={}),CMe({handler:t,upgrader:this._upgrader},e)}filter(e){return e=Array.isArray(e)?e:[e],this._filter?this._filter(e):ure.isBrowser||ure.isWebWorker?lre.dnsWss(e):lre.all(e)}};hre.exports=IMe(dre,{className:"WebSockets",symbolName:"@libp2p/js-libp2p-websockets/websockets"})});var wS=M(()=>{});var yre=M((sQe,bre)=>{bre.exports=function(){if(typeof globalThis=="undefined")return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}});var vre=M((oQe,gre)=>{var mre;gre.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):r=>(mre||(mre=Promise.resolve())).then(r).catch(e=>setTimeout(()=>{throw e},0))});var _re=M((aQe,wre)=>{"use strict";function xre(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function MMe(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=void 0),e!=null&&(t.code=e);try{return xre(r,t)}catch(i){t.message=r.message,t.stack=r.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(r)),xre(new n,t)}}wre.exports=MMe});var SS=M((fQe,Ire)=>{var RMe=sr()("simple-peer"),Ere=yre(),Sre=c0(),NMe=cm(),_S=vre(),ci=_re(),ES=64*1024,PMe=5*1e3,qMe=5*1e3;function Are(r){return r.replace(/a=ice-options:trickle\s\n/g,"")}function OMe(r){console.warn(r)}var Wc=class extends NMe.Duplex{constructor(e){if(e=Object.assign({allowHalfOpen:!1},e),super(e),this._id=Sre(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||Sre(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||Wc.channelConfig,this.negotiated=this.channelConfig.negotiated,this.config=Object.assign({},Wc.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(t=>t),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=e.trickle!==void 0?e.trickle:!0,this.allowHalfTrickle=e.allowHalfTrickle!==void 0?e.allowHalfTrickle:!1,this.iceCompleteTimeout=e.iceCompleteTimeout||PMe,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&typeof e.wrtc=="object"?e.wrtc:Ere(),!this._wrtc)throw typeof window=="undefined"?ci(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):ci(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=this.negotiated?!1:!this.initiator,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._firstStable=!0,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(t){_S(()=>this.destroy(ci(t,"ERR_PC_CONSTRUCTOR")));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=t=>{this._onIceCandidate(t)},this.initiator||this.negotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=t=>{this._setupData(t)},this.streams&&this.streams.forEach(t=>{this.addStream(t)}),this._pc.ontrack=t=>{this._onTrack(t)},this.initiator&&this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(this.destroyed)throw ci(new Error("cannot signal after peer is destroyed"),"ERR_SIGNALING");if(typeof e=="string")try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(t=>{this._addIceCandidate(t)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(t=>{this.destroy(ci(t,"ERR_SET_REMOTE_DESCRIPTION"))}),!e.sdp&&!e.candidate&&!e.renegotiate&&!e.transceiverRequest&&this.destroy(ci(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}_addIceCandidate(e){var t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch(i=>{!t.address||t.address.endsWith(".local")?OMe("Ignoring unsupported ICE candidate."):this.destroy(ci(i,"ERR_ADD_ICE_CANDIDATE"))})}send(e){this._channel.send(e)}addTransceiver(e,t){if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(i){this.destroy(ci(i,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{transceiverRequest:{kind:e,init:t}})}addStream(e){this._debug("addStream()"),e.getTracks().forEach(t=>{this.addTrack(t,e)})}addTrack(e,t){this._debug("addTrack()");var i=this._senderMap.get(e)||new Map,n=i.get(t);if(!n)n=this._pc.addTrack(e,t),i.set(t,n),this._senderMap.set(e,i),this._needsNegotiation();else throw n.removed?ci(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):ci(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(e,t,i){this._debug("replaceTrack()");var n=this._senderMap.get(e),s=n?n.get(i):null;if(!s)throw ci(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,n),s.replaceTrack!=null?s.replaceTrack(t):this.destroy(ci(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,t){this._debug("removeSender()");var i=this._senderMap.get(e),n=i?i.get(t):null;if(!n)throw ci(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{n.removed=!0,this._pc.removeTrack(n)}catch(s){s.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(n):this.destroy(ci(s,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){this._debug("removeSenders()"),e.getTracks().forEach(t=>{this.removeTrack(t,e)})}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,_S(()=>{this._batchedNegotiation=!1,this._debug("starting batched negotiation"),this.negotiate()}))}negotiate(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{renegotiate:!0})),this._isNegotiating=!0}_destroy(e,t){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(i){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(i){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t(e)}_setupData(e){if(!e.channel)return this.destroy(ci(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=ES),this.channelName=this._channel.label,this._channel.onmessage=i=>{this._onChannelMessage(i)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=i=>{this.destroy(ci(i,"ERR_DATA_CHANNEL"))};var t=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(t&&this._onChannelClose(),t=!0):t=!1},qMe)}_read(){}_write(e,t,i){if(this.destroyed)return i(ci(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(n){return this.destroy(ci(n,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>ES?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=i):i(null)}else this._debug("write before connect"),this._chunk=e,this._cb=i}_onFinish(){if(this.destroyed)return;let e=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(e=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(e.sdp=Are(e.sdp)),e.sdp=this.sdpTransform(e.sdp);let t=()=>{if(!this.destroyed){var s=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:s.type,sdp:s.sdp})}},i=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))},n=s=>{this.destroy(ci(s,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(i).catch(n)}).catch(e=>{this.destroy(ci(e,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e=>{!e.mid&&e.sender.track&&!e.requested&&(e.requested=!0,this.addTransceiver(e.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(e=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(e.sdp=Are(e.sdp)),e.sdp=this.sdpTransform(e.sdp);let t=()=>{if(!this.destroyed){var s=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:s.type,sdp:s.sdp}),this.initiator||this._requestMissingTransceivers()}},i=()=>{this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))},n=s=>{this.destroy(ci(s,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(i).catch(n)}).catch(e=>{this.destroy(ci(e,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(ci(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(!this.destroyed){var e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),(e==="connected"||e==="completed")&&(this._pcReady=!0,this._maybeReady()),e==="failed"&&this.destroy(ci(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),e==="closed"&&this.destroy(ci(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}}getStats(e){let t=i=>(Object.prototype.toString.call(i.values)==="[object Array]"&&i.values.forEach(n=>{Object.assign(i,n)}),i);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(i=>{var n=[];i.forEach(s=>{n.push(t(s))}),e(null,n)},i=>e(i)):this._pc.getStats.length>0?this._pc.getStats(i=>{if(!this.destroyed){var n=[];i.result().forEach(s=>{var o={};s.names().forEach(a=>{o[a]=s.stat(a)}),o.id=s.id,o.type=s.type,o.timestamp=s.timestamp,n.push(t(o))}),e(null,n)}},i=>e(i)):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;let e=()=>{this.destroyed||this.getStats((t,i)=>{if(this.destroyed)return;t&&(i=[]);var n={},s={},o={},a=!1;i.forEach(l=>{(l.type==="remotecandidate"||l.type==="remote-candidate")&&(n[l.id]=l),(l.type==="localcandidate"||l.type==="local-candidate")&&(s[l.id]=l),(l.type==="candidatepair"||l.type==="candidate-pair")&&(o[l.id]=l)});let f=l=>{a=!0;var h=s[l.localCandidateId];h&&(h.ip||h.address)?(this.localAddress=h.ip||h.address,this.localPort=Number(h.port)):h&&h.ipAddress?(this.localAddress=h.ipAddress,this.localPort=Number(h.portNumber)):typeof l.googLocalAddress=="string"&&(h=l.googLocalAddress.split(":"),this.localAddress=h[0],this.localPort=Number(h[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");var x=n[l.remoteCandidateId];x&&(x.ip||x.address)?(this.remoteAddress=x.ip||x.address,this.remotePort=Number(x.port)):x&&x.ipAddress?(this.remoteAddress=x.ipAddress,this.remotePort=Number(x.portNumber)):typeof l.googRemoteAddress=="string"&&(x=l.googRemoteAddress.split(":"),this.remoteAddress=x[0],this.remotePort=Number(x[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(i.forEach(l=>{l.type==="transport"&&l.selectedCandidatePairId&&f(o[l.selectedCandidatePairId]),(l.type==="googCandidatePair"&&l.googActiveConnection==="true"||(l.type==="candidatepair"||l.type==="candidate-pair")&&l.selected)&&f(l)}),!a&&(!Object.keys(o).length||Object.keys(s).length)){setTimeout(e,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(l){return this.destroy(ci(l,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');var c=this._cb;this._cb=null,c(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>ES||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&!this._firstStable&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation&&(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()),this._debug("negotiate"),this.emit("negotiate")),this._firstStable=!1,this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):!e.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(!this.destroyed){var t=e.data;t instanceof ArrayBuffer&&(t=new Uint8Array(t)),this.push(t)}}_onChannelBufferedAmountLow(){if(!(this.destroyed||!this._cb)){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var e=this._cb;this._cb=null,e(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach(t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),!this._remoteStreams.some(i=>i.id===t.id)&&(this._remoteStreams.push(t),_S(()=>{this.emit("stream",t)}))})}_debug(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],RMe.apply(null,e)}};Wc.WEBRTC_SUPPORT=!!Ere();Wc.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};Wc.channelConfig={};Ire.exports=Wc});var kre=M((cQe,Tre)=>{var e6;typeof window!="undefined"?e6=window:typeof global!="undefined"?e6=global:typeof self!="undefined"?e6=self:e6={};Tre.exports=e6});var Bre=M((uQe,Cre)=>{Cre.exports=LMe;var DMe=Object.prototype.toString;function LMe(r){if(!r)return!1;var e=DMe.call(r);return e==="[object Function]"||typeof r=="function"&&e!=="[object RegExp]"||typeof window!="undefined"&&(r===window.setTimeout||r===window.alert||r===window.confirm||r===window.prompt)}});var Rre=M((lQe,Mre)=>{var AS=function(r){return r.replace(/^\s+|\s+$/g,"")},UMe=function(r){return Object.prototype.toString.call(r)==="[object Array]"};Mre.exports=function(r){if(!r)return{};for(var e={},t=AS(r).split(`
`),i=0;i<t.length;i++){var n=t[i],s=n.indexOf(":"),o=AS(n.slice(0,s)).toLowerCase(),a=AS(n.slice(s+1));typeof e[o]=="undefined"?e[o]=a:UMe(e[o])?e[o].push(a):e[o]=[e[o],a]}return e}});var Pre=M((dQe,Nre)=>{Nre.exports=KMe;var FMe=Object.prototype.hasOwnProperty;function KMe(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var i in t)FMe.call(t,i)&&(r[i]=t[i])}return r}});var Lre=M((hQe,IS)=>{"use strict";var qre=kre(),zMe=Bre(),jMe=Rre(),VMe=Pre();IS.exports=U0;IS.exports.default=U0;U0.XMLHttpRequest=qre.XMLHttpRequest||YMe;U0.XDomainRequest="withCredentials"in new U0.XMLHttpRequest?U0.XMLHttpRequest:qre.XDomainRequest;HMe(["get","put","post","patch","head","delete"],function(r){U0[r==="delete"?"del":r]=function(e,t,i){return t=Ore(e,t,i),t.method=r.toUpperCase(),Dre(t)}});function HMe(r,e){for(var t=0;t<r.length;t++)e(r[t])}function $Me(r){for(var e in r)if(r.hasOwnProperty(e))return!1;return!0}function Ore(r,e,t){var i=r;return zMe(e)?(t=e,typeof r=="string"&&(i={uri:r})):i=VMe(e,{uri:r}),i.callback=t,i}function U0(r,e,t){return e=Ore(r,e,t),Dre(e)}function Dre(r){if(typeof r.callback=="undefined")throw new Error("callback argument missing");var e=!1,t=function(ee,N,V){e||(e=!0,r.callback(ee,N,V))};function i(){a.readyState===4&&setTimeout(o,0)}function n(){var W=void 0;if(a.response?W=a.response:W=a.responseText||GMe(a),C)try{W=JSON.parse(W)}catch(ee){}return W}function s(W){return clearTimeout(L),W instanceof Error||(W=new Error(""+(W||"Unknown XMLHttpRequest Error"))),W.statusCode=0,t(W,O)}function o(){if(!c){var W;clearTimeout(L),r.useXDR&&a.status===void 0?W=200:W=a.status===1223?204:a.status;var ee=O,N=null;return W!==0?(ee={body:n(),statusCode:W,method:h,headers:{},url:l,rawRequest:a},a.getAllResponseHeaders&&(ee.headers=jMe(a.getAllResponseHeaders()))):N=new Error("Internal XMLHttpRequest Error"),t(N,ee,ee.body)}}var a=r.xhr||null;a||(r.cors||r.useXDR?a=new U0.XDomainRequest:a=new U0.XMLHttpRequest);var f,c,l=a.url=r.uri||r.url,h=a.method=r.method||"GET",x=r.body||r.data,_=a.headers=r.headers||{},E=!!r.sync,C=!1,L,O={body:void 0,headers:{},statusCode:0,method:h,url:l,rawRequest:a};if("json"in r&&r.json!==!1&&(C=!0,_.accept||_.Accept||(_.Accept="application/json"),h!=="GET"&&h!=="HEAD"&&(_["content-type"]||_["Content-Type"]||(_["Content-Type"]="application/json"),x=JSON.stringify(r.json===!0?x:r.json))),a.onreadystatechange=i,a.onload=o,a.onerror=s,a.onprogress=function(){},a.onabort=function(){c=!0},a.ontimeout=s,a.open(h,l,!E,r.username,r.password),E||(a.withCredentials=!!r.withCredentials),!E&&r.timeout>0&&(L=setTimeout(function(){if(!c){c=!0,a.abort("timeout");var W=new Error("XMLHttpRequest timeout");W.code="ETIMEDOUT",s(W)}},r.timeout)),a.setRequestHeader)for(f in _)_.hasOwnProperty(f)&&a.setRequestHeader(f,_[f]);else if(r.headers&&!$Me(r.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in r&&(a.responseType=r.responseType),"beforeSend"in r&&typeof r.beforeSend=="function"&&r.beforeSend(a),a.send(x||null),a}function GMe(r){try{if(r.responseType==="document")return r.responseXML;var e=r.responseXML&&r.responseXML.documentElement.nodeName==="parsererror";if(r.responseType===""&&!e)return r.responseXML}catch(t){}return null}function YMe(){}});var kS=M((TS,Ure)=>{"use strict";TS.CODE_P2P=421;TS.CODE_CIRCUIT=290;Ure.exports.CLOSE_TIMEOUT=2e3});var Lg=M((pQe,Fre)=>{Fre.exports=r=>{if(r[Symbol.asyncIterator])return r;if(r.getReader)return async function*(){let e=r.getReader();try{for(;;){let{done:t,value:i}=await e.read();if(t)return;yield i}}finally{e.releaseLock()}}();throw new Error("unknown stream")}});var CS=M((bQe,Kre)=>{var WMe=q3();Kre.exports=r=>async e=>{e=WMe(e);let t=O=>{typeof O.return=="function"&&O.return()},i=null,n=null,s=O=>{i=O,n&&n(O),t(e)},o=null,a=!1,f=()=>{a=!0,o&&o()},c=null,l=!1,h=()=>{l=!0,c&&c()},x=null,_=()=>{x&&x()},E=()=>new Promise((O,W)=>{o=x=O,n=W,r.once("drain",_)}),C=()=>(t(e),new Promise((O,W)=>{if(a||l||i)return O();c=o=O,n=W})),L=()=>{r.removeListener("error",s),r.removeListener("close",f),r.removeListener("finish",h),r.removeListener("drain",_)};r.once("error",s),r.once("close",f),r.once("finish",h);try{for await(let O of e){if(!r.writable||r.destroyed||i)break;r.write(O)===!1&&await E()}}catch(O){i||r.destroy(),i=O}try{if(r.writable&&r.end(),await C(),i)throw i}finally{L()}}});var BS=M((yQe,zre)=>{var ZMe=CS(),JMe=Lg();zre.exports=r=>({sink:ZMe(r),source:JMe(r)})});var Vre=M((mQe,jre)=>{var XMe=BS();jre.exports=r=>async function*(e){let t=XMe(r);t.sink(e).catch(i=>{}),yield*t.source}});var Hre=M((gQe,G1)=>{G1.exports=Lg();G1.exports.source=Lg();G1.exports.sink=CS();G1.exports.transform=Vre();G1.exports.duplex=BS()});var RS=M((vQe,Yre)=>{"use strict";var $re=Dc(),QMe=Hre(),{CLOSE_TIMEOUT:eRe}=kS(),tRe=Og(),Gre=sr(),MS=Gre("libp2p:webrtcdirect:socket");MS.error=Gre("libp2p:webrtcdirect:socket:error");Yre.exports=(r,e={})=>{let{sink:t,source:i}=QMe.duplex(r),n={async sink(s){e.signal&&(s=$re(s,e.signal));try{await t(async function*(){for await(let o of s)yield o instanceof Uint8Array?o:o.slice()}())}catch(o){o.type!=="aborted"&&MS.error(o)}},source:e.signal?$re(i,e.signal):i,conn:r,localAddr:r.localAddress&&r.localPort?tRe(r.localAddress,r.localPort):void 0,remoteAddr:e.remoteAddr,timeline:{open:Date.now()},close(){if(!r.destroyed)return new Promise((s,o)=>{let a=Date.now(),f=setTimeout(()=>{if(n.remoteAddr){let{host:c,port:l}=n.remoteAddr.toOptions();MS("timeout closing socket to %s:%s after %dms, destroying it manually",c,l,Date.now()-a)}r.destroyed||r.destroy()},eRe);r.once("close",()=>{s()}),r.end(c=>{if(clearTimeout(f),n.timeline.close=Date.now(),c)return o(c)})})}};return r.once("close",()=>{n.timeline.close||(n.timeline.close=Date.now())}),n}});var Wre=M(()=>{});var Zre=M(()=>{});var rie=M((SQe,tie)=>{"use strict";var rRe=Wre(),iRe=Wn(),Jre=sr(),Y1=Jre("libp2p:webrtcdirect:listener");Y1.error=Jre("libp2p:webrtcdirect:listener:error");var Xre=Zre(),nRe=Vy(),sRe=wS(),oRe=SS(),Qre=ff(),eie=Kr(),aRe=Og(),fRe=RS();tie.exports=({handler:r,upgrader:e},t={})=>{let i=new iRe,n=process.env.LIT_NODE_DOMAIN_NAME;if(!n)throw new Error("LIT_NODE_DOMAIN_NAME env var is not set.  Please set it and make sure you have SSL certs set up for it via certbot in standalone mode.");let s={key:Xre.readFileSync(`/etc/letsencrypt/live/${n}/privkey.pem`),cert:Xre.readFileSync(`/etc/letsencrypt/live/${n}/fullchain.pem`)},o=rRe.createServer(s),a;return i.__connections=[],o.on("request",async(f,c)=>{c.setHeader("Content-Type","text/plain"),c.setHeader("Access-Control-Allow-Origin","*");let h=f.url.split("?signal=")[1],x=Qre.decode(h),_=JSON.parse(eie(x));t={trickle:!1,wrtc:nRe?sRe:void 0,...t};let E=new oRe(t),C=fRe(E,{remoteAddr:aRe(f.connection.remoteAddress,f.connection.remotePort)});Y1("new inbound connection %s",C.remoteAddr),E.on("error",O=>{Y1.error(`incoming connectioned errored with ${O}`)}),E.once("close",()=>{E.removeAllListeners("error")}),E.on("signal",O=>{let W=JSON.stringify(O),ee=Qre.encode("base58btc",new TextEncoder().encode(W));c.end(eie(ee))}),E.signal(_);let L;try{L=await e.upgradeInbound(C)}catch(O){return Y1.error("inbound connection failed to upgrade",O),C.close()}Y1("inbound connection %s upgraded",C.remoteAddr),cRe(i,C),E.on("connect",()=>{i.emit("connection",L),r(L),E.removeAllListeners("connect"),E.removeAllListeners("signal")})}),o.on("error",f=>i.emit("error",f)),o.on("close",()=>i.emit("close")),i.listen=f=>{a=f;let c=f.toOptions();return new Promise((l,h)=>{o.on("listening",x=>{if(x)return h(x);i.emit("listening"),Y1("Listening on %s %s",c.port,c.host),l()}),o.listen(c)})},i.close=async()=>{if(!!o.listening)return await Promise.all(i.__connections.map(f=>f.close())),new Promise((f,c)=>{o.close(l=>l?c(l):f())})},i.getAddrs=()=>[a],i};function cRe(r,e){r.__connections.push(e);let t=()=>{r.__connections=r.__connections.filter(i=>i!==e)};e.conn.once("close",t)}});var lie=M((AQe,uie)=>{"use strict";var uRe=sr(),iie=sr(),Zc=iie("libp2p:webrtcdirect");Zc.error=iie("libp2p:webrtcdirect:error");var nie=Ht(),lRe=wS(),dRe=SS(),sie=Vy(),hRe=Sb(),oie=ff(),pRe=Lre(),bRe=a3(),{AbortError:aie}=Dc(),fie=Kr(),{CODE_CIRCUIT:yRe,CODE_P2P:mRe}=kS(),gRe=RS(),vRe=rie();function xRe(){}var cie=class{constructor({upgrader:e}){uRe(e,"An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader."),this._upgrader=e}async dial(e,t={}){let i=await this._connect(e,t),n=gRe(i,{remoteAddr:e,signal:t.signal});Zc("new outbound connection %s",n.remoteAddr);let s=await this._upgrader.upgradeOutbound(n);return Zc("outbound connection %s upgraded",n.remoteAddr),s}_connect(e,t={}){if(t.signal&&t.signal.aborted)throw new aie;return t={initiator:!0,trickle:!1,wrtc:sie?lRe:void 0,...t},new Promise((i,n)=>{let s=Date.now(),o,a=e.toOptions();Zc("Dialing %s:%s",a.host,a.port);let f=new dRe(t),c=E=>{if(!o){let C=`connection error ${a.host}:${a.port}: ${E.message}`;Zc.error(C),E.message=C,_(E)}},l=()=>{Zc("connnection timeout %s:%s",a.host,a.port);let E=nie(new Error(`connection timeout after ${Date.now()-s}ms`),"ERR_CONNECT_TIMEOUT");f.emit("error",E)},h=()=>{o=!0,Zc("connection opened %s:%s",a.host,a.port),_(null)},x=()=>{Zc.error("connection aborted %s:%s",a.host,a.port),f.destroy(),_(new aie)},_=E=>{f.removeListener("error",c),f.removeListener("timeout",l),f.removeListener("connect",h),f.removeAllListeners("signal"),t.signal&&t.signal.removeEventListener("abort",x),E?n(E):i(f)};f.once("error",c),f.once("timeout",l),f.once("connect",h),f.on("close",()=>f.destroy()),t.signal&&t.signal.addEventListener("abort",x),f.on("signal",E=>{let C=JSON.stringify(E),L="https://"+a.host+":"+a.port,O="/?signal="+fie(oie.encode("base58btc",new TextEncoder().encode(C))),W=L+O;pRe.get(W,(ee,N)=>{if(ee)return n(ee);let V=oie.decode(N.body),z=fie(V),F=JSON.parse(z);f.signal(F)})})})}createListener(e={},t){if(!sie)throw nie(new Error("Can't listen if run from the Browser"),"ERR_NO_SUPPORT_FROM_BROWSER");return typeof e=="function"&&(t=e,e={}),t=t||xRe,vRe({handler:t,upgrader:this._upgrader},e)}filter(e){return e=Array.isArray(e)?e:[e],e.filter(t=>t.protoCodes().includes(yRe)?!1:hRe.WebRTCDirect.matches(t.decapsulateCode(mRe)))}};uie.exports=bRe(cie,{className:"WebRTCDirect",symbolName:"@libp2p/js-libp2p-webrtc-direct/webrtcdirect"})});var F0=M((IQe,hie)=>{"use strict";function die(r,e){if(!r){let t=new Error(e||"Assertion failed");throw Error.captureStackTrace&&Error.captureStackTrace(t,die),t}}hie.exports=die});var NS=M(pie=>{"use strict";pie.custom="inspect"});var Die=M((kQe,Oie)=>{"use strict";var{custom:bie}=NS(),yie=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],wRe=[0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_Re=[0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176],PS={p192:null,p224:null,p521:null,k256:null,p251:null,p25519:null,p448:null},Ii={NONE:0,QUO:1,REM:2,BOTH:3,EUCLID:4,ALL:7},t6=4,W1=1<<t6-1,Bl=typeof BigInt=="function",De=class{constructor(e,t,i){this.words=[0],this.length=1,this.negative=0,this.red=null,this.from(e,t,i)}_iadd(e,t){let i=0,n=0;for(e.length<t.length&&([e,t]=[t,e]),e!==this&&this._alloc(e.length);n<t.length;n++){let s=(e.words[n]|0)+(t.words[n]|0)+i;this.words[n]=s&67108863,i=s>>>26}for(;i!==0&&n<e.length;n++){let s=(e.words[n]|0)+i;this.words[n]=s&67108863,i=s>>>26}if(this.length=e.length,i!==0)this._alloc(this.length+1),this.words[this.length++]=i;else if(e!==this)for(;n<e.length;n++)this.words[n]=e.words[n];return this}_iaddn(e){if(this.words[0]+=e,this.words[0]<67108864)return this;let t=0;for(this._alloc(this.length+1),this.words[this.length]=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,this.words[t+1]+=1;return this.length=Math.max(this.length,t+1),this}iadd(e){if(Ke(De.isBN(e),"num","bignum"),this.negative===e.negative)this._iadd(this,e);else{let t=this.ucmp(e);if(t===0)return this.words[0]=0,this.length=1,this.negative=0,this;t<0?(this._isub(e,this),this.negative^=1):this._isub(this,e)}return this}iaddn(e){Ke(Yr(e),"num","smi");let t=e<0|0;return t&&(e=-e),this.negative===t?this._iaddn(e):this.length===1&&this.words[0]<e?(this.words[0]=e-this.words[0],this.negative^=1):this._isubn(e),this}add(e){return Ke(De.isBN(e),"num","bignum"),e.length>this.length?e.clone().iadd(this):this.clone().iadd(e)}addn(e){return this.clone().iaddn(e)}_isub(e,t){let i=0,n=0;for(Ti(e.length>=t.length),e!==this&&this._alloc(e.length);n<t.length;n++){let s=(e.words[n]|0)-(t.words[n]|0)+i;i=s>>26,this.words[n]=s&67108863}for(;i!==0&&n<e.length;n++){let s=(e.words[n]|0)+i;i=s>>26,this.words[n]=s&67108863}if(Ti(i===0),e!==this)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=Math.max(this.length,n),this._strip()}_isubn(e){if(this.words[0]-=e,this.words[0]>=0)return this._normalize();Ti(this.length!==1),this._alloc(this.length+1);for(let t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.words[this.length]=0,this._strip()}isub(e){if(Ke(De.isBN(e),"num","bignum"),this.negative!==e.negative)this._iadd(this,e);else{let t=this.ucmp(e);if(t===0)return this.words[0]=0,this.length=1,this.negative=0,this;t<0?(this._isub(e,this),this.negative^=1):this._isub(this,e)}return this}isubn(e){Ke(Yr(e),"num","smi");let t=e<0|0;return t&&(e=-e),this.negative!==t?this._iaddn(e):this.length===1&&this.words[0]<e?(this.words[0]=e-this.words[0],this.negative^=1):this._isubn(e),this}sub(e){return this.clone().isub(e)}subn(e){return this.clone().isubn(e)}_mul(e,t){if(Ke(De.isBN(e),"num","bignum"),Ke(De.isBN(t),"out","bignum"),this.length===10&&e.length===10)return qie(this,e,t);let i=this.length+e.length;return i<63?Nie(this,e,t):i<1024?Pie(this,e,t):IRe(this,e,t)}imul(e){return this.mul(e)._move(this)}imuln(e){Ke(Yr(e),"num","smi");let t=e<0|0;t&&(e=-e);let i=0;for(let n=0;n<this.length;n++){let s=this.words[n]*e,o=(s&67108863)+(i&67108863);i>>=26,i+=s/67108864|0,i+=o>>>26,this.words[n]=o&67108863}return this.negative^=t,i!==0?(this._alloc(this.length+1),this.words[this.length++]=i):this._strip(),this}mul(e){Ke(De.isBN(e),"num","bignum");let t=this.length+e.length,i=new De;i.words=new Array(t);for(let n=0;n<t;n++)i.words[n]=0;return this._mul(e,i)}muln(e){return this.clone().imuln(e)}mulShift(e,t){Ke(De.isBN(e),"num","bignum"),Ke(t>>>0===t,"bits","uint32");let i=this.mul(e),n=i.utestn(t-1);return i.iushrn(t),this.negative^e.negative?i.isubn(n):i.iaddn(n)}_div(e,t){Ke(De.isBN(e),"num","bignum"),Ti((t&Ii.ALL)===t),Ti(t!==Ii.NONE);let i=this,n=e;if(Fg(!n.isZero()),i.isZero())return[new De(0),new De(0)];let s=i.negative,o=n.negative;i.negative=0,n.negative=0;let a=null,f=null;return i.ucmp(n)<0?(t&Ii.QUO&&(a=new De(0)),t&Ii.REM&&(f=i.clone())):n.length===1?(t&Ii.QUO&&(a=i.quon(n.words[0])),t&Ii.REM&&(f=i.remn(n.words[0]))):[a,f]=i._wordDiv(n,t),i.negative=s,n.negative=o,t&Ii.QUO&&(a.negative=i.negative^n.negative,a._normalize()),t&Ii.REM&&(f.negative=i.negative,f._normalize()),t&Ii.EUCLID&&(t&Ii.QUO&&(Ti((t&Ii.REM)!=0),f.negative!==0&&(n.negative!==0?a.iaddn(1):a.isubn(1))),t&Ii.REM&&f.negative!==0&&(n.negative!==0?f.isub(n):f.iadd(n))),[a,f]}_wordDiv(e,t){let i=this.clone(),n=e,s=null,o,a=n.words[n.length-1]|0,f=26-X1(a);f!==0?(n=n.clone(),i.iushln(f),n.iushln(f),o=n.words[n.length-1]|0):o=a;let c=i.length-n.length;if(Ti(c>=0),t&Ii.QUO){s=new De(0),s.length=c+1,s.words=new Array(s.length);for(let h=0;h<s.length;h++)s.words[h]=0}let l=i.clone();l._ishlnsubmul(n,1,c),l.negative===0&&(s&&(s.words[c]=1),i=l);for(let h=c-1;h>=0;h--){let x=i.words[n.length+h],_=i.words[n.length+h-1],E=(x*67108864+_)/o|0,C=Math.min(E,67108863);for(i._ishlnsubmul(n,C,h);i.negative!==0;)C-=1,i.negative=0,i._ishlnsubmul(n,1,h),i.ineg();s&&(s.words[h]=C)}return s&&s._strip(),t&Ii.REM&&f!==0&&i.iushrn(f),[s,i]}_ishlnsubmul(e,t,i){let n=0,s=0;for(this._expand(e.length+i);s<e.length;s++){let o=(this.words[s+i]|0)+n,a=e.words[s]*t,f=o-(a&67108863);n=(f>>26)-(a/67108864|0),this.words[s+i]=f&67108863}for(;s<this.length-i;s++){let o=(this.words[s+i]|0)+n;n=o>>26,this.words[s+i]=o&67108863}if(n===0)return this._strip();Ti(n===-1),n=0;for(let o=0;o<this.length;o++){let a=-(this.words[o]|0)+n;n=a>>26,this.words[o]=a&67108863}return this.negative=1,this._strip()}quorem(e){return this._div(e,Ii.BOTH)}iquo(e){return this.quo(e)._move(this)}iquon(e){Ke(Yr(e),"num","smi"),Fg(e!==0);let t=e<0|0;t&&(e=-e);let i=0;for(let n=this.length-1;n>=0;n--){let s=(this.words[n]|0)+i*67108864;this.words[n]=s/e|0,i=s%e}return this.negative^=t,this._strip()}quo(e){return this._div(e,Ii.QUO)[0]}quon(e){return this.clone().iquon(e)}irem(e){return this.rem(e)._move(this)}iremn(e){let t=this.remrn(e);return t<0&&(t=-t),this.words[0]=t,this.length=1,this._normalize()}rem(e){return this._div(e,Ii.REM)[1]}remn(e){return this.clone().iremn(e)}remrn(e){Ke(Yr(e),"num","smi"),Fg(e!==0),e<0&&(e=-e);let t=(1<<26)%e,i=0;for(let n=this.length-1;n>=0;n--)i=(t*i+(this.words[n]|0))%e;return this.negative!==0?-i|0:i}divmod(e){return this._div(e,Ii.BOTH|Ii.EUCLID)}idiv(e){return this.div(e)._move(this)}idivn(e){if(this.negative===0)return this.iquon(e);let t=this.remrn(e);return this.iquon(e),t<0&&(e<0?this.iaddn(1):this.isubn(1)),this}div(e){return this._div(e,Ii.BOTH|Ii.EUCLID)[0]}divn(e){return this.clone().idivn(e)}imod(e){return this.ucmp(e)<0?(this.negative!==0&&(this._isub(e,this),this.negative=0),this):this.mod(e)._move(this)}imodn(e){return this.words[0]=this.modrn(e),this.length=1,this.negative=0,this}mod(e){return this._div(e,Ii.REM|Ii.EUCLID)[1]}modn(e){return this.clone().imodn(e)}modrn(e){Ke(Yr(e),"num","smi");let t=this.remrn(e);return t<0&&(e<0?t-=e:t+=e),t}divRound(e){let[t,i]=this.quorem(e);if(i.isZero())return t;let n=e.words[0]&1;e.iushrn(1);let s=i.ucmp(e);return e.iushln(1),e.words[0]|=n,s<0||e.isOdd()&&s===0?t:this.negative^e.negative?t.isubn(1):t.iaddn(1)}ipow(e){return this.pow(e)._move(this)}ipown(e){return this.pown(e)._move(this)}pow(e){Ke(De.isBN(e),"num","bignum");let t=X1(e.words[e.length-1]),i=new De(1);for(let n=e.length-1;n>=0;n--){let s=e.words[n];for(let o=t-1;o>=0;o--)i=i.sqr(),s>>o&1&&(i=i.mul(this));t=26}return i}pown(e){if(Ke(Yr(e),"num","smi"),e<0&&(e=-e),e===0)return new De(1);if(e===1)return this.clone();let t=X1(e),i=this;for(let n=t-2;n>=0;n--)i=i.sqr(),e>>n&1&&(i=i.mul(this));return i}isqr(){return this.imul(this)}sqr(){return this.mul(this)}_rootrem(e,t){if(Ke(e>>>0===e,"num","uint32"),e===0)throw new RangeError("Zeroth root.");if(~e&this.negative)throw new RangeError("Negative with even root.");if(this.ucmpn(1)<=0)return[this.clone(),new De(0)];let i=new De(0),n=De.shift(1,this.bitLength()/e+1|0),s,o;if(this.negative!==0&&n.ineg(),e===2)do i=n,n=this.quo(i),n.iadd(i),n.iushrn(1);while(n.ucmp(i)<0);else do i=n,n=i.pown(e-1),n=this.quo(n),s=i.muln(e-1),n.iadd(s),n=n.quon(e);while(n.ucmp(i)<0);return t&&(n=i.pown(e),o=this.sub(n)),[i,o]}rootrem(e){return this._rootrem(e,1)}iroot(e){return this.root(e)._move(this)}root(e){return this._rootrem(e,0)[0]}isPower(e){if(Ke(e>>>0===e,"num","uint32"),e===0||~e&this.negative)return!1;let[,t]=this.rootrem(e);return t.sign()===0}sqrtrem(){return this.rootrem(2)}isqrt(){return this.sqrt()._move(this)}sqrt(){return this.root(2)}isSquare(){return this.isPower(2)}iand(e){Ke(De.isBN(e),"num","bignum");let t=this,i=e;if(t===i)return t;if((t.negative|i.negative)==0)return t.iuand(i);if((t.negative&i.negative)==1)return t.iaddn(1),i.iaddn(1),t.iuor(i),t.isubn(1),i.isubn(1),t;t.negative!==0&&([t,i]=[i.clone(),t]);let n=t.bitLength();return i.iaddn(1),i.inotn(n),t.iuand(i),i.inotn(n),i.isubn(1),t._move(this)}iandn(e){return Ke(Yr(e),"num","smi"),(this.negative|e<0)!=0?this.iand(new De(e)):(this.words[0]&=e,this.length=1,this)}and(e){return this.clone().iand(e)}andn(e){return this.clone().iandn(e)}andrn(e){if(Ke(Yr(e),"num","smi"),(this.negative|e<0)!=0){let t=this.iand(new De(e));if(t.length>1)throw new RangeError("Number exceeds 26 bits.");return t.negative!==0?-t.words[0]:t.words[0]}return this.words[0]&e}iuand(e){Ke(De.isBN(e),"num","bignum"),this.length=Math.min(this.length,e.length);for(let t=0;t<this.length;t++)this.words[t]&=e.words[t];return this._strip()}iuandn(e){return Ke(Yr(e),"num","smi"),this.words[0]&=Math.abs(e),this.length=1,this._normalize()}uand(e){return this.clone().iuand(e)}uandn(e){return this.clone().iuandn(e)}uandrn(e){Ke(Yr(e),"num","smi");let t=this.words[0]&Math.abs(e);return this.negative!==0?-t|0:t}ior(e){Ke(De.isBN(e),"num","bignum");let t=this,i=e;return t===i?t:(t.negative|i.negative)==0?t.iuor(i):(t.negative&i.negative)==1?(t.iaddn(1),i.iaddn(1),t.iuand(i),t.isubn(1),i.isubn(1),t):(i=i.clone(),t.negative!==0&&([t,i]=[i,t]),i.iaddn(1),t.inotn(i.bitLength()),i.iuand(t),i.isubn(1),i._move(this))}iorn(e){return Ke(Yr(e),"num","smi"),(this.negative|e<0)!=0?this.ior(new De(e)):(this.words[0]|=e,this)}or(e){return this.clone().ior(e)}orn(e){return this.clone().iorn(e)}iuor(e){Ke(De.isBN(e),"num","bignum"),this._expand(e.length);for(let t=0;t<e.length;t++)this.words[t]|=e.words[t];return this}iuorn(e){return Ke(Yr(e),"num","smi"),this.words[0]|=Math.abs(e),this}uor(e){return this.clone().iuor(e)}uorn(e){return this.clone().iuorn(e)}ixor(e){Ke(De.isBN(e),"num","bignum");let t=this,i=e;return t===i?(t.words[0]=0,t.length=1,t.negative=0,t):(t.negative|i.negative)==0?t.iuxor(i):(t.negative&i.negative)==1?(t.iaddn(1),i.iaddn(1),t.iuxor(i),t.ineg(),i.isubn(1),t):(t.negative!==0&&([t,i]=[i.clone(),t]),i.iaddn(1),t.iuxor(i),t.iaddn(1),t.ineg(),i.isubn(1),t._move(this))}ixorn(e){return Ke(Yr(e),"num","smi"),(this.negative|e<0)!=0?this.ixor(new De(e)):(this.words[0]^=e,this)}xor(e){return this.clone().ixor(e)}xorn(e){return this.clone().ixorn(e)}iuxor(e){Ke(De.isBN(e),"num","bignum");let t=this,i=e;t.length<i.length&&([t,i]=[i,t]);let n=0;for(;n<i.length;n++)this.words[n]=t.words[n]^i.words[n];if(t!==this)for(this._alloc(t.length);n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()}iuxorn(e){return Ke(Yr(e),"num","smi"),this.words[0]^=Math.abs(e),this._normalize()}uxor(e){return this.clone().iuxor(e)}uxorn(e){return this.clone().iuxorn(e)}inot(){return this.negative!==0?this.ineg().isubn(1):this.iaddn(1).ineg(),this}not(){return this.clone().inot()}inotn(e){Ke(e>>>0===e,"width","uint32");let t=e%26,i=Math.ceil(e/26),n=0;for(this._expand(i),t>0&&(i-=1);n<i;n++)this.words[n]^=67108863;return t>0&&(this.words[n]^=(1<<t)-1),this._strip()}notn(e){return this.clone().inotn(e)}ishl(e){return Ke(De.isBN(e),"bits","bignum"),Ke(e.bitLength()<=32,"bits","uint32"),this.ishln(e.toNumber())}ishln(e){return this.iushln(e)}shl(e){return this.clone().ishl(e)}shln(e){return this.clone().ishln(e)}iushl(e){return Ke(De.isBN(e),"bits","bignum"),Ke(e.bitLength()<=32,"bits","uint32"),this.iushln(e.toNumber())}iushln(e){Ke(e>>>0===e,"bits","uint32");let t=e%26,i=(e-t)/26,n=(1<<t)-1<<26-t;if(t!==0){let s=0;for(let o=0;o<this.length;o++){let a=this.words[o]&n,f=(this.words[o]|0)-a<<t;this.words[o]=f|s,s=a>>>26-t}s!==0&&(this._alloc(this.length+1),this.words[this.length++]=s)}if(i!==0){this._alloc(this.length+i);for(let s=this.length-1;s>=0;s--)this.words[s+i]=this.words[s];for(let s=0;s<i;s++)this.words[s]=0;this.length+=i}return this._strip()}ushl(e){return this.clone().iushl(e)}ushln(e){return this.clone().iushln(e)}_split(e,t){let i=e%26,n=Math.min((e-i)/26,this.length),s=(1<<i)-1;if(t){t._alloc(n);for(let a=0;a<n;a++)t.words[a]=this.words[a];t.length=n}if(n!==0)if(this.length>n){this.length-=n;for(let a=0;a<this.length;a++)this.words[a]=this.words[a+n]}else this.words[0]=0,this.length=1;let o=0;if(i!==0)for(let a=this.length-1;a>=0;a--){let f=this.words[a]|0;this.words[a]=o<<26-i|f>>>i,o=f&s}return t&&(o!==0?(t._alloc(t.length+1),t.words[t.length++]=o):(t.length===0&&(t.words[t.length++]=0),t._strip())),this._strip()}ishr(e){return Ke(De.isBN(e),"bits","bignum"),Ke(e.bitLength()<=32,"bits","uint32"),this.ishrn(e.toNumber())}ishrn(e){return Ke(e>>>0===e,"bits","uint32"),this.negative!==0?(this.iaddn(1),this.iushrn(e),this.isubn(1),this):this.iushrn(e)}shr(e){return this.clone().ishr(e)}shrn(e){return this.clone().ishrn(e)}iushr(e){return Ke(De.isBN(e),"bits","bignum"),Ke(e.bitLength()<=32,"bits","uint32"),this.iushrn(e.toNumber())}iushrn(e){return Ke(e>>>0===e,"bits","uint32"),this._split(e,null)}ushr(e){return this.clone().iushr(e)}ushrn(e){return this.clone().iushrn(e)}setn(e,t){return Ke(e>>>0===e,"bit","uint32"),this.negative!==0?(this.iaddn(1),this.usetn(e,!t),this.isubn(1),this):this.usetn(e,t)}usetn(e,t){Ke(e>>>0===e,"bit","uint32");let i=e%26,n=(e-i)/26;return this._expand(n+1),t?this.words[n]|=1<<i:this.words[n]&=~(1<<i),this._strip()}testn(e){Ke(e>>>0===e,"bit","uint32");let t=e%26,i=(e-t)/26;if(this.length<=i)return this.negative;let n=this.words[i],s=n>>t&1;if(this.negative!==0){if(t>0&&n&(1<<t)-1)return s^1;let o=i;for(;o--;)if(this.words[o]>0)return s^1}return s}utestn(e){Ke(e>>>0===e,"bit","uint32");let t=e%26,i=(e-t)/26;return this.length<=i?0:this.words[i]>>t&1}imaskn(e){return Ke(e>>>0===e,"bits","uint32"),this.negative!==0&&(this.iaddn(1),this.inotn(e+1),this.ineg()),this.iumaskn(e)}maskn(e){return this.clone().imaskn(e)}iumaskn(e){Ke(e>>>0===e,"bits","uint32");let t=e%26,i=(e-t)/26;return this.length<=i?this:(t!==0&&(i+=1),this.length=Math.min(i,this.length),t!==0&&(this.words[this.length-1]&=(1<<t)-1),this.length===0&&(this.words[this.length++]=0),this._strip())}umaskn(e){return this.clone().iumaskn(e)}andln(e){return this.words[0]&e}bit(e){return this.utestn(e)}bits(e,t){Ke(e>>>0===e,"pos","uint32"),Ke(t>>>0===t,"width","uint32"),Ke(t<=26,"width","width");let i=e%26,n=(e-i)/26;if(n>=this.length)return 0;let s=this.words[n]>>i&(1<<t)-1;if(i+t>26&&n+1<this.length){let o=i+t-26;s|=(this.words[n+1]&(1<<o)-1)<<26-i}return s}ineg(){return this.isZero()||(this.negative^=1),this}neg(){return this.clone().ineg()}iabs(){return this.negative=0,this}abs(){return this.clone().iabs()}cmp(e){if(Ke(De.isBN(e),"num","bignum"),this.negative!==e.negative)return e.negative-this.negative;let t=this.ucmp(e);return this.negative!==0?-t|0:t}cmpn(e){Ke(Yr(e),"num","smi");let t=e<0|0;if(this.negative!==t)return t-this.negative;let i=this.ucmpn(e);return this.negative!==0?-i|0:i}eq(e){return this.cmp(e)===0}eqn(e){return this.cmpn(e)===0}gt(e){return this.cmp(e)>0}gtn(e){return this.cmpn(e)>0}gte(e){return this.cmp(e)>=0}gten(e){return this.cmpn(e)>=0}lt(e){return this.cmp(e)<0}ltn(e){return this.cmpn(e)<0}lte(e){return this.cmp(e)<=0}lten(e){return this.cmpn(e)<=0}sign(){return this.negative!==0?-1:this.length===1&&this.words[0]===0?0:1}isZero(){return this.length===1&&this.words[0]===0}isNeg(){return this.negative!==0}isPos(){return this.negative===0}isOdd(){return(this.words[0]&1)==1}isEven(){return(this.words[0]&1)==0}ucmp(e){if(Ke(De.isBN(e),"num","bignum"),this.length<e.length)return-1;if(this.length>e.length)return 1;for(let t=this.length-1;t>=0;t--){let i=this.words[t]|0,n=e.words[t]|0;if(i!==n)return(i>n)-(i<n)}return 0}ucmpn(e){if(Ke(Yr(e),"num","smi"),this.length>1)return 1;let t=this.words[0]|0;return e<0&&(e=-e),(t>e)-(t<e)}legendre(e){let t=Bl?De.red(e):De.mont(e);return this.toRed(t).redLegendre()}jacobi(e){if(Ke(De.isBN(e),"num","bignum"),e.isZero()||e.isEven())throw new Error("jacobi: `num` must be odd.");let t=this._cloneNormal(),i=e.clone(),n=1;for(i.isNeg()&&(t.isNeg()&&(n=-1),i.ineg()),(t.isNeg()||t.ucmp(i)>=0)&&t.imod(i);!t.isZero();){if(t._makeOdd()&1){let a=i.andln(7);(a===3||a===5)&&(n=-n)}t.ucmp(i)<0&&([t,i]=[i,t],t.andln(3)===3&&i.andln(3)===3&&(n=-n)),t._isub(t,i).iushrn(1);let o=i.andln(7);(o===3||o===5)&&(n=-n)}return i.cmpn(1)!==0?0:n}kronecker(e){Ke(De.isBN(e),"num","bignum");let t=[0,1,0,-1,0,-1,0,1],i=this._cloneNormal(),n=e.clone(),s=1;if(n.isZero())return i.ucmpn(1)===0?s:0;if(!i.isOdd()&&!n.isOdd())return 0;for(n._makeOdd()&1&&(s=t[i.andln(7)]),n.isNeg()&&(i.isNeg()&&(s=-s),n.ineg());!i.isZero();)i._makeOdd()&1&&(s*=t[n.andln(7)]),(i.words[0]^i.negative*67108863)&n.words[0]&2&&(s=-s),n.imod(i),[i,n]=[n,i],n.negative=0;return n.cmpn(1)!==0?0:s}igcd(e){return this.gcd(e)._move(this)}gcd(e){if(Ke(De.isBN(e),"num","bignum"),this.isZero())return e.abs();if(e.isZero())return this.abs();let t=this.clone(),i=e.clone();t.negative=0,i.negative=0;let n=t._factor2(i);for(n!==0&&(t.iushrn(n),i.iushrn(n));;){t._makeOdd(),i._makeOdd();let s=t.ucmp(i);if(s<0)[t,i]=[i,t];else if(s===0||i.ucmpn(1)===0)break;t._isub(t,i)}return i.iushln(n)}ilcm(e){return this.lcm(e)._move(this)}lcm(e){return Ke(De.isBN(e),"num","bignum"),this.isZero()||e.isZero()?new De(0):this.quo(this.gcd(e)).mul(e).iabs()}egcd(e){if(Ke(De.isBN(e),"num","bignum"),this.isZero())return[new De(0),new De(e.sign()),e.abs()];if(e.isZero())return[new De(this.sign()),new De(0),this.abs()];let t=this.clone(),i=e.clone();t.negative=0,i.negative=0;let n=new De(1),s=new De(0),o=new De(0),a=new De(1),f=t._factor2(i);f>0&&(t.iushrn(f),i.iushrn(f));let c=t.clone(),l=i.clone();for(;!t.isZero();){let h=t._makeOdd(),x=i._makeOdd();for(;h--;)(n.isOdd()||s.isOdd())&&(n.iadd(l),s.isub(c)),n.iushrn(1),s.iushrn(1);for(;x--;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(c)),o.iushrn(1),a.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o),s.isub(a)):(i.isub(t),o.isub(n),a.isub(s))}return this.negative!==0&&o.ineg(),e.negative!==0&&a.ineg(),[o,a,i.iushln(f)]}iinvert(e){return this.invert(e)._move(this)}invert(e){if(Ke(De.isBN(e),"num","bignum"),Kf(e.sign()>0,"invert"),e.isOdd())return this._invertp(e);if(e.cmpn(1)===0)throw new RangeError("Not invertible.");let[t,,i]=this.egcd(e);if(i.cmpn(1)!==0)throw new RangeError("Not invertible.");return t.imod(e)}ifermat(e){return this.fermat(e)._move(this)}fermat(e){let t=Bl?De.red(e):De.mont(e);return this.toRed(t).redFermat().fromRed()}ipowm(e,t,i){return this.powm(e,t,i)._move(this)}powm(e,t,i){let n=!Bl&&i?De.mont(t):De.red(t);return this.toRed(n).redPow(e).fromRed()}ipowmn(e,t,i){return this.powmn(e,t,i)._move(this)}powmn(e,t,i){let n=i?De.mont(t):De.red(t);return this.toRed(n).redPown(e).fromRed()}isqrtm(e){return this.sqrtm(e)._move(this)}sqrtm(e){Ke(De.isBN(e),"p","bignum");let t;return e.andln(3)===3||e.andln(7)===5?t=De.red(e):t=De.mont(e),this.toRed(t).redSqrt().fromRed()}isqrtpq(e,t){return this.sqrtpq(e,t)._move(this)}sqrtpq(e,t){let i=this.sqrtm(e),n=this.sqrtm(t),[s,o]=e.egcd(t),a=n.mul(s).mul(e),f=i.mul(o).mul(t),c=e.mul(t);return a.iadd(f).imod(c)}isPrime(e,t,i){return Ke(t>>>0===t,"reps","uint32"),!(!this.isPrimeMR(e,t+1,!0)||!this.isPrimeLucas(i))}isPrimeMR(e,t,i=!1){Ke(t>>>0===t,"reps","uint32"),Ke(t>0,"reps","integer"),Ke(typeof i=="boolean","force2","boolean");let n=this;if(n.cmpn(7)<0)return n.cmpn(2)===0||n.cmpn(3)===0||n.cmpn(5)===0;if(n.isEven())return!1;let s=n.subn(1),o=s.subn(2),a=s.zeroBits(),f=s.ushrn(a),c=De.red(n),l=s.toRed(c),h=new De(1).toRed(c);e:for(let x=0;x<t;x++){let _;x===t-1&&i?_=new De(2):(_=De.random(e,0,o),_.iaddn(2));let E=_.toRed(c).redPow(f);if(!(E.cmp(h)===0||E.cmp(l)===0)){for(let C=1;C<a;C++){if(E=E.redSqr(),E.cmp(l)===0)continue e;if(E.cmp(h)===0)return!1}return!1}}return!0}isPrimeLucas(e=0){Ke(e>>>0===e,"limit","uint32");let t=this;if(t.cmpn(1)<=0)return!1;if(t.isEven())return t.cmpn(2)===0;let i=3;for(;;){if(i>1e4)throw new Error(`Cannot find (D/n) = -1 for ${t.toString(10)}.`);if(e!==0&&i>e)return!1;let c=new De(i*i-4).jacobi(t);if(c===-1)break;if(c===0)return t.cmpn(i+2)===0;if(i===40&&t.isSquare())return!1;i+=1}let n=t.addn(1),s=n._makeOdd(),o=new De(2),a=new De(i);for(let f=n.bitLength();f>=0;f--)n.utestn(f)?(o=o.mul(a).isubn(i).imod(t),a=a.sqr().isubn(2).imod(t)):(a=a.mul(o).isubn(i).imod(t),o=o.sqr().isubn(2).imod(t));if(o.cmpn(2)===0||o.cmp(t.subn(2))===0){let f=o.muln(i).imod(t),c=a.ushln(1).imod(t);if(f.cmp(c)===0)return!0}for(let f=0;f<s-1;f++){if(o.isZero())return!0;if(o.cmpn(2)===0)return!1;o=o.sqr().isubn(2).imod(t)}return!1}toTwos(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()}fromTwos(e){return Ke(e>>>0===e,"width","uint32"),Kf(e>0,"width"),this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()}toRed(e){if(Ke(e instanceof Ml,"ctx","reduction context"),this.red)throw new Error("Already in reduction context.");return e.convertTo(this)}fromRed(){return Xt(this.red,"fromRed"),this.red.convertFrom(this)}forceRed(e){if(Ke(e instanceof Ml,"ctx","reduction context"),this.red){if(!e.m.eq(this.red.m)||e.mont!==this.red.mont)throw new Error("Already in reduction context.")}else Kf(this.negative===0,"red"),Kf(this.ucmp(e.m)<0,"red");return this.clone()._forceRed(e)}redIAdd(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redIAdd"),this.red.iadd(this,e)}redAdd(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redAdd"),this.red.add(this,e)}redIAddn(e){return Ke(Yr(e),"num","smi"),Xt(this.red,"redIAddn"),this.red.iaddn(this,e)}redAddn(e){return Ke(Yr(e),"num","smi"),Xt(this.red,"redAddn"),this.red.addn(this,e)}redISub(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redISub"),this.red.isub(this,e)}redSub(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redSub"),this.red.sub(this,e)}redISubn(e){return Ke(Yr(e),"num","smi"),Xt(this.red,"redISubn"),this.red.isubn(this,e)}redSubn(e){return Ke(Yr(e),"num","smi"),Xt(this.red,"redSubn"),this.red.subn(this,e)}redIMul(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redIMul"),this.red.imul(this,e)}redMul(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redMul"),this.red.mul(this,e)}redIMuln(e){return Ke(Yr(e),"num","smi"),Xt(this.red,"redIMuln"),this.red.imuln(this,e)}redMuln(e){return Ke(Yr(e),"num","smi"),Xt(this.red,"redMuln"),this.red.muln(this,e)}redIDiv(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redIDiv"),this.red.idiv(this,e)}redDiv(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redDiv"),this.red.div(this,e)}redIDivn(e){return Ke(Yr(e),"num","smi"),Xt(this.red,"redIDivn"),this.red.idivn(this,e)}redDivn(e){return Ke(Yr(e),"num","smi"),Xt(this.red,"redDivn"),this.red.divn(this,e)}redIPow(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redIPow"),Rl(!e.red,"redIPow"),this.red.ipow(this,e)}redPow(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redPow"),Rl(!e.red,"redPow"),this.red.pow(this,e)}redIPown(e){return Ke(Yr(e),"num","smi"),Xt(this.red,"redIPown"),this.red.ipown(this,e)}redPown(e){return Ke(Yr(e),"num","smi"),Xt(this.red,"redPown"),this.red.pown(this,e)}redISqr(){return Xt(this.red,"redISqr"),this.red.isqr(this)}redSqr(){return Xt(this.red,"redSqr"),this.red.sqr(this)}redISqrt(){return Xt(this.red,"redISqrt"),this.red.isqrt(this)}redSqrt(){return Xt(this.red,"redSqrt"),this.red.sqrt(this)}redIDivSqrt(e){return Xt(this.red,"redIDivSqrt"),this.red.idivsqrt(this,e)}redDivSqrt(e){return Xt(this.red,"redDivSqrt"),this.red.divsqrt(this,e)}redIsSquare(){return Xt(this.red,"redIsSquare"),this.red.isSquare(this)}redIShl(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redIShl"),Rl(!e.red,"redIShl"),this.red.ishl(this,e)}redShl(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redShl"),Rl(!e.red,"redShl"),this.red.shl(this,e)}redIShln(e){return Ke(e>>>0===e,"num","uint32"),Xt(this.red,"redIShln"),this.red.ishln(this,e)}redShln(e){return Ke(e>>>0===e,"num","uint32"),Xt(this.red,"redShln"),this.red.shln(this,e)}redINeg(){return Xt(this.red,"redINeg"),this.red.ineg(this)}redNeg(){return Xt(this.red,"redNeg"),this.red.neg(this)}redEq(e){return Ke(De.isBN(e),"num","bignum"),Xt(this.red,"redEq"),this.red.eq(this,e)}redEqn(e){return Ke(Yr(e),"num","smi"),Xt(this.red,"redEqn"),this.red.eqn(this,e)}redIsHigh(){return Xt(this.red,"redIsHigh"),this.red.isHigh(this)}redIsLow(){return Xt(this.red,"redIsLow"),this.red.isLow(this)}redIsOdd(){return Xt(this.red,"redIsOdd"),this.red.isOdd(this)}redIsEven(){return Xt(this.red,"redIsEven"),this.red.isEven(this)}redLegendre(){return Xt(this.red,"redLegendre"),this.red.legendre(this)}redJacobi(){return Xt(this.red,"redJacobi"),this.red.jacobi(this)}redKronecker(){return Xt(this.red,"redKronecker"),this.red.kronecker(this)}redIInvert(){return Xt(this.red,"redIInvert"),this.red.iinvert(this)}redInvert(){return Xt(this.red,"redInvert"),this.red.invert(this)}redIFermat(){return Xt(this.red,"redIFermat"),this.red.ifermat(this)}redFermat(){return Xt(this.red,"redFermat"),this.red.fermat(this)}_move(e){return e.words=this.words,e.length=this.length,e.negative=this.negative,e.red=this.red,e}_alloc(e){for(;this.words.length<e;)this.words.push(0);return this}_expand(e){for(this._alloc(e);this.length<e;)this.words[this.length++]=0;return this}_strip(){for(;this.length>1&&this.words[this.length-1]===0;)this.length-=1;return this._normalize()}_normalize(){return Ti(this.length>0),this.length===1&&this.words[0]===0&&(this.negative=0),this}_check(){return Ti(this.length>0),Ti(this.length<=this.words.length),this.length===1?(this.words[0]===0&&Ti(this.negative===0),this):(Ti(this.words[this.length-1]!==0),this)}_invertp(e){if(Ke(De.isBN(e),"p","bignum"),Kf(e.sign()>0,"invert"),Ti(e.isOdd()),e.cmpn(1)===0)throw new RangeError("Not invertible.");let t=this.clone(),i=e.clone(),n=new De(1),s=new De(0);for((t.isNeg()||t.ucmp(i)>=0)&&t.imod(i);!t.isZero();){let o=t._makeOdd(),a=i._makeOdd();for(;o--;)n.isOdd()&&n._iadd(n,e),n.iushrn(1);for(;a--;)s.isOdd()&&s._iadd(s,e),s.iushrn(1);t.ucmp(i)>=0?(t._isub(t,i),n.ucmp(s)<0?(n._isub(s,n),n._isub(e,n)):n._isub(n,s)):(i._isub(i,t),s.ucmp(n)<0?(s._isub(n,s),s._isub(e,s)):s._isub(s,n))}if(i.cmpn(1)!==0)throw new RangeError("Not invertible.");return Ti(s.negative===0),Ti(s.ucmp(e)<0),s}_makeOdd(){let e=this.zeroBits();return e>0&&this.iushrn(e),e}_factor2(e){if((this.words[0]|e.words[0])&1)return 0;let t=Math.min(this.length,e.length),i=0;for(let n=0;n<t;n++){let s=Bie(this.words[n]|e.words[n]);if(i+=s,s!==26)break}return i}_cloneNormal(){return this.red?this.fromRed():this.clone()}_forceRed(e){return this.red=e,this}clone(){let e=new De;e.words=new Array(this.length);for(let t=0;t<this.length;t++)e.words[t]=this.words[t];return e.length=this.length,e.negative=this.negative,e.red=this.red,e}inject(e){Ke(De.isBN(e),"num","bignum"),this._alloc(e.length);for(let t=0;t<e.length;t++)this.words[t]=e.words[t];return this.length=e.length,this.negative=e.negative,this.red=e.red,this}set(e,t){return this.fromNumber(e,t)}swap(e){Ke(De.isBN(e),"num","bignum");let t=this,i=e;return[t.words,i.words]=[i.words,t.words],[t.length,i.length]=[i.length,t.length],[t.negative,i.negative]=[i.negative,t.negative],[t.red,i.red]=[i.red,t.red],t}reverse(){let e=this.negative;return this.fromBuffer(this.toBuffer("be"),"le"),this.negative=e,this}byteLength(){return Math.ceil(this.bitLength()/8)}bitLength(){let e=this.words[this.length-1],t=X1(e);return(this.length-1)*26+t}zeroBits(){if(this.isZero()||this.isOdd())return 0;let e=0;for(let t=0;t<this.length;t++){let i=Bie(this.words[t]);if(e+=i,i!==26)break}return e}isSafe(){return this.length<=2||this.length===3&&this.words[2]===1}word(e){return Ke(e>>>0===e,"pos","uint32"),e>=this.length?0:this.words[e]}[bie](){let e="BN";return this.red&&(e="BN-R"),`<${e}: ${this.toString(10)}>`}toNumber(){let e=this.words[0];if(this.length===2)e+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)e+=4503599627370496+this.words[1]*67108864;else if(this.length>2)throw new RangeError("Number can only safely store up to 53 bits.");return this.negative!==0?-e:e}toDouble(){let e=0;for(let t=this.length-1;t>=0;t--)e=e*67108864+this.words[t];return this.negative!==0?-e:e}valueOf(){return this.toDouble()}toBigInt(){if(!Bl)throw new Error("BigInt is not supported!");let e=BigInt(52),t=BigInt(26),i=this.length-1,n=BigInt(0);for(;i>=1;i-=2){let s=this.words[i]*67108864,o=this.words[i-1];n=n<<e|BigInt(s+o)}return i>=0&&(n=n<<t|BigInt(this.words[0])),this.negative!==0?-n:n}toBool(){return!this.isZero()}toString(e,t){if(e=Cie(e),t==null&&(t=0),t===0&&(t=1),Ke(e>>>0===e,"base","uint32"),Ke(t>>>0===t,"padding","uint32"),e<2||e>36)throw new RangeError("Base ranges between 2 and 36.");if(this._check(),e===16){let a="",f=0,c=0;for(let l=0;l<this.length;l++){let h=this.words[l],x=((h<<f|c)&16777215).toString(16);c=h>>>24-f&16777215,c!==0||l!==this.length-1?a=yie[6-x.length]+x+a:a=x+a,f+=2,f>=26&&(f-=26,l-=1)}for(c!==0&&(a=c.toString(16)+a);a.length%t!=0;)a="0"+a;return this.negative!==0&&(a="-"+a),a}let i=wRe[e-1],n=_Re[e-1],s=this.clone(),o="";for(s.negative=0;!s.isZero();){let a=s.remrn(n).toString(e);s.iquon(n),s.isZero()?o=a+o:o=yie[i-a.length]+a+o}for(this.isZero()&&(o="0");o.length%t!=0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}toJSON(){return this.toString(16,2)}toArray(e,t){return this.toArrayLike(Array,e,t)}toBuffer(e,t){return this.toArrayLike(Buffer,e,t)}toArrayLike(e,t,i){t==null&&(t="be"),i==null&&(i=0),Ke(typeof e=="function","ArrayType","function"),Ke(t==="be"||t==="le","endian","endianness"),Ke(i>>>0===i,"length","uint32"),this._check();let n=this.byteLength(),s=i||Math.max(1,n);if(n>s)throw new RangeError("Byte array longer than desired length.");let o=ERe(e,s);if(t==="be"){let a=o.length-1,f=0;for(let c=0;c<this.length;c++){let l=(c&3)<<1,h=this.words[c]<<l|f;o[a--]=h&255,a>=0&&(o[a--]=h>>>8&255),a>=0&&(o[a--]=h>>>16&255),l===6?(a>=0&&(o[a--]=h>>>24&255),f=0):f=h>>>24}if(a>=0){for(o[a--]=f;a>=0;)o[a--]=0;f=0}Ti(f===0)}else{let a=0,f=0;for(let c=0;c<this.length;c++){let l=(c&3)<<1,h=this.words[c]<<l|f;o[a++]=h&255,a<o.length&&(o[a++]=h>>>8&255),a<o.length&&(o[a++]=h>>>16&255),l===6?(a<o.length&&(o[a++]=h>>>24&255),f=0):f=h>>>24}if(a<o.length){for(o[a++]=f;a<o.length;)o[a++]=0;f=0}Ti(f===0)}return o}encode(e,t){return this.toBuffer(e,t)}of(e,t){return this.fromNumber(e,t)}fromNumber(e,t){t==null&&(t="be"),Ke(kie(e),"num","integer"),Ke(t==="be"||t==="le","endian","endianness");let i=e<0|0;return i&&(e=-e),e<67108864?(this.words[0]=e&67108863,this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(this.words=[e&67108863,e/67108864&67108863,1],this.length=3),this.negative=i,t==="le"&&this.reverse(),this}fromDouble(e,t){t==null&&(t="be"),Ke(typeof e=="number","num","double"),Ke(t==="be"||t==="le","endian","endianness"),isFinite(e)||(e=0);let i=e<=-1|0;for(e<0&&(e=-e),e=Math.floor(e),this.words=[];e>0;){let n=e%67108864,s=(e-n)/67108864;this.words.push(n),e=s}return this.words.length===0&&this.words.push(0),this.length=this.words.length,this.negative=i,t==="le"&&this.reverse(),this}fromBigInt(e,t){if(t==null&&(t="be"),Ke(typeof e=="bigint","num","bigint"),Ke(t==="be"||t==="le","endian","endianness"),!Bl)throw new Error("BigInt is not supported!");let i=e<BigInt(0)|0;return this._fromHex(e.toString(16),i),this.negative=i,t==="le"&&this.reverse(),this}fromBool(e){return Ke(typeof e=="boolean","value","boolean"),this.words[0]=e|0,this.length=1,this.negative=0,this}fromString(e,t,i){if((t==="le"||t==="be")&&([t,i]=[i,t]),t=Cie(t),i==null&&(i="be"),Ke(typeof e=="string","string","string"),Ke(t>>>0===t,"base","uint32"),Ke(i==="be"||i==="le","endian","endianness"),t<2||t>36)throw new Error("Base ranges between 2 and 36.");e=e.replace(/\s+/g,"");let n=0;return e.length>0&&e.charCodeAt(0)===45&&(n=1),t===16?this._fromHex(e,n):this._fromBase(e,t,n),this.negative=n,this._normalize(),i==="le"&&this.reverse(),this}_fromHex(e,t){this.length=Math.max(2,Math.ceil((e.length-t)/6)),this.words=new Array(this.length);for(let o=0;o<this.length;o++)this.words[o]=0;let i=0,n=e.length-6,s=0;for(;n>=t;n-=6){let o=Mie(e,n,n+6);this.words[s]|=o<<i&67108863,this.words[s+1]|=o>>>26-i&4194303,i+=24,i>=26&&(i-=26,s+=1)}if(n+6!==t){let o=Mie(e,t,n+6);this.words[s]|=o<<i&67108863,this.words[s+1]|=o>>>26-i&4194303}return this._strip()}_fromBase(e,t,i){this.words[0]=0,this.length=1,this.negative=0;let n=0,s=1;for(;s<=67108863;s*=t)n+=1;n-=1,s=s/t|0;let o=e.length-i,a=o%n,f=Math.min(o,o-a)+i,c=i;for(;c<f;c+=n){let l=Rie(e,c,c+n,t);this.imuln(s),this._iaddn(l)}if(a!==0){let l=Math.pow(t,a),h=Rie(e,c,e.length,t);this.imuln(l),this._iaddn(h)}return this}fromJSON(e){if(De.isBN(e))return e.red?e.fromRed():e.clone();if(Array.isArray(e)){for(let t of e)Ke(typeof t=="string","chunk","string");e=e.join("")}return this.fromString(e,16)}fromBN(e){return this.inject(e)}fromArray(e,t){return Ke(Array.isArray(e),"data","array"),this.fromArrayLike(e,t)}fromBuffer(e,t){return Ke(Buffer.isBuffer(e),"data","buffer"),this.fromArrayLike(e,t)}fromArrayLike(e,t){if(t==null&&(t="be"),Ke(e&&e.length>>>0===e.length,"data","array-like"),Ke(t==="be"||t==="le","endian","endianness"),e.length===0)return this.words[0]=0,this.length=1,this.negative=0,this;this.length=Math.max(2,Math.ceil(e.length/3)),this.words=new Array(this.length),this.negative=0;for(let a=0;a<this.length;a++)this.words[a]=0;let i=e.length%3,n=0,s=0,o=0;if(t==="be"){for(let a=e.length-1;a>=2;a-=3){let f=e[a]|e[a-1]<<8|e[a-2]<<16;this.words[s]|=f<<n&67108863,this.words[s+1]=f>>>26-n&67108863,n+=24,n>=26&&(n-=26,s+=1)}switch(i){case 2:o=e[1]|e[0]<<8;break;case 1:o=e[0];break}}else{let a=e.length-i;for(let f=0;f<a;f+=3){let c=e[f]|e[f+1]<<8|e[f+2]<<16;this.words[s]|=c<<n&67108863,this.words[s+1]=c>>>26-n&67108863,n+=24,n>=26&&(n-=26,s+=1)}switch(i){case 2:o=e[a]|e[a+1]<<8;break;case 1:o=e[a];break}}return i>0&&(this.words[s]|=o<<n&67108863,this.words[s+1]=o>>>26-n&67108863),this._strip()}decode(e,t){return this.fromBuffer(e,t)}from(e,t,i){if(e==null)return this;if((t==="le"||t==="be")&&([t,i]=[i,t]),typeof e=="number")return this.fromNumber(e,i);if(typeof e=="bigint")return this.fromBigInt(e,i);if(typeof e=="string")return this.fromString(e,t,i);if(typeof e=="object"){if(De.isBN(e))return this.fromBN(e,i);if(e.length>>>0===e.length)return this.fromArrayLike(e,i)}if(typeof e=="boolean")return this.fromBool(e);throw new TypeError("Non-numeric object passed to BN.")}static min(...e){let t=null;for(let i of e)Ke(De.isBN(i),"num","bignum"),(!t||i.cmp(t)<0)&&(t=i);return t||new De(0)}static max(...e){let t=null;for(let i of e)Ke(De.isBN(i),"num","bignum"),(!t||i.cmp(t)>0)&&(t=i);return t||new De(0)}static cmp(e,t){return Ke(De.isBN(e),"a","bignum"),e.cmp(t)}static ucmp(e,t){return Ke(De.isBN(e),"a","bignum"),e.ucmp(t)}static red(e){return new Ml(e)}static barrett(e){return new Iie(e)}static mont(e){return new Tie(e)}static _prime(e){if(PS[e])return PS[e];let t;if(e==="p192")t=new vie;else if(e==="p224")t=new xie;else if(e==="p521")t=new wie;else if(e==="k256")t=new _ie;else if(e==="p251")t=new Eie;else if(e==="p25519")t=new Sie;else if(e==="p448")t=new Aie;else throw new Error(`Unknown prime: "${e}".`);return PS[e]=t,t}static prime(e){return De._prime(e).p.clone()}static pow(e,t){return e===2?De.shift(1,t):new De().fromNumber(e).pown(t)}static shift(e,t){return e===1?new De(0).usetn(t,1):new De().fromNumber(e).ishln(t)}static mask(e){return De.shift(1,e).isubn(1)}static randomBits(e,t){if(Ke(e!=null,"rng","rng"),Ke(t>>>0===t,"bits","uint32"),typeof e=="object"){Ke(typeof e.randomBytes=="function","rng","rng");let n=t+7>>>3,s=n*8,o=e.randomBytes(n);if(Ke(Buffer.isBuffer(o),"bytes","buffer"),o.length!==n)throw new RangeError("Invalid number of bytes returned from RNG.");let a=De.fromBuffer(o);return s>t&&a.iushrn(s-t),a}Ke(typeof e=="function","rng","rng");let i=e(t);if(Ke(De.isBN(i),"num","bignum"),Kf(i.negative===0,"RNG"),Rl(!i.red,"RNG"),i.bitLength()>t)throw new RangeError("Invalid number of bits returned from RNG.");return i}static random(e,t,i){if(t=De.cast(t,16),i=De.cast(i,16),t.cmp(i)>0)throw new RangeError("Minimum cannot be greater than maximum.");let n=i.sub(t).iabs(),s=n.bitLength();if(s===0)return t.clone();for(;;){let o=De.randomBits(e,s);if(!(o.cmp(n)>=0))return o.iadd(t),o}}static of(e,t){return new De().of(e,t)}static fromNumber(e,t){return new De().fromNumber(e,t)}static fromDouble(e,t){return new De().fromDouble(e,t)}static fromBigInt(e,t){return new De().fromBigInt(e,t)}static fromBool(e){return new De().fromBool(e)}static fromString(e,t,i){return new De().fromString(e,t,i)}static fromJSON(e){return new De().fromJSON(e)}static fromBN(e){return new De().fromBN(e)}static fromArray(e,t){return new De().fromArray(e,t)}static fromBuffer(e,t){return new De().fromBuffer(e,t)}static fromArrayLike(e,t){return new De().fromArrayLike(e,t)}static decode(e,t){return new De().decode(e,t)}static from(e,t,i){return new De().from(e,t,i)}static cast(e,t,i){return De.isBN(e)?e:new De(e,t,i)}static isBN(e){return e instanceof De}};De.BN=De;De.wordSize=26;De.native=0;var Ug=class{constructor(e,t){this.name=e,this.p=new De(t,16),this.n=this.p.bitLength(),this.k=De.shift(1,this.n).isub(this.p),this.lo=this.p.clone(),this.one=this.p.clone()}ireduce(e){let t=e.negative!==0,i=e.bitLength();for(Ti(i<=this.n*2),e.negative=0;i>this.n;)this.split(e,this.lo),this.imulK(e),e._iadd(e,this.lo),i=e.bitLength();let n=i<this.n?-1:e.ucmp(this.p);return n===0?(e.words[0]=0,e.length=1):n>0&&e._isub(e,this.p),t&&!e.isZero()&&e._isub(this.p,e),e}split(e,t){e._split(this.n,t)}imulK(e){return e.imul(this.k)}pm2(e){throw new Error("Not implemented.")}fermat(e){return this.pm2(e)}},Z1=class extends Ug{constructor(e,t){super(e,t)}pm3d4(e){throw new Error("Not implemented.")}pp1d4(e){throw new Error("Not implemented.")}sqrt(e){let{red:t}=e,i=this.pp1d4(e);if(!t.sqr(i).eq(e))throw new fn(i);return i}divsqrt(e,t){let{red:i}=e,n=i.sqr(e),s=i.mul(n,e),o=i.mul(s,n),a=i.mul(i.sqr(t),t),f=this.pm3d4(i.mul(o,a)),c=i.mul(i.mul(s,t),f);if(i.mul(t,i.sqr(c)).eq(e))return c;throw new fn(c)}},mie=class extends Ug{constructor(e,t,i){super(e,t);this.sm1=new De(i,16)}pm5d8(e){throw new Error("Not implemented.")}pp3d8(e){throw new Error("Not implemented.")}sqrt(e){let{red:t}=e,i=this.sm1._forceRed(t),n=this.pp3d8(e);if(t.sqr(n).eq(e))return n;let s=t.mul(n,i);if(t.sqr(s).eq(e))return s;throw new fn(n)}divsqrt(e,t){let{red:i}=e,n=this.sm1._forceRed(i),s=i.mul(i.sqr(t),t),o=i.mul(i.sqr(s),t),a=this.pm5d8(i.mul(e,o)),f=i.mul(i.mul(e,s),a),c=i.mul(t,i.sqr(f));if(c.eq(e))return f;let l=i.ineg(c);if(l.eq(e))return i.mul(f,n);throw l.eq(i.mul(e,n))?new fn(i.mul(f,n)):new fn(f)}},gie=class extends Ug{constructor(e,t,i){super(e,t);this.g=new De(i,16),this.z=this.p.subn(1).zeroBits()}powS(e){throw new Error("Not implemented.")}powE(e){throw new Error("Not implemented.")}sqrt(e){let{red:t}=e;switch(t.jacobi(e)){case-1:throw new fn(e);case 0:return e.clone();case 1:break}let i=this.g._forceRed(t),n=this.powE(e),s=this.powS(e),o=this.z;for(;;){let a=s,f=0;for(;a.cmpn(1)!==0&&f<o;)a=t.sqr(a),f+=1;if(f===0)break;Ti(f<o),a=t.sqrn(i,o-f-1),i=t.sqr(a),n=t.mul(n,a),s=t.mul(s,i),o=f}return n}divsqrt(e,t){let{red:i}=e;if(t.isZero())throw new fn(t);return this.sqrt(i.div(e,t))}},vie=class extends Z1{constructor(){super("p192","ffffffff ffffffff ffffffff fffffffeffffffff ffffffff")}imulK(e){let t=this.one.inject(e);return e.iushln(64)._iadd(e,t)}core(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=t.sqrnmul(i,1,e),s=t.sqrnmul(n,3,n),o=t.sqrnmul(s,6,s),a=t.sqrnmul(o,12,o),f=t.sqrnmul(a,6,s),c=t.sqrnmul(f,1,e),l=t.sqrnmul(c,31,c),h=t.sqrnmul(l,62,l),x=t.sqrnmul(h,3,n),_=t.sqrn(x,1);return t.sqrnmul(_,62,l)}pm3d4(e){return this.core(e)}pm2(e){let{red:t}=e,i=this.core(e),n=t.sqrn(i,1);return t.sqrnmul(n,1,e)}pp1d4(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=t.sqrnmul(i,2,i),s=t.sqrnmul(n,4,n),o=t.sqrnmul(s,8,s),a=t.sqrnmul(o,16,o),f=t.sqrnmul(a,32,a),c=t.sqrnmul(f,64,f);return t.sqrn(c,62)}},xie=class extends gie{constructor(){super("p224","ffffffff ffffffff ffffffff ffffffff00000000 00000000 00000001","6a0fec67 8598a792 0c55b2d4 0b2d6ffbbea3d8ce f3fb3632 dc691b74")}imulK(e){let t=this.one.inject(e);return e.iushln(96)._isub(e,t)}powS(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=t.sqrnmul(i,2,i),s=t.sqrnmul(n,4,n),o=t.sqrnmul(s,8,s),a=t.sqrnmul(o,16,o),f=t.sqrnmul(a,32,a);return t.sqrnmul(f,64,f)}powE(e){let{red:t}=e;return t.sqrn(e,127)}pm2(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=t.sqrnmul(i,1,e),s=t.sqrnmul(n,3,n),o=t.sqrnmul(s,6,s),a=t.sqrnmul(o,12,o),f=t.sqrnmul(a,24,a),c=t.sqrnmul(f,48,f),l=t.sqrnmul(c,24,a),h=t.sqrnmul(l,6,s),x=t.sqrnmul(h,1,e),_=t.sqrn(x,1);return t.sqrnmul(_,96,c)}},wie=class extends Z1{constructor(){super("p521","000001ff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff")}imulK(e){return e}core(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=t.sqrnmul(i,1,e),s=t.sqrnmul(n,3,n),o=t.sqrnmul(s,1,e),a=t.sqrnmul(o,1,e),f=t.sqrnmul(a,8,a),c=t.sqrnmul(f,16,f),l=t.sqrnmul(c,32,c),h=t.sqrnmul(l,64,l),x=t.sqrnmul(h,128,h),_=t.sqrnmul(x,256,x);return t.sqrnmul(_,7,o)}pm3d4(e){return this.core(e)}pm2(e){let{red:t}=e,i=this.core(e),n=t.sqrn(i,1);return t.sqrnmul(n,1,e)}pp1d4(e){let{red:t}=e;return t.sqrn(e,519)}},_ie=class extends Z1{constructor(){super("k256","ffffffff ffffffff ffffffff ffffffffffffffff ffffffff fffffffe fffffc2f")}split(e,t){let i=4194303,n=Math.min(e.length,9);t._alloc(n+1);for(let a=0;a<n;a++)t.words[a]=e.words[a];if(t.length=n,e.length<=9){t._strip(),e.words[0]=0,e.length=1;return}let s=e.words[9],o=10;for(t.words[t.length++]=s&i,t._strip();o<e.length;o++){let a=e.words[o]|0;e.words[o-10]=(a&i)<<4|s>>>22,s=a}s>>>=22,e.words[o-10]=s,s===0&&e.length>10?e.length-=10:e.length-=9,e._strip()}imulK(e){e._expand(e.length+2);let t=0;for(let i=0;i<e.length;i++){let n=e.words[i];t+=n*977,e.words[i]=t&67108863,t=n*64+Math.floor(t/67108864)}return e.words[e.length-1]===0&&(e.length-=1,e.words[e.length-1]===0&&(e.length-=1)),e}core(e,t){let{red:i}=e,n=i.sqrnmul(t,1,e),s=i.sqrnmul(n,3,n),o=i.sqrnmul(s,3,n),a=i.sqrnmul(o,2,t),f=i.sqrnmul(a,11,a),c=i.sqrnmul(f,22,f),l=i.sqrnmul(c,44,c),h=i.sqrnmul(l,88,l),x=i.sqrnmul(h,44,c),_=i.sqrnmul(x,3,n),E=i.sqrn(_,1),C=i.sqrnmul(E,22,f);return i.sqrn(C,4)}pm3d4(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrnmul(n,1,e),o=t.sqrn(s,1);return t.sqrnmul(o,2,i)}pm2(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrnmul(n,1,e),o=t.sqrn(s,1),a=t.sqrnmul(o,2,i),f=t.sqrn(a,1);return t.sqrnmul(f,1,e)}pp1d4(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrnmul(n,2,i);return t.sqrn(s,2)}},Eie=class extends Z1{constructor(){super("p251","07ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffff7")}imulK(e){if(e.isZero())return e;let t=0;for(let i=0;i<e.length;i++){let n=e.words[i]*9+t;t=n>>>26,e.words[i]=n&67108863}return t!==0&&(e._alloc(e.length+1),e.words[e.length++]=t),e}core(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=t.sqrnmul(i,1,e),s=t.sqrnmul(n,3,n),o=t.sqrnmul(s,6,s),a=t.sqrnmul(o,12,o),f=t.sqrnmul(a,24,a),c=t.sqrnmul(f,48,f),l=t.sqrnmul(c,96,c),h=t.sqrnmul(l,48,f),x=t.sqrnmul(h,6,s);return t.sqrnmul(x,1,e)}pm3d4(e){let{red:t}=e,i=this.core(e),n=t.sqrn(i,1);return t.sqrnmul(n,1,e)}pm2(e){let{red:t}=e,i=this.core(e),n=t.sqrn(i,1),s=t.sqrnmul(n,1,e),o=t.sqrn(s,1);return t.sqrnmul(o,1,e)}pp1d4(e){let{red:t}=e,i=this.core(e),n=t.sqrnmul(i,1,e);return t.sqrn(n,1)}},Sie=class extends mie{constructor(){super("p25519","7fffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffed","2b832480 4fc1df0b 2b4d0099 3dfbd7a72f431806 ad2fe478 c4ee1b27 4a0ea0b0")}imulK(e){let t=0;for(let i=0;i<e.length;i++){let n=e.words[i]*19+t;t=n>>>26,e.words[i]=n&67108863}return t!==0&&(e._alloc(e.length+1),e.words[e.length++]=t),e}core(e,t){let{red:i}=e,n=i.sqrnmul(t,2,t),s=i.sqrnmul(n,1,e),o=i.sqrnmul(s,5,s),a=i.sqrnmul(o,10,o),f=i.sqrnmul(a,20,a),c=i.sqrnmul(f,10,o),l=i.sqrnmul(c,50,c),h=i.sqrnmul(l,100,l);return i.sqrnmul(h,50,c)}pm5d8(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrn(n,1);return t.sqrnmul(s,1,e)}pm2(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrn(n,1),o=t.sqrnmul(s,1,e),a=t.sqrn(o,1);return t.sqrnmul(a,2,i)}pp3d8(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrnmul(n,1,e);return t.sqrn(s,1)}},Aie=class extends Z1{constructor(){super("p448","ffffffff ffffffff ffffffff ffffffffffffffff ffffffff fffffffe ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff")}imulK(e){let t=this.one.inject(e);return e.iushln(224)._iadd(e,t)}core(e,t){let{red:i}=e,n=i.sqrnmul(t,1,e),s=i.sqrnmul(n,3,n),o=i.sqrnmul(s,3,n),a=i.sqrnmul(o,2,t),f=i.sqrnmul(a,11,a),c=i.sqrnmul(f,22,f),l=i.sqrnmul(c,44,c),h=i.sqrnmul(l,88,l),x=i.sqrnmul(h,44,c);return i.sqrnmul(x,2,t)}pm3d4(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrnmul(n,1,e),o=t.sqrn(s,1);return t.sqrnmul(o,222,n)}pm2(e){let{red:t}=e,i=this.pm3d4(e),n=t.sqrn(i,1);return t.sqrnmul(n,1,e)}pp1d4(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrnmul(n,2,i);return t.sqrn(s,222)}},Ml=class{constructor(e){let t=null;typeof e=="string"&&(t=De._prime(e),e=t.p),Ke(De.isBN(e),"m","bignum"),Rl(!e.red,"reduction"),Kf(e.sign()>0,"reduction"),this.m=e,this.prime=t,this.mb=null,this.sm1=null}_verify1(e){Kf(e.negative===0,"red"),Xt(e.red!=null,"red")}_verify2(e,t){Kf((e.negative|t.negative)==0,"red"),Xt(e.red!=null&&e.red===t.red,"red")}get mont(){return!1}precompute(){if(this.sm1===null&&this.m.andln(7)===5)if(this.prime)this.sm1=this.prime.sm1.clone()._forceRed(this);else{let e=new De(2).toRed(this),t=this.m.subn(1).iushrn(2);this.sm1=this.pow(e,t)}return this}convertTo(e){let t=e.mod(this.m);return t.red=this,t}convertFrom(e){let t=e.clone();return t.red=null,t}intTo(e){return e}intFrom(e){return e}imod(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.imod(this.m)._forceRed(this)}iadd(e,t){return this._verify2(e,t),e._iadd(e,t),e.ucmp(this.m)>=0&&e._isub(e,this.m),e}add(e,t){return e.length<t.length?this.iadd(t.clone(),e):this.iadd(e.clone(),t)}iaddn(e,t){return this._verify1(e),t<0?this.isubn(e,-t):(this.m.length===1&&(t%=this.m.words[0]),e._iaddn(t),e.ucmp(this.m)>=0&&e._isub(e,this.m),e)}addn(e,t){return this.iaddn(e.clone(),t)}isub(e,t){this._verify2(e,t);let i=e.ucmp(t);return i===0?(e.words[0]=0,e.length=1,e):(i<0?(e._isub(t,e),e._isub(this.m,e)):e._isub(e,t),e)}sub(e,t){return this.isub(e.clone(),t)}isubn(e,t){return this._verify1(e),t<0?this.iaddn(e,-t):(this.m.length===1&&(t%=this.m.words[0]),e.length===1&&e.words[0]<t?(e.words[0]=t-e.words[0],e._isub(this.m,e)):e._isubn(t),e)}subn(e,t){return this.isubn(e.clone(),t)}imul(e,t){return this._verify2(e,t),this.imod(e.imul(t))}mul(e,t){return this._verify2(e,t),this.imod(e.mul(t))}imuln(e,t){if(this._verify1(e),e.isZero())return e;if(t===0)return e.words[0]=0,e.length=1,e;let i=t<0;if(i&&(t=-t),this.m.length===1&&(t%=this.m.words[0]),e.imuln(t),t<=16)for(;e.ucmp(this.m)>=0;)e._isub(e,this.m);else this.imod(e);return i&&this.ineg(e),e}muln(e,t){return this.imuln(e.clone(),t)}idiv(e,t){return this.div(e,t)._move(e)}div(e,t){return this.mul(e,this.invert(t))}idivn(e,t){return this.divn(e,t)._move(e)}divn(e,t){return this.div(e,this.convertTo(new De(t)))}ipow(e,t){return this.pow(e,t)._move(e)}pow(e,t){return this._verify1(e),t.isNeg()&&(e=this.invert(e)),t.length===1?this.pown(e,t.words[0]):Bl&&!this.prime?this.powInt(e,t):this.powNum(e,t)}powNum(e,t){let i=new De(1).toRed(this),n=new Array(W1),s=this.sqr(e);n[0]=e;for(let f=1;f<W1;f++)n[f]=this.mul(n[f-1],s);let o=t.bitLength(),a=i;for(;o>=t6;){let f=t6,c=t.bits(o-f,f);if(c<W1){a=this.sqr(a),o-=1;continue}for(;(c&1)==0;)f-=1,c>>=1;a===i?a=n[c>>1].clone():(a=this.sqrn(a,f),a=this.mul(a,n[c>>1])),o-=f}if(o>0){let f=t.bits(0,o);for(;o--;)a=this.sqr(a),f>>o&1&&(a=this.mul(a,e))}return a}powInt(e,t){this.mb===null&&(this.mb=this.m.toBigInt());let i=this.intFrom(e.toBigInt()),n=SRe(i,t,this.mb),s=this.intTo(n);return De.fromBigInt(s)._forceRed(this)}sqrn(e,t){for(;t--;)e=this.sqr(e);return e}sqrnmul(e,t,i){return this.mul(this.sqrn(e,t),i)}ipown(e,t){return this.pown(e,t)._move(e)}pown(e,t){if(this._verify1(e),t<0&&(e=this.invert(e),t=-t),t===0)return new De(1).toRed(this);if(t===1)return e.clone();let i=X1(t),n=e;for(let s=i-2;s>=0;s--)n=this.sqr(n),t>>s&1&&(n=this.mul(n,e));return n}isqr(e){return this.imul(e,e)}sqr(e){return this.mul(e,e)}isqrt(e){return this.sqrt(e)._move(e)}sqrt(e){return this._verify1(e),this.prime?this.prime.sqrt(e):this.m.andln(3)===3?this.sqrt3mod4(e):this.m.andln(7)===5?this.sm1!=null?this.sqrt5mod8sm1(e):this.sqrt5mod8(e):this.sqrt0(e)}sqrt3mod4(e){let t=this.m.addn(1).iushrn(2),i=this.pow(e,t);if(!this.sqr(i).eq(e))throw new fn(i);return i}sqrt5mod8(e){let t=new De(1).toRed(this),i=this.m.ushrn(3),n=this.add(e,e),s=this.pow(n,i),o=this.mul(n,this.sqr(s)),a=this.mul(this.mul(s,e),this.isub(o,t));if(!this.sqr(a).eq(e))throw new fn(a);return a}sqrt5mod8sm1(e){let t=this.m.addn(3).iushrn(3),i=this.pow(e,t);if(this.sqr(i).eq(e))return i;let n=this.mul(i,this.sm1);if(this.sqr(n).eq(e))return n;throw new fn(i)}sqrt0(e){if(this.m.cmpn(1)===0||!this.m.isOdd())throw new Error("Invalid prime.");switch(this.jacobi(e)){case-1:throw new fn(e);case 0:return e.clone();case 1:break}let t=new De(1).toRed(this),i=this.m.subn(1),n=i._makeOdd(),s=new De(2).toRed(this);for(;this.jacobi(s)!==-1;)this.iadd(s,t);let o=this.pow(s,i),a=this.pow(e,i),f=this.pow(e,i.iaddn(1).iushrn(1)),c=n;for(;;){let l=a,h=0;for(;!l.eq(t)&&h<c;)l=this.sqr(l),h+=1;if(h===0)break;Ti(h<c),l=this.sqrn(o,c-h-1),o=this.sqr(l),f=this.mul(f,l),a=this.mul(a,o),c=h}return f}idivsqrt(e,t){return this.divsqrt(e,t)._move(e)}divsqrt(e,t){if(this._verify2(e,t),e.isZero()&&t.isZero())throw new fn(t);if(this.prime)return this.prime.divsqrt(e,t);if(this.m.andln(3)===3)return this.divsqrt3mod4(e,t);if(this.sm1!=null&&this.m.andln(7)===5)return this.divsqrt5mod8(e,t);if(t.isZero())throw new fn(t);return this.sqrt(this.div(e,t))}divsqrt3mod4(e,t){let i=this.m.subn(3).iushrn(2),n=this.sqr(e),s=this.mul(n,e),o=this.mul(s,n),a=this.mul(this.sqr(t),t),f=this.pow(this.mul(o,a),i),c=this.mul(this.mul(s,t),f);if(this.mul(t,this.sqr(c)).eq(e))return c;throw new fn(c)}divsqrt5mod8(e,t){let i=this.m.subn(5).iushrn(3),n=this.mul(this.sqr(t),t),s=this.mul(this.sqr(n),t),o=this.pow(this.mul(e,s),i),a=this.mul(this.mul(e,n),o),f=this.mul(t,this.sqr(a));if(f.eq(e))return a;let c=this.ineg(f);if(c.eq(e))return this.mul(a,this.sm1);throw c.eq(this.mul(e,this.sm1))?new fn(this.mul(a,this.sm1)):new fn(a)}isSquare(e){return this.m.isOdd()?this.jacobi(e)>=0:this.kronecker(e)>=0}ishl(e,t){return this._verify1(e),this.imod(e.iushl(t))}shl(e,t){return this.ishl(e.clone(),t)}ishln(e,t){if(this._verify1(e),e.iushln(t),t<=4)for(;e.ucmp(this.m)>=0;)e._isub(e,this.m);else this.imod(e);return e}shln(e,t){return this.ishln(e.clone(),t)}ineg(e){return this._verify1(e),e.isZero()||e._isub(this.m,e),e}neg(e){return this.ineg(e.clone())}eq(e,t){return this._verify2(e,t),e.ucmp(t)===0}eqn(e,t){if(this._verify1(e),this.m.length===1)return t%=this.m.words[0],t<0&&(t+=this.m.words[0]),e.ucmpn(t)===0;if(t<0){this.m._isubn(-t);let i=e.ucmp(this.m);return this.m._iaddn(-t),i===0}return e.ucmpn(t)===0}isHigh(e){return!this.isLow(e)}isLow(e){return this._verify1(e),e.ucmp(this.m.ushrn(1))<=0}isOdd(e){return this._verify1(e),e.isOdd()}isEven(e){return this._verify1(e),e.isEven()}legendre(e){if(this._verify1(e),this.m.isEven())throw new Error("legendre: `num` must be odd.");let t=this.m.subn(1).iushrn(1),i=this.pow(e,t);if(i.isZero())return 0;let n=new De(1).toRed(this);if(i.eq(n))return 1;if(i.eq(this.ineg(n)))return-1;throw new Error("Invalid prime.")}jacobi(e){return this._verify1(e),e.jacobi(this.m)}kronecker(e){return this._verify1(e),e.kronecker(this.m)}iinvert(e){return this.invert(e)._move(e)}invert(e){return this._verify1(e),e.invert(this.m)._forceRed(this)}ifermat(e){return this.fermat(e)._move(e)}fermat(e){if(this._verify1(e),e.isZero()||this.m.cmpn(1)===0)throw new RangeError("Not invertible.");return this.prime?this.prime.fermat(e):this.pow(e,this.m.subn(2))}invertAll(e){Ke(Array.isArray(e),"elems","array");for(let s of e)Ke(De.isBN(s),"elem","bignum"),this._verify1(s);if(this.m.cmpn(1)===0||this.m.isEven())throw new RangeError("Not invertible.");let t=e.length,i=new Array(t);if(t===0)return i;let n=new De(1).toRed(this);for(let s=0;s<t;s++){if(e[s].isZero()){i[s]=e[s].clone();continue}i[s]=n,n=this.mul(n,e[s])}n=this.invert(n);for(let s=t-1;s>=0;s--)e[s].isZero()||(i[s]=this.mul(n,i[s]),n=this.mul(n,e[s]));return i}[bie](){return this.prime?`<Red: ${this.prime.name}>`:`<Red: ${this.m.toString(10)}>`}},Iie=class extends Ml{constructor(e){super(e);this.prime=null,this.n=this.m.bitLength(),this.n%26!=0&&(this.n+=26-this.n%26),this.k=this.n*2,this.w=this.k/26,this.b=De.shift(1,this.k).div(this.m)}convertTo(e){return e.length>this.w?super.convertTo(e):this.imod(e.clone())}_shift(e){let t=0,i=this.w;for(;i<e.length;)e.words[t++]=e.words[i++];t===0&&(e.words[t++]=0),e.length=t}imod(e){let t=e.negative;Ti(e.length<=this.w),e.negative=0;let i=e.mul(this.b);return this._shift(i),e._isub(e,i.mul(this.m)),e.ucmp(this.m)>=0&&e._isub(e,this.m),t&&!e.isZero()&&e._isub(this.m,e),e.red=this,e}},Tie=class extends Ml{constructor(e){super(e);this.prime=null,this.n=this.m.length*26,this.r=De.shift(1,this.n),this.r2=De.shift(1,this.n*2).imod(this.m),this.ri=this.r.invert(this.m),this.mi=this.r.mul(this.ri).isubn(1).div(this.m),this.rib=null}get mont(){return!0}convertTo(e){return e.isNeg()||e.ucmp(this.m)>=0?this.imod(e.ushln(this.n)):this.mul(e,this.r2)}convertFrom(e){let t=this.mul(e,new De(1));return t.red=null,t}intTo(e){return(e<<BigInt(this.n))%this.mb}intFrom(e){return this.rib===null&&(this.rib=this.ri.toBigInt()),e*this.rib%this.mb}iaddn(e,t){return this.iadd(e,this.convertTo(new De(t)))}isubn(e,t){return this.isub(e,this.convertTo(new De(t)))}imul(e,t){return this.mul(e,t)._move(e)}mul(e,t){if(e.isZero()||t.isZero())return new De(0)._forceRed(this);let i=e.mul(t),n=i.umaskn(this.n).mul(this.mi).iumaskn(this.n),s=i.iadd(n.mul(this.m)).iushrn(this.n);return s.ucmp(this.m)>=0&&s._isub(s,this.m),s._forceRed(this)}imuln(e,t){if(this._verify1(e),e.isZero())return e;if(t===0)return e.words[0]=0,e.length=1,e;let i=t<0;i&&(t=-t),this.m.length===1&&(t%=this.m.words[0]);let n=X1(t);if(n>5)this.imul(e,this.convertTo(new De(t)));else if((t&t-1)==0)for(let s=0;s<n-1;s++)this.iadd(e,e);else{let s=e.clone();for(let o=n-2;o>=0;o--)this.iadd(e,e),t>>o&1&&this.iadd(e,s)}return i&&this.ineg(e),e}eqn(e,t){return this._verify1(e),t===0?e.isZero():e.ucmp(this.convertTo(new De(t)))===0}isLow(e){return this._verify1(e),this.convertFrom(e).ucmp(this.m.ushrn(1))<=0}isOdd(e){return this._verify1(e),this.convertFrom(e).isOdd()}isEven(e){return this._verify1(e),this.convertFrom(e).isEven()}invert(e){return this._verify1(e),this.imod(e.invert(this.m).mul(this.r2))}};function J1(r,e,t){let i=new r(e);return r.captureStackTrace&&r.captureStackTrace(i,t),i}function Ti(r,e){if(!r)throw J1(Error,e||"Assertion failed.",Ti)}function Ke(r,e,t){if(!r){let i=`"${e}" must be a(n) ${t}.`;throw J1(TypeError,i,Ke)}}function Kf(r,e){if(!r){let t=`"${e}" only works with positive numbers.`;throw J1(RangeError,t,Kf)}}function Xt(r,e){if(!r){let t=`"${e}" only works with red numbers.`;throw J1(TypeError,t,Xt)}}function Rl(r,e){if(!r){let t=`"${e}" only works with normal numbers.`;throw J1(TypeError,t,Rl)}}function Fg(r){if(!r)throw J1(RangeError,"Cannot divide by zero.",Fg)}var fn=class extends Error{constructor(e){super();this.name="SquareRootError",this.message="X is not a square mod P.",this.result=e.fromRed(),Error.captureStackTrace&&Error.captureStackTrace(this,fn)}};function kie(r){return Number.isSafeInteger(r)}function Yr(r){return kie(r)&&r>=-67108863&&r<=67108863}function ERe(r,e){return r.allocUnsafeSlow?r.allocUnsafeSlow(e):new r(e)}function Cie(r){if(r==null)return 10;if(typeof r=="number")return r;switch(r){case"bin":return 2;case"oct":return 8;case"dec":return 10;case"hex":return 16}return 0}function X1(r){if(Math.clz32)return 32-Math.clz32(r);let e=r,t=0;return e>=4096&&(t+=13,e>>>=13),e>=64&&(t+=7,e>>>=7),e>=8&&(t+=4,e>>>=4),e>=2&&(t+=2,e>>>=2),t+e}function Bie(r){if(r===0)return 26;let e=r,t=0;return(e&8191)==0&&(t+=13,e>>>=13),(e&127)==0&&(t+=7,e>>>=7),(e&15)==0&&(t+=4,e>>>=4),(e&3)==0&&(t+=2,e>>>=2),(e&1)==0&&(t+=1),t}function Mie(r,e,t){let i=Math.min(r.length,t),n=0,s=0;for(let o=e;o<i;o++){let a=r.charCodeAt(o)-48;n<<=4;let f;a>=49&&a<=54?f=a-49+10:a>=17&&a<=22?f=a-17+10:f=a,n|=f,s|=f}if(s&~15)throw new Error("Invalid string.");return n}function Rie(r,e,t,i){let n=Math.min(r.length,t),s=0;for(let o=e;o<n;o++){let a=r.charCodeAt(o)-48;s*=i;let f;if(a>=49?f=a-49+10:a>=17?f=a-17+10:f=a,a<0||a>207||f>=i)throw new Error("Invalid string.");s+=f}return s}function SRe(r,e,t){let i=BigInt(1),n=new Array(W1),s=r*r%t;n[0]=r;for(let f=1;f<W1;f++)n[f]=n[f-1]*s%t;let o=e.bitLength(),a=i;for(;o>=t6;){let f=t6,c=e.bits(o-f,f);if(c<W1){a=a*a%t,o-=1;continue}for(;(c&1)==0;)f-=1,c>>=1;a===i?a=n[c>>1]:(a=ARe(a,f,t),a=a*n[c>>1]%t),o-=f}if(o>0){let f=e.bits(0,o);for(;o--;)a=a*a%t,f>>o&1&&(a=a*r%t)}return a}function ARe(r,e,t){for(let i=0;i<e;i++)r=r*r%t;return r}function Nie(r,e,t){let i=r.length+e.length;t.negative=r.negative^e.negative,t._alloc(i),t.length=i;let n=r.words[0],s=e.words[0],o=n*s,a=o&67108863,f=o/67108864|0,c=1;for(t.words[0]=a;c<t.length-1;c++){let l=f>>>26,h=f&67108863,x=Math.max(0,c-r.length+1),_=Math.min(c,e.length-1);for(let E=x;E<=_;E++){let C=c-E,L=r.words[C],O=e.words[E],W=L*O+h;l+=W/67108864|0,h=W&67108863}t.words[c]=h|0,f=l|0}return f!==0?t.words[c]=f|0:t.length-=1,t._strip()}function Pie(r,e,t){let i=r.length+e.length;t.negative=r.negative^e.negative,t._alloc(i),t.length=i;let n=0,s=0,o=0;for(;o<t.length-1;o++){let a=s;s=0;let f=n&67108863,c=Math.max(0,o-r.length+1),l=Math.min(o,e.length-1);for(let h=c;h<=l;h++){let x=o-h,_=r.words[x],E=e.words[h],C=_*E,L=C&67108863;a=a+(C/67108864|0)|0,L=L+f|0,f=L&67108863,a=a+(L>>>26)|0,s+=a>>>26,a&=67108863}t.words[o]=f,n=a,a=s}return n!==0?t.words[o]=n:t.length-=1,t._strip()}function IRe(r,e,t){if(!Bl||r.length+e.length>82595519)return Pie(r,e,t);let i=BigInt(0),n=BigInt(67108863),s=BigInt(26),o=r.toBigInt()*e.toBigInt(),a=o<i|0;a&&(o=-o);let f=0;for(;o>i;)t.words[f++]=Number(o&n),o>>=s;return f===0&&(t.words[f++]=0),t.length=f,t.negative=a,t}function qie(r,e,t){let i=r.words,n=e.words,s=t.words,o=i[0]|0,a=o&8191,f=o>>>13,c=i[1]|0,l=c&8191,h=c>>>13,x=i[2]|0,_=x&8191,E=x>>>13,C=i[3]|0,L=C&8191,O=C>>>13,W=i[4]|0,ee=W&8191,N=W>>>13,V=i[5]|0,z=V&8191,F=V>>>13,H=i[6]|0,K=H&8191,S=H>>>13,w=i[7]|0,T=w&8191,v=w>>>13,u=i[8]|0,d=u&8191,y=u>>>13,g=i[9]|0,m=g&8191,b=g>>>13,A=n[0]|0,I=A&8191,p=A>>>13,B=n[1]|0,ce=B&8191,R=B>>>13,fe=n[2]|0,se=fe&8191,U=fe>>>13,Z=n[3]|0,j=Z&8191,J=Z>>>13,k=n[4]|0,$=k&8191,X=k>>>13,Y=n[5]|0,ve=Y&8191,ue=Y>>>13,ge=n[6]|0,xe=ge&8191,we=ge>>>13,Me=n[7]|0,pe=Me&8191,be=Me>>>13,D=n[8]|0,_e=D&8191,de=D>>>13,ie=n[9]|0,Re=ie&8191,Ae=ie>>>13,Ce=0,me,q,le;t.negative=r.negative^e.negative,t._alloc(20),t.length=19,me=Math.imul(a,I),q=Math.imul(a,p),q=q+Math.imul(f,I)|0,le=Math.imul(f,p);let ft=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(ft>>>26)|0,ft&=67108863,me=Math.imul(l,I),q=Math.imul(l,p),q=q+Math.imul(h,I)|0,le=Math.imul(h,p),me=me+Math.imul(a,ce)|0,q=q+Math.imul(a,R)|0,q=q+Math.imul(f,ce)|0,le=le+Math.imul(f,R)|0;let Oe=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,me=Math.imul(_,I),q=Math.imul(_,p),q=q+Math.imul(E,I)|0,le=Math.imul(E,p),me=me+Math.imul(l,ce)|0,q=q+Math.imul(l,R)|0,q=q+Math.imul(h,ce)|0,le=le+Math.imul(h,R)|0,me=me+Math.imul(a,se)|0,q=q+Math.imul(a,U)|0,q=q+Math.imul(f,se)|0,le=le+Math.imul(f,U)|0;let Je=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(Je>>>26)|0,Je&=67108863,me=Math.imul(L,I),q=Math.imul(L,p),q=q+Math.imul(O,I)|0,le=Math.imul(O,p),me=me+Math.imul(_,ce)|0,q=q+Math.imul(_,R)|0,q=q+Math.imul(E,ce)|0,le=le+Math.imul(E,R)|0,me=me+Math.imul(l,se)|0,q=q+Math.imul(l,U)|0,q=q+Math.imul(h,se)|0,le=le+Math.imul(h,U)|0,me=me+Math.imul(a,j)|0,q=q+Math.imul(a,J)|0,q=q+Math.imul(f,j)|0,le=le+Math.imul(f,J)|0;let Tt=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,me=Math.imul(ee,I),q=Math.imul(ee,p),q=q+Math.imul(N,I)|0,le=Math.imul(N,p),me=me+Math.imul(L,ce)|0,q=q+Math.imul(L,R)|0,q=q+Math.imul(O,ce)|0,le=le+Math.imul(O,R)|0,me=me+Math.imul(_,se)|0,q=q+Math.imul(_,U)|0,q=q+Math.imul(E,se)|0,le=le+Math.imul(E,U)|0,me=me+Math.imul(l,j)|0,q=q+Math.imul(l,J)|0,q=q+Math.imul(h,j)|0,le=le+Math.imul(h,J)|0,me=me+Math.imul(a,$)|0,q=q+Math.imul(a,X)|0,q=q+Math.imul(f,$)|0,le=le+Math.imul(f,X)|0;let it=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(it>>>26)|0,it&=67108863,me=Math.imul(z,I),q=Math.imul(z,p),q=q+Math.imul(F,I)|0,le=Math.imul(F,p),me=me+Math.imul(ee,ce)|0,q=q+Math.imul(ee,R)|0,q=q+Math.imul(N,ce)|0,le=le+Math.imul(N,R)|0,me=me+Math.imul(L,se)|0,q=q+Math.imul(L,U)|0,q=q+Math.imul(O,se)|0,le=le+Math.imul(O,U)|0,me=me+Math.imul(_,j)|0,q=q+Math.imul(_,J)|0,q=q+Math.imul(E,j)|0,le=le+Math.imul(E,J)|0,me=me+Math.imul(l,$)|0,q=q+Math.imul(l,X)|0,q=q+Math.imul(h,$)|0,le=le+Math.imul(h,X)|0,me=me+Math.imul(a,ve)|0,q=q+Math.imul(a,ue)|0,q=q+Math.imul(f,ve)|0,le=le+Math.imul(f,ue)|0;let pt=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(pt>>>26)|0,pt&=67108863,me=Math.imul(K,I),q=Math.imul(K,p),q=q+Math.imul(S,I)|0,le=Math.imul(S,p),me=me+Math.imul(z,ce)|0,q=q+Math.imul(z,R)|0,q=q+Math.imul(F,ce)|0,le=le+Math.imul(F,R)|0,me=me+Math.imul(ee,se)|0,q=q+Math.imul(ee,U)|0,q=q+Math.imul(N,se)|0,le=le+Math.imul(N,U)|0,me=me+Math.imul(L,j)|0,q=q+Math.imul(L,J)|0,q=q+Math.imul(O,j)|0,le=le+Math.imul(O,J)|0,me=me+Math.imul(_,$)|0,q=q+Math.imul(_,X)|0,q=q+Math.imul(E,$)|0,le=le+Math.imul(E,X)|0,me=me+Math.imul(l,ve)|0,q=q+Math.imul(l,ue)|0,q=q+Math.imul(h,ve)|0,le=le+Math.imul(h,ue)|0,me=me+Math.imul(a,xe)|0,q=q+Math.imul(a,we)|0,q=q+Math.imul(f,xe)|0,le=le+Math.imul(f,we)|0;let vr=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(vr>>>26)|0,vr&=67108863,me=Math.imul(T,I),q=Math.imul(T,p),q=q+Math.imul(v,I)|0,le=Math.imul(v,p),me=me+Math.imul(K,ce)|0,q=q+Math.imul(K,R)|0,q=q+Math.imul(S,ce)|0,le=le+Math.imul(S,R)|0,me=me+Math.imul(z,se)|0,q=q+Math.imul(z,U)|0,q=q+Math.imul(F,se)|0,le=le+Math.imul(F,U)|0,me=me+Math.imul(ee,j)|0,q=q+Math.imul(ee,J)|0,q=q+Math.imul(N,j)|0,le=le+Math.imul(N,J)|0,me=me+Math.imul(L,$)|0,q=q+Math.imul(L,X)|0,q=q+Math.imul(O,$)|0,le=le+Math.imul(O,X)|0,me=me+Math.imul(_,ve)|0,q=q+Math.imul(_,ue)|0,q=q+Math.imul(E,ve)|0,le=le+Math.imul(E,ue)|0,me=me+Math.imul(l,xe)|0,q=q+Math.imul(l,we)|0,q=q+Math.imul(h,xe)|0,le=le+Math.imul(h,we)|0,me=me+Math.imul(a,pe)|0,q=q+Math.imul(a,be)|0,q=q+Math.imul(f,pe)|0,le=le+Math.imul(f,be)|0;let vt=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(vt>>>26)|0,vt&=67108863,me=Math.imul(d,I),q=Math.imul(d,p),q=q+Math.imul(y,I)|0,le=Math.imul(y,p),me=me+Math.imul(T,ce)|0,q=q+Math.imul(T,R)|0,q=q+Math.imul(v,ce)|0,le=le+Math.imul(v,R)|0,me=me+Math.imul(K,se)|0,q=q+Math.imul(K,U)|0,q=q+Math.imul(S,se)|0,le=le+Math.imul(S,U)|0,me=me+Math.imul(z,j)|0,q=q+Math.imul(z,J)|0,q=q+Math.imul(F,j)|0,le=le+Math.imul(F,J)|0,me=me+Math.imul(ee,$)|0,q=q+Math.imul(ee,X)|0,q=q+Math.imul(N,$)|0,le=le+Math.imul(N,X)|0,me=me+Math.imul(L,ve)|0,q=q+Math.imul(L,ue)|0,q=q+Math.imul(O,ve)|0,le=le+Math.imul(O,ue)|0,me=me+Math.imul(_,xe)|0,q=q+Math.imul(_,we)|0,q=q+Math.imul(E,xe)|0,le=le+Math.imul(E,we)|0,me=me+Math.imul(l,pe)|0,q=q+Math.imul(l,be)|0,q=q+Math.imul(h,pe)|0,le=le+Math.imul(h,be)|0,me=me+Math.imul(a,_e)|0,q=q+Math.imul(a,de)|0,q=q+Math.imul(f,_e)|0,le=le+Math.imul(f,de)|0;let xt=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(xt>>>26)|0,xt&=67108863,me=Math.imul(m,I),q=Math.imul(m,p),q=q+Math.imul(b,I)|0,le=Math.imul(b,p),me=me+Math.imul(d,ce)|0,q=q+Math.imul(d,R)|0,q=q+Math.imul(y,ce)|0,le=le+Math.imul(y,R)|0,me=me+Math.imul(T,se)|0,q=q+Math.imul(T,U)|0,q=q+Math.imul(v,se)|0,le=le+Math.imul(v,U)|0,me=me+Math.imul(K,j)|0,q=q+Math.imul(K,J)|0,q=q+Math.imul(S,j)|0,le=le+Math.imul(S,J)|0,me=me+Math.imul(z,$)|0,q=q+Math.imul(z,X)|0,q=q+Math.imul(F,$)|0,le=le+Math.imul(F,X)|0,me=me+Math.imul(ee,ve)|0,q=q+Math.imul(ee,ue)|0,q=q+Math.imul(N,ve)|0,le=le+Math.imul(N,ue)|0,me=me+Math.imul(L,xe)|0,q=q+Math.imul(L,we)|0,q=q+Math.imul(O,xe)|0,le=le+Math.imul(O,we)|0,me=me+Math.imul(_,pe)|0,q=q+Math.imul(_,be)|0,q=q+Math.imul(E,pe)|0,le=le+Math.imul(E,be)|0,me=me+Math.imul(l,_e)|0,q=q+Math.imul(l,de)|0,q=q+Math.imul(h,_e)|0,le=le+Math.imul(h,de)|0,me=me+Math.imul(a,Re)|0,q=q+Math.imul(a,Ae)|0,q=q+Math.imul(f,Re)|0,le=le+Math.imul(f,Ae)|0;let Sr=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,me=Math.imul(m,ce),q=Math.imul(m,R),q=q+Math.imul(b,ce)|0,le=Math.imul(b,R),me=me+Math.imul(d,se)|0,q=q+Math.imul(d,U)|0,q=q+Math.imul(y,se)|0,le=le+Math.imul(y,U)|0,me=me+Math.imul(T,j)|0,q=q+Math.imul(T,J)|0,q=q+Math.imul(v,j)|0,le=le+Math.imul(v,J)|0,me=me+Math.imul(K,$)|0,q=q+Math.imul(K,X)|0,q=q+Math.imul(S,$)|0,le=le+Math.imul(S,X)|0,me=me+Math.imul(z,ve)|0,q=q+Math.imul(z,ue)|0,q=q+Math.imul(F,ve)|0,le=le+Math.imul(F,ue)|0,me=me+Math.imul(ee,xe)|0,q=q+Math.imul(ee,we)|0,q=q+Math.imul(N,xe)|0,le=le+Math.imul(N,we)|0,me=me+Math.imul(L,pe)|0,q=q+Math.imul(L,be)|0,q=q+Math.imul(O,pe)|0,le=le+Math.imul(O,be)|0,me=me+Math.imul(_,_e)|0,q=q+Math.imul(_,de)|0,q=q+Math.imul(E,_e)|0,le=le+Math.imul(E,de)|0,me=me+Math.imul(l,Re)|0,q=q+Math.imul(l,Ae)|0,q=q+Math.imul(h,Re)|0,le=le+Math.imul(h,Ae)|0;let lt=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(lt>>>26)|0,lt&=67108863,me=Math.imul(m,se),q=Math.imul(m,U),q=q+Math.imul(b,se)|0,le=Math.imul(b,U),me=me+Math.imul(d,j)|0,q=q+Math.imul(d,J)|0,q=q+Math.imul(y,j)|0,le=le+Math.imul(y,J)|0,me=me+Math.imul(T,$)|0,q=q+Math.imul(T,X)|0,q=q+Math.imul(v,$)|0,le=le+Math.imul(v,X)|0,me=me+Math.imul(K,ve)|0,q=q+Math.imul(K,ue)|0,q=q+Math.imul(S,ve)|0,le=le+Math.imul(S,ue)|0,me=me+Math.imul(z,xe)|0,q=q+Math.imul(z,we)|0,q=q+Math.imul(F,xe)|0,le=le+Math.imul(F,we)|0,me=me+Math.imul(ee,pe)|0,q=q+Math.imul(ee,be)|0,q=q+Math.imul(N,pe)|0,le=le+Math.imul(N,be)|0,me=me+Math.imul(L,_e)|0,q=q+Math.imul(L,de)|0,q=q+Math.imul(O,_e)|0,le=le+Math.imul(O,de)|0,me=me+Math.imul(_,Re)|0,q=q+Math.imul(_,Ae)|0,q=q+Math.imul(E,Re)|0,le=le+Math.imul(E,Ae)|0;let dt=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(dt>>>26)|0,dt&=67108863,me=Math.imul(m,j),q=Math.imul(m,J),q=q+Math.imul(b,j)|0,le=Math.imul(b,J),me=me+Math.imul(d,$)|0,q=q+Math.imul(d,X)|0,q=q+Math.imul(y,$)|0,le=le+Math.imul(y,X)|0,me=me+Math.imul(T,ve)|0,q=q+Math.imul(T,ue)|0,q=q+Math.imul(v,ve)|0,le=le+Math.imul(v,ue)|0,me=me+Math.imul(K,xe)|0,q=q+Math.imul(K,we)|0,q=q+Math.imul(S,xe)|0,le=le+Math.imul(S,we)|0,me=me+Math.imul(z,pe)|0,q=q+Math.imul(z,be)|0,q=q+Math.imul(F,pe)|0,le=le+Math.imul(F,be)|0,me=me+Math.imul(ee,_e)|0,q=q+Math.imul(ee,de)|0,q=q+Math.imul(N,_e)|0,le=le+Math.imul(N,de)|0,me=me+Math.imul(L,Re)|0,q=q+Math.imul(L,Ae)|0,q=q+Math.imul(O,Re)|0,le=le+Math.imul(O,Ae)|0;let Mr=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,me=Math.imul(m,$),q=Math.imul(m,X),q=q+Math.imul(b,$)|0,le=Math.imul(b,X),me=me+Math.imul(d,ve)|0,q=q+Math.imul(d,ue)|0,q=q+Math.imul(y,ve)|0,le=le+Math.imul(y,ue)|0,me=me+Math.imul(T,xe)|0,q=q+Math.imul(T,we)|0,q=q+Math.imul(v,xe)|0,le=le+Math.imul(v,we)|0,me=me+Math.imul(K,pe)|0,q=q+Math.imul(K,be)|0,q=q+Math.imul(S,pe)|0,le=le+Math.imul(S,be)|0,me=me+Math.imul(z,_e)|0,q=q+Math.imul(z,de)|0,q=q+Math.imul(F,_e)|0,le=le+Math.imul(F,de)|0,me=me+Math.imul(ee,Re)|0,q=q+Math.imul(ee,Ae)|0,q=q+Math.imul(N,Re)|0,le=le+Math.imul(N,Ae)|0;let ht=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(ht>>>26)|0,ht&=67108863,me=Math.imul(m,ve),q=Math.imul(m,ue),q=q+Math.imul(b,ve)|0,le=Math.imul(b,ue),me=me+Math.imul(d,xe)|0,q=q+Math.imul(d,we)|0,q=q+Math.imul(y,xe)|0,le=le+Math.imul(y,we)|0,me=me+Math.imul(T,pe)|0,q=q+Math.imul(T,be)|0,q=q+Math.imul(v,pe)|0,le=le+Math.imul(v,be)|0,me=me+Math.imul(K,_e)|0,q=q+Math.imul(K,de)|0,q=q+Math.imul(S,_e)|0,le=le+Math.imul(S,de)|0,me=me+Math.imul(z,Re)|0,q=q+Math.imul(z,Ae)|0,q=q+Math.imul(F,Re)|0,le=le+Math.imul(F,Ae)|0;let wt=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(wt>>>26)|0,wt&=67108863,me=Math.imul(m,xe),q=Math.imul(m,we),q=q+Math.imul(b,xe)|0,le=Math.imul(b,we),me=me+Math.imul(d,pe)|0,q=q+Math.imul(d,be)|0,q=q+Math.imul(y,pe)|0,le=le+Math.imul(y,be)|0,me=me+Math.imul(T,_e)|0,q=q+Math.imul(T,de)|0,q=q+Math.imul(v,_e)|0,le=le+Math.imul(v,de)|0,me=me+Math.imul(K,Re)|0,q=q+Math.imul(K,Ae)|0,q=q+Math.imul(S,Re)|0,le=le+Math.imul(S,Ae)|0;let ri=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(ri>>>26)|0,ri&=67108863,me=Math.imul(m,pe),q=Math.imul(m,be),q=q+Math.imul(b,pe)|0,le=Math.imul(b,be),me=me+Math.imul(d,_e)|0,q=q+Math.imul(d,de)|0,q=q+Math.imul(y,_e)|0,le=le+Math.imul(y,de)|0,me=me+Math.imul(T,Re)|0,q=q+Math.imul(T,Ae)|0,q=q+Math.imul(v,Re)|0,le=le+Math.imul(v,Ae)|0;let at=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(at>>>26)|0,at&=67108863,me=Math.imul(m,_e),q=Math.imul(m,de),q=q+Math.imul(b,_e)|0,le=Math.imul(b,de),me=me+Math.imul(d,Re)|0,q=q+Math.imul(d,Ae)|0,q=q+Math.imul(y,Re)|0,le=le+Math.imul(y,Ae)|0;let _t=(Ce+me|0)+((q&8191)<<13)|0;Ce=(le+(q>>>13)|0)+(_t>>>26)|0,_t&=67108863,me=Math.imul(m,Re),q=Math.imul(m,Ae),q=q+Math.imul(b,Re)|0,le=Math.imul(b,Ae);let G=(Ce+me|0)+((q&8191)<<13)|0;return Ce=(le+(q>>>13)|0)+(G>>>26)|0,G&=67108863,s[0]=ft,s[1]=Oe,s[2]=Je,s[3]=Tt,s[4]=it,s[5]=pt,s[6]=vr,s[7]=vt,s[8]=xt,s[9]=Sr,s[10]=lt,s[11]=dt,s[12]=Mr,s[13]=ht,s[14]=wt,s[15]=ri,s[16]=at,s[17]=_t,s[18]=G,Ce!==0&&(s[19]=Ce,t.length+=1),t}Math.imul||(qie=Nie);De.Red=Ml;Oie.exports=De});var qS=M((CQe,Lie)=>{"use strict";Lie.exports=Die()});var sne=M($s=>{"use strict";var{custom:Q1}=NS(),je=qS(),zf={AFFINE:0,JACOBIAN:1,PROJECTIVE:2,EXTENDED:3},TRe=[-3,-1,-5,-7,0,7,5,1,3],Uie=!1,kRe=0,xs=class{constructor(e,t,i){this.Point=null,this.id=null,this.uid=kRe++,this.ossl=null,this.type="base",this.endian="be",this.hash=null,this.prefix=null,this.context=!1,this.prime=null,this.p=null,this.red=null,this.fieldSize=0,this.fieldBits=0,this.adjustedSize=0,this.signBit=0,this.mask=0,this.n=null,this.h=null,this.q=null,this.z=null,this.g=null,this.nh=null,this.scalarSize=0,this.scalarBits=0,this.zero=null,this.one=null,this.two=null,this.three=null,this.four=null,this.i2=null,this.i3=null,this.i4=null,this.i6=null,this.torsion=null,this.endo=null,this.hi=null,this._init(e,t,i)}_init(e,t,i){he(typeof e=="function"),he(typeof t=="string"),he(i&&typeof i=="object"),he(i.red==null||i.red instanceof je.Red),he(i.p!=null,"Must pass a prime."),he(i.id==null||typeof i.id=="string"),he(i.ossl==null||typeof i.ossl=="string"),he(i.endian==null||typeof i.endian=="string"),he(i.hash==null||typeof i.hash=="string"),he(i.prefix==null||typeof i.prefix=="string"),he(i.context==null||typeof i.context=="boolean"),he(i.prime==null||typeof i.prime=="string"),he(i.torsion==null||Array.isArray(i.torsion)),this.Point=e,this.id=i.id||null,this.ossl=i.ossl||null,this.type=t,this.endian=i.endian||(t==="short"?"be":"le"),this.hash=i.hash||null,this.prefix=i.prefix?Buffer.from(i.prefix,"binary"):null,this.context=i.context||!1,this.prime=i.prime||null,this.p=je.fromJSON(i.p),i.red?this.red=i.red:(this.red=i.prime?je.red(i.prime):je.mont(this.p),this.red.precompute()),this.fieldSize=this.p.byteLength(),this.fieldBits=this.p.bitLength(),this.adjustedSize=this.fieldSize+((this.fieldBits&7)==0),this.signBit=this.adjustedSize*8-1,this.mask=255,(this.fieldBits&7)!=0&&(this.mask=(1<<(this.fieldBits&7))-1),this.n=je.fromJSON(i.n||"0"),this.h=je.fromJSON(i.h||"1"),this.q=this.n.mul(this.h),this.z=je.fromJSON(i.z||"0").toRed(this.red),this.g=null,this.nh=this.n.ushrn(1),this.scalarSize=this.n.byteLength(),this.scalarBits=this.n.bitLength(),this.zero=new je(0).toRed(this.red),this.one=new je(1).toRed(this.red),this.two=new je(2).toRed(this.red),this.three=new je(3).toRed(this.red),this.four=new je(4).toRed(this.red),this.i2=this.two.redInvert(),this.i3=this.three.redInvert(),this.i4=this.i2.redSqr(),this.i6=this.i2.redMul(this.i3),this.torsion=new Array(this.h.word(0));for(let n=0;n<this.torsion.length;n++)this.torsion[n]=this.point();return this.endo=null,this.hi=null,this._scale=KS(this._scale,this),this.isIsomorphic=KS(this.isIsomorphic,this),this.isIsogenous=KS(this.isIsogenous,this),he(this.p.sign()>0&&this.p.isOdd()),he(this.n.sign()>=0),he(this.h.sign()>0&&this.h.cmpn(255)<=0),he(this.endian==="be"||this.endian==="le"),this}_finalize(e){if(he(e&&typeof e=="object"),this.g=e.g?this.pointFromJSON(e.g):this.point(),e.torsion){he(e.torsion.length===this.torsion.length);for(let t=0;t<this.torsion.length;t++)this.torsion[t]=this.pointFromJSON(e.torsion[t])}return this}_findTorsion(){he(!this.n.isZero());let e=this.h.word(0),t=this.one.redNeg(),i=[this.point()],n=new Set,s=e;for(;i.length<s;){let o;t.redIAdd(this.one);try{o=this.pointFromX(t.clone())}catch(a){continue}try{o=o.mul(this.n)}catch(a){s=2;continue}if(!o.isInfinity()){o.normalize();for(let a of[o,o.neg()]){let f=a.key();n.has(f)||(i.push(a),n.add(f))}}}for(i.sort((o,a)=>o.cmp(a));i.length<e;)i.push(this.point());return i}_fixedMul(e,t){he(e instanceof di),he(t instanceof je),he(e.pre&&e.pre.windows);let{width:i,points:n}=e._getWindows(0,0),s=1<<i,a=(t.bitLength()+i-1)/i>>>0,f=this.jpoint();for(let c=0;c<a;c++){let l=t.bits(c*i,i);f=f.add(n[c*s+l])}return t.isNeg()&&(f=f.neg()),f}_fixedNafMul(e,t){he(e instanceof di),he(t instanceof je),he(e.pre&&e.pre.doubles);let{step:i,points:n}=e._getDoubles(0,0),s=MRe(t,2,t.bitLength()+1,i),o=((1<<i+1)-(i%2==0?2:1))/3,a=this.jpoint(),f=this.jpoint();for(let c=o;c>0;c--){for(let l=0;l<s.length;l++){let h=s[l];h===c?f=f.add(n[l]):h===-c&&(f=f.sub(n[l]))}a=a.add(f)}return a}_wnafMul(e,t,i){he(t instanceof di),he(i instanceof je);let{width:n,points:s}=t._safeNAF(e),o=Vg(i,n,i.bitLength()+1),a=this.jpoint();for(let f=o.length-1;f>=0;f--){let c=o[f];f!==o.length-1&&(a=a.dbl()),c>0?a=a.add(s[c-1>>1]):c<0&&(a=a.sub(s[-c-1>>1]))}return a}_wnafMulAdd(e,t,i){he(e>>>0===e),he(Array.isArray(t)),he(Array.isArray(i)),he(t.length===i.length);let n=t.length,s=new Array(n),o=new Array(n),a=0;for(let x=0;x<n;x++){let _=t[x],E=i[x];if(he(_ instanceof di),he(E instanceof je),x>0&&_.type!==t[x-1].type)throw new Error("Cannot mix points.");s[x]=null,o[x]=null,a=Math.max(a,E.bitLength()+1)}let f=null,c=null,l=0;for(let x=0;x<n;x++){let _=t[x],E=i[x],C=_._getNAF(0);if(C){s[l]=C.points,o[l]=Vg(E,C.width,a),l+=1;continue}if(!f){f=_,c=E;continue}s[l]=f._getJNAF(_),o[l]=NRe(c,E,a),f=null,c=null,l+=1}if(f){let x=f._safeNAF(e);s[l]=x.points,o[l]=Vg(c,x.width,a),l+=1}let h=this.jpoint();for(let x=a-1;x>=0;x--){x!==a-1&&(h=h.dbl());for(let _=0;_<l;_++){let E=o[_][x];E>0?h=h.add(s[_][E-1>>1]):E<0&&(h=h.sub(s[_][-E-1>>1]))}}return h}_endoWnafMulAdd(e,t){throw new Error("Not implemented.")}_scale(e,t){switch(he(e instanceof xs),he(e.p.eq(this.p)),e.type){case"short":return this._scaleShort(e,t);case"mont":return this._scaleMont(e,t);case"edwards":return this._scaleEdwards(e,t);default:throw new Error("Not implemented.")}}_scaleShort(e,t){throw new Error("Not implemented.")}_scaleMont(e,t){throw new Error("Not implemented.")}_scaleEdwards(e,t){throw new Error("Not implemented.")}isElliptic(){throw new Error("Not implemented.")}jinv(){throw new Error("Not implemented.")}isComplete(){return!1}precompute(e){return he(!this.g.isInfinity(),"Must have base point."),he(!this.n.isZero(),"Must have order."),this.g.precompute(this.n.bitLength(),e),this}scalar(e,t,i){let n=new je(e,t,i);return he(!n.red),this.n.isZero()?n:n.imod(this.n)}field(e,t,i){let n=je.cast(e,t,i);return n.red?n.forceRed(this.red):n.toRed(this.red)}point(e,t){throw new Error("Not implemented.")}jpoint(e,t,i){throw new Error("Not implemented.")}xpoint(e,t){throw new Error("Not implemented.")}cpoint(e,t,i,n){if(he(e instanceof je),he(t instanceof je),he(i instanceof je),he(n instanceof je),t.isZero()||n.isZero())return this.point();let s=t.redMul(n).redInvert(),o=e.redMul(n).redMul(s),a=i.redMul(t).redMul(s);return this.point(o,a)}solveX2(e){throw new Error("Not implemented.")}solveX(e){return this.solveX2(e).redSqrt()}solveY2(e){throw new Error("Not implemented.")}solveY(e){return this.solveY2(e).redSqrt()}validate(e){throw new Error("Not implemented.")}pointFromX(e,t){throw new Error("Not implemented.")}pointFromY(e,t){throw new Error("Not implemented.")}isIsomorphic(e){throw new Error("Not implemented.")}isIsogenous(e){throw new Error("Not implemented.")}pointFromShort(e){throw new Error("Not implemented.")}pointFromMont(e,t){throw new Error("Not implemented.")}pointFromEdwards(e){throw new Error("Not implemented.")}pointFromUniform(e){throw new Error("Not implemented.")}pointToUniform(e){throw new Error("Not implemented.")}pointFromHash(e,t=!1){if(he(Buffer.isBuffer(e)),he(typeof t=="boolean"),e.length!==this.fieldSize*2)throw new Error("Invalid hash size.");let i=e.slice(0,this.fieldSize),n=e.slice(this.fieldSize),s=this.decodeUniform(i),o=this.decodeUniform(n),a=this.pointFromUniform(s),f=this.pointFromUniform(o),c=a.add(f);return t?c.mulH():c}pointToHash(e,t,i){he(e instanceof this.Point),he(t>>>0===t);let n=t%this.torsion.length,s=e.add(this.torsion[n]);for(;;){let o=this.randomField(i),a=this.pointFromUniform(o);if(a.neg().eq(a))continue;let f=s.sub(a),c=nne(i),l;try{l=this.pointToUniform(f,c&15)}catch(_){if(_.message==="Invalid point.")continue;throw _}let h=this.encodeUniform(o,c>>>8),x=this.encodeUniform(l,c>>>16);return Buffer.concat([h,x])}}randomScalar(e){let t=this.n.isZero()?this.p:this.n;return je.random(e,1,t)}randomField(e){return je.random(e,1,this.p).toRed(this.red)}randomPoint(e){let t;for(;;){let i=this.randomField(e),n=(nne(e)&1)!=0;try{t=this.pointFromX(i,n)}catch(s){continue}return he(t.validate()),t.mulH()}}mulAll(e,t){return this.jmulAll(e,t)}jmulAll(e,t){return he(Array.isArray(e)),he(e.length===0||e[0]instanceof di),this.endo&&e.length>0&&e[0].type===zf.AFFINE?this._endoWnafMulAdd(e,t):this._wnafMulAdd(5,e,t)}mulH(e){return he(e instanceof je),this.imulH(e.clone())}imulH(e){he(e instanceof je),he(!e.red);let t=this.h.word(0);if((t&t-1)==0){let i=this.h.bitLength();return e.iushln(i-1).imod(this.n)}return e.imuln(t).imod(this.n)}normalizeAll(e){he(Array.isArray(e));let t=e.length,i=new Array(t);for(let o=0;o<t;o++){let a=e[o];if(he(a instanceof di),he(a.curve===this),a.type===zf.AFFINE){i[o]=this.one;continue}i[o]=a.z}let n=this.red.invertAll(i),s=new Array(t);for(let o=0;o<t;o++)s[o]=e[o].scale(n[o]);return s}affinizeAll(e){return this.normalizeAll(e)}clamp(e){he(Buffer.isBuffer(e)),he(e.length===this.scalarSize),he(this.scalarSize<=this.fieldSize);let t=this.fieldBits&7||8,i=0,n=this.scalarSize-1;return this.endian==="be"&&([i,n]=[n,i]),this.scalarSize<this.fieldSize&&(t=8),e[i]&=-this.h.word(0)&255,e[n]&=(1<<t)-1,e[n]|=1<<t-1,e}splitHash(e){he(Buffer.isBuffer(e)),he(e.length===this.adjustedSize*2),he(this.scalarSize<=this.adjustedSize);let t=0;this.endian==="be"&&(t=this.adjustedSize-this.scalarSize);let i=e.slice(t,t+this.scalarSize),n=e.slice(this.adjustedSize);return this.clamp(i),[i,n]}encodeField(e){return he(e instanceof je),he(!e.red),e.encode(this.endian,this.fieldSize)}decodeField(e){if(he(Buffer.isBuffer(e)),e.length!==this.fieldSize)throw new Error("Invalid field element size.");return je.decode(e,this.endian)}encodeAdjusted(e){return he(e instanceof je),he(!e.red),e.encode(this.endian,this.adjustedSize)}decodeAdjusted(e){if(he(Buffer.isBuffer(e)),e.length!==this.adjustedSize)throw new Error("Invalid field element size.");return je.decode(e,this.endian)}encodeScalar(e){return he(e instanceof je),he(!e.red),e.encode(this.endian,this.scalarSize)}decodeScalar(e){if(he(Buffer.isBuffer(e)),e.length!==this.scalarSize)throw new Error("Invalid scalar size.");return je.decode(e,this.endian)}encodeClamped(e){return this.clamp(this.encodeScalar(e))}decodeClamped(e){if(he(Buffer.isBuffer(e)),e.length!==this.scalarSize)throw new Error("Invalid scalar size.");let t=this.clamp(Buffer.from(e));return je.decode(t,this.endian)}encodeUniform(e,t){he(e instanceof je),he(t>>>0===t);let i=this.endian==="le"?this.fieldSize-1:0,n=e.fromRed().encode(this.endian,this.fieldSize);return n[i]|=t&~this.mask&255,n}decodeUniform(e){if(he(Buffer.isBuffer(e)),e.length!==this.fieldSize)throw new Error("Invalid field size.");let t=je.decode(e,this.endian);return t.iumaskn(this.fieldBits),t.toRed(this.red)}encodePoint(e,t){return he(e instanceof di),e.encode(t)}decodePoint(e){throw new Error("Not implemented.")}encodeX(e){throw new Error("Not implemented.")}decodeX(e){throw new Error("Not implemented.")}decodeEven(e){throw new Error("Not implemented.")}decodeSquare(e){throw new Error("Not implemented.")}toShort(){throw new Error("Not implemented.")}toMont(e){throw new Error("Not implemented.")}toEdwards(e){throw new Error("Not implemented.")}pointToJSON(e,t){return he(e instanceof di),e.toJSON(t)}pointFromJSON(e){throw new Error("Not implemented.")}toJSON(e){let t,i,n,s,o;return this.type==="edwards"&&(t=this.prefix?this.prefix.toString():null,i=this.context),this.n.isZero()||(n=this.n.toJSON()),this.z.isZero()||(s=this.z.fromRed(),this.z.redIsHigh()&&s.isub(this.p),s=s.toString(16)),this.endo&&(o=this.endo.toJSON()),{id:this.id,ossl:this.ossl,type:this.type,endian:this.endian,hash:this.hash,prefix:t,context:i,prime:this.prime,p:this.p.toJSON(),a:void 0,b:void 0,d:void 0,n,h:this.h.toString(16),s:void 0,z:s,c:void 0,g:this.g.toJSON(e),endo:o}}static fromJSON(e){return new this(e)}},di=class{constructor(e,t){he(e instanceof xs),he(t>>>0===t),this.curve=e,this.type=t,this.pre=null}_init(){throw new Error("Not implemented.")}_safeNAF(e){if(he(e>>>0===e),this.pre&&this.pre.naf)return this.pre.naf;if(e===0)return null;let t=1<<e-2,i=new Array(t),n=this.toJ(),s=t===1?null:n.dbl();i[0]=n;for(let o=1;o<t;o++)i[o]=i[o-1].add(s);return new zg(e,i)}_getNAF(e){if(he(e>>>0===e),this.pre&&this.pre.naf)return this.pre.naf;if(e===0)return null;let t=this._safeNAF(e).points,i=this.curve.affinizeAll(t);return new zg(e,i)}_getWindows(e,t){if(he(e>>>0===e),he(t>>>0===t),this.pre&&this.pre.windows)return this.pre.windows;if(e===0)return null;let i=1<<e,n=(t+e-1)/e>>>0,s=new Array(n*i),o=this.toJ();for(let f=0;f<n;f++){s[f*i]=this.curve.jpoint();for(let c=1;c<i;c++)s[f*i+c]=s[f*i+c-1].add(o);o=o.dblp(e)}let a=this.curve.affinizeAll(s);return new OS(e,t,a)}_getDoubles(e,t){if(he(e>>>0===e),he(t>>>0===t),this.pre&&this.pre.doubles)return this.pre.doubles;if(e===0)return null;let i=Math.ceil(t/e)+1,n=new Array(i),s=this.toJ(),o=0;n[o++]=s;for(let f=0;f<t;f+=e){for(let c=0;c<e;c++)s=s.dbl();n[o++]=s}he(o===i);let a=this.curve.affinizeAll(n);return new DS(e,a)}_getBeta(){return null}_getBlinding(e){if(this.pre&&this.pre.blinding)return this.pre.blinding;if(!e||this.curve.n.isZero())return null;let t=this.curve.randomScalar(e),i=this.mul(t);return new LS(t,i)}_hasWindows(e){if(he(e instanceof je),!this.pre||!this.pre.windows)return!1;let{width:t,bits:i}=this.pre.windows,n=(i+t-1)/t>>>0;return e.bitLength()<=n*t}_hasDoubles(e){if(he(e instanceof je),!this.pre||!this.pre.doubles)return!1;let{step:t,points:i}=this.pre.doubles,n=e.bitLength()+1;return i.length>=Math.ceil(n/t)+1}_getJNAF(e){return he(e instanceof di),he(e.type===this.type),[this,this.add(e),this.sub(e),e]}_blind(e,t){if(he(e instanceof je),he(!e.red),this.pre&&this.pre.blinding){let{blind:n,unblind:s}=this.pre.blinding,o=e.sub(n);return[this,o,s]}if(!t)return[this,e,null];if(this.pre){if(this.curve.n.isZero())return[this,e,null];let o=this.curve.randomScalar(t).mul(this.curve.n).iadd(e);return[this,o,null]}return[this.randomize(t),e,null]}clone(){throw new Error("Not implemented.")}precompute(e,t){return he(e>>>0===e),this.pre||(this.pre=new Kg),this.pre.naf||(this.pre.naf=this._getNAF(9)),Uie&&!this.pre.windows&&(this.pre.windows=this._getWindows(4,e)),this.pre.doubles||(this.pre.doubles=this._getDoubles(4,e+1)),this.pre.beta||(this.pre.beta=this._getBeta()),this.pre.blinding||(this.pre.blinding=this._getBlinding(t)),this}validate(){return this.curve.validate(this)}normalize(){return this}scale(e){throw new Error("Not implemented.")}randomize(e){let t=this.curve.randomField(e);return this.scale(t)}neg(){throw new Error("Not implemented.")}add(e){throw new Error("Not implemented.")}sub(e){return he(e instanceof di),this.add(e.neg())}dbl(){throw new Error("Not implemented.")}dblp(e){he(e>>>0===e);let t=this;for(let i=0;i<e;i++)t=t.dbl();return t}diffAddDbl(e,t){throw new Error("Not implemented.")}getX(){throw new Error("Not implemented.")}getY(){throw new Error("Not implemented.")}eq(e){throw new Error("Not implemented.")}cmp(e){throw new Error("Not implemented.")}isInfinity(){throw new Error("Not implemented.")}isOrder2(){throw new Error("Not implemented.")}isOdd(){throw new Error("Not implemented.")}isEven(){throw new Error("Not implemented.")}isSquare(){throw new Error("Not implemented.")}eqX(e){throw new Error("Not implemented.")}eqR(e){throw new Error("Not implemented.")}isSmall(){return this.isInfinity()?!1:this.jmulH().isInfinity()}hasTorsion(){return this.isInfinity()?!1:!this.jmul(this.curve.n).isInfinity()}order(){let{h:e,n:t}=this.curve,i=this.toJ(),n=new je(1);for(;!i.isInfinity();){if(n.iaddn(1),n.cmp(e)>0){n=t.clone();break}i=i.add(this)}return n}mul(e){return this.jmul(e)}muln(e){return this.jmuln(e)}mulBlind(e,t){return this.jmulBlind(e,t)}mulAdd(e,t,i){return this.jmulAdd(e,t,i)}mulH(){return this.jmulH()}div(e){return this.jdiv(e)}divn(e){return this.jdivn(e)}divH(){return this.jdivH()}jmul(e){return Uie&&this._hasWindows(e)?this.curve._fixedMul(this,e):this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo&&this.type===zf.AFFINE?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(5,this,e)}jmuln(e){return he((e|0)===e),this.jmul(new je(e))}jmulBlind(e,t=null){let[i,n,s]=this._blind(e,t),o=i.jmul(n);return s?o.add(s):o}jmulAdd(e,t,i){return this.curve.endo&&this.type===zf.AFFINE?this.curve._endoWnafMulAdd([this,t],[e,i]):this.curve._wnafMulAdd(5,[this,t],[e,i])}jmulH(){let e=this.curve.h.word(0);if((e&e-1)==0){let t=this.curve.h.bitLength();return this.toJ().dblp(t-1)}return this.jmul(this.curve.h)}jdiv(e){return he(e instanceof je),he(!e.red),this.jmul(e.invert(this.curve.n))}jdivn(e){return he(!this.curve.n.isZero()),this.curve.h.cmpn(e)===0?this.jdivH():this.jdiv(new je(e))}jdivH(){return this.curve.n.isZero()?this.toJ():this.curve.h.cmpn(1)===0?this.toJ():(this.curve.hi===null&&(this.curve.hi=this.curve.h.invert(this.curve.n)),this.jmul(this.curve.hi))}toP(){return this.normalize()}toJ(){return this}toX(){return this}key(){if(this.isInfinity())return`${this.curve.uid}:oo`;this.normalize();let e=this.getX().toString(16),t=this.getY().toString(16);return`${this.curve.uid}:${e},${t}`}encode(e){throw new Error("Not implemented.")}static decode(e,t){throw new Error("Not implemented.")}encodeX(){throw new Error("Not implemented.")}static decodeX(e,t){throw new Error("Not implemented.")}static decodeEven(e,t){throw new Error("Not implemented.")}static decodeSquare(e,t){throw new Error("Not implemented.")}toJSON(e){throw new Error("Not implemented.")}static fromJSON(e,t){throw new Error("Not implemented.")}[Q1](){return"<Point>"}},ti=class extends xs{constructor(e){super(mi,"short",e);this.a=je.fromJSON(e.a).toRed(this.red),this.b=je.fromJSON(e.b).toRed(this.red),this.c=je.fromJSON(e.c||"0").toRed(this.red),this.ai=this.a.isZero()?this.zero:this.a.redInvert(),this.zi=this.z.isZero()?this.zero:this.z.redInvert(),this.zeroA=this.a.isZero(),this.threeA=this.a.eq(this.three.redNeg()),this.redN=this.n.toRed(this.red),this.pmodn=this.p.clone(),this.highOrder=this.n.cmp(this.p)>=0,this.smallGap=!1,this._finalize(e)}_finalize(e){return super._finalize(e),e.endo!=null?this.endo=US.fromJSON(this,e.endo):this.endo=this._getEndomorphism(),this.n.isZero()||(this.pmodn=this.p.mod(this.n),this.smallGap=this.p.div(this.n).cmpn(1)<=0),this}static _isomorphism(e,t,i,n){if(he(e instanceof je),he(t instanceof je),he(i instanceof je),he(n==null||typeof n=="boolean"),he(!e.isZero()||!t.isZero()),i.isZero())throw new Error("Invalid coefficient.");if(e.isZero()){let h=i,x=h.redDiv(t),_=ine(x);return he(_.redJacobi()===1),[e.clone(),h.clone()]}if(t.isZero()){let h=i,_=h.redDiv(e).redSqrt();if(_.redJacobi()!==1&&_.redINeg(),_.redJacobi()!==1)throw new Error("Invalid `a` coefficient.");return[h.clone(),t.clone()]}let s=i,o=s.redDiv(e),a=o.redSqrt();if(n!=null?a.redIsOdd()!==n&&a.redINeg():a.redJacobi()!==1&&a.redINeg(),a.redJacobi()!==1)throw new Error("Invalid `a` coefficient.");let f=o.redMul(a),c=e.redMul(o),l=t.redMul(f);return he(c.eq(s)),[c,l]}_short(e,t){return ti._isomorphism(this.a,this.b,e,t)}_mont(e,t){let[i,n]=this._findRS(t),s=n.redInvert(),o=i.redMuln(3).redMul(s);return e!=null?gi._isomorphism(o,s,e):[o,s]}_edwards(e,t){let[i,n]=this._findRS(t),s=i.redMuln(3),o=n.redMuln(2),a=s.redAdd(o),f=s.redSub(o);return e!=null?Rn._isomorphism(a,f,e):[a,f]}_findRS(e){he(e==null||typeof e=="boolean"),he(this.h.word(0)>=4),he(!this.n.isZero());let t=this.one.redNeg(),i;for(;;){t.redIAdd(this.one);try{i=this.pointFromX(t.clone())}catch(a){continue}if(i=i.mul(this.n),!i.isInfinity()&&!!i.y.isZero())break}let n=i.x,o=n.redSqr().redMuln(3).redIAdd(this.a).redSqrt();return e!=null&&o.redIsOdd()!==e&&o.redINeg(),[n,o]}_scale0(e,t){if(he(this.a.isZero()===e.isZero()),he(this.b.isZero()===t.isZero()),this.a.isZero()){let f=this.b.redDiv(this.field(t)),c=ine(f),l=c.redSqrt(),h=c.redMul(l);return he(h.redSqr().eq(f)),he(!l.isZero()),[c,h]}if(this.b.isZero()){let f=this.a.redDiv(this.field(e)),c=f.redSqrt();c.redJacobi()!==1&&c.redINeg();let l=c.redSqrt(),h=c.redMul(l);return he(h.redMul(l).eq(f)),he(!l.isZero()),[c,h]}let i=this.a.redDiv(this.field(e)),n=this.b.redDiv(this.field(t)),s=i.redSqrt();i.redMul(s).eq(n)||s.redINeg(),he(i.redMul(s).eq(n));let o=s.redSqrt(),a=s.redMul(o);return he(!o.isZero()),[s,a]}_scale1(e,t){let i=this.g.x.redDiv(this.field(e)),n=this.g.y.redDiv(this.field(t)),s=i.redSqrt();return i.redMul(s).eq(n)||s.redINeg(),he(i.redMul(s).eq(n)),he(!s.isZero()),[i,n]}_scaleShort(e){return he(e instanceof ti),this.g.isInfinity()||e.g.isInfinity()?this._scale0(e.a,e.b):this._scale1(e.g.x,e.g.y)}_scaleMont(e){if(he(e instanceof gi),this.g.isInfinity()||e.g.isInfinity()){let[o,a]=e._short();return this._scale0(o,a)}let{x:t,y:i}=e.g,n=t.redAdd(e.a3).redMul(e.bi),s=i.redMul(e.bi);return this._scale1(n,s)}_scaleEdwards(e){if(he(e instanceof Rn),this.g.isInfinity()||e.g.isInfinity()){let[ee,N]=e._short();return this._scale0(ee,N)}let{x:t,y:i,z:n}=e.g,s=e.a.redMuln(5),o=e.d.redMuln(5),a=e.d.redSub(e.a),f=o.redSub(e.a),c=e.d.redSub(s),l=i.redAdd(n),h=i.redSub(n),x=f.redMul(i).redIAdd(c.redMul(n)),_=h.redMuln(12),E=a.redMul(l).redMul(n),C=h.redMul(t).redIMuln(4),L=_.redMul(C).redInvert(),O=x.redMul(C).redMul(L),W=E.redMul(_).redMul(L);return this._scale1(O,W)}_getEndomorphism(e=0){if(this.n.isZero()||this.g.isInfinity()||!this.zeroA||this.p.modrn(3)!==1||this.n.modrn(3)!==1)return null;let[t,i]=this._getEndoRoots(this.p),n=[t,i][e&1].toRed(this.red),[s,o]=this._getEndoRoots(this.n),a=this.point(this.g.x.redMul(n),this.g.y),f;this.g.mul(s).eq(a)?f=s:(he(this.g.mul(o).eq(a)),f=o);let c=this._getEndoBasis(f),l=this._getEndoPrecomp(c);return new US(n,f,c,l)}_getEndoRoots(e){let t=e===this.p?this.red:je.mont(e),i=new je(2).toRed(t),n=new je(3).toRed(t),s=i.redInvert(),o=n.redNeg().redSqrt().redMul(s),a=o.redNeg(),f=o.redSub(s).fromRed(),c=a.redSub(s).fromRed();return[f,c].sort(je.cmp)}_getEndoBasis(e){let[t,i,n,s,o,a]=this._egcdSqrt(e),f=n,c=s.neg(),l=t.sqr().iadd(i.sqr()),h=o.sqr().iadd(a.sqr()),x,_;return l.cmp(h)<=0?(x=t,_=i.neg()):(x=o,_=a.neg()),[new Pl(f,c),new Pl(x,_)]}_egcdSqrt(e){he(e instanceof je),he(!e.red),he(e.sign()>0),he(this.n.sign()>0);let t=this.n.ushrn(this.n.bitLength()>>>1),i=e,n=this.n.clone(),s=new je(1),o=new je(0),a=new je(0),f=new je(1),c,l,h,x,_=0,E=0,C;for(;!i.isZero()&&_<2;){let W=n.quo(i),ee=n.sub(W.mul(i)),N=a.sub(W.mul(s)),V=f.sub(W.mul(o));E===0&&ee.cmp(t)<0&&(c=C,l=s,h=ee,x=N,E=1),C=ee,n=i,i=ee,a=s,s=N,f=o,o=V,_+=E}return he(E!==0,"Could not find r < sqrt(n)."),[c,l,h,x,a,s]}_getEndoPrecomp(e){he(Array.isArray(e)),he(e.length===2),he(e[0]instanceof Pl),he(e[1]instanceof Pl);let[t,i]=e,n=t.a.mul(i.b).isub(t.b.mul(i.a)),s=n.bitLength(),o=s>=160;he(n.eq(this.n));let a=s+Math.ceil(s/2)+1,f,c;for(o&&(a-=a&63);a>s&&(f=i.b.ushln(a).divRound(n),c=t.b.ushln(a).divRound(n),!(f.ucmp(n)<0&&c.ucmp(n)<0));)o?a-=64:a-=1;if(a<=s)throw new Error("Could not calculate g1 and g2.");return[a,f,c]}_endoSplit(e){he(e instanceof je),he(!e.red),he(!this.n.isZero());let[t,i]=this.endo.basis,n=i.b.mul(e).divRound(this.n),s=t.b.neg().mul(e).divRound(this.n),o=n.mul(t.a),a=s.mul(i.a),f=n.ineg().mul(t.b),c=s.mul(i.b),l=e.sub(o).isub(a),h=f.isub(c);return[l,h]}_endoBeta(e){return he(e instanceof mi),[e,e._getBeta()]}_endoWnafMulAdd(e,t){he(Array.isArray(e)),he(Array.isArray(t)),he(e.length===t.length),he(this.endo!=null);let i=e.length,n=new Array(i*2),s=new Array(i*2);for(let o=0;o<i;o++){let[a,f]=this._endoBeta(e[o]),[c,l]=this._endoSplit(t[o]);n[o*2+0]=a,s[o*2+0]=c,n[o*2+1]=f,s[o*2+1]=l}return this._wnafMulAdd(5,n,s)}_sswu(e){let{b:t,z:i,ai:n,zi:s,one:o}=this,a=i.redSqr(),f=t.redNeg().redMul(n),c=t.redMul(s).redMul(n),l=e.redSqr(),h=l.redSqr(),x=a.redMul(h).redIAdd(i.redMul(l)),_=x.isZero()?x:x.redInvert(),E=_.isZero()?c:f.redMul(o.redAdd(_)),C=i.redMul(l).redMul(E),L=this.solveY2(E),O=this.solveY2(C),W=L.redIsSquare()|0,ee=[E,C][W^1],N=[L,O][W^1].redSqrt();return N.redIsOdd()!==e.redIsOdd()&&N.redINeg(),this.point(ee,N)}_sswui(e,t){let{a:i,b:n,z:s}=this,{x:o,y:a}=e,f=t&3,c=i.redSqr().redMul(o.redSqr()),l=i.redMul(n).redMul(o).redIMuln(2),h=n.redSqr().redMuln(3),x=i.redMul(o).redIAdd(n),_=c.redISub(l).redISub(h).redSqrt(),E=x.redSub(_).redINeg(),C=x.redAdd(_).redINeg(),L=x.redMul(s).redIMuln(2),O=n.redMul(s).redIMuln(2),W=[E,C][f&1],ee=[L,O][f>>>1],N=W.redDivSqrt(ee);return N.redIsOdd()!==a.redIsOdd()&&N.redINeg(),N}_svdwf(e){let{c:t,z:i,zi:n,i2:s,i3:o}=this,a=this.solveY2(i),f=o.redMul(n.redSqr()),c=e.redSqr(),l=c.redSqr(),h=c.redAdd(a),x=c.redMul(h),_=x.isZero()?x:x.redInvert(),E=l.redMul(_).redMul(t),C=h.redSqr().redMul(h),L=t.redSub(i).redMul(s).redISub(E),O=E.redSub(t.redAdd(i).redMul(s)),W=i.redSub(C.redMul(_).redMul(f)),ee=this.solveY2(L),N=this.solveY2(O),V=this.solveY2(W),z=ee.redJacobi()|1,F=N.redJacobi()|1,H=PRe((z-1)*F,3),K=[L,O,W][H],S=[ee,N,V][H];return[K,S]}_svdw(e){let[t,i]=this._svdwf(e),n=i.redSqrt();return n.redIsOdd()!==e.redIsOdd()&&n.redINeg(),this.point(t,n)}_svdwi(e,t){let{b:i,c:n,z:s,zero:o,two:a}=this,{x:f,y:c}=e,l=t&3,h=s.redSqr(),x=h.redMul(s),_=h.redSqr(),E=x.redAdd(i),C=E.redMuln(2),L=f.redSqr(),O=f.redMuln(2).redIAdd(s),W=f.redMul(h),ee=n.redSub(O),N=n.redAdd(O),V=L.redMul(h).redIAdd(_).redIMuln(9),z=f.redMul(x).redIMuln(18),F=E.redMul(f.redSub(s)).redIMuln(12),K=(l>=2?V.redISub(z).redIAdd(F).redSqrt():o).redMul(s),S=x.redISub(W).redIMuln(3).redISub(C),w=E.redMul(ee),T=E.redMul(N),v=S.redAdd(K),u=S.redSub(K),d=a,y=[w,T,v,u][l],g=[N,ee,d,d][l],m=y.redDivSqrt(g),[b]=this._svdwf(m);if(!b.eq(f))throw new Error("Invalid point.");return m.redIsOdd()!==c.redIsOdd()&&m.redINeg(),m}isElliptic(){let{a:e,b:t}=this,n=e.redSqr().redMul(e);return!t.redSqr().redMuln(27).redIAdd(n.redMuln(4)).isZero()}jinv(){let{a:e,b:t}=this,n=e.redSqr().redMul(e),s=t.redSqr(),o=n.redMuln(4),a=o.redMuln(1728),f=s.redMuln(27).redIAdd(o);if(f.isZero())throw new Error("Curve is not elliptic.");return a.redDiv(f).fromRed()}point(e,t){return new mi(this,e,t)}jpoint(e,t,i){return new Nl(this,e,t,i)}solveX(e){if(he(e instanceof je),!this.a.isZero())throw new Error("Not implemented.");let i=e.redSqr().redSub(this.b);return rne(i)}solveY2(e){he(e instanceof je);let i=e.redSqr().redMul(e).redIAdd(this.b);return this.zeroA||(this.threeA?i.redIAdd(e.redMuln(-3)):i.redIAdd(this.a.redMul(e))),i}validate(e){if(he(e instanceof mi),e.inf)return!0;let{x:t,y:i}=e,n=this.solveY2(t);return i.redSqr().eq(n)}pointFromX(e,t=null){he(e instanceof je),he(t==null||typeof t=="boolean"),e.red||(e=e.toRed(this.red));let i=this.solveY(e);if(t!=null){if(this.h.cmpn(1)>0&&i.isZero()&&t)throw new Error("Invalid point.");i.redIsOdd()!==t&&i.redINeg()}return this.point(e,i)}pointFromY(e,t=0){he(e instanceof je),he(t>>>0===t),e.red||(e=e.toRed(this.red));let i=this.solveX(e);if(t>=i.length)throw new Error("Invalid X coordinate index.");let n=i[t];return this.point(n,e)}isIsomorphic(e){if(he(e instanceof xs),!e.p.eq(this.p))return!1;let t,i;try{[t,i]=this._scale(e)}catch(n){return!1}if(e.type==="short"){let n=this.field(e.a).redMul(t.redSqr()),s=this.field(e.b).redMul(i.redSqr());return this.a.eq(n)&&this.b.eq(s)}if(e.type==="mont"){let{a3:n,bi:s}=e,o=this.field(n.redMul(s)).redMul(t);return this.solveY2(o).isZero()}if(e.type==="edwards"){let n=this.field(e.ad6).redMul(t);return this.solveY2(n).isZero()}return!1}isIsogenous(e){return he(e instanceof xs),!1}pointFromShort(e){if(he(e instanceof mi),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();let[t,i]=this._scale(e.curve),n=this.field(e.x),s=this.field(e.y),o=n.redMul(t),a=s.redMul(i);return this.point(o,a)}throw new Error("Not implemented.")}pointFromMont(e){if(he(e instanceof ss),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();let{a3:t,bi:i}=e.curve,[n,s]=this._scale(e.curve),o=e.x.redAdd(t).redMul(i),a=e.y.redMul(i);return this.point(this.field(o).redMul(n),this.field(a).redMul(s))}throw new Error("Not implemented.")}pointFromEdwards(e){if(he(e instanceof os),this.isIsomorphic(e.curve)){let{a:t,d:i,ad6:n}=e.curve,[s,o]=this._scale(e.curve);if(e.isInfinity())return this.point();if(e.x.isZero()){let V=this.field(n).redMul(s);return this.point(V,this.zero)}let{x:a,y:f,z:c}=e,l=t.redMuln(5),h=i.redMuln(5),x=i.redSub(t),_=h.redSub(t),E=i.redSub(l),C=f.redAdd(c),L=f.redSub(c),O=_.redMul(f).redIAdd(E.redMul(c)),W=L.redMuln(12),ee=x.redMul(C).redMul(c),N=L.redMul(a).redIMuln(4);return this.cpoint(this.field(O).redMul(s),this.field(W),this.field(ee).redMul(o),this.field(N))}throw new Error("Not implemented.")}pointFromUniform(e){if(he(e instanceof je),this.z.isZero()||this.b.isZero())throw new Error("Not implemented.");if(!this.a.isZero())return this._sswu(e);if(!this.c.isZero())return this._svdw(e);throw new Error("Not implemented.")}pointToUniform(e,t){if(he(e instanceof mi),he(t>>>0===t),this.z.isZero()||this.b.isZero())throw new Error("Not implemented.");if(e.isInfinity())throw new Error("Invalid point.");let i=(t>>>4&15)%this.torsion.length,n=e.add(this.torsion[i]);return tne(()=>{if(!this.a.isZero())return this._sswui(n,t);if(!this.c.isZero())return this._svdwi(n,t);throw new Error("Not implemented.")})}mulAll(e,t){return super.mulAll(e,t).toP()}affinizeAll(e){let t=this.normalizeAll(e);for(let i=0;i<t.length;i++)t[i]=t[i].toP();return t}decodePoint(e){return mi.decode(this,e)}encodeX(e){return he(e instanceof di),e.encodeX()}decodeEven(e){return mi.decodeEven(this,e)}decodeSquare(e){return mi.decodeSquare(this,e)}toShort(e,t,i=null){let[n,s]=this._short(e,t),o=new ti({red:this.red,prime:this.prime,p:this.p,a:n,b:s,n:this.n,h:this.h});if(i!=null){let[,a]=o._scale(this);a.redIsOdd()!==i&&a.redINeg()}this.g.isInfinity()||(o.g=o.pointFromShort(this.g));for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromShort(this.torsion[a]);return o}toMont(e,t,i=null){let[n,s]=this._mont(e,t),o=new gi({red:this.red,prime:this.prime,p:this.p,a:n,b:s,n:this.n,h:this.h});if(i!=null){let[,a]=this._scale(o);a.redIsOdd()!==i&&a.redINeg()}this.g.isInfinity()||(o.g=o.pointFromShort(this.g));for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromShort(this.torsion[a]);return o}toEdwards(e,t,i=null){let[n,s]=this._edwards(e,t),o=new Rn({red:this.red,prime:this.prime,p:this.p,a:n,d:s,n:this.n,h:this.h});if(i!=null){let[,a]=this._scale(o);a.redIsOdd()!==i&&a.redINeg()}if(this.g.isInfinity()||(o.g=o.pointFromShort(this.g),o.g.normalize()),o.isComplete())for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromShort(this.torsion[a]),o.torsion[a].normalize();return o}pointFromJSON(e){return mi.fromJSON(this,e)}toJSON(e){let t=super.toJSON(e);return t.a=this.a.fromRed().toJSON(),t.b=this.b.fromRed().toJSON(),this.c.isZero()||(t.c=this.c.fromRed().toJSON()),t}},mi=class extends di{constructor(e,t,i){he(e instanceof ti),super(e,zf.AFFINE),this.x=this.curve.zero,this.y=this.curve.zero,this.inf=!0,t!=null&&this._init(t,i)}_init(e,t){he(e instanceof je),he(t instanceof je),this.x=e,this.y=t,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1}_getBeta(){if(!this.curve.endo)return null;if(this.pre&&this.pre.beta)return this.pre.beta;let e=this.x.redMul(this.curve.endo.beta),t=this.curve.point(e,this.y);return this.pre&&(t.pre=this.pre.map(i=>{let n=i.x.redMul(this.curve.endo.beta);return this.curve.point(n,i.y)}),this.pre.beta=t),t}_getJNAF(e){if(he(e instanceof mi),this.inf||e.inf)return super._getJNAF(e);let t=[this,null,null,e];return this.y.eq(e.y)?(t[1]=this.add(e),t[2]=this.toJ().sub(e)):this.y.eq(e.y.redNeg())?(t[1]=this.toJ().add(e),t[2]=this.sub(e)):(t[1]=this.toJ().add(e),t[2]=this.toJ().sub(e)),t}clone(){return this.inf?this.curve.point():this.curve.point(this.x,this.y)}scale(e){return this.toJ().scale(e)}neg(){return this.inf?this:this.curve.point(this.x,this.y.redNeg())}add(e){if(he(e instanceof mi),this.inf)return e;if(e.inf)return this;if(this.x.eq(e.x))return this.y.eq(e.y)?this.dbl():this.curve.point();if(this.y.eq(e.y)){let a=this.x.redNeg().redISub(e.x),f=this.y.redNeg();return this.curve.point(a,f)}let t=this.x.redSub(e.x),n=this.y.redSub(e.y).redDiv(t),s=n.redSqr().redISub(this.x).redISub(e.x),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)}dbl(){if(this.inf)return this;if(this.y.isZero())return this.curve.point();let t=this.x.redSqr().redIMuln(3).redIAdd(this.curve.a),i=this.y.redMuln(2),n=t.redDiv(i),s=n.redSqr().redISub(this.x).redISub(this.x),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)}dblp(e){return this.toJ().dblp(e).toP()}getX(){if(this.inf)throw new Error("Invalid point.");return this.x.fromRed()}getY(){if(this.inf)throw new Error("Invalid point.");return this.y.fromRed()}eq(e){return he(e instanceof mi),this===e?!0:this.inf?e.inf:e.inf?!1:this.x.eq(e.x)&&this.y.eq(e.y)}cmp(e){return he(e instanceof mi),this.inf&&!e.inf?-1:!this.inf&&e.inf?1:this.inf&&e.inf?0:this.order().cmp(e.order())||this.getX().cmp(e.getX())||this.getY().cmp(e.getY())}isInfinity(){return this.inf}isOrder2(){return this.inf?!1:this.y.isZero()}isOdd(){return this.inf?!1:this.y.redIsOdd()}isEven(){return this.inf?!1:this.y.redIsEven()}isSquare(){return this.inf?!1:this.y.redJacobi()!==-1}eqX(e){return he(e instanceof je),he(!e.red),this.inf?!1:this.getX().eq(e)}eqR(e){return he(e instanceof je),he(!e.red),he(!this.curve.n.isZero()),this.inf?!1:this.getX().imod(this.curve.n).eq(e)}mul(e){return super.mul(e).toP()}muln(e){return super.muln(e).toP()}mulBlind(e,t){return super.mulBlind(e,t).toP()}mulAdd(e,t,i){return super.mulAdd(e,t,i).toP()}mulH(){return super.mulH().toP()}div(e){return super.div(e).toP()}divn(e){return super.divn(e).toP()}divH(){return super.divH().toP()}toP(){return this}toJ(){return this.inf?this.curve.jpoint():this.curve.jpoint(this.x,this.y,this.curve.one)}encode(e){e==null&&(e=!0),he(typeof e=="boolean");let{fieldSize:t}=this.curve;if(this.inf)throw new Error("Invalid point.");if(e){let o=Buffer.alloc(1+t),a=this.curve.encodeField(this.getX());return o[0]=2|this.y.redIsOdd(),a.copy(o,1),o}let i=Buffer.alloc(1+t*2),n=this.curve.encodeField(this.getX()),s=this.curve.encodeField(this.getY());return i[0]=4,n.copy(i,1),s.copy(i,1+t),i}static decode(e,t){he(e instanceof ti),he(Buffer.isBuffer(t));let i=e.fieldSize;if(t.length<1+i)throw new Error("Not a point.");let n=t[0];switch(n){case 2:case 3:{if(t.length!==1+i)throw new Error("Invalid point size for compressed.");let s=e.decodeField(t.slice(1,1+i));if(s.cmp(e.p)>=0)throw new Error("Invalid point.");let o=e.pointFromX(s,n===3);return he(!o.isInfinity()),o}case 4:case 6:case 7:{if(t.length!==1+i*2)throw new Error("Invalid point size for uncompressed.");let s=e.decodeField(t.slice(1,1+i)),o=e.decodeField(t.slice(1+i,1+2*i));if(s.cmp(e.p)>=0||o.cmp(e.p)>=0)throw new Error("Invalid point.");if(n!==4&&n!==(6|o.isOdd()))throw new Error("Invalid hybrid encoding.");let a=e.point(s,o);if(!a.validate())throw new Error("Invalid point.");return he(!a.isInfinity()),a}default:throw new Error("Unknown point format.")}}encodeX(){return this.curve.encodeField(this.getX())}static decodeEven(e,t){he(e instanceof ti);let i=e.decodeField(t);if(i.cmp(e.p)>=0)throw new Error("Invalid point.");return e.pointFromX(i,!1)}static decodeSquare(e,t){he(e instanceof ti);let i=e.decodeField(t);if(i.cmp(e.p)>=0)throw new Error("Invalid point.");return e.pointFromX(i)}toJSON(e){if(this.inf)return[];let t=this.getX().toJSON(),i=this.getY().toJSON();return e===!0&&this.pre?[t,i,this.pre.toJSON()]:[t,i]}toPretty(){if(this.inf)return[];let e=this.curve.fieldSize*2,t=ep(this.getX(),e),i=ep(this.getY(),e);return[t,i]}static fromJSON(e,t){if(he(e instanceof ti),he(Array.isArray(t)),he(t.length===0||t.length===2||t.length===3),t.length===0)return e.point();let i=je.fromJSON(t[0]),n=je.fromJSON(t[1]),s=e.point(i,n);return t.length>2&&t[2]!=null&&(s.pre=Kg.fromJSON(s,t[2])),s}[Q1](){return this.inf?"<ShortPoint: Infinity>":"<ShortPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+">"}},Nl=class extends di{constructor(e,t,i,n){he(e instanceof ti),super(e,zf.JACOBIAN),this.x=this.curve.one,this.y=this.curve.one,this.z=this.curve.zero,this.zOne=!1,t!=null&&this._init(t,i,n)}_init(e,t,i){he(e instanceof je),he(t instanceof je),he(i==null||i instanceof je),this.x=e,this.y=t,this.z=i||this.curve.one,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z.eq(this.curve.one)}clone(){return this.curve.jpoint(this.x,this.y,this.z)}validate(){let{a:e,b:t}=this.curve;if(this.isInfinity())return!0;if(this.zOne)return this.curve.validate(this.toP());let i=this.y.redSqr(),n=this.x.redSqr().redMul(this.x),s=this.z.redSqr(),o=s.redSqr(),a=o.redMul(s),f=n.redIAdd(t.redMul(a));return this.curve.zeroA||(this.curve.threeA?f.redIAdd(o.redIMuln(-3).redMul(this.x)):f.redIAdd(e.redMul(o).redMul(this.x))),i.eq(f)}normalize(){if(this.zOne)return this;if(this.isInfinity())return this;let e=this.z.redInvert(),t=e.redSqr();return this.x=this.x.redMul(t),this.y=this.y.redMul(t).redMul(e),this.z=this.curve.one,this.zOne=!0,this}scale(e){if(he(e instanceof je),this.isInfinity())return this.curve.jpoint();let t=e.redSqr(),i=this.x.redMul(t),n=this.y.redMul(t).redMul(e),s=this.z.redMul(e);return this.curve.jpoint(i,n,s)}neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)}add(e){return he(e instanceof di),e.type===zf.AFFINE?this._mixedAdd(e):this._add(e)}_add(e){return he(e instanceof Nl),this.isInfinity()?e:e.isInfinity()?this:this.zOne?e._addJA(this):e.zOne?this._addJA(e):this._addJJ(e)}_mixedAdd(e){return he(e instanceof mi),this.isInfinity()?e.toJ():e.isInfinity()?this:this._addJA(e)}_addJJ(e){let t=this.z.redSqr(),i=e.z.redSqr(),n=this.x.redMul(i),s=e.x.redMul(t),o=this.y.redMul(e.z).redMul(i),a=e.y.redMul(this.z).redMul(t),f=s.redISub(n),c=a.redISub(o);if(f.isZero())return c.isZero()?this.dbl():this.curve.jpoint();let l=f.redSqr(),h=f.redMul(l),x=n.redMul(l),_=c.redSqr().redISub(h).redISub(x).redISub(x),E=c.redMul(x.redISub(_)).redISub(o.redMul(h)),C=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(_,E,C)}_addJA(e){let t=this.z.redSqr(),i=e.x.redMul(t),n=e.y.redMul(this.z).redMul(t),s=i.redISub(this.x),o=n.redISub(this.y).redIMuln(2);if(s.isZero())return o.isZero()?this.dbl():this.curve.jpoint();let a=s.redMuln(2).redSqr(),f=s.redMul(a),c=this.x.redMul(a),l=o.redSqr().redISub(f).redISub(c).redISub(c),h=o.redMul(c.redISub(l)).redISub(this.y.redMul(f).redIMuln(2)),x=this.z.redMul(s).redIMuln(2);return this.curve.jpoint(l,h,x)}dbl(){return this.isInfinity()?this:this.y.isZero()?this.curve.jpoint():this.curve.zeroA?this._dbl0():this.curve.threeA?this._dbl3():this._dblJ()}_dblJ(){let e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),n=this.x.redMul(t).redIMuln(4),s=e.redIMuln(3).redIAdd(this.curve.a.redMul(i.redSqr())),o=s.redSqr().redISub(n).redISub(n),a=o,f=s.redMul(n.redISub(o)).redISub(t.redSqr().redIMuln(8)),c=this.y.redMul(this.z).redIMuln(2);return this.curve.jpoint(a,f,c)}_dbl0(){let e=this.x.redSqr(),t=this.y.redSqr(),i=t.redSqr(),s=t.redIAdd(this.x).redSqr().redISub(e).redISub(i).redIMuln(2),o=e.redIMuln(3),f=o.redSqr().redISub(s).redISub(s),c=o.redMul(s.redISub(f)).redISub(i.redIMuln(8)),l=this.y.redMul(this.z).redIMuln(2);return this.curve.jpoint(f,c,l)}_dbl3(){let e=this.z.redSqr(),t=this.y.redSqr(),i=this.x.redMul(t),n=this.x.redSub(e),s=this.x.redAdd(e),o=n.redMul(s).redIMuln(3),a=i.redIMuln(4),f=a.redMuln(2),c=t.redSqr().redIMuln(8),l=o.redSqr().redISub(f),h=this.y.redAdd(this.z).redSqr().redISub(t).redISub(e),x=o.redMul(a.redISub(l)).redISub(c);return this.curve.jpoint(l,x,h)}getX(){if(this.isInfinity())throw new Error("Invalid point.");return this.normalize(),this.x.fromRed()}getY(){if(this.isInfinity())throw new Error("Invalid point.");return this.normalize(),this.y.fromRed()}eq(e){if(he(e instanceof Nl),this===e)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return!1;if(this.z.eq(e.z))return this.x.eq(e.x)&&this.y.eq(e.y);let t=this.z.redSqr(),i=e.z.redSqr(),n=this.x.redMul(i),s=e.x.redMul(t);if(!n.eq(s))return!1;let o=t.redMul(this.z),a=i.redMul(e.z),f=this.y.redMul(a),c=e.y.redMul(o);return f.eq(c)}cmp(e){he(e instanceof Nl);let t=this.isInfinity(),i=e.isInfinity();return t&&!i?-1:!t&&i?1:t&&i?0:this.order().cmp(e.order())||this.getX().cmp(e.getX())||this.getY().cmp(e.getY())}isInfinity(){return this.z.isZero()}isOrder2(){return this.isInfinity()?!1:this.y.isZero()}isOdd(){return this.isInfinity()?!1:(this.normalize(),this.y.redIsOdd())}isEven(){return this.isInfinity()?!1:(this.normalize(),this.y.redIsEven())}isSquare(){return this.isInfinity()?!1:this.y.redMul(this.z).redJacobi()!==-1}eqX(e){if(he(e instanceof je),he(!e.red),this.isInfinity())return!1;let t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);return this.x.eq(i)}eqR(e){if(he(e instanceof je),he(!e.red),!this.curve.smallGap)return this.toP().eqR(e);if(this.isInfinity()||e.cmp(this.curve.p)>=0)return!1;let t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(this.x.eq(i))return!0;if(this.curve.highOrder||e.cmp(this.curve.pmodn)>=0)return!1;let n=this.curve.redN.redMul(t);return i.redIAdd(n),this.x.eq(i)}toP(){return this.isInfinity()?this.curve.point():(this.normalize(),this.curve.point(this.x,this.y))}toJ(){return this}encode(e){return this.toP().encode(e)}static decode(e,t){return mi.decode(e,t).toJ()}encodeX(){return this.toP().encodeX()}static decodeEven(e,t){return mi.decodeEven(e,t).toJ()}static decodeSquare(e,t){return mi.decodeSquare(e,t).toJ()}toJSON(e){return this.toP().toJSON(e)}toPretty(){return this.toP().toPretty()}static fromJSON(e,t){return mi.fromJSON(e,t).toJ()}[Q1](){return this.isInfinity()?"<JPoint: Infinity>":"<JPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+" z="+this.z.fromRed().toString(16,2)+">"}},gi=class extends xs{constructor(e){super(ss,"mont",e);this.a=je.fromJSON(e.a).toRed(this.red),this.b=je.fromJSON(e.b).toRed(this.red),this.bi=this.b.redInvert(),this.a2=this.a.redAdd(this.two),this.a24=this.a2.redMul(this.i4),this.a3=this.a.redMul(this.i3),this.a0=this.a.redMul(this.bi),this.b0=this.bi.redSqr(),this._finalize(e)}static _isomorphism(e,t,i){he(e instanceof je),he(t instanceof je),he(i instanceof je);let n=e.clone(),s=i.clone();if(t.redDiv(i).redJacobi()!==1)throw new Error("Invalid `b` coefficient.");return[n,s]}_short(e,t){let{a:i,b:n,three:s}=this,o=i.redSqr(),a=o.redMul(i),f=n.redSqr(),c=f.redMul(n),l=s.redSub(o),h=f.redMuln(3),x=a.redMuln(2).redISub(i.redMuln(9)),_=c.redMuln(27),E=l.redDiv(h),C=x.redDiv(_);return e!=null?ti._isomorphism(E,C,e,t):[E,C]}_mont(e){return gi._isomorphism(this.a,this.b,e)}_edwards(e,t=!1){he(typeof t=="boolean");let{two:i,bi:n}=this,s=this.a.redAdd(i).redMul(n),o=this.a.redSub(i).redMul(n);return t&&s.swap(o),e!=null?Rn._isomorphism(s,o,e):[s,o]}_scaleShort(e){he(e instanceof ti);let[t,i]=e._scale(this);return[this.field(t.redInvert()),this.field(i.redInvert())]}_scaleMont(e){return he(e instanceof gi),this.g.isInfinity()||e.g.isInfinity()?this.field(e.b).redDivSqrt(this.b):this.g.y.redDiv(this.field(e.g.y))}_scaleEdwards(e,t){he(e instanceof Rn);let i=e._scale(this,t);return this.field(i)}_solveY0(e){he(e instanceof je);let t=this.a0,i=this.b0,n=e.redSqr();return n.redMul(e).redIAdd(t.redMul(n)).redIAdd(i.redMul(e))}_elligator2(e){let t=this.a0.redNeg(),i=this.one.redAdd(this.z.redMul(e.redSqr()));i.isZero()&&i.inject(this.one);let n=t.redMul(i.redInvert()),s=n.redNeg().redISub(this.a0),o=this._solveY0(n),a=this._solveY0(s),f=o.redIsSquare()|0,c=[n,s][f^1],l=[o,a][f^1].redSqrt();l.redIsOdd()!==e.redIsOdd()&&l.redINeg();let h=this.b.redMul(c),x=this.b.redMul(l);return this.point(h,x)}_invert2(e,t){let{x:i,y:n}=e,s=t&1,o=i.redMul(this.bi),a=n.redMul(this.bi),f=o.redAdd(this.a0),c=o,l=[f,c][s].redINeg(),h=[c,f][s].redMul(this.z),x=l.redDivSqrt(h);return x.redIsOdd()!==a.redIsOdd()&&x.redINeg(),x}isElliptic(){let e=this.a.redSqr();return!this.b.redMul(e.redSub(this.four)).isZero()}jinv(){let{a:e,three:t,four:i}=this,n=e.redSqr(),o=n.redSub(t).redPown(3).redIMuln(256),a=n.redSub(i);if(a.isZero())throw new Error("Curve is not elliptic.");return o.redDiv(a).fromRed()}point(e,t){return new ss(this,e,t)}jpoint(e,t,i){return he(e==null&&t==null&&i==null),this.point()}xpoint(e,t){return new jf(this,e,t)}solveY2(e){he(e instanceof je);let t=e.redSqr();return t.redMul(e).redIAdd(this.a.redMul(t)).redIAdd(e).redMul(this.bi)}validate(e){if(he(e instanceof ss),e.isInfinity())return!0;let{x:t,y:i}=e,n=this.solveY2(t);return i.redSqr().eq(n)}pointFromX(e,t=null){he(e instanceof je),he(t==null||typeof t=="boolean"),e.red||(e=e.toRed(this.red));let i=this.solveY(e);if(t!=null){if(i.isZero()&&t)throw new Error("Invalid point.");i.redIsOdd()!==t&&i.redINeg()}return this.point(e,i)}isIsomorphic(e,t){if(he(e instanceof xs),!e.p.eq(this.p))return!1;if(e.type==="mont"){let i=this.field(e.a),n=this.field(e.b);return!this.a.eq(i)||this.b.isZero()?!1:n.redDiv(this.b).redJacobi()===1}return e.isIsomorphic(this,t)}isIsogenous(e){return he(e instanceof xs),e.type==="mont"?!1:e.isIsogenous(this)}pointFromShort(e){if(he(e instanceof mi),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();let{a3:t,b:i}=this,[n,s]=this._scale(e.curve),o=this.field(e.x).redMul(n),a=this.field(e.y).redMul(s),f=i.redMul(o).redISub(t),c=i.redMul(a);return this.point(f,c)}throw new Error("Not implemented.")}pointFromMont(e){if(he(e instanceof ss),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();let t=this._scale(e.curve),i=this.field(e.x),n=this.field(e.y),s=i,o=t.redMul(n);return this.point(s,o)}throw new Error("Not implemented.")}pointFromEdwards(e){he(e instanceof os),he(e.curve.p.eq(this.p));let t=this.field(e.x),i=this.field(e.y),n=this.field(e.z);if(this.isIsogenous(e.curve)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.zero);let s=n.redSqr().redIMuln(2),o=i.redSqr(),a=t.redSqr(),f=s.redISub(a).redISub(o).redMul(i),c=a.redMul(t);return this.cpoint(o,a,f,c)}if(this.isIsomorphic(e.curve,!0)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.zero);let s=this._scale(e.curve,!0),o=i.redAdd(n),a=i.redSub(n),f=s.redMul(n).redMul(o),c=t.redMul(a);return this.cpoint(o,a,f,c)}if(this.isIsomorphic(e.curve,!1)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.zero);let s=this._scale(e.curve,!1),o=n.redAdd(i),a=n.redSub(i),f=s.redMul(n).redMul(o),c=t.redMul(a);return this.cpoint(o,a,f,c)}throw new Error("Not implemented.")}pointFromUniform(e){if(he(e instanceof je),this.z.isZero()||this.a.isZero())throw new Error("Not implemented.");return this._elligator2(e)}pointToUniform(e,t){if(he(e instanceof ss),he(t>>>0===t),this.z.isZero()||this.a.isZero())throw new Error("Not implemented.");if(e.isInfinity())throw new Error("Invalid point.");let i=(t>>>4&15)%this.torsion.length,n=e.add(this.torsion[i]);return tne(()=>this._invert2(n,t))}decodePoint(e,t){return ss.decode(this,e,t)}encodeX(e){return he(e instanceof jf),e.encode()}decodeX(e){return jf.decode(this,e)}toShort(e,t,i=null){let[n,s]=this._short(e,t),o=new ti({red:this.red,prime:this.prime,p:this.p,a:n,b:s,n:this.n,h:this.h});if(i!=null){let[,a]=o._scale(this);a.redIsOdd()!==i&&a.redINeg()}this.g.isInfinity()||(o.g=o.pointFromMont(this.g));for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromMont(this.torsion[a]);return o}toMont(e,t=null){let[i,n]=this._mont(e),s=new gi({red:this.red,prime:this.prime,p:this.p,a:i,b:n,n:this.n,h:this.h,z:this.z});if(t!=null){let o=s._scale(this);o.redIsOdd()!==t&&o.redINeg()}this.g.isInfinity()||(s.g=s.pointFromMont(this.g));for(let o=0;o<this.h.word(0);o++)s.torsion[o]=s.pointFromMont(this.torsion[o]);return s}toEdwards(e,t,i=null){let[n,s]=this._edwards(e,t),o=new Rn({red:this.red,prime:this.prime,p:this.p,a:n,d:s,n:this.n,h:this.h,z:this.z});if(i!=null){let a=o._scale(this,t);a.redIsOdd()!==i&&a.redINeg()}if(this.g.isInfinity()||(o.g=o.pointFromMont(this.g),o.g.normalize()),o.isComplete())for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromMont(this.torsion[a]),o.torsion[a].normalize();return o}pointFromJSON(e){return ss.fromJSON(this,e)}toJSON(e){let t=super.toJSON(e);return t.a=this.a.fromRed().toJSON(),t.b=this.b.fromRed().toJSON(),t}},ss=class extends di{constructor(e,t,i){he(e instanceof gi),super(e,zf.AFFINE),this.x=this.curve.zero,this.y=this.curve.zero,this.inf=!0,t!=null&&this._init(t,i)}_init(e,t){he(e instanceof je),he(t instanceof je),this.x=e,this.y=t,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1}clone(){return this.inf?this.curve.point():this.curve.point(this.x,this.y)}scale(e){return this.clone()}randomize(e){return this.clone()}neg(){return this.inf?this:this.curve.point(this.x,this.y.redNeg())}add(e){if(he(e instanceof ss),this.inf)return e;if(e.inf)return this;if(this.x.eq(e.x))return this.y.eq(e.y)?this.dbl():this.curve.point();let t=e.x.redSub(this.x),n=e.y.redSub(this.y).redDiv(t),o=this.curve.b.redMul(n.redSqr()).redISub(this.curve.a).redISub(this.x).redISub(e.x),a=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)}dbl(){if(this.inf)return this;if(this.y.isZero())return this.curve.point();let e=this.x.redSqr().redIMuln(3),t=this.curve.a.redMul(this.x).redIMuln(2),i=e.redIAdd(t).redIAdd(this.curve.one),n=this.curve.b.redMul(this.y).redIMuln(2),s=i.redDiv(n),a=this.curve.b.redMul(s.redSqr()).redISub(this.curve.a).redISub(this.x).redISub(this.x),f=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)}getX(){if(this.inf)throw new Error("Invalid point.");return this.x.fromRed()}getY(){if(this.inf)throw new Error("Invalid point.");return this.y.fromRed()}eq(e){return he(e instanceof ss),this===e?!0:this.inf?e.inf:e.inf?!1:this.x.eq(e.x)&&this.y.eq(e.y)}cmp(e){return he(e instanceof ss),this.inf&&!e.inf?-1:!this.inf&&e.inf?1:this.inf&&e.inf?0:this.order().cmp(e.order())||this.getX().cmp(e.getX())||this.getY().cmp(e.getY())}isInfinity(){return this.inf}isOrder2(){return this.inf?!1:this.y.isZero()}isOdd(){return this.inf?!1:this.y.redIsOdd()}isEven(){return this.inf?!1:this.y.redIsEven()}toP(){return this}toJ(){return this}toX(){return this.inf?this.curve.xpoint():this.curve.xpoint(this.x,this.curve.one)}encode(){return this.toX().encode()}static decode(e,t,i){return he(e instanceof gi),e.decodeX(t).toP(i)}toJSON(e){if(this.inf)return[];let t=this.getX().toJSON(),i=this.getY().toJSON();return[t,i]}toPretty(){if(this.inf)return[];let e=this.curve.fieldSize*2,t=ep(this.getX(),e),i=ep(this.getY(),e);return[t,i]}static fromJSON(e,t){if(he(e instanceof gi),he(Array.isArray(t)),he(t.length===0||t.length===2||t.length===3),t.length===0)return e.point();let i=je.fromJSON(t[0]),n=je.fromJSON(t[1]);return e.point(i,n)}[Q1](){return this.inf?"<MontPoint: Infinity>":"<MontPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+">"}},jf=class extends di{constructor(e,t,i){he(e instanceof gi),super(e,zf.PROJECTIVE),this.x=this.curve.one,this.z=this.curve.zero,t!=null&&this._init(t,i)}_init(e,t){he(e instanceof je),he(t==null||t instanceof je),this.x=e,this.z=t||this.curve.one,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red))}clone(){return this.curve.xpoint(this.x,this.z)}precompute(e,t){return this}validate(){if(this.isInfinity())return!0;let{x:e,z:t}=this,i=e.redSqr(),n=i.redMul(e),s=t.redSqr(),o=this.curve.a.redMul(i).redMul(t);return n.redIAdd(o).redIAdd(e.redMul(s)).redMul(this.curve.bi).redMul(t).redJacobi()!==-1}normalize(){return this.isInfinity()?this:this.z.eq(this.curve.one)?this:(this.x=this.x.redDiv(this.z),this.z=this.curve.one,this)}scale(e){if(he(e instanceof je),this.isInfinity())return this.curve.xpoint();let t=this.x.redMul(e),i=this.z.redMul(e);return this.curve.xpoint(t,i)}neg(){return this}dbl(){let t=this.x.redAdd(this.z).redSqr(),n=this.x.redSub(this.z).redSqr(),s=t.redSub(n),o=t.redMul(n),a=s.redMul(n.redIAdd(this.curve.a24.redMul(s)));return this.curve.xpoint(o,a)}diffAddDbl(e,t){he(e instanceof jf),he(t instanceof jf);let i=e.x.redAdd(e.z),n=i.redSqr(),s=e.x.redSub(e.z),o=s.redSqr(),a=n.redSub(o),f=t.x.redAdd(t.z),l=t.x.redSub(t.z).redMul(i),h=f.redMul(s),x=this.z.redMul(l.redAdd(h).redSqr()),_=this.x.redMul(l.redISub(h).redSqr()),E=n.redMul(o),C=a.redMul(o.redIAdd(this.curve.a24.redMul(a)));return[this.curve.xpoint(E,C),this.curve.xpoint(x,_)]}getX(){if(this.isInfinity())throw new Error("Invalid point.");return this.normalize(),this.x.fromRed()}getY(e){return this.toP(e).getY()}eq(e){if(he(e instanceof jf),this===e)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return!1;if(this.z.eq(e.z))return this.x.eq(e.x);let t=this.x.redMul(e.z),i=e.x.redMul(this.z);return t.eq(i)}cmp(e){he(e instanceof jf);let t=this.isInfinity(),i=e.isInfinity();return t&&!i?-1:!t&&i?1:t&&i?0:this.order().cmp(e.order())||this.getX().cmp(e.getX())}isInfinity(){return this.z.isZero()}isOrder2(){return this.isInfinity()?!1:this.x.isZero()}isOdd(){return!1}isEven(){return!1}hasTorsion(){return this.isInfinity()?!1:this.x.isZero()?!0:super.hasTorsion()}order(){try{return this.toP().order()}catch(e){return new je(1)}}jmul(e){he(e instanceof je),he(!e.red);let t=e.bitLength(),i=this.curve.xpoint(),n=this;for(let s=t-1;s>=0;s--)e.bit(s)===0?[i,n]=this.diffAddDbl(i,n):[n,i]=this.diffAddDbl(n,i);return i}jmulBlind(e,t){return t?this.randomize(t).jmul(e):this.jmul(e)}jmulAdd(e,t,i){throw new Error("Not implemented.")}toP(e=null){return he(e==null||typeof e=="boolean"),this.isInfinity()?this.curve.point():(this.normalize(),this.curve.pointFromX(this.x,e))}toJ(){return this}toX(){return this}key(){if(this.isInfinity())return`${this.curve.uid}:oo`;this.normalize();let e=this.getX().toString(16);return`${this.curve.uid}:${e}`}encode(){return this.curve.encodeField(this.getX())}static decode(e,t){he(e instanceof gi);let i=e.decodeField(t);i.iumaskn(e.fieldBits);let n=e.xpoint(i,e.one);return he(!n.isInfinity()),n}toJSON(e){return this.toP().toJSON(e)}toPretty(){return this.toP().toPretty()}static fromJSON(e,t){return ss.fromJSON(e,t).toX()}[Q1](){return this.isInfinity()?"<XPoint: Infinity>":"<XPoint: x="+this.x.fromRed().toString(16,2)+" z="+this.z.fromRed().toString(16,2)+">"}},Rn=class extends xs{constructor(e){super(os,"edwards",e);this.a=je.fromJSON(e.a).toRed(this.red),this.d=je.fromJSON(e.d).toRed(this.red),this.s=je.fromJSON(e.s||"0").toRed(this.red),this.si=this.s.isZero()?this.zero:this.s.redInvert(),this.k=this.d.redMuln(2),this.smi=-this.d.redNeg().word(0),this.ad6=this.a.redAdd(this.d).redMul(this.i6),this.twisted=!this.a.eq(this.one),this.oneA=this.a.eq(this.one),this.mOneA=this.a.eq(this.one.redNeg()),this.smallD=this.prime!=null&&this.d.redNeg().length===1,this.alt=null,this._finalize(e)}static _isomorphism(e,t,i){he(e instanceof je),he(t instanceof je),he(i instanceof je);let n=i.clone(),s=i.redMul(t).redDiv(e);if(e.redDiv(i).redJacobi()!==1)throw new Error("Invalid `a` coefficient.");return[n,s]}_short(e,t){let{a:i,d:n}=this,s=i.redSqr(),o=s.redMul(i),a=n.redSqr(),f=a.redMul(n),c=i.redMul(n).redIMuln(14),l=s.redMul(n),h=i.redMul(a),x=l.redIAdd(h).redIMuln(33),_=s.redAdd(c).redIAdd(a).redDivn(-48),E=x.redISub(o).redISub(f).redDivn(864);return e!=null?ti._isomorphism(_,E,e,t):[_,E]}_mont(e,t=!1){he(typeof t=="boolean");let i,n;t?(i=this.d.redAdd(this.a),n=this.d.redSub(this.a)):(i=this.a.redAdd(this.d),n=this.a.redSub(this.d));let s=n.redInvert(),o=i.redMuln(2).redMul(s),a=s.redMuln(4);return e!=null?gi._isomorphism(o,a,e):[o,a]}_edwards(e){return Rn._isomorphism(this.a,this.d,e)}_scaleShort(e){he(e instanceof ti);let[t,i]=e._scale(this);return[this.field(t.redInvert()),this.field(i.redInvert())]}_scaleMont(e,t=!1){if(he(e instanceof gi),he(typeof t=="boolean"),this.g.isInfinity()||e.g.isInfinity()){let[n]=e._edwards(null,t);return this.field(n).redDivSqrt(this.a)}let i=e.g.x.redDiv(e.g.y);return this.g.x.redDiv(this.field(i))}_scaleEdwards(e){return he(e instanceof Rn),this.g.isInfinity()||e.g.isInfinity()?this.field(e.a).redDivSqrt(this.a):this.g.x.redDiv(this.field(e.g.x))}_mulA(e){return he(e instanceof je),this.oneA?e.clone():this.mOneA?e.redNeg():this.a.redMul(e)}_mulD(e){return he(e instanceof je),this.smallD?e.redMuln(this.smi):this.d.redMul(e)}_elligator1(e){let{s:t,si:i,i2:n,one:s,two:o}=this,a=i.redSqr().redIMuln(2),f=t.redSqr().redMul(n),c=f.redSqr(),l=a.redAdd(f),h=l.redSqr().redISub(o),x=a.redSub(s),_=s.redSub(e),E=s.redAdd(e),C=E.isZero()?E:_.redDiv(E),L=C.redSqr(),O=L.redMul(C),ee=O.redMul(L).redAdd(h.redMul(O)).redIAdd(C),N=this.field(ee.redJacobi()),V=this.field(L.redAdd(c).redJacobi()),z=N.redMul(V),F=N.redMul(C),H=N.redMul(ee).redSqrt().redMul(z),K=s.redAdd(F),S=l.redMul(F),w=K.redSqr(),T=x.redMul(t).redMul(F).redMul(K),v=C.isZero()?this.one:H,u=S.redSub(w),d=S.redAdd(w);return this.cpoint(T,v,u,d)}_invert1(e,t){let{s:i,si:n,i2:s,one:o}=this,{x:a,y:f,z:c}=e,l=t&1,h=n.redSqr().redIMuln(2),x=i.redSqr().redMul(s),_=x.redSqr(),E=h.redAdd(x),C=h.redSub(o),L=f.redSub(c),O=f.redAdd(c).redIMuln(2),W=O.isZero()?O:L.redDiv(O),ee=o.redAdd(W.redMul(E)),z=ee.redSqr().redISub(o).redSqrt().redSub(ee),F=o.redAdd(z),K=C.redMul(i).redMul(z).redMul(F).redMul(a.redMul(c)),S=z.redSqr().redIAdd(_),T=this.field(K.redMul(S).redJacobi()).redMul(z),v=o.redSub(T),u=o.redAdd(T),d=u.isZero()?u:v.redDiv(u);return d.redIsOdd()!==Boolean(l)&&d.redINeg(),d}_alt(){return this.alt||(this.alt=this.toMont()),this.alt}isElliptic(){let e=this.a.redMul(this.d),t=this.a.redSub(this.d);return!e.redMul(t).isZero()}jinv(){let{a:e,d:t}=this,i=e.redMul(t),n=e.redSub(t).redPown(4),s=e.redSqr(),o=t.redSqr(),f=s.redAdd(i.redMuln(14)).redIAdd(o).redPown(3).redIMuln(16),c=i.redMul(n);if(c.isZero())throw new Error("Curve is not elliptic.");return f.redDiv(c).fromRed()}isComplete(){return this.a.redJacobi()===1&&this.d.redJacobi()===-1}point(e,t,i,n){return new os(this,e,t,i,n)}jpoint(e,t,i){return he(e==null&&t==null&&i==null),this.point()}cpoint(e,t,i,n){he(e instanceof je),he(t instanceof je),he(i instanceof je),he(n instanceof je);let s=e.redMul(n),o=i.redMul(t),a=t.redMul(n),f=e.redMul(i);return this.point(s,o,a,f)}solveX2(e){he(e instanceof je);let t=e.redSqr(),i=this._mulD(t).redISub(this.a);return t.redISub(this.one).redDiv(i)}solveX(e){let t=e.redSqr(),i=this._mulD(t).redISub(this.a);return t.redISub(this.one).redDivSqrt(i)}solveY2(e){he(e instanceof je);let t=e.redSqr(),i=this._mulA(t).redISub(this.one),n=this._mulD(t).redISub(this.one);return i.redDiv(n)}solveY(e){let t=e.redSqr(),i=this._mulA(t).redISub(this.one),n=this._mulD(t).redISub(this.one);return i.redDivSqrt(n)}validate(e){if(he(e instanceof os),e.zOne){let h=e.x.redSqr(),x=e.y.redSqr(),_=this._mulD(h).redMul(x),E=this._mulA(h).redIAdd(x),C=this.one.redAdd(_),L=e.t,O=e.x.redMul(e.y);return E.eq(C)&&L.eq(O)}let t=e.x.redSqr(),i=e.y.redSqr(),n=e.z.redSqr(),s=n.redSqr(),o=this._mulD(t).redMul(i),a=this._mulA(t).redIAdd(i).redMul(n),f=s.redIAdd(o),c=e.t.redMul(e.z),l=e.x.redMul(e.y);return a.eq(f)&&c.eq(l)}pointFromX(e,t=null){he(e instanceof je),he(t==null||typeof t=="boolean"),e.red||(e=e.toRed(this.red));let i=this.solveY(e);if(t!=null){if(i.isZero()&&t)throw new Error("Invalid point.");i.redIsOdd()!==t&&i.redINeg()}return this.point(e,i)}pointFromY(e,t=null){he(e instanceof je),he(t==null||typeof t=="boolean"),e.red||(e=e.toRed(this.red));let i=this.solveX(e);if(t!=null){if(i.isZero()&&t)throw new Error("Invalid point.");i.redIsOdd()!==t&&i.redINeg()}return this.point(i,e)}isIsomorphic(e,t=!1){if(he(e instanceof xs),he(typeof t=="boolean"),!e.p.eq(this.p))return!1;if(e.type==="short")return e.isIsomorphic(this);if(e.type==="mont"){let i=this.field(e.a),n,s;return t?(n=this.d.redAdd(this.a),s=this.d.redSub(this.a)):(n=this.a.redAdd(this.d),s=this.a.redSub(this.d)),i.redMul(s).eq(n.redIMuln(2))}if(e.type==="edwards"){let i=this.field(e.a),n=this.field(e.d);return this.a.redMul(n).eq(i.redMul(this.d))}return!1}isIsogenous(e){if(he(e instanceof xs),!e.p.eq(this.p))return!1;if(e.type==="mont"){if(!this.a.eq(this.one))return!1;let t=this.field(e.a),i=this.field(e.b),n=this.two.redSub(this.d.redMuln(4));return t.eq(n)&&i.eq(this.one)}if(e.type==="edwards"){let t=this.field(e.a),i=this.field(e.d);return t.eq(this.a.redNeg())&&i.eq(this.d.redSub(this.a))}return!1}pointFromShort(e){if(he(e instanceof mi),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();if(e.y.isZero())return this.point(this.zero,this.one.redNeg());let{a:t,d:i}=this,[n,s]=this._scale(e.curve),o=t.redMuln(5),a=i.redMuln(5),f=this.field(e.x).redMul(n),c=this.field(e.y).redMul(s),l=f.redMuln(6),h=f.redMuln(12),x=l.redSub(t).redISub(i),_=c.redMuln(6),E=h.redSub(o).redIAdd(i),C=h.redAdd(t).redISub(a);return this.cpoint(x,_,E,C)}throw new Error("Not implemented.")}pointFromMont(e){he(e instanceof ss),he(e.curve.p.eq(this.p));let t=this.field(e.x),i=this.field(e.y);if(this.isIsogenous(e.curve)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point();let n=t.redSqr(),s=n.redMul(t),o=s.redMul(t),a=o.redMul(t),f=i.redSqr(),c=i.redMuln(4),l=n.redSub(this.one),h=n.redMuln(2),x=f.redMuln(4),_=s.redIMuln(2),E=t.redMul(f).redIMuln(4),C=n.redMul(f).redIMuln(2),L=f.redIMuln(2),O=c.redMul(l),W=o.redISub(h).redIAdd(x).redIAdd(this.one),ee=a.redSub(_).redISub(E).redIAdd(t).redINeg(),N=a.redISub(C).redISub(_).redISub(L).redIAdd(t);return this.cpoint(O,W,ee,N).divn(4)}if(this.isIsomorphic(e.curve,!0)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.one.redNeg());let s=this._scale(e.curve,!0).redMul(t),o=i,a=t.redAdd(this.one),f=t.redSub(this.one);return this.cpoint(s,o,a,f)}if(this.isIsomorphic(e.curve,!1)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.one.redNeg());let s=this._scale(e.curve,!1).redMul(t),o=i,a=t.redSub(this.one),f=t.redAdd(this.one);return this.cpoint(s,o,a,f)}throw new Error("Not implemented.")}pointFromEdwards(e){he(e instanceof os),he(e.curve.p.eq(this.p));let t=this.field(e.curve.a),i=this.field(e.x),n=this.field(e.y),s=this.field(e.z),o=this.field(e.t);if(this.isIsogenous(e.curve)){let a=i.redMul(n),f=i.redSqr(),c=n.redSqr(),l=s.redSqr(),h=t.redMul(f),x=a.redIMuln(2),_=c.redSub(h),E=c.redAdd(h),C=l.redIMuln(2).redISub(E),L=this.cpoint(x,_,E,C);return this.twisted?L:L.divn(4)}if(this.isIsomorphic(e.curve)){let a=this._scale(e.curve),f=a.redMul(i),c=n,l=s,h=a.redMul(o);return this.point(f,c,l,h)}throw new Error("Not implemented.")}pointFromUniform(e,t=null){he(e instanceof je),he(e.red===this.red),he(t==null||t instanceof gi),t||(t=this._alt());let i=t.field(e),n=t.pointFromUniform(i);return this.pointFromMont(n)}pointToUniform(e,t,i=null){he(e instanceof os),he(t>>>0===t),he(i==null||i instanceof gi),i||(i=this._alt());let n=(t>>4&15)%this.torsion.length,s=e.add(this.torsion[n]),o=i.pointFromEdwards(s),a=i.pointToUniform(o,t&15);return this.field(a)}pointFromHash(e,t,i=null){he(i==null||i instanceof gi),i||(i=this._alt());let n=i.pointFromHash(e,t);return this.pointFromMont(n)}pointToHash(e,t,i,n=null){he(e instanceof os),he(t>>>0===t),he(n==null||n instanceof gi),n||(n=this._alt());let s=t%this.torsion.length,o=e.add(this.torsion[s]),a=n.pointFromEdwards(o);return n.pointToHash(a,0,i)}decodePoint(e){return os.decode(this,e)}toShort(e,t,i=null){let[n,s]=this._short(e,t),o=new ti({red:this.red,prime:this.prime,p:this.p,a:n,b:s,n:this.n,h:this.h});if(i!=null){let[,a]=o._scale(this);a.redIsOdd()!==i&&a.redINeg()}this.g.isInfinity()||(o.g=o.pointFromEdwards(this.g));for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromEdwards(this.torsion[a]);return o}toMont(e,t,i=null){let[n,s]=this._mont(e,t),o=new gi({red:this.red,prime:this.prime,p:this.p,a:n,b:s,n:this.n,h:this.h,z:this.z});if(i!=null){let a=this._scale(o,t);a.redIsOdd()!==i&&a.redINeg()}this.g.isInfinity()||(o.g=o.pointFromEdwards(this.g));for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromEdwards(this.torsion[a]);return o}toEdwards(e,t=null){let[i,n]=this._edwards(e),s=new Rn({red:this.red,prime:this.prime,p:this.p,a:i,d:n,n:this.n,h:this.h,z:this.z});if(t!=null){let o=s._scale(this);o.redIsOdd()!==t&&o.redINeg()}if(this.g.isInfinity()||(s.g=s.pointFromEdwards(this.g),s.g.normalize()),s.isComplete())for(let o=0;o<this.h.word(0);o++)s.torsion[o]=s.pointFromEdwards(this.torsion[o]),s.torsion[o].normalize();return s}pointFromJSON(e){return os.fromJSON(this,e)}toJSON(e){let t=super.toJSON(e);return t.a=this.a.fromRed().toJSON(),t.d=this.d.fromRed().toJSON(),this.s.isZero()||(t.s=this.s.fromRed().toJSON()),t}},os=class extends di{constructor(e,t,i,n,s){he(e instanceof Rn),super(e,zf.EXTENDED),this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0,t!=null&&this._init(t,i,n,s)}_init(e,t,i,n){he(e instanceof je),he(t instanceof je),he(i==null||i instanceof je),he(n==null||n instanceof je),this.x=e,this.y=t,this.z=i||this.curve.one,this.t=n||null,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z.eq(this.curve.one),this._check(),this.t||(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redDiv(this.z)))}_check(){if(this.z.isZero())throw new Error("Invalid point.")}clone(){return this.curve.point(this.x,this.y,this.z,this.t)}normalize(){if(this.zOne)return this;let e=this.z.redInvert();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t=this.t.redMul(e),this.z=this.curve.one,this.zOne=!0,this}scale(e){he(e instanceof je);let t=this.x.redMul(e),i=this.y.redMul(e),n=this.z.redMul(e),s=this.t.redMul(e);return this.curve.point(t,i,n,s)}neg(){let e=this.x.redNeg(),t=this.y,i=this.z,n=this.t.redNeg();return this.curve.point(e,t,i,n)}add(e){return he(e instanceof os),this.isInfinity()?e:e.isInfinity()?this:this.zOne?e._add(this):this._add(e)}_add(e){return this.curve.mOneA?this._addM1(e):this._addA(e)}_addM1(e){let t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.k).redMul(e.t),s=e.zOne?this.z.redAdd(this.z):this.z.redMul(e.z).redIMuln(2),o=i.redSub(t),a=s.redSub(n),f=s.redIAdd(n),c=i.redIAdd(t),l=o.redMul(a),h=f.redMul(c),x=o.redMul(c),_=a.redMul(f);return this.curve.point(l,h,_,x)}_addA(e){let t=this.x.redMul(e.x),i=this.y.redMul(e.y),n=this.curve._mulD(this.t).redMul(e.t),s=e.zOne?this.z.clone():this.z.redMul(e.z),a=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(t).redISub(i),f=s.redSub(n),c=s.redIAdd(n),l=i.redISub(this.curve._mulA(t)),h=a.redMul(f),x=c.redMul(l),_=a.redMul(l),E=f.redMul(c);return this.curve.point(h,x,E,_)}dbl(){return this.isInfinity()?this:this._dbl()}_dbl(){let e=this.x.redSqr(),t=this.y.redSqr(),i=this.zOne?this.curve.two:this.z.redSqr().redIMuln(2),n=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(i),f=n.redISub(t),c=s.redMul(a),l=o.redMul(f),h=s.redMul(f),x=a.redMul(o);return this.curve.point(c,l,x,h)}getX(){return this.normalize(),this.x.fromRed()}getY(){return this.normalize(),this.y.fromRed()}eq(e){if(he(e instanceof os),he(!this.z.isZero()),he(!e.z.isZero()),this===e)return!0;if(this.z.eq(e.z))return this.x.eq(e.x)&&this.y.eq(e.y);let t=this.x.redMul(e.z),i=e.x.redMul(this.z);if(!t.eq(i))return!1;let n=this.y.redMul(e.z),s=e.y.redMul(this.z);return n.eq(s)}cmp(e){return he(e instanceof os),this.order().cmp(e.order())||this.getY().cmp(e.getY())||this.getX().cmp(e.getX())}isInfinity(){return he(!this.z.isZero()),this.x.isZero()?this.y.eq(this.z):!1}isOrder2(){return this.isInfinity()?!1:this.x.isZero()}isOdd(){return this.normalize(),this.x.redIsOdd()}isEven(){return this.normalize(),this.x.redIsEven()}toP(){return this.normalize()}toJ(){return this}encode(){let e=this.getY();return e.setn(this.curve.signBit,this.x.redIsOdd()),this.curve.encodeAdjusted(e)}static decode(e,t){he(e instanceof Rn);let i=e.decodeAdjusted(t),n=i.testn(e.signBit)!==0;if(i.setn(e.signBit,0),i.cmp(e.p)>=0)throw new Error("Invalid point.");return e.pointFromY(i,n)}toJSON(e){if(this.isInfinity())return[];let t=this.getX().toJSON(),i=this.getY().toJSON();return e===!0&&this.pre?[t,i,this.pre.toJSON()]:[t,i]}toPretty(){let e=this.curve.fieldSize*2,t=ep(this.getX(),e),i=ep(this.getY(),e);return[t,i]}static fromJSON(e,t){if(he(e instanceof Rn),he(Array.isArray(t)),he(t.length===0||t.length===2||t.length===3),t.length===0)return e.point();let i=je.fromJSON(t[0]),n=je.fromJSON(t[1]),s=e.point(i,n);return t.length>2&&t[2]!=null&&(s.pre=Kg.fromJSON(s,t[2])),s}[Q1](){return this.isInfinity()?"<EdwardsPoint: Infinity>":"<EdwardsPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+" z="+this.z.fromRed().toString(16,2)+">"}},Kg=class{constructor(){this.naf=null,this.windows=null,this.doubles=null,this.blinding=null,this.beta=null}map(e){he(typeof e=="function");let t=new this.constructor;return this.naf&&(t.naf=this.naf.map(e)),this.doubles&&(t.doubles=this.doubles.map(e)),t}toJSON(){return{naf:this.naf?this.naf.toJSON():null,windows:this.windows?this.windows.toJSON():null,doubles:this.doubles?this.doubles.toJSON():null,blinding:this.blinding?this.blinding.toJSON():void 0}}fromJSON(e,t){return he(e instanceof di),he(t&&typeof t=="object"),t.naf!=null&&(this.naf=zg.fromJSON(e,t.naf)),t.windows!=null&&(this.windows=OS.fromJSON(e,t.windows)),t.doubles!=null&&(this.doubles=DS.fromJSON(e,t.doubles)),t.blinding!=null&&(this.blinding=LS.fromJSON(e,t.blinding)),this}static fromJSON(e,t){return new this().fromJSON(e,t)}},zg=class{constructor(e,t){this.width=e,this.points=t}map(e){he(typeof e=="function");let{width:t}=this,i=[];for(let n of this.points)i.push(e(n));return new this.constructor(t,i)}toJSON(){return{width:this.width,points:this.points.slice(1).map(e=>e.toJSON())}}static fromJSON(e,t){he(e instanceof di),he(t&&typeof t=="object"),he(t.width>>>0===t.width),he(Array.isArray(t.points));let{curve:i}=e,{width:n}=t,s=[e];for(let o of t.points)s.push(i.pointFromJSON(o));return new this(n,s)}},OS=class{constructor(e,t,i){this.width=e,this.bits=t,this.points=i}toJSON(){return{width:this.width,bits:this.bits,points:this.points.slice(1).map(e=>e.toJSON())}}static fromJSON(e,t){he(e instanceof di),he(t&&typeof t=="object"),he(t.width>>>0===t.width),he(t.bits>>>0===t.bits),he(Array.isArray(t.points));let{curve:i}=e,{width:n,bits:s}=t,o=[e];for(let a of t.points)o.push(i.pointFromJSON(a));return new this(n,s,o)}},DS=class{constructor(e,t){this.step=e,this.points=t}map(e){he(typeof e=="function");let{step:t}=this,i=[];for(let n of this.points)i.push(e(n));return new this.constructor(t,i)}toJSON(){return{step:this.step,points:this.points.slice(1).map(e=>e.toJSON())}}static fromJSON(e,t){he(e instanceof di),he(t&&typeof t=="object"),he(t.step>>>0===t.step),he(Array.isArray(t.points));let{curve:i}=e,{step:n}=t,s=[e];for(let o of t.points)s.push(i.pointFromJSON(o));return new this(n,s)}},LS=class{constructor(e,t){this.blind=e,this.unblind=t}toJSON(){return{blind:this.blind.toJSON(),unblind:this.unblind.toJSON()}}static fromJSON(e,t){he(e instanceof di),he(t&&typeof t=="object");let{curve:i}=e,n=je.fromJSON(t.blind),s=i.pointFromJSON(t.unblind);return new this(n,s)}},US=class{constructor(e,t,i,n){this.beta=e,this.lambda=t,this.basis=i,this.pre=n}toJSON(){return{beta:this.beta.fromRed().toJSON(),lambda:this.lambda.toJSON(),basis:[this.basis[0].toJSON(),this.basis[1].toJSON()],pre:[this.pre[0],this.pre[1].toJSON(),this.pre[2].toJSON()]}}static fromJSON(e,t){he(e instanceof xs),he(t&&typeof t=="object"),he(Array.isArray(t.basis)),he(Array.isArray(t.pre)),he(t.basis.length===2),he(t.pre.length===3),he(t.pre[0]>>>0===t.pre[0]);let i=je.fromJSON(t.beta).toRed(e.red),n=je.fromJSON(t.lambda),s=[Pl.fromJSON(t.basis[0]),Pl.fromJSON(t.basis[1])],o=[t.pre[0],je.fromJSON(t.pre[1]),je.fromJSON(t.pre[2])];return new this(i,n,s,o)}},Pl=class{constructor(e,t){this.a=e,this.b=t}toJSON(){return{a:this.a.toJSON(),b:this.b.toJSON()}}static fromJSON(e){he(e&&typeof e=="object");let t=je.fromJSON(e.a),i=je.fromJSON(e.b);return new this(t,i)}},Fie=class extends ti{constructor(e){super({id:"P192",ossl:"prime192v1",type:"short",endian:"be",hash:"SHA256",prime:"p192",p:["ffffffff ffffffff ffffffff fffffffe","ffffffff ffffffff"],a:["ffffffff ffffffff ffffffff fffffffe","ffffffff fffffffc"],b:["64210519 e59c80e7 0fa7e9ab 72243049","feb8deec c146b9b1"],n:["ffffffff ffffffff ffffffff 99def836","146bc9b1 b4d22831"],h:"1",z:"-5",g:[["188da80e b03090f6 7cbf20eb 43a18800","f4ff0afd 82ff1012"],["07192b95 ffc8da78 631011ed 6b24cdd5","73f977a1 1e794811"],e]})}},Kie=class extends ti{constructor(e){super({id:"P224",ossl:"secp224r1",type:"short",endian:"be",hash:"SHA256",prime:"p224",p:["ffffffff ffffffff ffffffff ffffffff","00000000 00000000 00000001"],a:["ffffffff ffffffff ffffffff fffffffe","ffffffff ffffffff fffffffe"],b:["b4050a85 0c04b3ab f5413256 5044b0b7","d7bfd8ba 270b3943 2355ffb4"],n:["ffffffff ffffffff ffffffff ffff16a2","e0b8f03e 13dd2945 5c5c2a3d"],h:"1",z:"1f",g:[["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3","56c21122 343280d6 115c1d21"],["bd376388 b5f723fb 4c22dfe6 cd4375a0","5a074764 44d58199 85007e34"],e]})}},zie=class extends ti{constructor(e){super({id:"P256",ossl:"prime256v1",type:"short",endian:"be",hash:"SHA256",prime:null,p:["ffffffff 00000001 00000000 00000000","00000000 ffffffff ffffffff ffffffff"],a:["ffffffff 00000001 00000000 00000000","00000000 ffffffff ffffffff fffffffc"],b:["5ac635d8 aa3a93e7 b3ebbd55 769886bc","651d06b0 cc53b0f6 3bce3c3e 27d2604b"],n:["ffffffff 00000000 ffffffff ffffffff","bce6faad a7179e84 f3b9cac2 fc632551"],h:"1",z:"-a",g:[["6b17d1f2 e12c4247 f8bce6e5 63a440f2","77037d81 2deb33a0 f4a13945 d898c296"],["4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16","2bce3357 6b315ece cbb64068 37bf51f5"],e]})}},jie=class extends ti{constructor(e){super({id:"P384",ossl:"secp384r1",type:"short",endian:"be",hash:"SHA384",prime:null,p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff fffffffe","ffffffff 00000000 00000000 ffffffff"],a:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff fffffffe","ffffffff 00000000 00000000 fffffffc"],b:["b3312fa7 e23ee7e4 988e056b e3f82d19","181d9c6e fe814112 0314088f 5013875a","c656398d 8a2ed19d 2a85c8ed d3ec2aef"],n:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff c7634d81 f4372ddf","581a0db2 48b0a77a ecec196a ccc52973"],h:"1",z:"-c",g:[["aa87ca22 be8b0537 8eb1c71e f320ad74","6e1d3b62 8ba79b98 59f741e0 82542a38","5502f25d bf55296c 3a545e38 72760ab7"],["3617de4a 96262c6f 5d9e98bf 9292dc29","f8f41dbd 289a147c e9da3113 b5f0b8c0","0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"],e]})}},Vie=class extends ti{constructor(e){super({id:"P521",ossl:"secp521r1",type:"short",endian:"be",hash:"SHA512",prime:"p521",p:["000001ff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff"],a:["000001ff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","fffffffc"],b:["00000051 953eb961 8e1c9a1f 929a21a0","b68540ee a2da725b 99b315f3 b8b48991","8ef109e1 56193951 ec7e937b 1652c0bd","3bb1bf07 3573df88 3d2c34f1 ef451fd4","6b503f00"],n:["000001ff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","fffffffa 51868783 bf2f966b 7fcc0148","f709a5d0 3bb5c9b8 899c47ae bb6fb71e","91386409"],h:"1",z:"-4",g:[["000000c6 858e06b7 0404e9cd 9e3ecb66","2395b442 9c648139 053fb521 f828af60","6b4d3dba a14b5e77 efe75928 fe1dc127","a2ffa8de 3348b3c1 856a429b f97e7e31","c2e5bd66"],["00000118 39296a78 9a3bc004 5c8a5fb4","2c7d1bd9 98f54449 579b4468 17afbd17","273e662c 97ee7299 5ef42640 c550b901","3fad0761 353c7086 a272c240 88be9476","9fd16650"],e]})}},Hie=class extends ti{constructor(e){super({id:"SECP256K1",ossl:"secp256k1",type:"short",endian:"be",hash:"SHA256",prime:"k256",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe fffffc2f"],a:"0",b:"7",n:["ffffffff ffffffff ffffffff fffffffe","baaedce6 af48a03b bfd25e8c d0364141"],h:"1",z:"1",c:["0a2d2ba9 3507f1df 233770c2 a797962c","c61f6d15 da14ecd4 7d8d27ae 1cd5f852"],g:[["79be667e f9dcbbac 55a06295 ce870b07","029bfcdb 2dce28d9 59f2815b 16f81798"],["483ada77 26a3c465 5da4fbfc 0e1108a8","fd17b448 a6855419 9c47d08f fb10d4b8"],e],endo:{beta:["7ae96a2b 657c0710 6e64479e ac3434e9","9cf04975 12f58995 c1396c28 719501ee"],lambda:["5363ad4c c05c30e0 a5261c02 8812645a","122e22ea 20816678 df02967c 1b23bd72"],basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],pre:[384,["3086d221 a7d46bcd e86c90e4 9284eb15","3daa8a14 71e8ca7f e893209a 45dbb031"],["-","e4437ed6 010e8828 6f547fa9 0abfe4c4","221208ac 9df506c6 1571b4ae 8ac47f71"]]}})}},$ie=class extends ti{constructor(e){super({id:"BRAINPOOLP256",ossl:"brainpoolP256r1",type:"short",endian:"be",hash:"SHA256",prime:null,p:["a9fb57db a1eea9bc 3e660a90 9d838d72","6e3bf623 d5262028 2013481d 1f6e5377"],a:["7d5a0975 fc2c3057 eef67530 417affe7","fb8055c1 26dc5c6c e94a4b44 f330b5d9"],b:["26dc5c6c e94a4b44 f330b5d9 bbd77cbf","95841629 5cf7e1ce 6bccdc18 ff8c07b6"],n:["a9fb57db a1eea9bc 3e660a90 9d838d71","8c397aa3 b561a6f7 901e0e82 974856a7"],h:"1",z:"-2",g:[["8bd2aeb9 cb7e57cb 2c4b482f fc81b7af","b9de27e1 e3bd23c2 3a4453bd 9ace3262"],["547ef835 c3dac4fd 97f8461a 14611dc9","c2774513 2ded8e54 5c1d54c7 2f046997"],e]})}},Gie=class extends ti{constructor(e){super({id:"BRAINPOOLP384",ossl:"brainpoolP384r1",type:"short",endian:"be",hash:"SHA384",prime:null,p:["8cb91e82 a3386d28 0f5d6f7e 50e641df","152f7109 ed5456b4 12b1da19 7fb71123","acd3a729 901d1a71 87470013 3107ec53"],a:["7bc382c6 3d8c150c 3c72080a ce05afa0","c2bea28e 4fb22787 139165ef ba91f90f","8aa5814a 503ad4eb 04a8c7dd 22ce2826"],b:["04a8c7dd 22ce2826 8b39b554 16f0447c","2fb77de1 07dcd2a6 2e880ea5 3eeb62d5","7cb43902 95dbc994 3ab78696 fa504c11"],n:["8cb91e82 a3386d28 0f5d6f7e 50e641df","152f7109 ed5456b3 1f166e6c ac0425a7","cf3ab6af 6b7fc310 3b883202 e9046565"],h:"1",z:"-5",g:[["1d1c64f0 68cf45ff a2a63a81 b7c13f6b","8847a3e7 7ef14fe3 db7fcafe 0cbd10e8","e826e034 36d646aa ef87b2e2 47d4af1e"],["8abe1d75 20f9c2a4 5cb1eb8e 95cfd552","62b70b29 feec5864 e19c054f f9912928","0e464621 77918111 42820341 263c5315"],e]})}},Yie=class extends ti{constructor(e){super({id:"BRAINPOOLP512",ossl:"brainpoolP512r1",type:"short",endian:"be",hash:"SHA512",prime:null,p:["aadd9db8 dbe9c48b 3fd4e6ae 33c9fc07","cb308db3 b3c9d20e d6639cca 70330871","7d4d9b00 9bc66842 aecda12a e6a380e6","2881ff2f 2d82c685 28aa6056 583a48f3"],a:["7830a331 8b603b89 e2327145 ac234cc5","94cbdd8d 3df91610 a83441ca ea9863bc","2ded5d5a a8253aa1 0a2ef1c9 8b9ac8b5","7f1117a7 2bf2c7b9 e7c1ac4d 77fc94ca"],b:["3df91610 a83441ca ea9863bc 2ded5d5a","a8253aa1 0a2ef1c9 8b9ac8b5 7f1117a7","2bf2c7b9 e7c1ac4d 77fc94ca dc083e67","984050b7 5ebae5dd 2809bd63 8016f723"],n:["aadd9db8 dbe9c48b 3fd4e6ae 33c9fc07","cb308db3 b3c9d20e d6639cca 70330870","553e5c41 4ca92619 41866119 7fac1047","1db1d381 085ddadd b5879682 9ca90069"],h:"1",z:"7",g:[["81aee4bd d82ed964 5a21322e 9c4c6a93","85ed9f70 b5d916c1 b43b62ee f4d0098e","ff3b1f78 e2d0d48d 50d1687b 93b97d5f","7c6d5047 406a5e68 8b352209 bcb9f822"],["7dde385d 566332ec c0eabfa9 cf7822fd","f209f700 24a57b1a a000c55b 881f8111","b2dcde49 4a5f485e 5bca4bd8 8a2763ae","d1ca2b2f a8f05406 78cd1e0f 3ad80892"],e]})}},Wie=class extends gi{constructor(){super({id:"X25519",ossl:"X25519",type:"mont",endian:"le",hash:"SHA512",prime:"p25519",p:["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffed"],a:"76d06",b:"1",n:["10000000 00000000 00000000 00000000","14def9de a2f79cd6 5812631a 5cf5d3ed"],h:"8",z:"2",g:[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000009"],["5f51e65e 475f794b 1fe122d3 88b72eb3","6dc2b281 92839e4d d6163a5d 81312c14"]],torsion:[[],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000001"],["6be4f497 f9a9c2af c21fa77a d7f4a6ef","635a11c7 284a9363 e9a248ef 9c884415"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000001"],["141b0b68 06563d50 3de05885 280b5910","9ca5ee38 d7b56c9c 165db710 6377bbd8"]],[["57119fd0 dd4e22d8 868e1c58 c45c4404","5bef839c 55b1d0b1 248c50a3 bc959c5f"],["68c59389 3d458e64 31c6ca00 45fb5015","20a44346 8eaa68dd 0f103842 048065b7"]],[["57119fd0 dd4e22d8 868e1c58 c45c4404","5bef839c 55b1d0b1 248c50a3 bc959c5f"],["173a6c76 c2ba719b ce3935ff ba04afea","df5bbcb9 71559722 f0efc7bd fb7f9a36"]],[["00b8495f 16056286 fdb1329c eb8d09da","6ac49ff1 fae35616 aeb8413b 7c7aebe0"],["3931c129 569e83a5 29482c14 e628b457","933bfc29 ed801b4d 68871483 92507b1a"]],[["00b8495f 16056286 fdb1329c eb8d09da","6ac49ff1 fae35616 aeb8413b 7c7aebe0"],["46ce3ed6 a9617c5a d6b7d3eb 19d74ba8","6cc403d6 127fe4b2 9778eb7c 6daf84d3"]]]})}},Zie=class extends gi{constructor(){super({id:"X448",ossl:"X448",type:"mont",endian:"le",hash:"SHAKE256",prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:"262a6",b:"1",n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000005"],["7d235d12 95f5b1f6 6c98ab6e 58326fce","cbae5d34 f55545d0 60f75dc2 8df3f6ed","b8027e23 46430d21 1312c4b1 50677af7","6fd7223d 457b5b1a"]],torsion:[[],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["ba4d3a08 29b6112f 8812e51b a0bb2abe","bc1cb08e b48e5569 36ba50fd d2e7d68a","f8cb3216 0522425b 3f990812 abbe635a","d37a21e1 7551b193"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["45b2c5f7 d649eed0 77ed1ae4 5f44d541","43e34f71 4b71aa96 c945af01 2d182975","0734cde9 faddbda4 c066f7ed 54419ca5","2c85de1e 8aae4e6c"]]]})}},Jie=class extends gi{constructor(){super({id:"MONT448",ossl:null,type:"mont",endian:"le",hash:"SHAKE256",prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:["b2cf97d2 d43459a9 31ed36b1 fc4e3cb5","5d93f8d2 22746997 60ccffc6 49961ed6","c5b05fca c24864ed 6fb59697 931b78da","84ddecd8 ca2b5cfb"],b:"1",n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["ac0d24cc c6c75cb0 eb71f81e 7a6edf51","48e88aee 009a2a24 e795687e c28e125a","3e6730a6 0d46367b aa7fe99d 152128dc","41321bc7 7817f059"],["5a4437f6 80c0d0db 9b061276 d5d0ffcc","e786ff33 b6a53d30 98746425 82e66f09","4433dae7 7244a6e2 6b11e905 7228f483","556c41a5 913f55fe"]],torsion:[[],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["bec92fd0 6da2acf2 b4e261e8 7cef0d34","22e75c18 3c589857 b71924e5 73c2f9ce","e18da5f2 466e2f39 3c2eedf0 f105a60a","b40c717d 4f1e1fd7"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["4136d02f 925d530d 4b1d9e17 8310f2cb","dd18a3e7 c3a767a8 48e6db19 8c3d0631","1e725a0d b991d0c6 c3d1120f 0efa59f5","4bf38e82 b0e1e028"]]]})}},Xie=class extends Rn{constructor(e){super({id:"ED25519",ossl:"ED25519",type:"edwards",endian:"le",hash:"SHA512",prefix:"SigEd25519 no Ed25519 collisions",context:!1,prime:"p25519",p:["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffed"],a:"-1",d:["52036cee 2b6ffe73 8cc74079 7779e898","00700a4d 4141d8ab 75eb4dca 135978a3"],n:["10000000 00000000 00000000 00000000","14def9de a2f79cd6 5812631a 5cf5d3ed"],h:"8",z:"2",g:[["216936d3 cd6e53fe c0a4e231 fdd6dc5c","692cc760 9525a7b2 c9562d60 8f25d51a"],["66666666 66666666 66666666 66666666","66666666 66666666 66666666 66666658"],e],torsion:[[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000001"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"],["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffec"]],[["2b832480 4fc1df0b 2b4d0099 3dfbd7a7","2f431806 ad2fe478 c4ee1b27 4a0ea0b0"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"]],[["547cdb7f b03e20f4 d4b2ff66 c2042858","d0bce7f9 52d01b87 3b11e4d8 b5f15f3d"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"]],[["1fd5b9a0 06394a28 e9339932 38de4abb","5c193c70 13e5e238 dea14646 c545d14a"],["05fc536d 880238b1 3933c6d3 05acdfd5","f098eff2 89f4c345 b027b2c2 8f95e826"]],[["602a465f f9c6b5d7 16cc66cd c721b544","a3e6c38f ec1a1dc7 215eb9b9 3aba2ea3"],["05fc536d 880238b1 3933c6d3 05acdfd5","f098eff2 89f4c345 b027b2c2 8f95e826"]],[["1fd5b9a0 06394a28 e9339932 38de4abb","5c193c70 13e5e238 dea14646 c545d14a"],["7a03ac92 77fdc74e c6cc392c fa53202a","0f67100d 760b3cba 4fd84d3d 706a17c7"]],[["602a465f f9c6b5d7 16cc66cd c721b544","a3e6c38f ec1a1dc7 215eb9b9 3aba2ea3"],["7a03ac92 77fdc74e c6cc392c fa53202a","0f67100d 760b3cba 4fd84d3d 706a17c7"]]]})}},Qie=class extends Rn{constructor(e){super({id:"ISO448",ossl:null,type:"edwards",endian:"le",hash:"SHAKE256",prefix:"SigEd448",context:!0,prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:"1",d:["d78b4bdc 7f0daf19 f24f38c2 9373a2cc","ad461572 42a50f37 809b1da3 412a12e7","9ccc9c81 264cfe9a d0809970 58fb61c4","243cc32d baa156b9"],n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["79a70b2b 70400553 ae7c9df4 16c792c6","1128751a c9296924 0c25a07d 728bdc93","e21f7787 ed697224 9de732f3 8496cd11","69871309 3e9c04fc"],["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 80000000","00000000 00000000 00000000 00000000","00000000 00000001"],e],torsion:[[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]]]})}},ene=class extends Rn{constructor(e){super({id:"ED448",ossl:"ED448",type:"edwards",endian:"le",hash:"SHAKE256",prefix:"SigEd448",context:!0,prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:"1",d:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffff6756"],n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["4f1970c6 6bed0ded 221d15a6 22bf36da","9e146570 470f1767 ea6de324 a3d3a464","12ae1af7 2ab66511 433b80e1 8b00938e","2626a82b c70cc05e"],["693f4671 6eb6bc24 88762037 56c9c762","4bea7373 6ca39840 87789c1e 05a0c2d7","3ad3ff1c e67c39c4 fdbd132c 4ed7c8ad","9808795b f230fa14"],e],torsion:[[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]]]})}},jg={__proto__:null,P192:Fie,P224:Kie,P256:zie,P384:jie,P521:Vie,SECP256K1:Hie,BRAINPOOLP256:$ie,BRAINPOOLP384:Gie,BRAINPOOLP512:Yie,X25519:Wie,X448:Zie,MONT448:Jie,ED25519:Xie,ISO448:Qie,ED448:ene},FS={__proto__:null,P192:null,P224:null,P256:null,P384:null,P521:null,SECP256K1:null,BRAINPOOLP256:null,BRAINPOOLP384:null,BRAINPOOLP512:null,X25519:null,X448:null,MONT448:null,ED25519:null,ISO448:null,ED448:null};function CRe(r,...e){he(typeof r=="string");let t=r.toUpperCase(),i=FS[t];if(!i){let n=jg[t];if(!n)throw new Error(`Curve not found: "${r}".`);i=new n(...e),FS[t]=i}return i}function BRe(r,e){he(typeof r=="string"),he(typeof e=="function");let t=r.toUpperCase();if(jg[t])throw new Error(`Curve already registered: "${r}".`);jg[t]=e,FS[t]=null}function Vg(r,e,t){he(r instanceof je),he(!r.red),he(e>>>0===e),he(t>>>0===t);let i=new Array(t),n=r.bitLength()+1,s=r.sign()|1;he(n<=t);for(let c=0;c<t;c++)i[c]=0;let o=0,a=0,f;for(;o<n;){if(r.bit(o)===a){o+=1;continue}f=r.bits(o,e)+a,a=f>>e-1&1,f-=a<<e,i[o]=s*f,o+=e}return he(a===0),i}function MRe(r,e,t,i){he(i>>>0===i);let n=Vg(r,e,t),s=Math.ceil(n.length/i),o=new Array(s),a=0;for(let f=0;f<n.length;f+=i){let c=0;for(let l=f+i-1;l>=f;l--)c=(c<<1)+n[l];o[a++]=c}return he(a===s),o}function RRe(r,e,t){he(r instanceof je),he(e instanceof je),he(!r.red),he(!e.red),he(t>>>0===t);let i=[new Array(t),new Array(t)],n=Math.max(r.bitLength(),e.bitLength())+1,s=r.sign()|1,o=e.sign()|1;he(n<=t);let a=0,f=0;for(let c=0;c<n;c++){let l=r.bits(c,3),h=e.bits(c,3),x=(l&3)+a&3,_=(h&3)+f&3,E=0,C=0;if(x===3&&(x=-1),_===3&&(_=-1),x&1){let L=(l&7)+a&7;(L===3||L===5)&&_===2?E=-x:E=x}if(_&1){let L=(h&7)+f&7;(L===3||L===5)&&x===2?C=-_:C=_}i[0][c]=E*s,i[1][c]=C*o,2*a===1+E&&(a=1-a),2*f===1+C&&(f=1-f)}for(let c=n;c<t;c++)i[0][c]=0,i[1][c]=0;return i}function NRe(r,e,t){let i=RRe(r,e,t),n=new Array(t);for(let s=0;s<t;s++){let o=i[0][s],a=i[1][s];n[s]=TRe[(o+1)*3+(a+1)]}return n}function he(r,e){if(!r){let t=new Error(e||"Assertion failed");throw Error.captureStackTrace&&Error.captureStackTrace(t,he),t}}function tne(r){he(typeof r=="function");try{return r()}catch(e){throw e.message==="X is not a square mod P."||e.message==="Not invertible."?new Error("Invalid point."):e}}function PRe(r,e){let t=r%e;return t<0&&(e<0?t-=e:t+=e),t}function qRe(r){he(r instanceof je),he(r.red);let e=r.red.m;if(e.cmpn(3)<=0)return r.clone();if(e.modrn(3)===2){let i=e.ushln(1).isubn(1).idivn(3);return r.redPow(i)}let t=e.modrn(9);if(t===4){let i=e.ushln(1).iaddn(1).idivn(9),n=r.redPow(i);if(!n.redSqr().redMul(n).eq(r))throw new Error("X is not a cube mod P.");return n}if(t===7){let i=e.addn(2).idivn(9),n=r.redPow(i);if(!n.redSqr().redMul(n).eq(r))throw new Error("X is not a cube mod P.");return n}throw new Error("Not implemented.")}function rne(r){let e=qRe(r);if(r.red.m.modrn(3)===1){let t=new je(2).toRed(r.red),i=new je(3).toRed(r.red),n=t.redInvert(),s=i.redNeg().redSqrt().redMul(n),o=s.redNeg(),a=s.redSub(n),f=o.redSub(n),c=e.redMul(a),l=e.redMul(f);return[e,c,l]}return[e]}function ine(r){for(let e of rne(r))if(e.redJacobi()>=0)return e;throw new Error("X^(1/3) is not a square mod P.")}function nne(r){return je.randomBits(r,32).toNumber()}function KS(r,e){let t=new WeakMap;return function(n,s){let o=s&1,a=t.get(n);if(a&&a[o]!==null)return a[o];let f=r.call(e,n,s);return t.has(n)||t.set(n,[null,null]),t.get(n)[o]=f,f}}function ep(r,e){he(r instanceof je),he(e>>>0===e),e&7&&(e+=8-(e&7));let t=r.toString(16,e),i=[],n=[];he((t.length&7)==0);for(let s=0;s<t.length;s+=8)i.push(t.slice(s,s+8));for(let s=0;s<i.length;s+=4)n.push(i.slice(s,s+4).join(" "));return n}$s.Curve=xs;$s.Point=di;$s.ShortCurve=ti;$s.ShortPoint=mi;$s.JPoint=Nl;$s.MontCurve=gi;$s.MontPoint=ss;$s.XPoint=jf;$s.EdwardsCurve=Rn;$s.EdwardsPoint=os;$s.curves=jg;$s.curve=CRe;$s.register=BRe});var une=M(tp=>{"use strict";var ws=F0(),Hg=global.crypto||global.msCrypto,one=Hg&&typeof Hg.getRandomValues=="function",ORe=one?Hg.getRandomValues.bind(Hg):null,ane=new Uint32Array(16),zS=65536,jS=0;function DRe(r){ws(r>>>0===r);let e=Buffer.alloc(r);return cne(e,0,r),e}function LRe(r,e,t){return ws(Buffer.isBuffer(r)),e==null&&(e=0),ws(e>>>0===e),t==null&&(t=r.length-e),ws(t>>>0===t),ws(e+t<=r.length),cne(r,e,t),r}function fne(){return(jS&15)==0&&(VS(ane),jS=0),ane[jS++]}function URe(r,e){ws(r>>>0===r),ws(e>>>0===e),ws(e>=r);let t=e-r;if(t===0)return r;let i=-t>>>0,n,s;do n=fne(),s=n%t;while(n-s>i);return s+r}function VS(r){if(!one)throw new Error("Entropy source not available.");return ORe(r)}function cne(r,e,t){if(ws(Buffer.isBuffer(r)),ws(r.buffer instanceof ArrayBuffer),ws(r.byteOffset>>>0===r.byteOffset),ws(r.byteLength>>>0===r.byteLength),ws(e>>>0===e),ws(t>>>0===t),ws(e+t<=r.byteLength),t>2**31-1)throw new RangeError('The value "size" is out of range.');let i=r.byteOffset+e,n=new Uint8Array(r.buffer,i,t);if(n.length>zS)for(let s=0;s<n.length;s+=zS){let o=s+zS;o>n.length&&(o=n.length),VS(n.subarray(s,o))}else n.length>0&&VS(n)}tp.native=0;tp.randomBytes=DRe;tp.randomFill=LRe;tp.randomInt=fne;tp.randomRange=URe});var dne=M((RQe,lne)=>{"use strict";lne.exports=une()});var yne=M((NQe,bne)=>{"use strict";var K0=F0(),HS=qS(),hne=sne(),ql=dne(),pne=class{constructor(e,t,i){K0(typeof e=="string"),K0(!t||typeof t=="string"),this.id=e,this.type="ecdh",this.eid=t||null,this._pre=i||null,this._curve=null,this._edwards=null,this.native=0}get curve(){return this._curve||(this._curve=hne.curve(this.id)),this._curve}get edwards(){return this.eid&&!this._edwards&&(this._edwards=hne.curve(this.eid,this._pre),this._edwards.precompute(ql),this._pre=null),this._edwards}get size(){return this.curve.fieldSize}get bits(){return this.curve.fieldBits}privateKeyGenerate(){let e=ql.randomBytes(this.curve.scalarSize);return this.curve.clamp(e)}privateKeyVerify(e){return K0(Buffer.isBuffer(e)),e.length===this.curve.scalarSize}privateKeyExport(e,t){let i=this.publicKeyCreate(e),{x:n,y:s}=this.publicKeyExport(i,t);return{d:Buffer.from(e),x:n,y:s}}privateKeyImport(e){K0(e&&typeof e=="object");let t=HS.decode(e.d,this.curve.endian);if(t.byteLength()>this.curve.scalarSize)throw new Error("Invalid private key.");return this.curve.encodeScalar(t)}publicKeyCreate(e){let t=this.curve.decodeClamped(e);if(this.edwards&&this.edwards.g.pre){let s=this.edwards.g.mulBlind(t);return this.curve.pointFromEdwards(s).encode()}return this.curve.g.toX().mulBlind(t,ql).encode()}publicKeyConvert(e,t){if(K0(t==null||typeof t=="boolean"),!this.edwards)throw new Error("No equivalent edwards curve.");let i=this.curve.decodePoint(e),n=this.edwards.pointFromMont(i);return t!=null&&n.isOdd()!==t?n.neg().encode():n.encode()}publicKeyFromUniform(e){let t=this.curve.decodeUniform(e);return this.curve.pointFromUniform(t).encode()}publicKeyToUniform(e,t=ql.randomInt()){let i=this.curve.decodePoint(e),n=this.curve.pointToUniform(i,t);return this.curve.encodeUniform(n,t>>>8)}publicKeyFromHash(e,t=!1){return this.curve.pointFromHash(e,t).encode()}publicKeyToHash(e,t=ql.randomInt()){let i=this.curve.decodePoint(e);return this.curve.pointToHash(i,t,ql)}publicKeyVerify(e){K0(Buffer.isBuffer(e));let t;try{t=this.curve.decodeX(e)}catch(i){return!1}return t.validate()}publicKeyIsSmall(e){K0(Buffer.isBuffer(e));let t;try{t=this.curve.decodeX(e)}catch(i){return!1}return t.validate()?t.isSmall():!1}publicKeyHasTorsion(e){K0(Buffer.isBuffer(e));let t;try{t=this.curve.decodeX(e)}catch(i){return!1}return t.validate()?t.hasTorsion():!1}publicKeyExport(e,t){let{x:i,y:n}=this.curve.decodePoint(e,t);return{x:this.curve.encodeField(i.fromRed()),y:this.curve.encodeField(n.fromRed())}}publicKeyImport(e){K0(e&&typeof e=="object");let t=HS.decode(e.x,this.curve.endian);if(t.cmp(this.curve.p)>=0)throw new Error("Invalid point.");if(e.y!=null){let n=HS.decode(e.y,this.curve.endian);if(n.cmp(this.curve.p)>=0)throw new Error("Invalid point.");let s=this.curve.point(t,n);if(!s.validate())throw new Error("Invalid point.");return s.encode()}return this.curve.pointFromX(t).encode()}derive(e,t){let i=this.curve.decodeX(e),n=this.curve.decodeClamped(t);return i.mulBlind(n,ql).encode()}};bne.exports=pne});var mne=M((PQe,FRe)=>{FRe.exports={naf:{width:9,points:[["67ae9c4a22928f491ff4ae743edac83a6343981981624886ac62485fd3f8e25c","1267b1d177ee69aba126a18e60269ef79f16ec176724030402c3684878f5b4d4"],["49fda73eade3587bfcef7cf7d12da5de5c2819f93e1be1a591409cc0322ef233","5f4825b298feae6fe02c6e148992466631282eca89430b5d10d21f83d676c8ed"],["14568685fcf4bd4ee9e3ee194b1d810783e809f3bbf1ce955855981af50e4107","31c563e32b47d52f87ce6468dd36ad41f0882b46f7abf23d12c4c4b59f4062b8"],["357cc970c80071651bf336e06f9422b886d80e5c2e4e0294d3e023065185715c","7f3d23c2c2dd0df4b2befce956f2d2fd1f789013236e4430c74e44845522f1c0"],["14e528b1154be417b6cf078dd6712438d381a5b2c593d552ff2fd2c1207cf3cb","2d9082313f21ab975a6f7ce340ff0fce1258591c3c9c58d4308f2dc36a033713"],["107427e0d5f366ccdb33adf0282d304f8843e3e88d22b7b83780e073b7c05fed","12dbb00ded538b7478466022d2da89b83740cfb2289a272387efe1aeea401f80"],["4f162deaec2ec435dc5ac6f95d20419ed9631374770189cb90617f3e66a18dc1","12cbfb2d04ff22f55162f70164d29331ace5af18a19a9aa1946d4cc4ad2e5cdf"],["7dc52d5a7db816e9b850741ea2fd72918d94985b85a20b4dc5597853a876df6a","6f6d2bca60003ef9f24ac245cc919fb717b188723b34f901cd6cfe9bec97be04"],["1d81f74a5ba45c7022e8c140d763b9c1b0e281a5304696e74f791a3a04a94472","3f185a93d95a4347227c5bb6ddd65cf42e1830823f435f3083fe6102691d55b9"],["6f0ac78e5eb90e87958588f9d47541edf252cb1dde3d073cc45e3e7ef9365716","6628d116b7975ae5f323e5ddf4f8cc35ae06d5c5c7d8a56effc66051336d289e"],["2188ac423c67db5625915e05222a391bcaf91f05d9b7cc2cab5798b2d2e14d95","23240c559c57b79a4df69a23fc46e50504277b1fa49369ab663d79782b33c0ee"],["794241471ed9ceb009384b370cb8790fca98552ecb822dc06b19362c36353455","71e918c03cdfca7207772e8d18ee8f9d92d79a0a83f378912362bc68d311dcd0"],["163bc180c22dfc5da23c5c052107bba93a88b4360aa1d4e729611d8f5a7f8079","631107a6ba83f7458194b9766a0a54f638ca20daf800384dbae1498677501939"],["39a32a30f3eb1da0eb7e3903b8ace3da3890b24b61a3a9e79db663b5db0f7a5d","4d4c54675dc1f1c9a1af9ca0010045dc803c16af345823136dd203715d67c491"],["38085391a0e2831f59c33fcce7591515784d359925f11ff958e0e4658efac0e9","42918001a829f49b5634e34ab7fac21b30e24660669ed91955cc31944a19e62a"],["5e3573b049d6135ffbbbbd9a480617434f2455b4a591f719e91153eeb75a32a1","54bc665420c789da1105d53983c1a0fc33bcc2690cd9b37d6566e21a85892871"],["7ed068b25b82c05fdc0e46bd80a357f3acd2f5c3b9330bc8d474e5b28270f6eb","01da83a187da8ccca704d46557a462551d70df7f943a681c3b97b1db6a21b7d3"],["05ca3370e7516f6686111b72650aab4c5484407f14b515ade03951c6a14a0aa3","6f407fc537b95277966e7f0f5e64b86904bf7baee091cee6011a3611834c6903"],["624cb312b698bbd6dbca79b8d2b53cb5d8b3ab33c19306e87c18211f095ab9c3","5b3336b2751e97c793731ac9b9a2243b6229f6d0bbea6b619395d0e5200bd8a3"],["1ddf6ece608fe2901b34b7e4f47cfcb75e947e293c704d8121b11a31a051b5f9","5e2dc58e9a48a749ce5296d229cfb34f96a147a8246d2e9844d52b52112ea94e"],["396b384f3d61cfc060308fbb1c941ebc9418e2d9abd81316e08d625f48c0e101","7223e5f7b66d1ca24962bac273a7aa6618cc60cb8a64a8837e0261107e7ad644"],["53cc3dca3410277fb38d75e4ac0dde8e77a99c817170dbc9696cffe7890fbd50","2592a3aafce64d7c69f4de468d5d5aa19845f5ca08f64a0a40e37d23ececbbe1"],["34705fe600f5aed77b29d3eacdffcd45d886904156d43dc550bb7fc889cc1368","299153c141a8950ffbcc8e9352993e642fa39a476200dd4acf42e158dbe3b01e"],["5969255bd089181b991fce96b1792ba330a14f8a0b061f8118c9c336b8504618","680a805fa0ae93c2a12b193517fb1147d355547e4ab18a9d6ca21575bbb4d7a4"],["27d1d57fa8808d3d452df14bda4248b37902752163b1fd499a92456c59918ecb","0a42f1c0f4c5d7de9e82904f0b4ff63988d31fedb8aad9d8ae009c7a1dff09c3"],["0811d14bfdfdcf2144edd9cf55bce584a9ba17aec3eac8aaa82987ad703d9b8a","42bea70d46f3ee0df0ec77d24c5495ea56ada2e0415920470c4746b68306376e"],["4de090761b863cb0f0650297f154a8e66d00c5119c38e5dd05303d905d527a4a","5eef0efd105361ce198a30e09e7e7edffbe3d70189e63ca68cf6057b9772baa8"],["1d45517858ce45556aaee056ebab7e0ef3dc9ae3740aed570f3e76bfb4fc4817","0b5a9d8fe8b7ccb04c0a5ef77798a3ec6e1bc1138604eb05e83844f0d4c5c699"],["4285edbe9117f30aae1ef5ee419eb1d472106c6b3d7f3ce3701e39324b0eeafc","503aa6104a682bcf2c0a60c84f4c22b50b0caa0fed8db87dedc7173eae04bdbd"],["3ef830cbeff9b79039b1b6bd9bb52bbcfa56d008d91b9703ea1c80351f8687d6","62349ff5d8dbd216a874769eec152ef9734bea9240eed623992c7553dc8ee4c8"],["649a996e6d4d3b60ccb526939ed8929134107e03e2fd4648eaa2fa9830822c1a","1648311b942fe95d492a1ace5e5235c1aea860d036d2475cc8964cd1acedee9c"],["3a95596d97770d050d1ecc075d58a74f5fe6b4b8222740534ba22c8be73f9d56","15a80cdcc03317a830fa4a7461de6bac136993e0a797f83b405c161a34c98fd7"],["2d265d3fe1c88903ca93685209418deec5af886bf0d9fdb3f499d831cbb76ce1","08376fb0663d3aa220948612b519af4a6a1f956622b15a305fb2e60a84210b3c"],["642cb15498d8c6b25803f3e56b98e2ea185ac808cbeab5eb0a610ed5babb9385","21b5ca5020a9e5a2334c0bee15193ea16c909963ffa6e1d93df4b239abeaeb3e"],["38e576301ff6cdd0822a19c6d610d445d3967e2bada903abb6220f68c6e79bef","458fe689e31a24952d2817dda4349109c1b26ef31699fa36c4f8389eeb60eac0"],["372bec78d75011a0ef2233cd08790a7f15c1ec1e3a78cac8d6652678641780db","32e9e47cf2f48612ed3e2c2006ea0c0c8476d3562aa88cefb67ec97abdb538e8"],["1aa3756aabcc3eb65afee34e0a15dd67bfb9fb199eb131f4cc6a3ca9ec4d1c77","42333e27831add6eb49af80e17347c63c26dd684758096ee3dbdbe03a49159ae"],["38db16447d79d3590c4a36e20286beadfbae91a4eed2e5e7dd4f975ac0537dc5","1c48ccaed60ec12ce862ea71165bba7df1739845df2a857f4ef0a0f714f96daa"],["176b78984cddfddef90bae619c6a98e951d9a7ac7d6af218ae7e76b273212fb7","7b5b93eda77443f366e2a127abe12212aad8536767ec1c5861143f777db85852"],["042d154bf7b4a7bd73897ae528c6bc552ea58d74f8109e8e4052d3e9d38bb0f6","42d1831323e279f9f7ee9e3470ba20ca7edc3245eca5d8ffa182de120a71fc90"],["1f8d28dd4f286a8d0687b626b01204434bf5874a9550d6e375116490c154e108","1ce82e2360367e06f41757fd45239f9bc2c61609139446b09b55a9c43da98bb8"],["613eb914c015076e9ae8356bf508c289e50b1c87d9e2546f6e406362e248e5e5","3edbaafcd8c41ef4aa18b254137d201a2ef0ca4ca28807156bc949e920b97353"],["27bf43826bf0310b4b3e3a405eff790a1d77a8d48b04891246cff8e193cb03a9","16a24d749cc1d234fbe8af9cfd782c3aaa5869d6db0afa7b4d4c67037514f2ea"],["769a6a59746d7bead417bdd9c3b5f5ae1dbd924083ffd9e88df7714f57a675c2","22dc1267cfb2b41c590abb7dc3df45619af688d0421f2bdfb50748335ec5da25"],["795734ee4fcc24194219d25d41a2889cdb942f765848e9df63bff0b158c7224d","756420ab5c71127d39d2e79907634a177af0e483e08484ea4d7b76f7100669b5"],["644d12fc5e7fcac5aeb5911d8240971a99fc59fdd2903f46958e6896aefbcf46","173450789fcd40172e8124fea56f7aedad2ee13fa8fc5209cc8cb572175216dc"],["5deca767ef17b9e8d4f351f5c8ad1fcc50e97a2ed687516bf5210679fd6c1110","4ddf2207da12f700708089989da016f3307ce5721c9e27c952599d67898aa396"],["296dcb24cb3185d037a94bef93c97cacd09fc7050ba8472da59d4a689d9d2848","0b17dc85a4acf73833fab728f15abccac97cd09e57975bd996d3e1dd8b060f7b"],["408a3f1af2e77dfe94f8e225b40dfc146abb1002db7bcf15fde61c1a6cf1b93f","4f01ec38854c15a879e7c7924f048e2ec951dcdf04a614088b68fbcc0954e1c8"],["07d2d9234970cdc9483e0a7c5ec52c49077c440e0a993a1e624f90b8fafbbf07","6ac2190030c210ae3e07b9239f6ee7affba263866ee7831a564c511f703f2295"],["2982d553002082320aa899b9b6887e40dedf11868fa931689795d93d58452873","215e16ca447978624cad0ea6bf45aada4eca914425ee275db2a26e980dc349b6"],["1d8649515cb49e136d2895b6276569e5c711fe1a343eeb5a3daaa8d0e7b42d1a","5b21e2f2978f343a3e9ec3316cdc111af3b55f34afa5fc3fcbf6c26c1bb7fb6c"],["5460df4d607147939cdbc04dbdcbdffd37c5eafdd501b50a67213a23ee724a97","69dfc7004263ccb52487d34ab134b80bb3030273999739cb9cdc16d71b9abcd8"],["24623476f0af9f42ca15a0697ad23abeaf5ed9dc4d2b44f7e8175486598125bb","6aebe4a1a22d9e31194dcde6d33ff3af77dda15c22b2ecba9329849b8c042687"],["64e507a02bfd8a8413117bac253b17f94b2911681ebc07c92da0de6a651dd538","513ac992d72b463da110afb612fbae36590248a0507d845ee95fab2d1caa03a4"],["47f3bd11324f6bee230a22a5bb06a3ccddbc0473b810689efaeef894a654bf0e","7e05db9b3ff886bf32608dfc8d14eaa91e2e2ef230e7c75618060e4285c492be"],["4a6d22703a7045d02d656015ea2d168385d42963a739a895e4fd87b3e55c5e0f","4c58d7a8c6ded0451798e51f16ffa5b637a87aa5defb119ba868d8cccf61776d"],["3e22af70a548097244d7798964598172a90391f84c59b04cea7af283ba368eb5","689d8b7cda23b8dea197c5119fbbbd81dd4b59a36cc283dbe292b5b6519a2968"],["61a6ba2ca42d9d557b3a2ff0867c1b8bb8fc40192d31ff637431a302bc065a10","63d805f5a79f845ea2915a25cf0a8cab2e0255212a1bd3c8852b25579b63721d"],["03d963eeae48556e88305f91c478efcfd2168c346b9ba185884ec8621e8cb414","74b75cc839a944ad8c639719d20fd9d48d2099ef24c8633eabec7a9ec1e7e183"],["0f04da69e0202f7b44c58b103c88de09a0599951fedb17e7f2152d6b93a58ae9","1fbc1c9cd03c4cfd46e8e90019debf86e8036587eade038346f91070c800b8c4"],["797899e488353ed0c6666aff11913b33be0190833766e809b2a68cbc671a9cfe","5dd70a33ff94a84b3fe660f7070e6179e86b5c846689265bf985ce424b8909cc"],["735b64bb872606510e4e7d57833eb7ffdc4aa0dbaa242439806be68379f77cdd","384aaaee3ca7ba2436fcb65910859ca5ec30c10af11df7d777d287bc1a2bce2c"],["6f6ea532a62cf4766f55a0a72a86b55e73fe9d3328ee94bfc271e122f99dc1ac","61d8203ef6da5d0b584541c02331c7f58617cf8d4f26d11776236ce8b113ac10"],["5d99a2a3d4aed730b827b68ed836a9910dce4e7b93faf456981ad6cd85748773","7eeacf5680fb6108a8b7edb45f7134644111b08e17c236469685af5a79474b9e"],["31d0b4bb57bd7b69363c064a49bf3c3b9d7635bcc287e7b3059d3d99fd8382e8","1592e581034e13d47d02b8966f5359097e652391be8fb1e803f4219a22aba2c0"],["424cf5c498bbbe8fa7e5c3247049cc3f45946d0e5f38c44a36a6c84b60a84aa0","34acd712d334a2315dc8fd00c5c9b7c5c9f29bca27380a018882a5ab4a0fcb43"],["33a6ae0522936ba774837aa7959972f9804e3ef02ae84c8039be6595598be247","37022798cc08be9b4ded34c1c5062ab3a26081d375cadf517972fb48135a6602"],["5939635b72aeba595b5f6e376d11a3e07d4b1153ab4d0a7ab267b8bcc47cc3cb","382162eb33db2322cbe01a38fa4d13720b6d8edfaf8116a628725ef4293a6c27"],["3649e78d2ae9fb0ee86b691c27386efce4f3e383790e3cfee2bd59c2e85c4036","09b0d9e0dd82e697b9be9d61ce0d1410e281122b483125c48f7942b22f5d5be4"],["62c7585d1677b7619d8200175346ec99118416d8fdf0103730d165934e96a973","5fef7955ee07304429995433a468d68dec4ecf6b08bbe8cd06869080094044de"],["0c94537d311e17f5b0c58989b5be7e40c88b978a8c074a1e9bb07a713f77f6d3","6deaaa5001bcbbbe9ae436fe42f7042ce74fbf83c14058427fad4587ed33c4e2"],["6f5c6894a8d3877312e608c11809c15dffec3df551711095c8cfc810533e1b3e","74eadab9389b40d6ac6cc0d6e333d628ced60a9ef7617751c20630d23477af7b"],["4e16e88e171f9a07e11f97bba65c0fe5483501f255343afb3335ed47fbcee08f","41bcd7dd328871247cb7995bc6bd2e1961e94b0fb12e5fb2f264f9ad2cf47d4c"],["65d8484cef146e6c232fb262c2ac8200a52c63ccec26ff6f038aa5c74982c741","67283346bbae9391952b141e57ca8e3a36f0363d3b81b1c0f2b3c30a92c74235"],["1c588485b64be8cb99bf97f065e75a82138ea2e035ba90b63745354e9cf729f8","7c9a18d6ebf5465a197989cfb9b5b2a66a5402f46c4708ac04187c6b157a0d77"],["2c80c4ad0aebcafab7e9d2519a329f8a1c7df21cb6b1acec7403c0204d6dce71","7f8e62983160756e35356df95d44467e621c7274372997ca74a9fb760b4db36f"],["1e1e5fc87fa2c49e2c44d5718e3d73c73a91a64ac1374652080bd9004291b9c6","153828e90ed8d94c0f86e0eb54ccb31073cd29ed62c34cd9f2dbc5d98872e597"],["0ce0488a30ed446d445efb1bd21ba32ec3d05d538e6393bc0e58e0849ad57129","7278074ac66ac779136f4d6a334b27633645dea0fc98d137e3dbd4015d12b5a1"],["01a6b81f7285f293f19ba019b009aed8280ce285af42fab91e87fb0bbfa6dea4","60f910dc7c9a82e7836f36acfe7ec26b9babfa8bf26b2945b3c1a43b0c19b4dc"],["79b4ce3c6990023859646690c9ea800174902acfa1aad7ff34eca032dbde7150","53a1053d3fc6c749bf8a928854f392d09fa851ba963ca661bffbe74f012ba45b"],["220ee355b5c39c1901ed34c0f50f7778ad1bedcd7259ae167c16514ffe333498","05fd9374986e1e06035dbfada0117035b96b159354262f2b2695af1256d6aa2a"],["1e2f97d2cb4a19ca40403b364253da71f65d2d4665894267e3c6a9db8b4a3a18","22804fb035acb519210ff99ed7a974a725d896a77933789b4dd45a37dea3466d"],["35b8699fa20987876ac3b3086965b05f8cc809d71cab45e017c68ac96e24ed5b","155079de21981778dc438353bf2c6a65967a1a33ebb74c866fb42f4e3cce3e39"],["3cb40c55f5f19c52958e8c4ecd9c459b1d3268b3971b2286d3e58d1fc6b6a6bd","379e1f1f59df05c74485615b87441ba6203f0cdddc6873a883d4cc6dd1b75921"],["6ad916290e0d003ce5c961679f77704dcd768589d7cb728c60f56852031803bf","1e602b4a6725832a56944234f84c4f85f79911b55beef903549089925f2ccbea"],["7c0162492ae668160aa56a60e8bd43ec088555f750d2223cc37362dead5de123","34e60b446eae100d4c3abc6cb02e4ca559457fb5a9030a290a2568fa4cbf118f"],["354c25bf7b3e83dd0c5e1f39b82e3567edeb5337634056c1091cd6a016caacdf","7abb271ef121630f85a9a1049b3ad78d5b889f533b37a713b8801de46770fc3a"],["1e581a4bcf7504f33f4342b2097504d13f9b5a27f4790a6cdde1242209862850","2164d56564360fd2b5dba2f2c6ef1045ab448c3b60b2f2196c2f74625fc39e07"],["533b56f18283ee79b9a180b887c298961bd9aaa6fa3ef97fcb0d5688e694bc3d","6011366753812df2bce83634a92dbac18dd1cffdbf9a97fa1b1d5b49e0026764"],["4b508b94e6e2e6cd260a20664ea7d727ad20587b63ebe826032e0d20cdc6627b","1e8ecd6ff5aabae78172a0214d07a5013992d133af58afa74049de726df2a6c4"],["3398c0c0219f5ac87a8c73fcd17b89311d120a53f5231cb761030c194fed4265","025b234a1dc8662c068c4ba903939c2f79f3f7a3ae64e5edbf667b13599142d9"],["5941a17b04cd3465031cb6745cb94eed24e1ff8d38a6e832f1637ae8e89c78e6","5309792c546b6cda458be331957763b5adb5d535d54a4a61023678faa2ee02ee"],["2cb490d2c0047fcbaffe1df26640bee73c158af6fec91343d606ce9d124a20c9","2e2952ebf089200aebfa3947f241e2fe85797afebdc1ea06d9d26de1b446a964"],["79305236b583232a91c63c7d9ca3750be7ee21711e4d6d257c39ae398212bde1","6f9ecdfa953e302c2014fd8512405e4be0d48302acd15e93936e8dba7d01053b"],["57d9fcb884b94664f35387fa6665cd9bc8136f90d804d77416ea99c3c653ee63","14197e65f0a3599c0b9fcef75b5fbb93580d1b2457b59fb70ce7b9bac88d0fbc"],["6d99df2c28c9fa1e38acddefd3e0931109143d873f3330377a9926bdacdd6523","2f21987905f397f092fc56c5ccd301a1e6afa3c4611627e25017b2e68d07c150"],["749d19591f1755bd481fa12a288166aac42911654c8c551395b265116269ceb9","7ec145aa7558d0342cd87b1750933cb6f3717e727a86a1cc1f2b0c274213688d"],["340f7f5ae19292957902635a5786d14fa38036b324ae759da501e32b8c4073f1","64e231a413f1379a26f4e8223ff91fe2ccd865549571d3c6c28871964b40a0ea"],["4aa33e00bf6e92cac4e84384e5dde0727394233afd5d24d357a8afeb94b08109","3385bb4fbc441937ee01b671d506227a654fd6c1c532cf5221710c6c56ec7e21"],["34b2ffca05f01088de266306c5cc122661e9308eab16929774e58565afc0e4eb","7662faf0f70e82c062c2b835fc6da3353d3cb20b80611ffa6ef2982cf62fa605"],["820fcb51326f1536ddb8dc1052aa198406c7e48f2c81e7664d15f8f9d3715e","756574c23bb01170b97d9fa1663a8ff2f5b97eaa5cd53f34140c1bcec8c262d9"],["0861d7e84cec6d6e33641ff6c85202fc0e9160797809ddc2193802499caf05d3","34936e0a5dc7e2a6217d475fbb8c1c607fb8b3565908a04fd5948abdd399c59f"],["5b4a1dc887ef684d7b4b165b70acb70842a2fa105935af15ecb4a097e33b8f2b","54d21511c05805e5298a72372b8289e9d59c46dc8b5c368bbfda620b68aa652c"],["755493ed60b13f03f9c019362a5af73fb49842dd6916e2572b1b6a312cd20cfc","0750bcbf7e449cec422b93ace1489e1b177d4dbbaa781d315c74d54bb444e9a9"],["5f1c341065b6a81ed2edb6bc38ba81b4c2e3fe2058e5baa13e1406eb2c5b4b4b","6179ebfa7f8086f26820fc99ca2f94c1be19bca672d79cea5b02a836119e06ba"],["1915024ee86acfba3f61ced9707521197195166fb1c4639bf3b3fcf0bf0ded46","5f2e0547032221d2b00937cf524590e3d90901ef0286ea0b032c1a81461b6d92"],["4e942d95930f38c8786ff4a8e576e7a29fb7627afe1fff91cda5006ba0624f5d","45902f695d512d70ce4c1e0520c0060896b94e14d2960b2fcf2ed5e138e0217b"],["63e45f3d91ab915d412bbaa17d1d249e1a1445077fbfaa6be7d35041c5116a91","46dad5a4ec2ad0b86938f5e09f1c03b53b660fc5137648b08527cd20708003da"],["5e2ddd2175417f72c9962c503ac5adf94ed11f28b9d41fccb6a4512886f3cc87","3523b218478911145af1dc431feb7db0a04066eb6e2ade3c7b67d11bc55323aa"],["62ff30a6b179a26e7247a8312cb3af3289e5d722f76a29f203aa623889aa05ec","562beb7999019346beaa80dfd5b95d614e1ff96c1cb1037f65c44997b797d066"],["14988b5d62084fb8335c2f261cdeddc1b634b09cedfce713ff5f0a0bb588a556","447068731fb98e821b8e413b3b48f2d1c8bea308f05aac877006b0f4c3b0cab3"],["1ac777f708a5942cc434236920e82ccc6af920c0a0676712255aa7082b37a5b6","52a6f88d92af1887c781501c6e3a88169a2831b74aefd416f22b47e8335ce317"],["5959792833b71bd5042b78e42212af671f5f87a08eafd8cdde2dcec8140e4bb3","41ce94633eabb8a1b08fac66f762997ed8c9e2af3558e1f6586ad6a5bf5b7b64"],["4464a7962e6722b457336fe98c91765b1ff178f9e892e90129e65fa7688a0607","3d1510b92fd33c501f058a7a86bddedf1b83f9b6e4f04829d321117013f891fe"],["62906d81e7f800e662519f4324ab4c8aac197661c729eed3e744d09efe721c08","4b68efb5b1b709ab86e3253d70bee87ba07875c04a64ecf7e35cd8cdc6c0f7d8"],["4300ff025ac78ef36e58ee7d0d732cf76cd0929fe265b3a093a57f23fc326757","2f92880570846ff2e90d91f16bce3705c9c3ca8011cc543091463b623e4b3c01"],["5427ba28d94652527a9b0c76f57a451e46bdc06cbc8a2481df17f66ffb1524e3","547a97c4afc8d1f74a5d51f7e524f68472f589cc0b396b21368628721537d722"],["424c4493810bfd5e3ffa21776326d8ff62bf8fe74504d7a2db5d3f74e5ce1015","74d0daa832d40405d01551a58b330ffc5abd5356230d6d7cabeb5b1a55046f32"],["54e10980d81b4ae8778896684295fa5c5475e8d68ec2a26e1b0a65383507b3cd","6b1eb48da6886c4d88cea720e9dc8b0d8c51a8f0e1943afa31a40eeb553c0676"],["732eb9e9ebb556e9f024c5574166738f4707b0fd005f568212ab575c1db71ddb","1fc6b00c89e48114d6b13d9920a0c78093994f2b08df147bdbb56bead2cea165"],["74029c04b34b7f314855fee42a04d0ddfdeb92ef3bf7cff629928a97733d96fb","501f63a252dfbc090733b5a208bfe08f81c91419ce3d2d6c0de8cdc5a5625014"],["04524402ebb71a60bf1055001000203a6d4917f112e50dd766cdd7b718a6edd7","71c9e2d15cdc47c565a696ffbe55277570930ed7ade13b9a254059365d5bf338"],["2555c620a50f2bbeeacac66228a96941fa733aa6070855331613578ed7c12794","2b3c1bc5cda7f93242561dbf7572237ac43bf013553230633a5e18b7e71597e5"],["555ea607b0ad18afaf70d7450543d7ffb5b883a3cad3e2778826ca97bf3211a6","6df903158f51aa530d411720a760f8ad0ce9904d54955fda74a349be58eddf5f"],["4db3cfa284207a250a9c83e1fec07e804d70065da586ff2c2a7d2bcb92e6fca6","2a4fbf1c51dc0b2a7783db2be3bd35c2d6462470c88c8b73ae3ce8503fa07154"],["5174e33ffdf28a87184a4d6427d821cbaa3b88ac293a90ca7e1eeae8c5050b16","315ca6bc8e35e4a3d06f89e1db1575b16197963ee8e64746fa998ccd403561cc"]]},doubles:{step:4,points:[["23a4860627e53aeeb8e22b1508249c9109578d33e7bf237459b2596d6c28f9f8","709696f2827fc3729f980f2e3aad6e78b06a11ff8e079c27d87aab37c16727eb"],["5e7e07ed4e1decbfe6e9cbc126905449d4b578fbb561576d20b8bcdd0cc2a556","0f55755c51f102796bf5ebaa81d3260e7d1b3d9ac127d9a80e142031566cf6c7"],["7d13c0248b891b47eb524f2692008e2f97b199bac426cb5902b9003a29ded6ea","59a976ab2c01a81a91f1a56c75ccc77a9e1e9e878e9fe9c3952080a6805b20d5"],["5de7faa2ee4e70132f541f79ca07cd54a39fe1347a6844d19e9d678a8411a565","2c9f23641e1c2e0aab8ea9926b432d92c0e8bc08901d6ff6df85e4cef854ec36"],["06b349eebfed4dad4a805b63a6ed2231a565cda752d9477ff427dd9a8c9ab5ed","07a09289ff3e1f9aab68aa374c48df65f550c2323607b97744dee990608b64f8"],["0af367956af630266b1cc760154256ed79da960dddca9d72a1e8cf27d8d43a77","21108d900134d3b3708dd28ace96b0b23dda9100e4b6a62a8131bd2f2ba408c5"],["1e45a60140a3b2dee9b8dc6ff307154a1b410bcd38e0e38fb10b2f6da1afbe2b","0e730da473dffd60d2f3241a85e68acb47d26e5043ad047d893f072c8dda0a76"],["4d1e116d136158c5ddabd4276832800f2c081c1072de6f2d931797a46abc0cbb","6d415be49d4e35b65cc51354b5008f8c43e84b7b5e8a4b84f44e1efb10c9b91a"],["2b6b892ae94b454b2c2d92bb947fc4d506d173d281779c2c153c001ded42d3d0","7f1cf64e0e180fc4d6e12c1b5c5285f376e979616a52c94a0dea4d48c5880cd2"],["0f6c3a96e0032a9394337a02ffb2c83ba70efb8f566feab530fc90fa3b4710e5","3d4e97e286378675038a4b58e84224ee515e1d6697ac79389f78479be167635a"],["52ee53b981dfbc41ddaa5ddc2754c4175f4811aa45f8e2b19a425657c238a83e","7eb0a1be3400dec87b388cad51613957643cdf0595b891cc6f925fb36da7f1c3"],["52a837bc7a7bc9459bcc2ecf80f74d9ed99def0342e18cfbe8e799fbc504fd52","50d6460185d8924e5485f23f36a98c86053514d163547adab6fe91478a411196"],["6b2bd5d00fab38ceca21a27d6aaec82626b14b555d859527718f8ca404eba4","727340c27a15f6ab3d80547f0827c56ab1ba33bc30d1ef3909ea9a3af10c67e5"],["71dd75fe35761c01a48597ec730bc33237902fd4ad8612cbed1031eebdf40de4","39674a4532078e34378667beae5cb55f814ead9bbaf7e01b3b69533e9f88a411"],["57426aefc21be9ccf162e23d25ac3002ba8534351e65613f870f690f2fd46cf5","6b45b002fb4e8a6f59a6ffb006ed71f75434217333b266325204c7d1ac2e1f34"],["6222bd88bf2df9d5d44b60cfb4a08a960078db7ed51a35eb3e0b6b8ff4eda202","0325bb42ea4ed025dd6bdaed261b7c4f5410b608ba902b068f1efa5782e45313"],["71ac99647b61b9eca6f0c23432a518f738aee708d5932d4ef0f172240250a226","3a96c2c028ebe5f48913be30147e41bc5e1cab9595d5404138a9aa1b5574cf25"],["1f6a1fd8cc0e05b2742ba0fc0369b5247670543637dd033e64dbce90b2f23e9f","779964401ee869a9b31c0ef874a86440ba85d25c2ce932bd31a0865869605e19"],["22e2c039067920c42980dcb3a905fc91601c2b34e819ce1532ada4a5fc39d5cc","631cf9945a09bf26d7e595b3f8e3390696870512820df63c5418577089e1a8bb"],["608de273a9f6a534219d7aaede3cf65a81e4dc03d7a2765eced1d2b7be4610f4","3b31d0113f98d81ab1312fb2837aa9c8dcc7960f84eb371358c6d841f67144fa"],["3f748617ca63ab3e44c6e34f63e7328ea56a2a146da34368a57dca181254fe02","0fed89e6420fc47b3938a2891ba9acee4cbb2899ee4e9ca15a13dc527dc1641e"],["69d98b5ecc35d56c97c0bf312955d199befe116b417d70f5f57e2dfd0af81ce5","3e26d487fbfe36ab44e0ca3b248fe94bce92a69b8154d50e2d5481f8259f4e8e"],["1e34443347f9e627b3531157faab6eaca1bc3114df4a1423cc12bf8417b5d622","295955a5ed061eca7f87b9485666ba9489ec20a9c484224dc920350bb4a6fc79"],["51f4ff8c599b1c96da82941520a9f5abf4a31eb8b84fc95056145ceb3b5775d0","35ac9588d46e41f3f6f99aee3852eeb4b12e807807d4bd1b7f8406b0d7863ac1"],["3faa2a093a19a02424f65a10955101f4dc015c43b2dfce8e001507abd741b845","7a1de10dacfda389ca663b15574bdc8ae8c5b6e7cee647e77b11ddbfc6eb8edc"],["1924416956ea2c1269062588569b18178011ea7cba1a3266284f48aa01d5a90f","0c8e28127b7dcdd206fb6fee96eb88cfc7db7319826ac8cdb8b1fb8adaf021de"],["49761c57ce3c8c4f1435d495903e2f536f3be3712e76af8d0b5a8b7d1ebc8fac","3225035e1065094ef32d7f3e7a6f8ff2748025f96e0c0b44eb35576b61e150a8"],["4339fa86a23242851a16afc3ab05b352a7b4bf53599a49dd7e29d364fc3a757b","6d07cc3462bae9160bbebb997510817040767faa9dbd13f158a5fe8a63a34b0e"],["6bda13918dcbaf8529d6326ae7a9c278b72417c2188c5ea4f062fc50639295fb","2c3fa803b162ee887d0d97a6734866f992f846625f314117075da54bb6c20a36"],["4da4821314574d4fed4dcf692c8b15b99b73f13633210333ce7871359b6e6424","314016034673d2d20529bc93a2dab6e462bcb5f66e1f4a6bf2170759a40a6e65"],["0b2cea0029ee963c0034b61bf19e384435f14554a7d297b5144838c38e375586","47ea95da28d39aaade5edb8ed941c687603cfdd1508776e96d6683199e99daea"],["4c27afff3c45f32c952d3984e14e29a098e685c9c2e723e5fc8047ae60b7e824","5f2c99e6526dc87d95f11eb626c29c3a90d0be1e51a4c49e5bbabd114bf5a66b"],["53e2a4ed1bbb48bd016c524a02f797654cfc969849f867681da94e341f377534","5a2334fdda642732a3c9520ce06581aa7f0f082882554c37b8d390a25a9bd559"],["7b8d2c823baafe0d878a55e8af1db150dec85b1424a4901f9beffd3a6196e3d6","1c45a557b3624f9b89ed15b3c3e1a065f1b453d948f7cf45d9494483f8af0c85"],["78877b5d8777410997dacaeea59400fc9db4421fac02c4282301c67d35fb7ffe","0341b46c328333e4484ce8607619014d41775c408c88856d2f9e19812d90fbf5"],["2b556bbc070b5c4bae9e575836d1d68ee9fbe800448c0d2c233f78185eed3f91","7ba01332807ebd892e00ddb368c0fa1b3f19b5b32efd90b178d984e1d7174d6f"],["0f72556998b0044799f0fd03210ded3d984e3843bbaf3c1d5d692bc94d43c4e7","16c19c5037c103d447caef4efe6bd81a490e7c668f6870f1b080863b5315df5e"],["1cd96ef237b213cd446f13b3ec40d32ecc593bc6ea71e77efc284341a5f3da1a","7a626aeb91efcb5f9777264f5e17ced8b411f68c713673ef0f184a5ccd60dbe3"],["31a75b21cb532622a7caf9e29e652ac4e47b1450edf6655acaf3797b55a7ca46","77006e7cf104982f8865081a2ff8a6911546755e31c3586353b0bd0826c5d790"],["543d84cb04fb2bf787b7aa382eaab5cd8d050ad8ee52aa8a285b945652014031","0358fdc5b63ed49e693d838f182b275846f42dd49a42ec2e6e932ba4de59ef20"],["0a2818f5f5d8937800c30ac6b847db2cdef655b864126302249144a5a15b205a","187c76a49af10851bb049ba97c0fbbb14b2621522a4e8d9670ea46e56c9a1bd6"],["7efb45d3a2851109d7a8d50ddb08fe308bbf674c019b965cdad4570a141e648a","0fe1198b11a1bf56867091c69d71f8b7792257dda321d43652e818acd0c28cda"],["472e960dd122a534f52377235350549df4a1dd7a08cfc580bff5fb4b0a70aa7b","10585d04fc529fef4c0c0776154fc7ebbaedbae8a99937e47598d0578932b7cc"],["04892cfff7f94ff7f07c1241e3ac4945bc46ea9d6a3c1c3adbce109a9afceb6a","3ae2aa25e2555135a7a3251c11a3f8eebe81758bc1c3e2cbc6e6ca461a543130"],["2401d311a3abfd2583f1c6aa519c1f18ff730a0abf730ddcc9c9739b04d8a85e","653224f3488cae1ae19a414a9932035a2bf2c46803b5532bbb645e62387ee34d"],["0ea2c846a535a115972161612a192588d92d68a3c9050eae91b2817b94e68325","3b82a8337b05f11bbac176a113be183a50a0331f3d3116f24b971b5a8b0d031b"],["0fb3f87c2c6c89c65b74299b77f3736546a8b9e41b19197476bff27354e1c128","1034d42c15a2bfe3e682fad49dbc2812caadf0c584bc30b51625b85d74e9d5f7"],["1bc7af1e38185e7c2d8d04371c7e177d7a9ddee1b81d7d26db7ad644c7dad28d","61d909d855661f2f7a5eef87795dc0491d027e12631b270fcaf2f65900314833"],["469d0960dbd0ef9c91c4597ccf7c209549b187ff63bd378b7dac577198d74a4d","0b5f21c7f86832241f2157c288bdc9394f83f8d57457f6d9f6b345e4909478cb"],["5e9ac4ab2f4a3c3526e1317f913d69e3826fe862efd0c80d9310319170c5cbeb","505f00fa8aee03ccbd2f33529ae1e4e4bcf2644fe673d0b0290ec32be5b51bab"],["11cd80e1fdcbc565efed81d17f3f54643ffeed1cff38f3825e115adbd82759f1","43f11943f7ef3fa68b980fee45e98134f1df22263b2d14419d61ffe62822dbe0"],["3328bc121616a9477165ed282053d203c24f4826076c638a2c6723d42c9bfadb","2bbf3f26c21b5cb273e5f4f0114c6718c5eb7291939b7697c74333cdfafac039"],["0ba774bb605dd804cae6887e81f6bd2c59e024fac8bf5f5c48a841a037c28398","54ba013ad2d04dcdfb5a151b7347ee9a10067ddd0a3907e9bc337a77bf911321"],["1074ff0267662dc2b4ce65aaa0229c375a3d0d843ce9349233949581c869b64c","299be0decb680ec28923da4d049770107d42c180b460da13a7b1efc7e6d5b022"],["25ed76d78c87c3bd64b4331902c5a853734283e25f19f320295667b80a340d35","179b5f92f545c7b326b3a63fb0b32a0f52b4159988436d5af50c1d0d76373947"],["75d942c04210dcde5d1bd4fabfc732d3f95568e399382c0423c83c41cb05dc3f","696cc14856cdc13c8fd7e2c5771731cbf38e3fad47a424679765c4874e35ab2d"],["5d9324f56975477d5945599eeeccec67708c996cd3f3f2818bf2591507e3502a","10985a3cfd573205281aec24e2c8b41f5cd8cdfc9d7be34675cf306bbe1b4f6a"],["7511066c0e12105a7b937c7ecef367d5afe6e621e5cabf4e490b09b7ada7ee07","604df365b8391cbca8848f88daa700b770da5bb136f70bfb0a3ea33ba386fcd5"],["2596e5b3cf5494e60d2a750d03c66abc2e0183af53620b893f9cf9fc3b76dc26","68a0a7ac9a0cc093884a6b84f45a2cde595194e0f48dbd566fa78a3174b182fe"],["28bd38d44030dd9ca028b2a2f31a795f4c7a5e85a785df7847e3d525e99d4787","552dd7405c4183733ad3c4e7ccb999b4fed81b7a4444aab499d41d6d78d5bbfc"],["59233a3346f61135f431f96cf0197e24ad38240b222c010a6ce538cf4c24347b","3cce55908611d2b93f221613f09cfc4dbcd2e2b609233eea5439ad1908a10b20"],["5830f025f1078d408948f73096af97de1e9e70b3be85890acb21132c34ff961f","67d451752c2433ffe66e47242e301e56db2b2f8203553cab9de717e25793d41e"],["6a0c8b194571e874b82d904da36d43096bbe36d512e24ff8dcb2b00b57ffd3ec","5f85adb7749cc735ec838bcccfe7d4b52902c6132998d7ac8e032cad031c42b8"],["53b3f967bff8760948dec5e9282f35d1434a5503790b9012e17faefbe7c4d699","404462283c8664a17daa5b4059dcd10e2699fd86d0140de9f3e8ad0566098ae5"]]}}});var $g=M((qQe,gne)=>{"use strict";var KRe=yne(),zRe=mne();gne.exports=new KRe("X25519","ED25519",zRe)});var xne=M((OQe,vne)=>{vne.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var Ene=M((DQe,_ne)=>{"use strict";var jRe=xne(),VRe=i1(),wne=Nf();_ne.exports=(r,e={})=>{let t=VRe(r),i=wne.decode.fromReader(t.reader,e),n=!1,s={read:async o=>{let{value:a,done:f}=await t.reader.next(o);if(f&&a.length<o)throw new Error("Couldn't read enough bytes");if(n=f,!a)throw new Error("Value is null");return a},readLP:async()=>{let{value:o,done:a}=await i.next();if(n=a,!o)throw new Error("Value is null");return o},readPB:async o=>{let a=await s.readLP();if(!a)throw new Error("Value is null");let f=jRe(a)?a:a.slice();return o.decode(f)},write:o=>{t.writer.push(o)},writeLP:o=>{s.write(wne.encode.single(o,e))},writePB:(o,a)=>{s.writeLP(a.encode(o))},pb:o=>({read:()=>s.readPB(o),write:a=>s.writePB(a,o)}),unwrap:()=>(t.rest(),t.stream)};return s}});var Ane=M((LQe,Sne)=>{"use strict";var HRe=q3();Sne.exports=function(){let e,t,i=async s=>{if(e)throw new Error("already piped");e=HRe(s),t&&t(e)},n={[Symbol.asyncIterator](){return this},next(){return e?e.next():new Promise(s=>{t=o=>{t=null,s(o.next())}})}};return{sink:i,source:n}}});var kne=M((UQe,Tne)=>{var Ine=Ane();Tne.exports=function(){var r=Ine(),e=Ine();return[{source:r.source,sink:e.sink},{source:e.source,sink:r.sink}]}});var Mne=M(i6=>{"use strict";var r6=F0();function Cne(r,e,t){return r6(r&&typeof r.id=="string"),e==null&&(e=Buffer.alloc(0)),t==null&&(t=Buffer.alloc(r.size,0)),r.mac(e,t)}function Bne(r,e,t,i){if(t==null&&(t=Buffer.alloc(0)),r6(r&&typeof r.id=="string"),r6(Buffer.isBuffer(e)),r6(Buffer.isBuffer(t)),r6(i>>>0===i),e.length!==r.size)throw new RangeError("Invalid PRK length.");let n=Math.ceil(i/r.size);if(n>255)throw new RangeError("Invalid output length.");let s=Buffer.alloc(n*r.size),o=Buffer.from([0]),a=r.hmac(),f=Buffer.alloc(0),c=0;for(let l=0;l<n;l++)o[0]+=1,a.init(e),a.update(f),a.update(t),a.update(o),f=a.final(),c+=f.copy(s,c);return s.slice(0,i)}function $Re(r,e,t,i,n){let s=Cne(r,e,t);return Bne(r,s,i,n)}i6.native=0;i6.extract=Cne;i6.expand=Bne;i6.derive=$Re});var Nne=M((KQe,Rne)=>{"use strict";Rne.exports=Mne()});var One=M((zQe,qne)=>{"use strict";var rp=F0(),Pne=class{constructor(e,t,i=[],n=[]){rp(typeof e=="function"),rp(t>>>0===t),rp(Array.isArray(i)),rp(Array.isArray(n)),this.hash=e,this.size=t,this.x=i,this.y=n,this.inner=new e,this.outer=new e}init(e){if(rp(Buffer.isBuffer(e)),e.length>this.size){let i=this.hash,n=new i;n.init(...this.x),n.update(e),e=n.final(...this.y),rp(e.length<=this.size)}let t=Buffer.alloc(this.size);for(let i=0;i<e.length;i++)t[i]=e[i]^54;for(let i=e.length;i<t.length;i++)t[i]=54;this.inner.init(...this.x),this.inner.update(t);for(let i=0;i<e.length;i++)t[i]=e[i]^92;for(let i=e.length;i<t.length;i++)t[i]=92;return this.outer.init(...this.x),this.outer.update(t),this}update(e){return this.inner.update(e),this}final(){return this.outer.update(this.inner.final(...this.y)),this.outer.final(...this.y)}};qne.exports=Pne});var YS=M((jQe,Lne)=>{"use strict";var n6=F0(),GRe=One(),Gg=-1,$S=Buffer.alloc(8,0),Dne=Buffer.alloc(64,0);Dne[0]=128;var YRe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zn=class{constructor(){this.state=new Uint32Array(8),this.msg=new Uint32Array(64),this.block=Buffer.alloc(64),this.size=Gg}init(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.size=0,this}update(e){return n6(Buffer.isBuffer(e)),this._update(e,e.length),this}final(){return this._final(Buffer.alloc(32))}_update(e,t){n6(this.size!==Gg,"Context is not initialized.");let i=this.size&63,n=0;if(this.size+=t,i>0){let s=64-i;if(s>t&&(s=t),e.copy(this.block,i,n,n+s),i+=s,t-=s,n+=s,i<64)return;this._transform(this.block,0)}for(;t>=64;)this._transform(e,n),n+=64,t-=64;t>0&&e.copy(this.block,0,n,n+t)}_final(e){n6(this.size!==Gg,"Context is not initialized.");let t=this.size&63,i=this.size*8;GS($S,i*(1/4294967296)>>>0,0),GS($S,i>>>0,4),this._update(Dne,1+(119-t&63)),this._update($S,8);for(let n=0;n<8;n++)GS(e,this.state[n],n*4),this.state[n]=0;for(let n=0;n<64;n++)this.msg[n]=0;for(let n=0;n<64;n++)this.block[n]=0;return this.size=Gg,e}_transform(e,t){let i=this.msg,n=this.state[0],s=this.state[1],o=this.state[2],a=this.state[3],f=this.state[4],c=this.state[5],l=this.state[6],h=this.state[7],x=0;for(;x<16;x++)i[x]=tNe(e,t+x*4);for(;x<64;x++)i[x]=XRe(i[x-2])+i[x-7]+JRe(i[x-15])+i[x-16];for(x=0;x<64;x++){let _=h+ZRe(f)+QRe(f,c,l)+YRe[x]+i[x],E=WRe(n)+eNe(n,s,o);h=l,l=c,c=f,f=a+_>>>0,a=o,o=s,s=n,n=_+E>>>0}this.state[0]+=n,this.state[1]+=s,this.state[2]+=o,this.state[3]+=a,this.state[4]+=f,this.state[5]+=c,this.state[6]+=l,this.state[7]+=h}static hash(){return new zn}static hmac(){return new GRe(zn,64)}static digest(e){return zn.ctx.init().update(e).final()}static root(e,t){return n6(Buffer.isBuffer(e)&&e.length===32),n6(Buffer.isBuffer(t)&&t.length===32),zn.ctx.init().update(e).update(t).final()}static multi(e,t,i){let{ctx:n}=zn;return n.init(),n.update(e),n.update(t),i&&n.update(i),n.final()}static mac(e,t){return zn.hmac().init(t).update(e).final()}};zn.native=0;zn.id="SHA256";zn.size=32;zn.bits=256;zn.blockSize=64;zn.zero=Buffer.alloc(32,0);zn.ctx=new zn;function WRe(r){return(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10)}function ZRe(r){return(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7)}function JRe(r){return(r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3}function XRe(r){return(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10}function QRe(r,e,t){return t^r&(e^t)}function eNe(r,e,t){return r&e|t&(r|e)}function tNe(r,e){return r[e++]*16777216+r[e++]*65536+r[e++]*256+r[e]}function GS(r,e,t){return r[t++]=e>>>24,r[t++]=e>>>16,r[t++]=e>>>8,r[t++]=e,t}Lne.exports=zn});var Fne=M((Une,s6)=>{"use strict";(function(r,e){typeof define=="function"&&define.amd?define(["protobufjs/minimal"],e):typeof ia=="function"&&typeof s6=="object"&&s6&&s6.exports&&(s6.exports=e(Do()))})(Une,function(r){"use strict";var e=r.Reader,t=r.Writer,i=r.util,n=r.roots["libp2p-noise"]||(r.roots["libp2p-noise"]={});return n.pb=function(){var s={};return s.NoiseHandshakePayload=function(){function o(a){if(a)for(var f=Object.keys(a),c=0;c<f.length;++c)a[f[c]]!=null&&(this[f[c]]=a[f[c]])}return o.prototype.identityKey=i.newBuffer([]),o.prototype.identitySig=i.newBuffer([]),o.prototype.data=i.newBuffer([]),o.create=function(f){return new o(f)},o.encode=function(f,c){return c||(c=t.create()),f.identityKey!=null&&Object.hasOwnProperty.call(f,"identityKey")&&c.uint32(10).bytes(f.identityKey),f.identitySig!=null&&Object.hasOwnProperty.call(f,"identitySig")&&c.uint32(18).bytes(f.identitySig),f.data!=null&&Object.hasOwnProperty.call(f,"data")&&c.uint32(26).bytes(f.data),c},o.encodeDelimited=function(f,c){return this.encode(f,c).ldelim()},o.decode=function(f,c){f instanceof e||(f=e.create(f));for(var l=c===void 0?f.len:f.pos+c,h=new n.pb.NoiseHandshakePayload;f.pos<l;){var x=f.uint32();switch(x>>>3){case 1:h.identityKey=f.bytes();break;case 2:h.identitySig=f.bytes();break;case 3:h.data=f.bytes();break;default:f.skipType(x&7);break}}return h},o.decodeDelimited=function(f){return f instanceof e||(f=new e(f)),this.decode(f,f.uint32())},o.verify=function(f){return typeof f!="object"||f===null?"object expected":f.identityKey!=null&&f.hasOwnProperty("identityKey")&&!(f.identityKey&&typeof f.identityKey.length=="number"||i.isString(f.identityKey))?"identityKey: buffer expected":f.identitySig!=null&&f.hasOwnProperty("identitySig")&&!(f.identitySig&&typeof f.identitySig.length=="number"||i.isString(f.identitySig))?"identitySig: buffer expected":f.data!=null&&f.hasOwnProperty("data")&&!(f.data&&typeof f.data.length=="number"||i.isString(f.data))?"data: buffer expected":null},o.fromObject=function(f){if(f instanceof n.pb.NoiseHandshakePayload)return f;var c=new n.pb.NoiseHandshakePayload;return f.identityKey!=null&&(typeof f.identityKey=="string"?i.base64.decode(f.identityKey,c.identityKey=i.newBuffer(i.base64.length(f.identityKey)),0):f.identityKey.length&&(c.identityKey=f.identityKey)),f.identitySig!=null&&(typeof f.identitySig=="string"?i.base64.decode(f.identitySig,c.identitySig=i.newBuffer(i.base64.length(f.identitySig)),0):f.identitySig.length&&(c.identitySig=f.identitySig)),f.data!=null&&(typeof f.data=="string"?i.base64.decode(f.data,c.data=i.newBuffer(i.base64.length(f.data)),0):f.data.length&&(c.data=f.data)),c},o.toObject=function(f,c){c||(c={});var l={};return c.defaults&&(c.bytes===String?l.identityKey="":(l.identityKey=[],c.bytes!==Array&&(l.identityKey=i.newBuffer(l.identityKey))),c.bytes===String?l.identitySig="":(l.identitySig=[],c.bytes!==Array&&(l.identitySig=i.newBuffer(l.identitySig))),c.bytes===String?l.data="":(l.data=[],c.bytes!==Array&&(l.data=i.newBuffer(l.data)))),f.identityKey!=null&&f.hasOwnProperty("identityKey")&&(l.identityKey=c.bytes===String?i.base64.encode(f.identityKey,0,f.identityKey.length):c.bytes===Array?Array.prototype.slice.call(f.identityKey):f.identityKey),f.identitySig!=null&&f.hasOwnProperty("identitySig")&&(l.identitySig=c.bytes===String?i.base64.encode(f.identitySig,0,f.identitySig.length):c.bytes===Array?Array.prototype.slice.call(f.identitySig):f.identitySig),f.data!=null&&f.hasOwnProperty("data")&&(l.data=c.bytes===String?i.base64.encode(f.data,0,f.data.length):c.bytes===Array?Array.prototype.slice.call(f.data):f.data),l},o.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},o}(),s}(),n})});var Jc=M(vi=>{"use strict";var o6=vi&&vi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vi,"__esModule",{value:!0});vi.isValidPublicKey=vi.getHkdf=vi.verifySignedPayload=vi.getHandshakePayload=vi.decodePayload=vi.getPeerIdFromPayload=vi.signPayload=vi.createHandshakePayload=vi.getPayload=vi.generateKeypair=void 0;var Kne=o6(Nne()),WS=o6($g()),zne=o6(YS()),Da=Fi(),ZS=o6(Gr()),rNe=u1(),iNe=Fne(),nNe=o6(gn()),Yg=iNe.pb.NoiseHandshakePayload;function sNe(){let r=WS.default.privateKeyGenerate();return{publicKey:WS.default.publicKeyCreate(r),privateKey:r}}vi.generateKeypair=sNe;async function oNe(r,e,t){let i=await Vne(r,JS(e)),n=t??Da.Buffer.alloc(0);return jne(r.marshalPubKey(),i,n)}vi.getPayload=oNe;function jne(r,e,t){let i=Yg.create({identityKey:Da.Buffer.from(r),identitySig:e,data:t??null});return Da.Buffer.from(Yg.encode(i).finish())}vi.createHandshakePayload=jne;async function Vne(r,e){return Da.Buffer.from(await r.privKey.sign(e))}vi.signPayload=Vne;async function aNe(r){return await ZS.default.createFromPubKey(Da.Buffer.from(r.identityKey))}vi.getPeerIdFromPayload=aNe;function fNe(r){return Yg.toObject(Yg.decode(Da.Buffer.from(r)))}vi.decodePayload=fNe;function JS(r){return Da.Buffer.concat([Da.Buffer.from("noise-libp2p-static-key:"),r])}vi.getHandshakePayload=JS;async function cNe(r,e){let t=await ZS.default.createFromPubKey(e);return nNe.default(t.id,r)}async function uNe(r,e,t){let i=Da.Buffer.from(e.identityKey);if(!await cNe(t.id,i))throw new Error("Peer ID doesn't match libp2p public key.");let n=JS(r),s=rNe.keys.unmarshalPublicKey(i);if(!e.identitySig||!s.verify(n,Da.Buffer.from(e.identitySig)))throw new Error("Static key doesn't match to peer that signed payload!");return await ZS.default.createFromPubKey(i)}vi.verifySignedPayload=uNe;function lNe(r,e){let t=Da.Buffer.alloc(0),i=Kne.default.extract(zne.default,e,r),n=Kne.default.expand(zne.default,i,t,96),s=n.slice(0,32),o=n.slice(32,64),a=n.slice(64,96);return[s,o,a]}vi.getHkdf=lNe;function dNe(r){return WS.default.publicKeyVerify(r.slice(0,32))}vi.isValidPublicKey=dNe});var $ne=M((HQe,Hne)=>{"use strict";var ip=F0(),XS=new Int8Array(new Int16Array([1]).buffer)[0]===0,a6=class{constructor(){this.state=new Uint32Array(16),this.stream=new Uint32Array(16),this.bytes=new Uint8Array(this.stream.buffer),this.pos=-1,XS&&(this.bytes=Buffer.alloc(64))}init(e,t,i){if(i==null&&(i=0),ip(Buffer.isBuffer(e)),ip(Buffer.isBuffer(t)),ip(Number.isSafeInteger(i)),e.length!==16&&e.length!==32)throw new RangeError("Invalid key size.");if(t.length>=24&&(e=a6.derive(e,t.slice(0,16)),t=t.slice(16)),this.state[0]=1634760805,this.state[1]=e.length<32?824206446:857760878,this.state[2]=e.length<32?2036477238:2036477234,this.state[3]=1797285236,this.state[4]=Vr(e,0),this.state[5]=Vr(e,4),this.state[6]=Vr(e,8),this.state[7]=Vr(e,12),this.state[8]=Vr(e,16%e.length),this.state[9]=Vr(e,20%e.length),this.state[10]=Vr(e,24%e.length),this.state[11]=Vr(e,28%e.length),this.state[12]=i>>>0,t.length===8)this.state[13]=i/4294967296>>>0,this.state[14]=Vr(t,0),this.state[15]=Vr(t,4);else if(t.length===12)this.state[13]=Vr(t,0),this.state[14]=Vr(t,4),this.state[15]=Vr(t,8);else if(t.length===16)this.state[12]=Vr(t,0),this.state[13]=Vr(t,4),this.state[14]=Vr(t,8),this.state[15]=Vr(t,12);else throw new RangeError("Invalid nonce size.");return this.pos=0,this}encrypt(e){if(ip(Buffer.isBuffer(e)),this.pos===-1)throw new Error("Context is not initialized.");for(let t=0;t<e.length;t++)(this.pos&63)==0&&(this._block(),this.pos=0),e[t]^=this.bytes[this.pos++];return e}_block(){for(let e=0;e<16;e++)this.stream[e]=this.state[e];for(let e=0;e<10;e++)as(this.stream,0,4,8,12),as(this.stream,1,5,9,13),as(this.stream,2,6,10,14),as(this.stream,3,7,11,15),as(this.stream,0,5,10,15),as(this.stream,1,6,11,12),as(this.stream,2,7,8,13),as(this.stream,3,4,9,14);for(let e=0;e<16;e++)this.stream[e]+=this.state[e];if(XS)for(let e=0;e<16;e++)z0(this.bytes,this.stream[e],e*4);this.state[12]+=1,this.state[12]===0&&(this.state[13]+=1)}destroy(){for(let e=0;e<16;e++)this.state[e]=0,this.stream[e]=0;if(XS)for(let e=0;e<64;e++)this.bytes[e]=0;return this.pos=-1,this}static derive(e,t){if(ip(Buffer.isBuffer(e)),ip(Buffer.isBuffer(t)),e.length!==16&&e.length!==32)throw new RangeError("Invalid key size.");if(t.length!==16)throw new RangeError("Invalid nonce size.");let i=new Uint32Array(16);i[0]=1634760805,i[1]=e.length<32?824206446:857760878,i[2]=e.length<32?2036477238:2036477234,i[3]=1797285236,i[4]=Vr(e,0),i[5]=Vr(e,4),i[6]=Vr(e,8),i[7]=Vr(e,12),i[8]=Vr(e,16%e.length),i[9]=Vr(e,20%e.length),i[10]=Vr(e,24%e.length),i[11]=Vr(e,28%e.length),i[12]=Vr(t,0),i[13]=Vr(t,4),i[14]=Vr(t,8),i[15]=Vr(t,12);for(let s=0;s<10;s++)as(i,0,4,8,12),as(i,1,5,9,13),as(i,2,6,10,14),as(i,3,7,11,15),as(i,0,5,10,15),as(i,1,6,11,12),as(i,2,7,8,13),as(i,3,4,9,14);let n=Buffer.alloc(32);return z0(n,i[0],0),z0(n,i[1],4),z0(n,i[2],8),z0(n,i[3],12),z0(n,i[12],16),z0(n,i[13],20),z0(n,i[14],24),z0(n,i[15],28),n}};a6.native=0;function as(r,e,t,i,n){r[e]+=r[t],r[n]=Wg(r[n]^r[e],16),r[i]+=r[n],r[t]=Wg(r[t]^r[i],12),r[e]+=r[t],r[n]=Wg(r[n]^r[e],8),r[i]+=r[n],r[t]=Wg(r[t]^r[i],7)}function Wg(r,e){return r<<e|r>>>32-e}function Vr(r,e){return r[e++]+r[e++]*256+r[e++]*65536+r[e]*16777216}function z0(r,e,t){return r[t++]=e,e>>>=8,r[t++]=e,e>>>=8,r[t++]=e,e>>>=8,r[t++]=e,t}Hne.exports=a6});var Yne=M(($Qe,Gne)=>{"use strict";var Zg=F0(),QS=class{constructor(){this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.buffer=Buffer.alloc(16),this.fin=-1,this.leftover=0}init(e){Zg(Buffer.isBuffer(e)&&e.length>=32);let t=jn(e,0),i=jn(e,2),n=jn(e,4),s=jn(e,6),o=jn(e,8),a=jn(e,10),f=jn(e,12),c=jn(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|i<<3)&8191,this.r[2]=(i>>>10|n<<6)&7939,this.r[3]=(n>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|f<<5)&8065,this.r[8]=(f>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let l=0;l<10;l++)this.h[l]=0;for(let l=0;l<8;l++)this.pad[l]=jn(e,16+2*l);return this.fin=0,this.leftover=0,this}_blocks(e,t,i){let n=this.fin?0:1<<11,s=new Uint32Array(10);for(;t>=16;){let o=jn(e,i+0),a=jn(e,i+2),f=jn(e,i+4),c=jn(e,i+6),l=jn(e,i+8),h=jn(e,i+10),x=jn(e,i+12),_=jn(e,i+14);this.h[0]+=o&8191,this.h[1]+=(o>>>13|a<<3)&8191,this.h[2]+=(a>>>10|f<<6)&8191,this.h[3]+=(f>>>7|c<<9)&8191,this.h[4]+=(c>>>4|l<<12)&8191,this.h[5]+=l>>>1&8191,this.h[6]+=(l>>>14|h<<2)&8191,this.h[7]+=(h>>>11|x<<5)&8191,this.h[8]+=(x>>>8|_<<8)&8191,this.h[9]+=_>>>5|n;let E=0;for(let C=0;C<10;C++){s[C]=E;for(let L=0;L<10;L++){let O=this.h[L];L<=C?O*=this.r[C-L]:O*=5*this.r[C+10-L],s[C]+=O,L===4&&(E=s[C]>>>13,s[C]&=8191)}E+=s[C]>>>13,s[C]&=8191}E=(E<<2)+E,E+=s[0],s[0]=E&8191,E=E>>>13,s[1]+=E;for(let C=0;C<10;C++)this.h[C]=s[C];i+=16,t-=16}}update(e){if(Zg(Buffer.isBuffer(e)),this.fin===-1)throw new Error("Context is not initialized.");let t=e.length,i=0;if(this.leftover){let n=16-this.leftover;n>t&&(n=t);for(let s=0;s<n;s++)this.buffer[this.leftover+s]=e[i+s];if(t-=n,i+=n,this.leftover+=n,this.leftover<16)return this;this._blocks(this.buffer,16,0),this.leftover=0}if(t>=16){let n=t&~(16-1);this._blocks(e,n,i),i+=n,t-=n}if(t){for(let n=0;n<t;n++)this.buffer[this.leftover+n]=e[i+n];this.leftover+=t}return this}final(){if(this.fin===-1)throw new Error("Context is not initialized.");let e=Buffer.alloc(16),t=new Uint16Array(10);if(this.leftover){let o=this.leftover;for(this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this._blocks(this.buffer,16,0)}let i=this.h[1]>>>13;this.h[1]&=8191;for(let o=2;o<10;o++)this.h[o]+=i,i=this.h[o]>>>13,this.h[o]&=8191;this.h[0]+=i*5,i=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=i,i=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=i,t[0]=this.h[0]+5,i=t[0]>>>13,t[0]&=8191;for(let o=1;o<10;o++)t[o]=this.h[o]+i,i=t[o]>>>13,t[o]&=8191;let n=(i^1)-1;for(let o=0;o<10;o++)t[o]&=n;n=~n;for(let o=0;o<10;o++)this.h[o]=this.h[o]&n|t[o];this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;let s=this.h[0]+this.pad[0];this.h[0]=s;for(let o=1;o<8;o++)s=this.h[o]+this.pad[o]+(s>>>16),this.h[o]=s;for(let o=0;o<8;o++)hNe(e,this.h[o],o*2);return this.destroy(),e}destroy(){for(let e=0;e<10;e++)this.r[e]=0,this.h[e]=0;for(let e=0;e<8;e++)this.pad[e]=0;for(let e=0;e<16;e++)this.buffer[e]=0;this.fin=-1,this.leftover=0}verify(e){Zg(Buffer.isBuffer(e)),Zg(e.length===16);let t=this.final(),i=0;for(let n=0;n<16;n++)i|=t[n]^e[n];return i-1>>>31!=0}};QS.native=0;function jn(r,e){return r[e++]+r[e]*256}function hNe(r,e,t){return r[t++]=e,r[t++]=e>>>8,t}Gne.exports=QS});var Qne=M((GQe,Xne)=>{"use strict";var np=F0(),Wne=$ne(),pNe=Yne(),bNe=Buffer.alloc(16,0),Ol=class{constructor(){this.chacha=new Wne,this.poly=new pNe,this.key=Buffer.alloc(64),this.mode=-1,this.aadLen=0,this.cipherLen=0}init(e,t){return np(Buffer.isBuffer(e)),np(Buffer.isBuffer(t)),this.key.fill(0),this.chacha.init(e,t,0),this.chacha.encrypt(this.key),this.poly.init(this.key),this.mode=0,this.aadLen=0,this.cipherLen=0,this}aad(e){if(this.mode===-1)throw new Error("Context is not initialized.");if(this.mode!==0)throw new Error("Invalid state for aad.");return this.poly.update(e),this.aadLen+=e.length,this}encrypt(e){if(this.mode===-1)throw new Error("Context is not initialized.");if(this.mode!==0&&this.mode!==1)throw new Error("Invalid state for encrypt.");return this.mode===0&&(this._pad16(this.aadLen),this.mode=1),this.chacha.encrypt(e),this.poly.update(e),this.cipherLen+=e.length,e}decrypt(e){if(np(Buffer.isBuffer(e)),this.mode===-1)throw new Error("Context is not initialized.");if(this.mode!==0&&this.mode!==2)throw new Error("Invalid state for decrypt.");return this.mode===0&&(this._pad16(this.aadLen),this.mode=2),this.cipherLen+=e.length,this.poly.update(e),this.chacha.encrypt(e),e}auth(e){if(np(Buffer.isBuffer(e)),this.mode===-1)throw new Error("Context is not initialized.");if(this.mode!==0&&this.mode!==3)throw new Error("Invalid state for auth.");return this.mode===0&&(this._pad16(this.aadLen),this.mode=3),this.cipherLen+=e.length,this.poly.update(e),e}final(){if(this.mode===-1)throw new Error("Context is not initialized.");let e=Buffer.alloc(16);Jne(e,this.aadLen,0),Jne(e,this.cipherLen,8),this.mode===0&&this._pad16(this.aadLen),this._pad16(this.cipherLen),this.poly.update(e);let t=this.poly.final();return this.destroy(),t}destroy(){this.chacha.destroy(),this.poly.destroy();for(let e=0;e<64;e++)this.key[e]=0;return this.mode=-1,this.aadLen=0,this.cipherLen=0,this}verify(e){np(Buffer.isBuffer(e)),np(e.length===16);let t=this.final(),i=0;for(let n=0;n<16;n++)i|=t[n]^e[n];return i-1>>>31!=0}_pad16(e){let t=e&15;t>0&&this.poly.update(bNe.slice(0,16-t))}static encrypt(e,t,i,n){let s=new Ol;return s.init(e,t),n&&s.aad(n),s.encrypt(i),s.final()}static decrypt(e,t,i,n,s){let o=new Ol;return o.init(e,t),s&&o.aad(s),o.decrypt(i),o.verify(n)}static auth(e,t,i,n,s){let o=new Ol;return o.init(e,t),s&&o.aad(s),o.auth(i),o.verify(n)}};Ol.native=Wne.native;function Zne(r,e,t){return r[t++]=e,e>>>=8,r[t++]=e,e>>>=8,r[t++]=e,e>>>=8,r[t++]=e,t}function Jne(r,e,t){let i=e*(1/4294967296)>>>0,n=e>>>0;return Zne(r,n,t+0),Zne(r,i,t+4),t+8}Xne.exports=Ol});var Jg=M(j0=>{"use strict";Object.defineProperty(j0,"__esModule",{value:!0});j0.DUMP_SESSION_KEYS=j0.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG=j0.NOISE_MSG_MAX_LENGTH_BYTES=void 0;j0.NOISE_MSG_MAX_LENGTH_BYTES=65535;j0.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG=j0.NOISE_MSG_MAX_LENGTH_BYTES-16;j0.DUMP_SESSION_KEYS=process.env.DUMP_SESSION_KEYS});var sp=M(Vn=>{"use strict";var yNe=Vn&&Vn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.logCipherState=Vn.logRemoteEphemeralKey=Vn.logRemoteStaticKey=Vn.logLocalEphemeralKeys=Vn.logLocalStaticKeys=Vn.logger=void 0;var mNe=yNe(sr()),gNe=Jg();Vn.logger=mNe.default("libp2p:noise");var Xo;gNe.DUMP_SESSION_KEYS?Xo=Vn.logger:Xo=()=>{};function vNe(r){Xo(`LOCAL_STATIC_PUBLIC_KEY ${r.publicKey.toString("hex")}`),Xo(`LOCAL_STATIC_PRIVATE_KEY ${r.privateKey.toString("hex")}`)}Vn.logLocalStaticKeys=vNe;function xNe(r){r?(Xo(`LOCAL_PUBLIC_EPHEMERAL_KEY ${r.publicKey.toString("hex")}`),Xo(`LOCAL_PRIVATE_EPHEMERAL_KEY ${r.privateKey.toString("hex")}`)):Xo("Missing local ephemeral keys.")}Vn.logLocalEphemeralKeys=xNe;function wNe(r){Xo(`REMOTE_STATIC_PUBLIC_KEY ${r.toString("hex")}`)}Vn.logRemoteStaticKey=wNe;function _Ne(r){Xo(`REMOTE_EPHEMERAL_PUBLIC_KEY ${r.toString("hex")}`)}Vn.logRemoteEphemeralKey=_Ne;function ENe(r){r.cs1&&r.cs2?(Xo(`CIPHER_STATE_1 ${r.cs1.n} ${r.cs1.k.toString("hex")}`),Xo(`CIPHER_STATE_2 ${r.cs2.n} ${r.cs2.k.toString("hex")}`)):Xo("Missing cipher state.")}Vn.logCipherState=ENe});var tA=M(V0=>{"use strict";var eA=V0&&V0.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(V0,"__esModule",{value:!0});V0.AbstractHandshake=V0.MIN_NONCE=void 0;var _s=Fi(),ese=eA(Qne()),SNe=eA($g()),ANe=eA(YS()),tse=Jc(),INe=sp();V0.MIN_NONCE=0;var rse=class{encryptWithAd(e,t,i){let n=this.encrypt(e.k,e.n,t,i);return this.setNonce(e,this.incrementNonce(e.n)),n}decryptWithAd(e,t,i){let{plaintext:n,valid:s}=this.decrypt(e.k,e.n,t,i);return this.setNonce(e,this.incrementNonce(e.n)),{plaintext:n,valid:s}}hasKey(e){return!this.isEmptyKey(e.k)}setNonce(e,t){e.n=t}createEmptyKey(){return _s.Buffer.alloc(32)}isEmptyKey(e){return this.createEmptyKey().equals(e)}incrementNonce(e){return e+1}nonceToBytes(e){let t=_s.Buffer.alloc(12);return t.writeUInt32LE(e,4),t}encrypt(e,t,i,n){let s=this.nonceToBytes(t),o=new ese.default;return n=_s.Buffer.from(n),o.init(e,s),o.aad(i),o.encrypt(n),_s.Buffer.concat([n,o.final()])}encryptAndHash(e,t){let i;return this.hasKey(e.cs)?i=this.encryptWithAd(e.cs,e.h,t):i=t,this.mixHash(e,i),i}decrypt(e,t,i,n){let s=this.nonceToBytes(t),o=new ese.default;n=_s.Buffer.from(n);let a=n.slice(n.length-16);return n=n.slice(0,n.length-16),o.init(e,s),o.aad(i),o.decrypt(n),{plaintext:n,valid:o.verify(a)}}decryptAndHash(e,t){let i,n=!0;return this.hasKey(e.cs)?{plaintext:i,valid:n}=this.decryptWithAd(e.cs,e.h,t):i=t,this.mixHash(e,t),{plaintext:i,valid:n}}dh(e,t){try{let i=SNe.default.derive(t,e),n=_s.Buffer.alloc(32);return i.copy(n),n}catch(i){return INe.logger(i.message),_s.Buffer.alloc(32)}}mixHash(e,t){e.h=this.getHash(e.h,t)}getHash(e,t){return ANe.default.digest(_s.Buffer.from([...e,...t]))}mixKey(e,t){let[i,n]=tse.getHkdf(e.ck,t);e.cs=this.initializeKey(n),e.ck=i}initializeKey(e){let t=V0.MIN_NONCE;return{k:e,n:t}}initializeSymmetric(e){let t=_s.Buffer.from(e,"utf-8"),i=this.hashProtocolName(t),n=i,s=this.createEmptyKey();return{cs:this.initializeKey(s),ck:n,h:i}}hashProtocolName(e){if(e.length<=32){let t=_s.Buffer.alloc(32);return e.copy(t),t}else return this.getHash(e,_s.Buffer.alloc(0))}split(e){let[t,i]=tse.getHkdf(e.ck,_s.Buffer.alloc(0)),n=this.initializeKey(t),s=this.initializeKey(i);return{cs1:n,cs2:s}}writeMessageRegular(e,t){let i=this.encryptWithAd(e,_s.Buffer.alloc(0),t),n=this.createEmptyKey(),s=_s.Buffer.alloc(0);return{ne:n,ns:s,ciphertext:i}}readMessageRegular(e,t){return this.decryptWithAd(e,_s.Buffer.alloc(0),t.ciphertext)}};V0.AbstractHandshake=rse});var nse=M(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});Xg.XX=void 0;var Dl=Fi(),op=Jc(),TNe=tA(),ise=class extends TNe.AbstractHandshake{initializeInitiator(e,t,i,n){let s="Noise_XX_25519_ChaChaPoly_SHA256",o=this.initializeSymmetric(s);this.mixHash(o,e);let a=Dl.Buffer.alloc(32);return{ss:o,s:t,rs:i,psk:n,re:a}}initializeResponder(e,t,i,n){let s="Noise_XX_25519_ChaChaPoly_SHA256",o=this.initializeSymmetric(s);this.mixHash(o,e);let a=Dl.Buffer.alloc(32);return{ss:o,s:t,rs:i,psk:n,re:a}}writeMessageA(e,t,i){let n=Dl.Buffer.alloc(0);i!==void 0?e.e=i:e.e=op.generateKeypair();let s=e.e.publicKey;this.mixHash(e.ss,s);let o=this.encryptAndHash(e.ss,t);return{ne:s,ns:n,ciphertext:o}}writeMessageB(e,t){e.e=op.generateKeypair();let i=e.e.publicKey;this.mixHash(e.ss,i),this.mixKey(e.ss,this.dh(e.e.privateKey,e.re));let n=Dl.Buffer.from(e.s.publicKey),s=this.encryptAndHash(e.ss,n);this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));let o=this.encryptAndHash(e.ss,t);return{ne:i,ns:s,ciphertext:o}}writeMessageC(e,t){let i=Dl.Buffer.from(e.s.publicKey),n=this.encryptAndHash(e.ss,i);this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));let s=this.encryptAndHash(e.ss,t),a={ne:this.createEmptyKey(),ns:n,ciphertext:s},{cs1:f,cs2:c}=this.split(e.ss);return{h:e.ss.h,messageBuffer:a,cs1:f,cs2:c}}readMessageA(e,t){return op.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),this.decryptAndHash(e.ss,t.ciphertext)}readMessageB(e,t){if(op.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),!e.e)throw new Error("Handshake state `e` param is missing.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.re));let{plaintext:i,valid:n}=this.decryptAndHash(e.ss,t.ns);n&&i.length===32&&op.isValidPublicKey(i)&&(e.rs=i),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));let{plaintext:s,valid:o}=this.decryptAndHash(e.ss,t.ciphertext);return{plaintext:s,valid:n&&o}}readMessageC(e,t){let{plaintext:i,valid:n}=this.decryptAndHash(e.ss,t.ns);if(n&&i.length===32&&op.isValidPublicKey(i)&&(e.rs=i),!e.e)throw new Error("Handshake state `e` param is missing.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));let{plaintext:s,valid:o}=this.decryptAndHash(e.ss,t.ciphertext),{cs1:a,cs2:f}=this.split(e.ss);return{h:e.ss.h,plaintext:s,valid:n&&o,cs1:a,cs2:f}}initSession(e,t,i){let n=this.createEmptyKey(),s=Dl.Buffer.alloc(32),o;return e?o=this.initializeInitiator(t,i,s,n):o=this.initializeResponder(t,i,s,n),{hs:o,i:e,mc:0}}sendMessage(e,t,i){let n;if(e.mc===0)n=this.writeMessageA(e.hs,t,i);else if(e.mc===1)n=this.writeMessageB(e.hs,t);else if(e.mc===2){let{h:s,messageBuffer:o,cs1:a,cs2:f}=this.writeMessageC(e.hs,t);n=o,e.h=s,e.cs1=a,e.cs2=f}else if(e.mc>2)if(e.i){if(!e.cs1)throw new Error("CS1 (cipher state) is not defined");n=this.writeMessageRegular(e.cs1,t)}else{if(!e.cs2)throw new Error("CS2 (cipher state) is not defined");n=this.writeMessageRegular(e.cs2,t)}else throw new Error("Session invalid.");return e.mc++,n}recvMessage(e,t){let i=Dl.Buffer.alloc(0),n=!1;if(e.mc===0)({plaintext:i,valid:n}=this.readMessageA(e.hs,t));else if(e.mc===1)({plaintext:i,valid:n}=this.readMessageB(e.hs,t));else if(e.mc===2){let{h:s,plaintext:o,valid:a,cs1:f,cs2:c}=this.readMessageC(e.hs,t);i=o,n=a,e.h=s,e.cs1=f,e.cs2=c}return e.mc++,{plaintext:i,valid:n}}};Xg.XX=ise});var f6=M(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.decode2=Xi.decode1=Xi.decode0=Xi.encode2=Xi.encode1=Xi.encode0=Xi.uint16BEDecode=Xi.uint16BEEncode=void 0;var ap=Fi(),kNe=(r,e,t)=>(e=e||ap.Buffer.allocUnsafe(2),e.writeUInt16BE(r,t),e);Xi.uint16BEEncode=kNe;Xi.uint16BEEncode.bytes=2;var CNe=r=>{if(r.length<2)throw RangeError("Could not decode int16BE");return r.readUInt16BE(0)};Xi.uint16BEDecode=CNe;Xi.uint16BEDecode.bytes=2;function BNe(r){return ap.Buffer.concat([r.ne,r.ciphertext])}Xi.encode0=BNe;function MNe(r){return ap.Buffer.concat([r.ne,r.ns,r.ciphertext])}Xi.encode1=MNe;function RNe(r){return ap.Buffer.concat([r.ns,r.ciphertext])}Xi.encode2=RNe;function NNe(r){if(r.length<32)throw new Error("Cannot decode stage 0 MessageBuffer: length less than 32 bytes.");return{ne:r.slice(0,32),ciphertext:r.slice(32,r.length),ns:ap.Buffer.alloc(0)}}Xi.decode0=NNe;function PNe(r){if(r.length<80)throw new Error("Cannot decode stage 1 MessageBuffer: length less than 80 bytes.");return{ne:r.slice(0,32),ns:r.slice(32,80),ciphertext:r.slice(80,r.length)}}Xi.decode1=PNe;function qNe(r){if(r.length<48)throw new Error("Cannot decode stage 2 MessageBuffer: length less than 48 bytes.");return{ne:ap.Buffer.alloc(0),ns:r.slice(0,48),ciphertext:r.slice(48,r.length)}}Xi.decode2=qNe});var rA=M(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.XXHandshake=void 0;var c6=Fi(),ONe=nse(),fp=Jc(),Vi=sp(),cp=f6(),sse=class{constructor(e,t,i,n,s,o,a){this.isInitiator=e,this.payload=t,this.prologue=i,this.staticKeypair=n,this.connection=s,o&&(this.remotePeer=o),this.xx=a??new ONe.XX,this.session=this.xx.initSession(this.isInitiator,this.prologue,this.staticKeypair),this.remoteEarlyData=c6.Buffer.alloc(0)}async propose(){if(Vi.logLocalStaticKeys(this.session.hs.s),this.isInitiator){Vi.logger("Stage 0 - Initiator starting to send first message.");let e=this.xx.sendMessage(this.session,c6.Buffer.alloc(0));this.connection.writeLP(cp.encode0(e)),Vi.logger("Stage 0 - Initiator finished sending first message."),Vi.logLocalEphemeralKeys(this.session.hs.e)}else{Vi.logger("Stage 0 - Responder waiting to receive first message...");let e=cp.decode0((await this.connection.readLP()).slice()),{valid:t}=this.xx.recvMessage(this.session,e);if(!t)throw new Error("xx handshake stage 0 validation fail");Vi.logger("Stage 0 - Responder received first message."),Vi.logRemoteEphemeralKey(this.session.hs.re)}}async exchange(){if(this.isInitiator){Vi.logger("Stage 1 - Initiator waiting to receive first message from responder...");let e=cp.decode1((await this.connection.readLP()).slice()),{plaintext:t,valid:i}=this.xx.recvMessage(this.session,e);if(!i)throw new Error("xx handshake stage 1 validation fail");Vi.logger("Stage 1 - Initiator received the message."),Vi.logRemoteEphemeralKey(this.session.hs.re),Vi.logRemoteStaticKey(this.session.hs.rs),Vi.logger("Initiator going to check remote's signature...");try{let n=await fp.decodePayload(t);this.remotePeer=this.remotePeer||await fp.getPeerIdFromPayload(n),this.remotePeer=await fp.verifySignedPayload(e.ns,n,this.remotePeer),this.setRemoteEarlyData(n.data)}catch(n){let s=n;throw new Error(`Error occurred while verifying signed payload: ${s.message}`)}Vi.logger("All good with the signature!")}else{Vi.logger("Stage 1 - Responder sending out first message with signed payload and static key.");let e=this.xx.sendMessage(this.session,this.payload);this.connection.writeLP(cp.encode1(e)),Vi.logger("Stage 1 - Responder sent the second handshake message with signed payload."),Vi.logLocalEphemeralKeys(this.session.hs.e)}}async finish(){if(this.isInitiator){Vi.logger("Stage 2 - Initiator sending third handshake message.");let e=this.xx.sendMessage(this.session,this.payload);this.connection.writeLP(cp.encode2(e)),Vi.logger("Stage 2 - Initiator sent message with signed payload.")}else{Vi.logger("Stage 2 - Responder waiting for third handshake message...");let e=cp.decode2((await this.connection.readLP()).slice()),{plaintext:t,valid:i}=this.xx.recvMessage(this.session,e);if(!i)throw new Error("xx handshake stage 2 validation fail");Vi.logger("Stage 2 - Responder received the message, finished handshake.");try{let n=await fp.decodePayload(t);this.remotePeer=this.remotePeer||await fp.getPeerIdFromPayload(n),await fp.verifySignedPayload(this.session.hs.rs,n,this.remotePeer),this.setRemoteEarlyData(n.data)}catch(n){let s=n;throw new Error(`Error occurred while verifying signed payload: ${s.message}`)}}Vi.logCipherState(this.session)}encrypt(e,t){let i=this.getCS(t);return this.xx.encryptWithAd(i,c6.Buffer.alloc(0),e)}decrypt(e,t){let i=this.getCS(t,!1);return this.xx.decryptWithAd(i,c6.Buffer.alloc(0),e)}getRemoteStaticKey(){return this.session.hs.rs}getCS(e,t=!0){if(!e.cs1||!e.cs2)throw new Error("Handshake not completed properly, cipher state does not exist.");return this.isInitiator?t?e.cs1:e.cs2:t?e.cs2:e.cs1}setRemoteEarlyData(e){e&&(this.remoteEarlyData=c6.Buffer.from(e.buffer,e.byteOffset,e.length))}};Qg.XXHandshake=sse});var ase=M(t8=>{"use strict";Object.defineProperty(t8,"__esModule",{value:!0});t8.IK=void 0;var e8=Fi(),u6=Jc(),DNe=tA(),ose=class extends DNe.AbstractHandshake{initSession(e,t,i,n){let s=this.createEmptyKey(),o;return e?o=this.initializeInitiator(t,i,n,s):o=this.initializeResponder(t,i,n,s),{hs:o,i:e,mc:0}}sendMessage(e,t){let i;if(e.mc===0)i=this.writeMessageA(e.hs,t);else if(e.mc===1){let{messageBuffer:n,h:s,cs1:o,cs2:a}=this.writeMessageB(e.hs,t);i=n,e.h=s,e.cs1=o,e.cs2=a}else if(e.mc>1)if(e.i){if(!e.cs1)throw new Error("CS1 (cipher state) is not defined");i=this.writeMessageRegular(e.cs1,t)}else{if(!e.cs2)throw new Error("CS2 (cipher state) is not defined");i=this.writeMessageRegular(e.cs2,t)}else throw new Error("Session invalid.");return e.mc++,i}recvMessage(e,t){let i=e8.Buffer.alloc(0),n=!1;if(e.mc===0&&({plaintext:i,valid:n}=this.readMessageA(e.hs,t)),e.mc===1){let{plaintext:s,valid:o,h:a,cs1:f,cs2:c}=this.readMessageB(e.hs,t);i=s,n=o,e.h=a,e.cs1=f,e.cs2=c}return e.mc++,{plaintext:i,valid:n}}writeMessageA(e,t){e.e=u6.generateKeypair();let i=e.e.publicKey;this.mixHash(e.ss,i),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));let n=e8.Buffer.from(e.s.publicKey),s=this.encryptAndHash(e.ss,n);this.mixKey(e.ss,this.dh(e.s.privateKey,e.rs));let o=this.encryptAndHash(e.ss,t);return{ne:i,ns:s,ciphertext:o}}writeMessageB(e,t){e.e=u6.generateKeypair();let i=e.e.publicKey;this.mixHash(e.ss,i),this.mixKey(e.ss,this.dh(e.e.privateKey,e.re)),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));let n=this.encryptAndHash(e.ss,t),s=this.createEmptyKey(),o={ne:i,ns:s,ciphertext:n},{cs1:a,cs2:f}=this.split(e.ss);return{messageBuffer:o,cs1:a,cs2:f,h:e.ss.h}}readMessageA(e,t){u6.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));let{plaintext:i,valid:n}=this.decryptAndHash(e.ss,t.ns);n&&i.length===32&&u6.isValidPublicKey(i)&&(e.rs=i),this.mixKey(e.ss,this.dh(e.s.privateKey,e.rs));let{plaintext:s,valid:o}=this.decryptAndHash(e.ss,t.ciphertext);return{plaintext:s,valid:n&&o}}readMessageB(e,t){if(u6.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),!e.e)throw new Error("Handshake state should contain ephemeral key by now.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.re)),this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));let{plaintext:i,valid:n}=this.decryptAndHash(e.ss,t.ciphertext),{cs1:s,cs2:o}=this.split(e.ss);return{h:e.ss.h,valid:n,plaintext:i,cs1:s,cs2:o}}initializeInitiator(e,t,i,n){let s="Noise_IK_25519_ChaChaPoly_SHA256",o=this.initializeSymmetric(s);this.mixHash(o,e),this.mixHash(o,i);let a=e8.Buffer.alloc(32);return{ss:o,s:t,rs:i,re:a,psk:n}}initializeResponder(e,t,i,n){let s="Noise_IK_25519_ChaChaPoly_SHA256",o=this.initializeSymmetric(s);this.mixHash(o,e),this.mixHash(o,t.publicKey);let a=e8.Buffer.alloc(32);return{ss:o,s:t,rs:i,re:a,psk:n}}};t8.IK=ose});var cse=M(r8=>{"use strict";Object.defineProperty(r8,"__esModule",{value:!0});r8.FailedIKError=void 0;var fse=class extends Error{constructor(e,t){super(t);this.initialMsg=e,this.name="FailedIKhandshake"}};r8.FailedIKError=fse});var dse=M(n8=>{"use strict";Object.defineProperty(n8,"__esModule",{value:!0});n8.IKHandshake=void 0;var LNe=ase(),up=Fi(),i8=f6(),lp=Jc(),use=cse(),cn=sp(),lse=class{constructor(e,t,i,n,s,o,a,f){this.isInitiator=e,this.payload=up.Buffer.from(t),this.prologue=i,this.staticKeypair=n,this.connection=s,a&&(this.remotePeer=a),this.ik=f??new LNe.IK,this.session=this.ik.initSession(this.isInitiator,this.prologue,this.staticKeypair,o),this.remoteEarlyData=up.Buffer.alloc(0)}async stage0(){if(cn.logLocalStaticKeys(this.session.hs.s),cn.logRemoteStaticKey(this.session.hs.rs),this.isInitiator){cn.logger("IK Stage 0 - Initiator sending message...");let e=this.ik.sendMessage(this.session,this.payload);this.connection.writeLP(i8.encode1(e)),cn.logger("IK Stage 0 - Initiator sent message."),cn.logLocalEphemeralKeys(this.session.hs.e)}else{cn.logger("IK Stage 0 - Responder receiving message...");let e=await this.connection.readLP();try{let t=i8.decode1(e.slice()),{plaintext:i,valid:n}=this.ik.recvMessage(this.session,t);if(!n)throw new Error("ik handshake stage 0 decryption validation fail");cn.logger("IK Stage 0 - Responder got message, going to verify payload.");let s=await lp.decodePayload(i);this.remotePeer=this.remotePeer||await lp.getPeerIdFromPayload(s),await lp.verifySignedPayload(this.session.hs.rs,s,this.remotePeer),this.setRemoteEarlyData(s.data),cn.logger("IK Stage 0 - Responder successfully verified payload!"),cn.logRemoteEphemeralKey(this.session.hs.re)}catch(t){let i=t;throw cn.logger("Responder breaking up with IK handshake in stage 0."),new use.FailedIKError(e,`Error occurred while verifying initiator's signed payload: ${i.message}`)}}}async stage1(){if(this.isInitiator){cn.logger("IK Stage 1 - Initiator receiving message...");let e=(await this.connection.readLP()).slice(),t=i8.decode0(up.Buffer.from(e)),{plaintext:i,valid:n}=this.ik.recvMessage(this.session,t);cn.logger("IK Stage 1 - Initiator got message, going to verify payload.");try{if(!n)throw new Error("ik stage 1 decryption validation fail");let s=await lp.decodePayload(i);this.remotePeer=this.remotePeer||await lp.getPeerIdFromPayload(s),await lp.verifySignedPayload(t.ns.slice(0,32),s,this.remotePeer),this.setRemoteEarlyData(s.data),cn.logger("IK Stage 1 - Initiator successfully verified payload!"),cn.logRemoteEphemeralKey(this.session.hs.re)}catch(s){let o=s;throw cn.logger("Initiator breaking up with IK handshake in stage 1."),new use.FailedIKError(e,`Error occurred while verifying responder's signed payload: ${o.message}`)}}else{cn.logger("IK Stage 1 - Responder sending message...");let e=this.ik.sendMessage(this.session,this.payload);this.connection.writeLP(i8.encode0(e)),cn.logger("IK Stage 1 - Responder sent message..."),cn.logLocalEphemeralKeys(this.session.hs.e)}cn.logCipherState(this.session)}decrypt(e,t){let i=this.getCS(t,!1);return this.ik.decryptWithAd(i,up.Buffer.alloc(0),e)}encrypt(e,t){let i=this.getCS(t);return this.ik.encryptWithAd(i,up.Buffer.alloc(0),e)}getLocalEphemeralKeys(){if(!this.session.hs.e)throw new Error("Ephemeral keys do not exist.");return this.session.hs.e}getCS(e,t=!0){if(!e.cs1||!e.cs2)throw new Error("Handshake not completed properly, cipher state does not exist.");return this.isInitiator?t?e.cs1:e.cs2:t?e.cs2:e.cs1}setRemoteEarlyData(e){e&&(this.remoteEarlyData=up.Buffer.from(e.buffer,e.byteOffset,e.length))}};n8.IKHandshake=lse});var bse=M(s8=>{"use strict";Object.defineProperty(s8,"__esModule",{value:!0});s8.XXFallbackHandshake=void 0;var iA=Fi(),UNe=rA(),nA=Jc(),Qo=sp(),hse=f6(),pse=class extends UNe.XXHandshake{constructor(e,t,i,n,s,o,a,f,c){super(e,t,i,n,s,a,c);f&&(this.ephemeralKeys=f),this.initialMsg=o}async propose(){if(this.isInitiator)this.xx.sendMessage(this.session,iA.Buffer.alloc(0),this.ephemeralKeys),Qo.logger("XX Fallback Stage 0 - Initialized state as the first message was sent by initiator."),Qo.logLocalEphemeralKeys(this.session.hs.e);else{Qo.logger("XX Fallback Stage 0 - Responder decoding initial msg from IK.");let e=hse.decode0(this.initialMsg),{valid:t}=this.xx.recvMessage(this.session,{ne:e.ne,ns:iA.Buffer.alloc(0),ciphertext:iA.Buffer.alloc(0)});if(!t)throw new Error("xx fallback stage 0 decryption validation fail");Qo.logger("XX Fallback Stage 0 - Responder used received message from IK."),Qo.logRemoteEphemeralKey(this.session.hs.re)}}async exchange(){if(this.isInitiator){let e=hse.decode1(this.initialMsg),{plaintext:t,valid:i}=this.xx.recvMessage(this.session,e);if(!i)throw new Error("xx fallback stage 1 decryption validation fail");Qo.logger("XX Fallback Stage 1 - Initiator used received message from IK."),Qo.logRemoteEphemeralKey(this.session.hs.re),Qo.logRemoteStaticKey(this.session.hs.rs),Qo.logger("Initiator going to check remote's signature...");try{let n=await nA.decodePayload(t);this.remotePeer=this.remotePeer||await nA.getPeerIdFromPayload(n),await nA.verifySignedPayload(this.session.hs.rs,n,this.remotePeer),this.setRemoteEarlyData(n.data)}catch(n){let s=n;throw new Error(`Error occurred while verifying signed payload from responder: ${s.message}`)}Qo.logger("All good with the signature!")}else Qo.logger("XX Fallback Stage 1 - Responder start"),await super.exchange(),Qo.logger("XX Fallback Stage 1 - Responder end")}};s8.XXFallbackHandshake=pse});var mse=M(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.decryptStream=dp.encryptStream=void 0;var yse=Fi(),o8=Jg();function FNe(r){return async function*(e){for await(let t of e){let i=yse.Buffer.from(t.buffer,t.byteOffset,t.length);for(let n=0;n<i.length;n+=o8.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG){let s=n+o8.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG;s>i.length&&(s=i.length),yield r.encrypt(i.slice(n,s),r.session)}}}}dp.encryptStream=FNe;function KNe(r){return async function*(e){for await(let t of e){let i=yse.Buffer.from(t.buffer,t.byteOffset,t.length);for(let n=0;n<i.length;n+=o8.NOISE_MSG_MAX_LENGTH_BYTES){let s=n+o8.NOISE_MSG_MAX_LENGTH_BYTES;s>i.length&&(s=i.length);let o=i.slice(n,s),{plaintext:a,valid:f}=await r.decrypt(o,r.session);if(!f)throw new Error("Failed to validate decrypted chunk");yield a}}}}dp.decryptStream=KNe});var vse=M(a8=>{"use strict";Object.defineProperty(a8,"__esModule",{value:!0});a8.KeyCache=void 0;var gse=class{constructor(){this.storage=new Map}store(e,t){this.storage.set(e.id,t)}load(e){var t;return e&&(t=this.storage.get(e.id))!==null&&t!==void 0?t:null}resetStorage(){this.storage.clear()}},zNe=new gse;a8.KeyCache=zNe});var aA=M(pp=>{"use strict";var l6=pp&&pp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pp,"__esModule",{value:!0});pp.Noise=void 0;var jNe=l6($g()),sA=Fi(),xse=l6(Ene()),VNe=l6(kne()),wse=l6(hg()),HNe=l6(ys()),_se=Nf(),$Ne=rA(),GNe=dse(),YNe=bse(),Ese=Jc(),hp=f6(),Sse=mse(),oA=vse(),WNe=sp(),Ase=Jg(),Ise=class{constructor(e,t){if(this.protocol="/noise",this.prologue=sA.Buffer.alloc(0),this.earlyData=t??sA.Buffer.alloc(0),this.useNoisePipes=!1,e){let i=jNe.default.publicKeyCreate(e);this.staticKeys={privateKey:e,publicKey:i}}else this.staticKeys=Ese.generateKeypair()}async secureOutbound(e,t,i){let n=xse.default(t,{lengthEncoder:hp.uint16BEEncode,lengthDecoder:hp.uint16BEDecode,maxDataLength:Ase.NOISE_MSG_MAX_LENGTH_BYTES}),s=await this.performHandshake({connection:n,isInitiator:!0,localPeer:e,remotePeer:i});return{conn:await this.createSecureConnection(n,s),remoteEarlyData:s.remoteEarlyData,remotePeer:s.remotePeer}}async secureInbound(e,t,i){let n=xse.default(t,{lengthEncoder:hp.uint16BEEncode,lengthDecoder:hp.uint16BEDecode,maxDataLength:Ase.NOISE_MSG_MAX_LENGTH_BYTES}),s=await this.performHandshake({connection:n,isInitiator:!1,localPeer:e,remotePeer:i});return{conn:await this.createSecureConnection(n,s),remoteEarlyData:s.remoteEarlyData,remotePeer:s.remotePeer}}async performHandshake(e){var t;let i=await Ese.getPayload(e.localPeer,this.staticKeys.publicKey,this.earlyData),n=this.useNoisePipes;if(e.isInitiator&&oA.KeyCache.load(e.remotePeer)===null&&(n=!1),n){let{remotePeer:s,connection:o,isInitiator:a}=e,f=new GNe.IKHandshake(a,i,this.prologue,this.staticKeys,o,(t=oA.KeyCache.load(e.remotePeer))!==null&&t!==void 0?t:sA.Buffer.alloc(32),s);try{return await this.performIKHandshake(f)}catch(c){let l;return e.isInitiator&&(l=f.getLocalEphemeralKeys()),await this.performXXFallbackHandshake(e,i,c.initialMsg,l)}}else return await this.performXXHandshake(e,i)}async performXXFallbackHandshake(e,t,i,n){let{isInitiator:s,remotePeer:o,connection:a}=e,f=new YNe.XXFallbackHandshake(s,t,this.prologue,this.staticKeys,a,i,o,n);try{await f.propose(),await f.exchange(),await f.finish()}catch(c){WNe.logger(c);let l=c;throw new Error(`Error occurred during XX Fallback handshake: ${l.message}`)}return f}async performXXHandshake(e,t){let{isInitiator:i,remotePeer:n,connection:s}=e,o=new $Ne.XXHandshake(i,t,this.prologue,this.staticKeys,s,n);try{await o.propose(),await o.exchange(),await o.finish(),this.useNoisePipes&&o.remotePeer&&oA.KeyCache.store(o.remotePeer,o.getRemoteStaticKey())}catch(a){let f=a;throw new Error(`Error occurred during XX handshake: ${f.message}`)}return o}async performIKHandshake(e){return await e.stage0(),await e.stage1(),e}async createSecureConnection(e,t){let[i,n]=VNe.default(),s=e.unwrap();return await HNe.default(i,wse.default,Sse.encryptStream(t),_se.encode({lengthEncoder:hp.uint16BEEncode}),s,_se.decode({lengthDecoder:hp.uint16BEDecode}),wse.default,Sse.decryptStream(t),i),n}};pp.Noise=Ise});var Tse=M(H0=>{"use strict";var ZNe=H0&&H0.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),JNe=H0&&H0.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ZNe(e,r,t)};Object.defineProperty(H0,"__esModule",{value:!0});H0.NOISE=void 0;var XNe=aA();JNe(aA(),H0);H0.NOISE=new XNe.Noise});var Bse=M((fet,Cse)=>{Cse.exports=fA;var kse=128,QNe=127,ePe=~QNe,tPe=Math.pow(2,31);function fA(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw fA.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var i=t;r>=tPe;)e[t++]=r&255|kse,r/=128;for(;r&ePe;)e[t++]=r&255|kse,r>>>=7;return e[t]=r|0,fA.bytes=t-i+1,e}});var Nse=M((cet,Rse)=>{Rse.exports=cA;var rPe=128,Mse=127;function cA(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o||i>49)throw cA.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&Mse)<<i:(s&Mse)*Math.pow(2,i),i+=7}while(s>=rPe);return cA.bytes=n-e,t}});var qse=M((uet,Pse)=>{var iPe=Math.pow(2,7),nPe=Math.pow(2,14),sPe=Math.pow(2,21),oPe=Math.pow(2,28),aPe=Math.pow(2,35),fPe=Math.pow(2,42),cPe=Math.pow(2,49),uPe=Math.pow(2,56),lPe=Math.pow(2,63);Pse.exports=function(r){return r<iPe?1:r<nPe?2:r<sPe?3:r<oPe?4:r<aPe?5:r<fPe?6:r<cPe?7:r<uPe?8:r<lPe?9:10}});var uA=M((det,Ose)=>{Ose.exports={encode:Bse(),decode:Nse(),encodingLength:qse()}});var Kse=M((het,Fse)=>{"use strict";var f8=uA(),Dse=Rf(),lA=10*1024,Lse=class{constructor(){this._pool=new Uint8Array(lA),this._poolOffset=0}write(e){let t=this._pool,i=this._poolOffset;f8.encode(e.id<<3|e.type,t,i),i+=f8.encode.bytes,f8.encode(e.data?e.data.length:0,t,i),i+=f8.encode.bytes;let n=t.subarray(this._poolOffset,i);return lA-i<100?(this._pool=new Uint8Array(lA),this._poolOffset=0):this._poolOffset=i,e.data?[n,e.data]:n}},Use=new Lse;Fse.exports=r=>async function*(){for await(let t of r)Array.isArray(t)?yield new Dse(t.map(i=>Use.write(i))):yield new Dse(Use.write(t))}()});var Vse=M((pet,jse)=>{"use strict";var c8=uA(),dPe=Rf();jse.exports=r=>async function*(){let t=new zse;for await(let i of r){let n=t.write(i);n.length&&(yield n)}}();var zse=class{constructor(){this._buffer=new dPe,this._bufferProxy=new Proxy({},{get:(e,t)=>t[0]==="l"?this._buffer[t]:this._buffer.get(parseInt(t))}),this._headerInfo=null}write(e){if(!e||!e.length)return[];this._buffer.append(e);let t=[];for(;;){if(!this._headerInfo)try{this._headerInfo=this._decodeHeader(this._bufferProxy)}catch(f){break}let{id:i,type:n,length:s,offset:o}=this._headerInfo;if(this._buffer.length-o<s)break;t.push({id:i,type:n,data:this._buffer.shallowSlice(o,o+s)}),this._buffer.consume(o+s),this._headerInfo=null}return t}_decodeHeader(e){let t=c8.decode(e),i=c8.decode.bytes,n=c8.decode(e,i);return i+=c8.decode.bytes,{id:t>>3,type:t&7,offset:i,length:n}}}});var Hse=M(dA=>{"use strict";dA.encode=Kse();dA.decode=Vse()});var pA=M((yet,hA)=>{"use strict";var $se=1<<20;hA.exports=r=>{r=r||$se;let e=t=>{if(t.data&&t.data.length>r)throw Object.assign(new Error("message size too large!"),{code:"ERR_MSG_TOO_BIG"})};return t=>async function*(){for await(let n of t)Array.isArray(n)?n.forEach(e):e(n),yield n}()};hA.exports.MAX_MSG_SIZE=$se});var bA=M(d6=>{"use strict";var $0=Object.freeze({NEW_STREAM:0,MESSAGE_RECEIVER:1,MESSAGE_INITIATOR:2,CLOSE_RECEIVER:3,CLOSE_INITIATOR:4,RESET_RECEIVER:5,RESET_INITIATOR:6});d6.MessageTypes=$0;d6.InitiatorMessageTypes=Object.freeze({NEW_STREAM:$0.NEW_STREAM,MESSAGE:$0.MESSAGE_INITIATOR,CLOSE:$0.CLOSE_INITIATOR,RESET:$0.RESET_INITIATOR});d6.ReceiverMessageTypes=Object.freeze({MESSAGE:$0.MESSAGE_RECEIVER,CLOSE:$0.CLOSE_RECEIVER,RESET:$0.RESET_RECEIVER});d6.MessageTypeNames=Object.freeze(Object.entries($0).reduce((r,e)=>(r[e[1]]=e[0],r),{}))});var Zse=M((get,Wse)=>{"use strict";var hPe=Dc(),Gse=o1(),h6=sr()("libp2p:mplex:stream"),pPe=Bh(),Yse=Rf(),bPe=Ht(),{MAX_MSG_SIZE:yPe}=pA(),{InitiatorMessageTypes:mPe,ReceiverMessageTypes:gPe}=bA(),yA="ERR_MPLEX_STREAM_RESET",vPe="ERR_MPLEX_STREAM_ABORT";Wse.exports=({id:r,name:e,send:t,onEnd:i=()=>{},type:n="initiator",maxMsgSize:s=yPe})=>{let o=new Gse,a=new Gse,f=n==="initiator"?mPe:gPe,c=n==="initiator"?`i${r}`:`r${r}`;e=String(e??r);let l=!1,h=!1,x,_=L=>{l||(l=!0,h6("%s stream %s source end",n,e,L),L&&!x&&(x=L),h&&(C.timeline.close=Date.now(),i(x)))},E=L=>{h||(h=!0,h6("%s stream %s sink end",n,e,L),L&&!x&&(x=L),l&&(C.timeline.close=Date.now(),i(x)))},C={close:()=>C.source.end(),abort:L=>{h6("%s stream %s abort",n,e,L),C.source.end(L),o.abort(),E(L)},reset:()=>{let L=bPe(new Error("stream reset"),yA);a.abort(),C.source.end(L),E(L)},sink:async L=>{L=hPe(L,[{signal:o.signal,options:{abortMessage:"stream aborted",abortCode:vPe}},{signal:a.signal,options:{abortMessage:"stream reset",abortCode:yA}}]),n==="initiator"&&t({id:r,type:f.NEW_STREAM,data:e});try{for await(let O of L)for(;O.length;){if(O.length<=s){t({id:r,type:f.MESSAGE,data:O});break}O=Yse.isBufferList(O)?O:new Yse(O),t({id:r,type:f.MESSAGE,data:O.shallowSlice(0,s)}),O.consume(s)}}catch(O){return O.code===yA?h6("%s stream %s reset",n,e):(h6("%s stream %s error",n,e,O),t({id:r,type:f.RESET})),C.source.end(O),E(O)}t({id:r,type:f.CLOSE}),E()},source:pPe(_),timeline:{open:Date.now(),close:null},id:c};return C}});var eoe=M((vet,Qse)=>{"use strict";var xPe=ys(),wPe=Bh(),G0=sr()("libp2p:mplex"),_Pe=Dc(),Jse=Hse(),EPe=pA(),{MessageTypes:Ll,MessageTypeNames:Xse}=bA(),SPe=Zse(),mA=class{constructor(e){e=e||{},e=typeof e=="function"?{onStream:e}:e,this._streamId=0,this._streams={initiators:new Map,receivers:new Map},this._options=e,this.sink=this._createSink(),this.source=this._createSource(),this.onStream=e.onStream,this.onStreamEnd=e.onStreamEnd}get streams(){let e=[];return this._streams.initiators.forEach(t=>{e.push(t)}),this._streams.receivers.forEach(t=>{e.push(t)}),e}newStream(e){let t=this._streamId++;e=e==null?t.toString():String(e);let i=this._streams.initiators;return this._newStream({id:t,name:e,type:"initiator",registry:i})}_newReceiverStream({id:e,name:t}){let i=this._streams.receivers;return this._newStream({id:e,name:t,type:"receiver",registry:i})}_newStream({id:e,name:t,type:i,registry:n}){if(n.has(e))throw new Error(`${i} stream ${e} already exists!`);G0("new %s stream %s %s",i,e,t);let a=SPe({id:e,name:t,send:f=>(G0.enabled&&G0("%s stream %s %s send",i,e,t,{...f,type:Xse[f.type],data:f.data&&f.data.slice()}),this.source.push(f)),type:i,onEnd:()=>{G0("%s stream %s %s ended",i,e,t),n.delete(e),this.onStreamEnd&&this.onStreamEnd(a)},maxMsgSize:this._options.maxMsgSize});return n.set(e,a),a}_createSink(){return async e=>{this._options.signal&&(e=_Pe(e,this._options.signal));try{await xPe(e,Jse.decode,EPe(this._options.maxMsgSize),async t=>{for await(let i of t)for(let n of i)this._handleIncoming(n)})}catch(t){return G0("error in sink",t),this.source.end(t)}this.source.end()}}_createSource(){let t=wPe({onEnd:i=>{let{initiators:n,receivers:s}=this._streams;for(let o of n.values())o.abort(i);for(let o of s.values())o.abort(i)},writev:!0});return Object.assign(Jse.encode(t),{push:t.push,end:t.end,return:t.return})}_handleIncoming({id:e,type:t,data:i}){if(G0.enabled&&G0("incoming message",{id:e,type:Xse[t],data:i.slice()}),t===Ll.NEW_STREAM&&this.onStream){let o=this._newReceiverStream({id:e,name:i.toString()});return this.onStream(o)}let s=(t&1?this._streams.initiators:this._streams.receivers).get(e);if(!s)return G0("missing stream %s",e);switch(t){case Ll.MESSAGE_INITIATOR:case Ll.MESSAGE_RECEIVER:s.source.push(i);break;case Ll.CLOSE_INITIATOR:case Ll.CLOSE_RECEIVER:s.close();break;case Ll.RESET_INITIATOR:case Ll.RESET_RECEIVER:s.reset();break;default:G0("unknown message type %s",t)}}};mA.multicodec="/mplex/6.7.0";Qse.exports=mA});var roe=M((xet,toe)=>{"use strict";toe.exports=eoe()});var soe=M((wet,noe)=>{"use strict";var bp=Do(),ioe=bp.Reader,APe=bp.Writer,ea=bp.util,p6=bp.roots["libp2p-record"]||(bp.roots["libp2p-record"]={});p6.Record=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.key=ea.newBuffer([]),r.prototype.value=ea.newBuffer([]),r.prototype.timeReceived="",r.encode=function(t,i){return i||(i=APe.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&i.uint32(10).bytes(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&i.uint32(18).bytes(t.value),t.timeReceived!=null&&Object.hasOwnProperty.call(t,"timeReceived")&&i.uint32(42).string(t.timeReceived),i},r.decode=function(t,i){t instanceof ioe||(t=ioe.create(t));for(var n=i===void 0?t.len:t.pos+i,s=new p6.Record;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:s.key=t.bytes();break;case 2:s.value=t.bytes();break;case 5:s.timeReceived=t.string();break;default:t.skipType(o&7);break}}return s},r.fromObject=function(t){if(t instanceof p6.Record)return t;var i=new p6.Record;return t.key!=null&&(typeof t.key=="string"?ea.base64.decode(t.key,i.key=ea.newBuffer(ea.base64.length(t.key)),0):t.key.length&&(i.key=t.key)),t.value!=null&&(typeof t.value=="string"?ea.base64.decode(t.value,i.value=ea.newBuffer(ea.base64.length(t.value)),0):t.value.length&&(i.value=t.value)),t.timeReceived!=null&&(i.timeReceived=String(t.timeReceived)),i},r.toObject=function(t,i){i||(i={});var n={};return i.defaults&&(i.bytes===String?n.key="":(n.key=[],i.bytes!==Array&&(n.key=ea.newBuffer(n.key))),i.bytes===String?n.value="":(n.value=[],i.bytes!==Array&&(n.value=ea.newBuffer(n.value))),n.timeReceived=""),t.key!=null&&t.hasOwnProperty("key")&&(n.key=i.bytes===String?ea.base64.encode(t.key,0,t.key.length):i.bytes===Array?Array.prototype.slice.call(t.key):t.key),t.value!=null&&t.hasOwnProperty("value")&&(n.value=i.bytes===String?ea.base64.encode(t.value,0,t.value.length):i.bytes===Array?Array.prototype.slice.call(t.value):t.value),t.timeReceived!=null&&t.hasOwnProperty("timeReceived")&&(n.timeReceived=t.timeReceived),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,bp.util.toJSONOptions)},r}();noe.exports=p6});var ooe=M((_et,gA)=>{"use strict";gA.exports.toRFC3339=r=>{let e=r.getUTCFullYear(),t=String(r.getUTCMonth()+1).padStart(2,"0"),i=String(r.getUTCDate()).padStart(2,"0"),n=String(r.getUTCHours()).padStart(2,"0"),s=String(r.getUTCMinutes()).padStart(2,"0"),o=String(r.getUTCSeconds()).padStart(2,"0"),f=r.getUTCMilliseconds()*1e3*1e3;return`${e}-${t}-${i}T${n}:${s}:${o}.${f}Z`};gA.exports.parseRFC3339=r=>{let e=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),t=String(r).trim().match(e);if(!t)throw new Error("Invalid format");let i=parseInt(t[1],10),n=parseInt(t[2],10)-1,s=parseInt(t[3],10),o=parseInt(t[4],10),a=parseInt(t[5],10),f=parseInt(t[6],10),c=parseInt(t[7].slice(0,-6),10);return new Date(Date.UTC(i,n,s,o,a,f,c))}});var coe=M((Eet,foe)=>{"use strict";var{Record:vA}=soe(),aoe=ooe(),b6=class{constructor(e,t,i){if(!(e instanceof Uint8Array))throw new Error("key must be a Uint8Array");if(!(t instanceof Uint8Array))throw new Error("value must be a Uint8Array");this.key=e,this.value=t,this.timeReceived=i}serialize(){return vA.encode(this.prepareSerialize()).finish()}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:this.timeReceived&&aoe.toRFC3339(this.timeReceived)}}static deserialize(e){let t=vA.decode(e);return b6.fromDeserialized(vA.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}))}static fromDeserialized(e){let t;return e.timeReceived&&(t=aoe.parseRFC3339(e.timeReceived)),new b6(e.key,e.value,t)}};foe.exports=b6});var loe=M((Aet,uoe)=>{"use strict";var IPe=s1(),u8=Ht(),TPe=Kr(),kPe=gn(),CPe=async(r,e)=>{if(!(r instanceof Uint8Array))throw u8(new Error('"key" must be a Uint8Array'),"ERR_INVALID_RECORD_KEY_NOT_BUFFER");if(r.byteLength<5)throw u8(new Error("invalid public key record"),"ERR_INVALID_RECORD_KEY_TOO_SHORT");if(TPe(r.subarray(0,4))!=="/pk/")throw u8(new Error("key was not prefixed with /pk/"),"ERR_INVALID_RECORD_KEY_BAD_PREFIX");let i=r.slice(4),n=await IPe(e,"sha2-256");if(!kPe(i,n))throw u8(new Error("public key does not match passed in key"),"ERR_INVALID_RECORD_HASH_MISMATCH")};uoe.exports={func:CPe,sign:!1}});var hoe=M((Iet,doe)=>{"use strict";doe.exports={pk:loe()}});var boe=M((Tet,poe)=>{"use strict";var BPe=Ht(),MPe=Kr(),RPe=(r,e)=>{let t=e.key,n=MPe(t).split("/");if(n.length<3)return;let s=r[n[1].toString()];if(!s){let o="Invalid record keytype";throw BPe(new Error(o),"ERR_INVALID_RECORD_KEY_TYPE")}return s.func(t,e.value)};poe.exports={verifyRecord:RPe,validators:hoe()}});var moe=M((ket,yoe)=>{"use strict";var NPe=(r,e)=>0;yoe.exports=NPe});var voe=M((Cet,goe)=>{"use strict";goe.exports={pk:moe()}});var woe=M((Bet,xoe)=>{"use strict";var xA=Ht(),PPe=Kr(),qPe=(r,e,t)=>{if(t.length===0){let o="No records given";throw xA(new Error(o),"ERR_NO_RECORDS_RECEIVED")}let n=PPe(e).split("/");if(n.length<3){let o="Record key does not have a selector function";throw xA(new Error(o),"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")}let s=r[n[1].toString()];if(!s){let o=`Unrecognized key prefix: ${n[1]}`;throw xA(new Error(o),"ERR_UNRECOGNIZED_KEY_PREFIX")}return s(e,t)};xoe.exports={bestRecord:qPe,selectors:voe()}});var yp=M((Met,_oe)=>{"use strict";_oe.exports={Record:coe(),validator:boe(),selection:woe()}});var Aoe=M((Ret,Soe)=>{"use strict";var OPe=c0(),{EventEmitter:DPe}=Wn();function Eoe(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0,i=r.length;t<i;++t)if(r[t]!==e[t])return!1;return!0}function wA(){return{contacts:[],dontSplit:!1,left:null,right:null}}function y6(r,e){if(!(e instanceof Uint8Array))throw new TypeError(r+" is not a Uint8Array")}var m6=class extends DPe{constructor(e={}){super();this.localNodeId=e.localNodeId||OPe(20),this.numberOfNodesPerKBucket=e.numberOfNodesPerKBucket||20,this.numberOfNodesToPing=e.numberOfNodesToPing||3,this.distance=e.distance||m6.distance,this.arbiter=e.arbiter||m6.arbiter,this.metadata=Object.assign({},e.metadata),y6("option.localNodeId as parameter 1",this.localNodeId),this.root=wA()}static arbiter(e,t){return e.vectorClock>t.vectorClock?e:t}static distance(e,t){let i=0,n=0,s=Math.min(e.length,t.length),o=Math.max(e.length,t.length);for(;n<s;++n)i=i*256+(e[n]^t[n]);for(;n<o;++n)i=i*256+255;return i}add(e){y6("contact.id",(e||{}).id);let t=0,i=this.root;for(;i.contacts===null;)i=this._determineNode(i,e.id,t++);let n=this._indexOf(i,e.id);return n>=0?(this._update(i,n,e),this):i.contacts.length<this.numberOfNodesPerKBucket?(i.contacts.push(e),this.emit("added",e),this):i.dontSplit?(this.emit("ping",i.contacts.slice(0,this.numberOfNodesToPing),e),this):(this._split(i,t),this.add(e))}closest(e,t=Infinity){if(y6("id",e),!Number.isInteger(t)&&t!==Infinity||t<=0)throw new TypeError("n is not positive number");let i=[];for(let n=[this.root],s=0;n.length>0&&i.length<t;){let o=n.pop();if(o.contacts===null){let a=this._determineNode(o,e,s++);n.push(o.left===a?o.right:o.left),n.push(a)}else i=i.concat(o.contacts)}return i.map(n=>[this.distance(n.id,e),n]).sort((n,s)=>n[0]-s[0]).slice(0,t).map(n=>n[1])}count(){let e=0;for(let t=[this.root];t.length>0;){let i=t.pop();i.contacts===null?t.push(i.right,i.left):e+=i.contacts.length}return e}_determineNode(e,t,i){let n=i>>3,s=i%8;return t.length<=n&&s!==0?e.left:t[n]&1<<7-s?e.right:e.left}get(e){y6("id",e);let t=0,i=this.root;for(;i.contacts===null;)i=this._determineNode(i,e,t++);let n=this._indexOf(i,e);return n>=0?i.contacts[n]:null}_indexOf(e,t){for(let i=0;i<e.contacts.length;++i)if(Eoe(e.contacts[i].id,t))return i;return-1}remove(e){y6("the id as parameter 1",e);let t=0,i=this.root;for(;i.contacts===null;)i=this._determineNode(i,e,t++);let n=this._indexOf(i,e);if(n>=0){let s=i.contacts.splice(n,1)[0];this.emit("removed",s)}return this}_split(e,t){e.left=wA(),e.right=wA();for(let s of e.contacts)this._determineNode(e,s.id,t).contacts.push(s);e.contacts=null;let i=this._determineNode(e,this.localNodeId,t),n=e.left===i?e.right:e.left;n.dontSplit=!0}toArray(){let e=[];for(let t=[this.root];t.length>0;){let i=t.pop();i.contacts===null?t.push(i.right,i.left):e=e.concat(i.contacts)}return e}*toIterable(){for(let e=[this.root];e.length>0;){let t=e.pop();t.contacts===null?e.push(t.right,t.left):yield*t.contacts}}_update(e,t,i){if(!Eoe(e.contacts[t].id,i.id))throw new Error("wrong index for _update");let n=e.contacts[t],s=this.arbiter(n,i);s===n&&n!==i||(e.contacts.splice(t,1),e.contacts.push(s),this.emit("updated",n,s))}};Soe.exports=m6});var l8=M((Net,Ioe)=>{Ioe.exports=Xc;function Xc(r,e){if(r.length!==e.length)throw new Error("Inputs should have the same length");for(var t=Buffer.allocUnsafe(r.length),i=0;i<r.length;i++)t[i]=r[i]^e[i];return t}Xc.compare=function(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");for(var i=0;i<e.length;i++)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return 0};Xc.gt=function(e,t){return Xc.compare(e,t)===1};Xc.lt=function(e,t){return Xc.compare(e,t)===-1};Xc.eq=function(e,t){return Xc.compare(e,t)===0}});var d8=M((Pet,Toe)=>{"use strict";var LPe=j_();Toe.exports=async(r,e,{concurrency:t=Infinity,stopOnError:i=!0}={})=>new Promise((n,s)=>{if(typeof e!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(t)||t===Infinity)&&t>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${t}\` (${typeof t})`);let o=[],a=[],f=r[Symbol.iterator](),c=!1,l=!1,h=0,x=0,_=()=>{if(c)return;let E=f.next(),C=x;if(x++,E.done){l=!0,h===0&&(!i&&a.length!==0?s(new LPe(a)):n(o));return}h++,(async()=>{try{let L=await E.value;o[C]=await e(L,C),h--,_()}catch(L){i?(c=!0,s(L)):(a.push(L),h--,_())}})()};for(let E=0;E<t&&(_(),!l);E++);})});var $i=M(Hi=>{"use strict";var _A=sr(),EA=s1(),UPe=EA.multihash,{Key:FPe}=d1(),koe=l8(),KPe=d8(),{Record:zPe}=yp(),jPe=Gr(),VPe=Ht(),HPe=qo(),Coe=Ai(),Boe=Kr();Hi.convertBuffer=r=>EA.digest(r,"sha2-256");Hi.convertPeerId=r=>EA.digest(r.id,"sha2-256");Hi.bufferToKey=r=>new FPe("/"+Hi.encodeBase32(r),!1);Hi.keyForPublicKey=r=>HPe([Coe("/pk/"),r.id]);Hi.isPublicKeyKey=r=>Boe(r.slice(0,4))==="/pk/";Hi.fromPublicKeyKey=r=>new jPe(r.slice(4));Hi.now=()=>Date.now();Hi.encodeBase32=r=>Boe(r,"base32");Hi.decodeBase32=r=>Coe(r,"base32");Hi.sortClosestPeers=async(r,e)=>(await KPe(r,async i=>{let n=await Hi.convertPeerId(i);return{peer:i,distance:koe(n,e)}})).sort(Hi.xorCompare).map(i=>i.peer);Hi.xorCompare=(r,e)=>koe.compare(r.distance,e.distance);Hi.pathSize=(r,e)=>Math.ceil(r/e);Hi.createPutRecord=(r,e)=>{let t=new Date;return new zPe(r,e,t).serialize()};Hi.logger=(r,e)=>{let t=["libp2p","dht"];return e&&t.push(e),r&&t.push(`${r.toB58String().slice(0,8)}`),_A.formatters.b=n=>UPe.toB58String(n),Object.assign(_A(t.join(":")),{error:_A(t.concat(["error"]).join(":"))})};Hi.TimeoutError=class extends Error{get code(){return"ETIMEDOUT"}};Hi.withTimeout=(r,e)=>{function t(...i){return Promise.race([r(...i),new Promise((n,s)=>{setTimeout(()=>{s(VPe(new Error("Async function did not complete before timeout"),"ETIMEDOUT"))},e)})])}return t};Hi.mapParallel=async function(r,e){let t=[];for await(let i of r)t.push(e(i));return Promise.all(t)}});var Noe=M((Det,Roe)=>{"use strict";var $Pe=Aoe(),h8=$i(),Moe=class{constructor(e,t){this.self=e,this._onPing=this._onPing.bind(this),this._onInit(t)}async _onInit(e){let t=await h8.convertPeerId(this.self);this.kb=new $Pe({localNodeId:t,numberOfNodesPerKBucket:e,numberOfNodesToPing:1}),this.kb.on("ping",this._onPing)}_onPing(e,t){let i=e[0];i&&this.kb.remove(i.id),this.kb.add(t)}get size(){return this.kb.count()}async find(e){let t=await h8.convertPeerId(e),i=this.closestPeer(t);if(i&&e.equals(i))return i}closestPeer(e){let t=this.closestPeers(e,1);if(t.length>0)return t[0]}closestPeers(e,t){return this.kb.closest(e,t).map(n=>n.peer)}async add(e){let t=await h8.convertPeerId(e);this.kb.add({id:t,peer:e})}async remove(e){let t=await h8.convertPeerId(e);this.kb.remove(t)}};Roe.exports=Moe});var Qc=M(Es=>{"use strict";var p8=Es.second=1e3,Poe=Es.minute=60*p8,SA=Es.hour=60*Poe;Es.MAX_RECORD_AGE=36*SA;Es.PROTOCOL_DHT="/kad/1.0.0";Es.PROVIDERS_KEY_PREFIX="/providers/";Es.PROVIDERS_LRU_CACHE_SIZE=256;Es.PROVIDERS_VALIDITY=24*SA;Es.PROVIDERS_CLEANUP_INTERVAL=SA;Es.READ_MESSAGE_TIMEOUT=10*p8;Es.GET_MANY_RECORD_COUNT=16;Es.K=20;Es.ALPHA=3;Es.defaultRandomWalk={enabled:!0,queriesPerPeriod:1,interval:5*Poe,timeout:10*p8,delay:10*p8}});var g6=M((Uet,b8)=>{"use strict";var AA=class extends Error{constructor(e){super(e);this.name="TimeoutError"}},qoe=(r,e,t,i)=>{let n,s=new Promise((o,a)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===Infinity){o(r);return}i={customTimers:{setTimeout,clearTimeout},...i},n=i.customTimers.setTimeout.call(void 0,()=>{if(typeof t=="function"){try{o(t())}catch(l){a(l)}return}let f=typeof t=="string"?t:`Promise timed out after ${e} milliseconds`,c=t instanceof Error?t:new AA(f);typeof r.cancel=="function"&&r.cancel(),a(c)},e),(async()=>{try{o(await r)}catch(f){a(f)}finally{i.customTimers.clearTimeout.call(void 0,n)}})()});return s.clear=()=>{clearTimeout(n),n=void 0},s};b8.exports=qoe;b8.exports.default=qoe;b8.exports.TimeoutError=AA});var Uoe=M((Fet,Loe)=>{"use strict";var GPe=SE(),Ooe=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),Doe=class extends GPe{constructor({min:e,max:t,multicodecs:i,handlers:n}){super({min:e,max:t,handlers:n});if(!i)throw new Error("one or more multicodec should be provided");if(!n)throw new Error("the handlers should be provided");if(typeof n.onConnect!="function")throw new Error("the 'onConnect' handler must be provided");if(typeof n.onDisconnect!="function")throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(i)?i:[i],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[Ooe](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[Ooe])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(let{id:t,protocols:i}of e)if(this.multicodecs.filter(n=>i.includes(n)).length){this.peers.add(t.toB58String());let n=this._registrar.getConnection(t);n&&this._onConnect(t,n)}else this.peers.delete(t.toB58String())}_onProtocolChange({peerId:e,protocols:t}){let i=this.peers.has(e.toB58String()),n=t.filter(s=>this.multicodecs.includes(s));i&&n.length===0&&this._onDisconnect(e);for(let s of t)if(this.multicodecs.includes(s)){let o=this._registrar.peerStore.get(e);this._updatePeers([o]);return}}_onPeerConnect(e){let t=e.remotePeer,i=this._registrar.peerStore.protoBook.get(t);!i||this.multicodecs.find(n=>i.includes(n))&&(this.peers.add(t.toB58String()),this._onConnect(t,e))}};Loe.exports=Doe});var Koe=M((Ket,Foe)=>{"use strict";var eu=Do(),mp=eu.Reader,IA=eu.Writer,Qt=eu.util,Di=eu.roots["libp2p-dht-message"]||(eu.roots["libp2p-dht-message"]={});Di.Record=function(){function r(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.key=Qt.newBuffer([]),r.prototype.value=Qt.newBuffer([]),r.prototype.author=Qt.newBuffer([]),r.prototype.signature=Qt.newBuffer([]),r.prototype.timeReceived="",r.encode=function(t,i){return i||(i=IA.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&i.uint32(10).bytes(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&i.uint32(18).bytes(t.value),t.author!=null&&Object.hasOwnProperty.call(t,"author")&&i.uint32(26).bytes(t.author),t.signature!=null&&Object.hasOwnProperty.call(t,"signature")&&i.uint32(34).bytes(t.signature),t.timeReceived!=null&&Object.hasOwnProperty.call(t,"timeReceived")&&i.uint32(42).string(t.timeReceived),i},r.decode=function(t,i){t instanceof mp||(t=mp.create(t));for(var n=i===void 0?t.len:t.pos+i,s=new Di.Record;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:s.key=t.bytes();break;case 2:s.value=t.bytes();break;case 3:s.author=t.bytes();break;case 4:s.signature=t.bytes();break;case 5:s.timeReceived=t.string();break;default:t.skipType(o&7);break}}return s},r.fromObject=function(t){if(t instanceof Di.Record)return t;var i=new Di.Record;return t.key!=null&&(typeof t.key=="string"?Qt.base64.decode(t.key,i.key=Qt.newBuffer(Qt.base64.length(t.key)),0):t.key.length&&(i.key=t.key)),t.value!=null&&(typeof t.value=="string"?Qt.base64.decode(t.value,i.value=Qt.newBuffer(Qt.base64.length(t.value)),0):t.value.length&&(i.value=t.value)),t.author!=null&&(typeof t.author=="string"?Qt.base64.decode(t.author,i.author=Qt.newBuffer(Qt.base64.length(t.author)),0):t.author.length&&(i.author=t.author)),t.signature!=null&&(typeof t.signature=="string"?Qt.base64.decode(t.signature,i.signature=Qt.newBuffer(Qt.base64.length(t.signature)),0):t.signature.length&&(i.signature=t.signature)),t.timeReceived!=null&&(i.timeReceived=String(t.timeReceived)),i},r.toObject=function(t,i){i||(i={});var n={};return i.defaults&&(i.bytes===String?n.key="":(n.key=[],i.bytes!==Array&&(n.key=Qt.newBuffer(n.key))),i.bytes===String?n.value="":(n.value=[],i.bytes!==Array&&(n.value=Qt.newBuffer(n.value))),i.bytes===String?n.author="":(n.author=[],i.bytes!==Array&&(n.author=Qt.newBuffer(n.author))),i.bytes===String?n.signature="":(n.signature=[],i.bytes!==Array&&(n.signature=Qt.newBuffer(n.signature))),n.timeReceived=""),t.key!=null&&t.hasOwnProperty("key")&&(n.key=i.bytes===String?Qt.base64.encode(t.key,0,t.key.length):i.bytes===Array?Array.prototype.slice.call(t.key):t.key),t.value!=null&&t.hasOwnProperty("value")&&(n.value=i.bytes===String?Qt.base64.encode(t.value,0,t.value.length):i.bytes===Array?Array.prototype.slice.call(t.value):t.value),t.author!=null&&t.hasOwnProperty("author")&&(n.author=i.bytes===String?Qt.base64.encode(t.author,0,t.author.length):i.bytes===Array?Array.prototype.slice.call(t.author):t.author),t.signature!=null&&t.hasOwnProperty("signature")&&(n.signature=i.bytes===String?Qt.base64.encode(t.signature,0,t.signature.length):i.bytes===Array?Array.prototype.slice.call(t.signature):t.signature),t.timeReceived!=null&&t.hasOwnProperty("timeReceived")&&(n.timeReceived=t.timeReceived),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,eu.util.toJSONOptions)},r}();Di.Message=function(){function r(e){if(this.closerPeers=[],this.providerPeers=[],e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return r.prototype.type=0,r.prototype.clusterLevelRaw=0,r.prototype.key=Qt.newBuffer([]),r.prototype.record=Qt.newBuffer([]),r.prototype.closerPeers=Qt.emptyArray,r.prototype.providerPeers=Qt.emptyArray,r.encode=function(t,i){if(i||(i=IA.create()),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&i.uint32(8).int32(t.type),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&i.uint32(18).bytes(t.key),t.record!=null&&Object.hasOwnProperty.call(t,"record")&&i.uint32(26).bytes(t.record),t.closerPeers!=null&&t.closerPeers.length)for(var n=0;n<t.closerPeers.length;++n)Di.Message.Peer.encode(t.closerPeers[n],i.uint32(66).fork()).ldelim();if(t.providerPeers!=null&&t.providerPeers.length)for(var n=0;n<t.providerPeers.length;++n)Di.Message.Peer.encode(t.providerPeers[n],i.uint32(74).fork()).ldelim();return t.clusterLevelRaw!=null&&Object.hasOwnProperty.call(t,"clusterLevelRaw")&&i.uint32(80).int32(t.clusterLevelRaw),i},r.decode=function(t,i){t instanceof mp||(t=mp.create(t));for(var n=i===void 0?t.len:t.pos+i,s=new Di.Message;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:s.type=t.int32();break;case 10:s.clusterLevelRaw=t.int32();break;case 2:s.key=t.bytes();break;case 3:s.record=t.bytes();break;case 8:s.closerPeers&&s.closerPeers.length||(s.closerPeers=[]),s.closerPeers.push(Di.Message.Peer.decode(t,t.uint32()));break;case 9:s.providerPeers&&s.providerPeers.length||(s.providerPeers=[]),s.providerPeers.push(Di.Message.Peer.decode(t,t.uint32()));break;default:t.skipType(o&7);break}}return s},r.fromObject=function(t){if(t instanceof Di.Message)return t;var i=new Di.Message;switch(t.type){case"PUT_VALUE":case 0:i.type=0;break;case"GET_VALUE":case 1:i.type=1;break;case"ADD_PROVIDER":case 2:i.type=2;break;case"GET_PROVIDERS":case 3:i.type=3;break;case"FIND_NODE":case 4:i.type=4;break;case"PING":case 5:i.type=5;break}if(t.clusterLevelRaw!=null&&(i.clusterLevelRaw=t.clusterLevelRaw|0),t.key!=null&&(typeof t.key=="string"?Qt.base64.decode(t.key,i.key=Qt.newBuffer(Qt.base64.length(t.key)),0):t.key.length&&(i.key=t.key)),t.record!=null&&(typeof t.record=="string"?Qt.base64.decode(t.record,i.record=Qt.newBuffer(Qt.base64.length(t.record)),0):t.record.length&&(i.record=t.record)),t.closerPeers){if(!Array.isArray(t.closerPeers))throw TypeError(".Message.closerPeers: array expected");i.closerPeers=[];for(var n=0;n<t.closerPeers.length;++n){if(typeof t.closerPeers[n]!="object")throw TypeError(".Message.closerPeers: object expected");i.closerPeers[n]=Di.Message.Peer.fromObject(t.closerPeers[n])}}if(t.providerPeers){if(!Array.isArray(t.providerPeers))throw TypeError(".Message.providerPeers: array expected");i.providerPeers=[];for(var n=0;n<t.providerPeers.length;++n){if(typeof t.providerPeers[n]!="object")throw TypeError(".Message.providerPeers: object expected");i.providerPeers[n]=Di.Message.Peer.fromObject(t.providerPeers[n])}}return i},r.toObject=function(t,i){i||(i={});var n={};if((i.arrays||i.defaults)&&(n.closerPeers=[],n.providerPeers=[]),i.defaults&&(n.type=i.enums===String?"PUT_VALUE":0,i.bytes===String?n.key="":(n.key=[],i.bytes!==Array&&(n.key=Qt.newBuffer(n.key))),i.bytes===String?n.record="":(n.record=[],i.bytes!==Array&&(n.record=Qt.newBuffer(n.record))),n.clusterLevelRaw=0),t.type!=null&&t.hasOwnProperty("type")&&(n.type=i.enums===String?Di.Message.MessageType[t.type]:t.type),t.key!=null&&t.hasOwnProperty("key")&&(n.key=i.bytes===String?Qt.base64.encode(t.key,0,t.key.length):i.bytes===Array?Array.prototype.slice.call(t.key):t.key),t.record!=null&&t.hasOwnProperty("record")&&(n.record=i.bytes===String?Qt.base64.encode(t.record,0,t.record.length):i.bytes===Array?Array.prototype.slice.call(t.record):t.record),t.closerPeers&&t.closerPeers.length){n.closerPeers=[];for(var s=0;s<t.closerPeers.length;++s)n.closerPeers[s]=Di.Message.Peer.toObject(t.closerPeers[s],i)}if(t.providerPeers&&t.providerPeers.length){n.providerPeers=[];for(var s=0;s<t.providerPeers.length;++s)n.providerPeers[s]=Di.Message.Peer.toObject(t.providerPeers[s],i)}return t.clusterLevelRaw!=null&&t.hasOwnProperty("clusterLevelRaw")&&(n.clusterLevelRaw=t.clusterLevelRaw),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,eu.util.toJSONOptions)},r.MessageType=function(){var e={},t=Object.create(e);return t[e[0]="PUT_VALUE"]=0,t[e[1]="GET_VALUE"]=1,t[e[2]="ADD_PROVIDER"]=2,t[e[3]="GET_PROVIDERS"]=3,t[e[4]="FIND_NODE"]=4,t[e[5]="PING"]=5,t}(),r.ConnectionType=function(){var e={},t=Object.create(e);return t[e[0]="NOT_CONNECTED"]=0,t[e[1]="CONNECTED"]=1,t[e[2]="CAN_CONNECT"]=2,t[e[3]="CANNOT_CONNECT"]=3,t}(),r.Peer=function(){function e(t){if(this.addrs=[],t)for(var i=Object.keys(t),n=0;n<i.length;++n)t[i[n]]!=null&&(this[i[n]]=t[i[n]])}return e.prototype.id=Qt.newBuffer([]),e.prototype.addrs=Qt.emptyArray,e.prototype.connection=0,e.encode=function(i,n){if(n||(n=IA.create()),i.id!=null&&Object.hasOwnProperty.call(i,"id")&&n.uint32(10).bytes(i.id),i.addrs!=null&&i.addrs.length)for(var s=0;s<i.addrs.length;++s)n.uint32(18).bytes(i.addrs[s]);return i.connection!=null&&Object.hasOwnProperty.call(i,"connection")&&n.uint32(24).int32(i.connection),n},e.decode=function(i,n){i instanceof mp||(i=mp.create(i));for(var s=n===void 0?i.len:i.pos+n,o=new Di.Message.Peer;i.pos<s;){var a=i.uint32();switch(a>>>3){case 1:o.id=i.bytes();break;case 2:o.addrs&&o.addrs.length||(o.addrs=[]),o.addrs.push(i.bytes());break;case 3:o.connection=i.int32();break;default:i.skipType(a&7);break}}return o},e.fromObject=function(i){if(i instanceof Di.Message.Peer)return i;var n=new Di.Message.Peer;if(i.id!=null&&(typeof i.id=="string"?Qt.base64.decode(i.id,n.id=Qt.newBuffer(Qt.base64.length(i.id)),0):i.id.length&&(n.id=i.id)),i.addrs){if(!Array.isArray(i.addrs))throw TypeError(".Message.Peer.addrs: array expected");n.addrs=[];for(var s=0;s<i.addrs.length;++s)typeof i.addrs[s]=="string"?Qt.base64.decode(i.addrs[s],n.addrs[s]=Qt.newBuffer(Qt.base64.length(i.addrs[s])),0):i.addrs[s].length&&(n.addrs[s]=i.addrs[s])}switch(i.connection){case"NOT_CONNECTED":case 0:n.connection=0;break;case"CONNECTED":case 1:n.connection=1;break;case"CAN_CONNECT":case 2:n.connection=2;break;case"CANNOT_CONNECT":case 3:n.connection=3;break}return n},e.toObject=function(i,n){n||(n={});var s={};if((n.arrays||n.defaults)&&(s.addrs=[]),n.defaults&&(n.bytes===String?s.id="":(s.id=[],n.bytes!==Array&&(s.id=Qt.newBuffer(s.id))),s.connection=n.enums===String?"NOT_CONNECTED":0),i.id!=null&&i.hasOwnProperty("id")&&(s.id=n.bytes===String?Qt.base64.encode(i.id,0,i.id.length):n.bytes===Array?Array.prototype.slice.call(i.id):i.id),i.addrs&&i.addrs.length){s.addrs=[];for(var o=0;o<i.addrs.length;++o)s.addrs[o]=n.bytes===String?Qt.base64.encode(i.addrs[o],0,i.addrs[o].length):n.bytes===Array?Array.prototype.slice.call(i.addrs[o]):i.addrs[o]}return i.connection!=null&&i.hasOwnProperty("connection")&&(s.connection=n.enums===String?Di.Message.ConnectionType[i.connection]:i.connection),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,eu.util.toJSONOptions)},e}(),r}();Foe.exports=Di});var Vf=M((zet,Hoe)=>{"use strict";var YPe=Gr(),{Multiaddr:WPe}=zi(),{Record:ZPe}=yp(),y8=Koe(),JPe=y8.Message.MessageType,zoe=y8.Message.ConnectionType,gp=class{constructor(e,t,i){if(t&&!(t instanceof Uint8Array))throw new Error("Key must be a Uint8Array");this.type=e,this.key=t,this._clusterLevelRaw=i,this.closerPeers=[],this.providerPeers=[],this.record=void 0}get clusterLevel(){let e=this._clusterLevelRaw-1;return e<0?0:e}set clusterLevel(e){this._clusterLevelRaw=e}serialize(){let e={key:this.key,type:this.type,clusterLevelRaw:this._clusterLevelRaw,closerPeers:this.closerPeers.map(joe),providerPeers:this.providerPeers.map(joe),record:void 0};return this.record&&(this.record instanceof Uint8Array?e.record=this.record:e.record=this.record.serialize()),y8.Message.encode(e).finish()}static deserialize(e){let t=y8.Message.decode(e),i=new gp(t.type,t.key,t.clusterLevelRaw);return i.closerPeers=t.closerPeers.map(Voe),i.providerPeers=t.providerPeers.map(Voe),t.record&&t.record.length&&(i.record=ZPe.deserialize(t.record)),i}};gp.TYPES=JPe;gp.CONNECTION_TYPES=zoe;function joe(r){return{id:r.id.id,addrs:(r.multiaddrs||[]).map(t=>t.bytes),connection:zoe.CONNECTED}}function Voe(r){return{id:new YPe(r.id),multiaddrs:(r.addrs||[]).map(e=>new WPe(e))}}Hoe.exports=gp});var Yoe=M((jet,Goe)=>{"use strict";var{Record:XPe}=yp(),QPe=Ht(),$oe=Vf(),TA=$i();Goe.exports=r=>{let e=TA.logger(r.peerId,"rpc:get-value");async function t(i,n){let s=n.key;if(e("key: %b",s),!s||s.length===0)throw QPe(new Error("Invalid key"),"ERR_INVALID_KEY");let o=new $oe($oe.TYPES.GET_VALUE,s,n.clusterLevel);if(TA.isPublicKeyKey(s)){e("is public key");let c=TA.fromPublicKeyKey(s),l;if(r._isSelf(c))l=r.peerId;else{let h=r.peerStore.get(c);l=h&&h.id}if(l&&l.pubKey)return e("returning found public key"),o.record=new XPe(s,l.pubKey.bytes),o}let[a,f]=await Promise.all([r._checkLocalDatastore(s),r._betterPeersToQuery(n,i)]);return a&&(e("got record"),o.record=a),f.length>0&&(e("got closer %s",f.length),o.closerPeers=f),o}return t}});var Joe=M((Vet,Zoe)=>{"use strict";var Woe=$i(),eqe=Ht();Zoe.exports=r=>{let e=Woe.logger(r.peerId,"rpc:put-value");async function t(i,n){let s=n.key;e("key: %b",s);let o=n.record;if(!o){let f=`Empty record from: ${i.toB58String()}`;throw e.error(f),eqe(new Error(f),"ERR_EMPTY_RECORD")}await r._verifyRecordLocally(o),o.timeReceived=new Date;let a=Woe.bufferToKey(o.key);return await r.datastore.put(a,o.serialize()),r.onPut(o,i),n}return t}});var Qoe=M((Het,Xoe)=>{"use strict";var tqe=gn(),rqe=Vf(),iqe=$i();Xoe.exports=r=>{let e=iqe.logger(r.peerId,"rpc:find-node");async function t(i,n){e("start");let s;tqe(n.key,r.peerId.id)?s=[{id:r.peerId,multiaddrs:r.libp2p.multiaddrs}]:s=await r._betterPeersToQuery(n,i);let o=new rqe(n.type,new Uint8Array(0),n.clusterLevel);return s.length>0?o.closerPeers=s:e("handle FindNode %s: could not find anything",i.toB58String()),o}return t}});var rae=M(($et,tae)=>{"use strict";var nqe=x0(),eae=Ht(),sqe=$i();tae.exports=r=>{let e=sqe.logger(r.peerId,"rpc:add-provider");async function t(i,n){if(e("start"),!n.key||n.key.length===0)throw eae(new Error("Missing key"),"ERR_MISSING_KEY");let s;try{s=new nqe(n.key)}catch(o){let a=`Invalid CID: ${o.message}`;throw eae(new Error(a),"ERR_INVALID_CID")}return n.providerPeers.forEach(o=>{if(!o.id.isEqual(i)){e("invalid provider peer %s from %s",o.id.toB58String(),i.toB58String());return}if(o.multiaddrs.length<1){e("no valid addresses for provider %s. Ignore",i.toB58String());return}if(e("received provider %s for %s (addrs %s)",i.toB58String(),s.toBaseEncodedString(),o.multiaddrs.map(a=>a.toString())),!r._isSelf(o.id))return r.peerStore.addressBook.add(o.id,o.multiaddrs),r.providers.addProvider(s,o.id)}),r.providers.addProvider(s,i)}return t}});var sae=M((Get,nae)=>{"use strict";var oqe=x0(),aqe=Ht(),fqe=Vf(),iae=$i();nae.exports=r=>{let e=iae.logger(r.peerId,"rpc:get-providers");async function t(i,n){let s;try{s=new oqe(n.key)}catch(_){throw aqe(new Error(`Invalid CID: ${_.message}`),"ERR_INVALID_CID")}e("%s",s.toBaseEncodedString());let o=iae.bufferToKey(s.bytes),[a,f,c]=await Promise.all([r.datastore.has(o),r.providers.getProviders(s),r._betterPeersToQuery(n,i)]),l=f.map(_=>({id:_,multiaddrs:[]})),h=c.map(_=>({id:_.id,multiaddrs:[]}));a&&l.push({id:r.peerId,multiaddrs:[]});let x=new fqe(n.type,n.key,n.clusterLevel);return l.length>0&&(x.providerPeers=l),h.length>0&&(x.closerPeers=h),e("got %s providers %s closerPeers",l.length,h.length),x}return t}});var aae=M((Yet,oae)=>{"use strict";var cqe=$i();oae.exports=r=>{let e=cqe.logger(r.peerId,"rpc:ping");function t(i,n){return e("from %s",i.toB58String()),n}return t}});var cae=M((Wet,fae)=>{"use strict";var vp=Vf().TYPES;fae.exports=r=>{let e={[vp.GET_VALUE]:Yoe()(r),[vp.PUT_VALUE]:Joe()(r),[vp.FIND_NODE]:Qoe()(r),[vp.ADD_PROVIDER]:rae()(r),[vp.GET_PROVIDERS]:sae()(r),[vp.PING]:aae()(r)};function t(i){return e[i]}return t}});var dae=M((Zet,lae)=>{"use strict";var{pipe:uqe}=ys(),uae=Nf(),lqe=Vf(),dqe=cae(),hqe=$i();lae.exports=r=>{let e=hqe.logger(r.peerId,"rpc"),t=dqe(r);async function i(s,o){let a=t(o.type);try{await r._add(s)}catch(f){e.error("Failed to update the kbucket store",f)}if(!a){e.error(`no handler found for message type: ${o.type}`);return}return a(s,o)}async function n({stream:s,connection:o}){let a=o.remotePeer;try{await r._add(a)}catch(c){e.error(c)}let f=a.toB58String();e("from: %s",f),await uqe(s.source,uae.decode(),c=>async function*(){for await(let l of c){let h=lqe.deserialize(l.slice()),x=await i(a,h);x&&(yield x.serialize())}}(),uae.encode(),s.sink)}return n}});var yae=M((Jet,bae)=>{"use strict";var m8=Ht(),{pipe:hae}=ys(),kA=Nf(),pqe=g6(),{consume:bqe}=Ob(),yqe=y3(),mqe=Uoe(),gqe=dae(),vqe=Qc(),xqe=Vf(),wqe=$i(),pae=class{constructor(e){this.dht=e,this.readMessageTimeout=vqe.READ_MESSAGE_TIMEOUT,this._log=wqe.logger(this.dht.peerId,"net"),this._rpc=gqe(this.dht),this._onPeerConnected=this._onPeerConnected.bind(this),this._running=!1}async start(){if(this._running)return;if(!this.dht.isStarted)throw m8(new Error("Can not start network"),"ERR_CANNOT_START_NETWORK");this._running=!0,this.dht._clientMode===!1&&this.dht.registrar.handle(this.dht.protocol,this._rpc);let e=new mqe({multicodecs:[this.dht.protocol],handlers:{onConnect:this._onPeerConnected,onDisconnect:()=>{}}});this._registrarId=await this.dht.registrar.register(e)}async stop(){!this.dht.isStarted&&!this.isStarted||(this._running=!1,this._registrarId&&await this.dht.registrar.unregister(this._registrarId))}get isStarted(){return this._running}get isConnected(){return this.dht.isStarted&&this.isStarted}async _onPeerConnected(e){await this.dht._add(e),this._log("added to the routing table: %s",e.toB58String())}async sendRequest(e,t){if(!this.isConnected)throw m8(new Error("Network is offline"),"ERR_NETWORK_OFFLINE");let i=e.toB58String();this._log("sending to: %s",i);let n=this.dht.registrar.connectionManager.get(e);n||(n=await this.dht.dialer.connectToPeer(e));let{stream:s}=await n.newStream(this.dht.protocol);return this._writeReadMessage(s,t.serialize())}async sendMessage(e,t){if(!this.isConnected)throw m8(new Error("Network is offline"),"ERR_NETWORK_OFFLINE");let i=e.toB58String();this._log("sending to: %s",i);let n=this.dht.registrar.connectionManager.get(e);n||(n=await this.dht.dialer.connectToPeer(e));let{stream:s}=await n.newStream(this.dht.protocol);return this._writeMessage(s,t.serialize())}async _writeReadMessage(e,t){return pqe(_qe(e,t),this.readMessageTimeout)}_writeMessage(e,t){return hae([t],kA.encode(),e,bqe)}};async function _qe(r,e){let t=await hae([e],kA.encode(),r,kA.decode(),async i=>{let n=await yqe(i);if(n)return n.slice()});if(t.length===0)throw m8(new Error("No message received"),"ERR_NO_MESSAGE_RECEIVED");return xqe.deserialize(t)}bae.exports=pae});var xae=M((Xet,vae)=>{"use strict";var g8=l8(),mae=$i(),Eqe=d8(),Sqe=gn(),gae=class{constructor(e,t){this.originDhtKey=e,this.capacity=t,this.peerDistances=[]}get length(){return this.peerDistances.length}get peers(){return this.peerDistances.map(e=>e.peerId)}async add(e){if(this.peerDistances.find(n=>Sqe(n.peerId.id,e.id)))return;let t=await mae.convertPeerId(e),i={peerId:e,distance:g8(this.originDhtKey,t)};this.peerDistances.push(i),this.peerDistances.sort((n,s)=>g8.compare(n.distance,s.distance)),this.peerDistances=this.peerDistances.slice(0,this.capacity)}async anyCloser(e){if(!e.length)return!1;if(!this.length)return!0;let t=await Eqe(e,n=>mae.convertPeerId(n)),i=this.peerDistances[this.peerDistances.length-1].distance;for(let n of t){let s=g8(this.originDhtKey,n);if(g8.compare(s,i)<0)return!0}return!1}};vae.exports=gae});var _ae=M((CA,wae)=>{(function(){var r,e,t,i,n,s,o,a,f,c,l,h,x,_,E;t=Math.floor,c=Math.min,e=function(C,L){return C<L?-1:C>L?1:0},f=function(C,L,O,W,ee){var N;if(O==null&&(O=0),ee==null&&(ee=e),O<0)throw new Error("lo must be non-negative");for(W==null&&(W=C.length);O<W;)N=t((O+W)/2),ee(L,C[N])<0?W=N:O=N+1;return[].splice.apply(C,[O,O-O].concat(L)),L},s=function(C,L,O){return O==null&&(O=e),C.push(L),_(C,0,C.length-1,O)},n=function(C,L){var O,W;return L==null&&(L=e),O=C.pop(),C.length?(W=C[0],C[0]=O,E(C,0,L)):W=O,W},a=function(C,L,O){var W;return O==null&&(O=e),W=C[0],C[0]=L,E(C,0,O),W},o=function(C,L,O){var W;return O==null&&(O=e),C.length&&O(C[0],L)<0&&(W=[C[0],L],L=W[0],C[0]=W[1],E(C,0,O)),L},i=function(C,L){var O,W,ee,N,V,z,F,H;for(L==null&&(L=e),z=function(){H=[];for(var K=0,S=t(C.length/2);0<=S?K<S:K>S;0<=S?K++:K--)H.push(K);return H}.apply(this).reverse(),F=[],W=0,N=z.length;W<N;W++)O=z[W],F.push(E(C,O,L));return F},x=function(C,L,O){var W;if(O==null&&(O=e),W=C.indexOf(L),W!==-1)return _(C,0,W,O),E(C,W,O)},l=function(C,L,O){var W,ee,N,V,z;if(O==null&&(O=e),ee=C.slice(0,L),!ee.length)return ee;for(i(ee,O),z=C.slice(L),N=0,V=z.length;N<V;N++)W=z[N],o(ee,W,O);return ee.sort(O).reverse()},h=function(C,L,O){var W,ee,N,V,z,F,H,K,S,w;if(O==null&&(O=e),L*10<=C.length){if(V=C.slice(0,L).sort(O),!V.length)return V;for(N=V[V.length-1],K=C.slice(L),z=0,H=K.length;z<H;z++)W=K[z],O(W,N)<0&&(f(V,W,0,null,O),V.pop(),N=V[V.length-1]);return V}for(i(C,O),w=[],ee=F=0,S=c(L,C.length);0<=S?F<S:F>S;ee=0<=S?++F:--F)w.push(n(C,O));return w},_=function(C,L,O,W){var ee,N,V;for(W==null&&(W=e),ee=C[O];O>L;){if(V=O-1>>1,N=C[V],W(ee,N)<0){C[O]=N,O=V;continue}break}return C[O]=ee},E=function(C,L,O){var W,ee,N,V,z;for(O==null&&(O=e),ee=C.length,z=L,N=C[L],W=2*L+1;W<ee;)V=W+1,V<ee&&!(O(C[W],C[V])<0)&&(W=V),C[L]=C[W],L=W,W=2*L+1;return C[L]=N,_(C,z,L,O)},r=function(){C.push=s,C.pop=n,C.replace=a,C.pushpop=o,C.heapify=i,C.updateItem=x,C.nlargest=l,C.nsmallest=h;function C(L){this.cmp=L??e,this.nodes=[]}return C.prototype.push=function(L){return s(this.nodes,L,this.cmp)},C.prototype.pop=function(){return n(this.nodes,this.cmp)},C.prototype.peek=function(){return this.nodes[0]},C.prototype.contains=function(L){return this.nodes.indexOf(L)!==-1},C.prototype.replace=function(L){return a(this.nodes,L,this.cmp)},C.prototype.pushpop=function(L){return o(this.nodes,L,this.cmp)},C.prototype.heapify=function(){return i(this.nodes,this.cmp)},C.prototype.updateItem=function(L){return x(this.nodes,L,this.cmp)},C.prototype.clear=function(){return this.nodes=[]},C.prototype.empty=function(){return this.nodes.length===0},C.prototype.size=function(){return this.nodes.length},C.prototype.clone=function(){var L;return L=new C,L.nodes=this.nodes.slice(0),L},C.prototype.toArray=function(){return this.nodes.slice(0)},C.prototype.insert=C.prototype.push,C.prototype.top=C.prototype.peek,C.prototype.front=C.prototype.peek,C.prototype.has=C.prototype.contains,C.prototype.copy=C.prototype.clone,C}(),function(C,L){return typeof define=="function"&&define.amd?define([],L):typeof CA=="object"?wae.exports=L():C.Heap=L()}(this,function(){return r})}).call(CA)});var Sae=M((Qet,Eae)=>{Eae.exports=_ae()});var Iae=M((ett,Aae)=>{"use strict";var Aqe=Sae(),Iqe=l8(),Tqe=sr(),v8=$i(),BA=Tqe("libp2p:dht:peer-queue"),v6=class{static async fromPeerId(e){let t=await v8.convertPeerId(e);return new v6(t)}static async fromKey(e){let t=await v8.convertBuffer(e);return new v6(t)}constructor(e){BA("create: %b",e),this.from=e,this.heap=new Aqe(v8.xorCompare)}async enqueue(e){BA("enqueue %s",e.toB58String());let t=await v8.convertPeerId(e),i={id:e,distance:Iqe(this.from,t)};this.heap.push(i)}dequeue(){let e=this.heap.pop();return BA("dequeue %s",e.id.toB58String()),e.id}get length(){return this.heap.size()}};Aae.exports=v6});var Cae=M((ttt,kae)=>{"use strict";var kqe=Iae(),Cqe=$i(),Bqe=3e4,Tae=class{constructor(e,t){if(this.run=e,this.queryFunc=Cqe.withTimeout(t,Bqe),!this.queryFunc)throw new Error("Path requires a `queryFn` to be specified");if(typeof this.queryFunc!="function")throw new Error("Path expected `queryFn` to be a function. Got "+typeof this.queryFunc);this.initialPeers=[],this.peersToQuery=null,this.res=null}addInitialPeer(e){this.initialPeers.push(e)}async execute(){let e=await kqe.fromKey(this.run.query.key);this.peersToQuery=e,await Promise.all(this.initialPeers.map(t=>this.addPeerToQuery(t))),await this.run.workerQueue(this)}async addPeerToQuery(e){this.run.query.dht._isSelf(e)||this.run.peersSeen.has(e.toB58String())||this.peersToQuery&&await this.peersToQuery.enqueue(e)}};kae.exports=Tae});var Mae=M((rtt,MA)=>{"use strict";var Mqe=Object.prototype.hasOwnProperty,Ss="~";function x6(){}Object.create&&(x6.prototype=Object.create(null),new x6().__proto__||(Ss=!1));function Rqe(r,e,t){this.fn=r,this.context=e,this.once=t||!1}function Bae(r,e,t,i,n){if(typeof t!="function")throw new TypeError("The listener must be a function");var s=new Rqe(t,i||r,n),o=Ss?Ss+e:e;return r._events[o]?r._events[o].fn?r._events[o]=[r._events[o],s]:r._events[o].push(s):(r._events[o]=s,r._eventsCount++),r}function x8(r,e){--r._eventsCount==0?r._events=new x6:delete r._events[e]}function fs(){this._events=new x6,this._eventsCount=0}fs.prototype.eventNames=function(){var e=[],t,i;if(this._eventsCount===0)return e;for(i in t=this._events)Mqe.call(t,i)&&e.push(Ss?i.slice(1):i);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};fs.prototype.listeners=function(e){var t=Ss?Ss+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=new Array(s);n<s;n++)o[n]=i[n].fn;return o};fs.prototype.listenerCount=function(e){var t=Ss?Ss+e:e,i=this._events[t];return i?i.fn?1:i.length:0};fs.prototype.emit=function(e,t,i,n,s,o){var a=Ss?Ss+e:e;if(!this._events[a])return!1;var f=this._events[a],c=arguments.length,l,h;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),c){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,i),!0;case 4:return f.fn.call(f.context,t,i,n),!0;case 5:return f.fn.call(f.context,t,i,n,s),!0;case 6:return f.fn.call(f.context,t,i,n,s,o),!0}for(h=1,l=new Array(c-1);h<c;h++)l[h-1]=arguments[h];f.fn.apply(f.context,l)}else{var x=f.length,_;for(h=0;h<x;h++)switch(f[h].once&&this.removeListener(e,f[h].fn,void 0,!0),c){case 1:f[h].fn.call(f[h].context);break;case 2:f[h].fn.call(f[h].context,t);break;case 3:f[h].fn.call(f[h].context,t,i);break;case 4:f[h].fn.call(f[h].context,t,i,n);break;default:if(!l)for(_=1,l=new Array(c-1);_<c;_++)l[_-1]=arguments[_];f[h].fn.apply(f[h].context,l)}}return!0};fs.prototype.on=function(e,t,i){return Bae(this,e,t,i,!1)};fs.prototype.once=function(e,t,i){return Bae(this,e,t,i,!0)};fs.prototype.removeListener=function(e,t,i,n){var s=Ss?Ss+e:e;if(!this._events[s])return this;if(!t)return x8(this,s),this;var o=this._events[s];if(o.fn)o.fn===t&&(!n||o.once)&&(!i||o.context===i)&&x8(this,s);else{for(var a=0,f=[],c=o.length;a<c;a++)(o[a].fn!==t||n&&!o[a].once||i&&o[a].context!==i)&&f.push(o[a]);f.length?this._events[s]=f.length===1?f[0]:f:x8(this,s)}return this};fs.prototype.removeAllListeners=function(e){var t;return e?(t=Ss?Ss+e:e,this._events[t]&&x8(this,t)):(this._events=new x6,this._eventsCount=0),this};fs.prototype.off=fs.prototype.removeListener;fs.prototype.addListener=fs.prototype.on;fs.prefixed=Ss;fs.EventEmitter=fs;typeof MA!="undefined"&&(MA.exports=fs)});var Nae=M((itt,Rae)=>{"use strict";Rae.exports=(r,e)=>(e=e||(()=>{}),r.then(t=>new Promise(i=>{i(e())}).then(()=>t),t=>new Promise(i=>{i(e())}).then(()=>{throw t})))});var qae=M((ntt,w8)=>{"use strict";var Nqe=Nae(),RA=class extends Error{constructor(e){super(e);this.name="TimeoutError"}},Pae=(r,e,t)=>new Promise((i,n)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===Infinity){i(r);return}let s=setTimeout(()=>{if(typeof t=="function"){try{i(t())}catch(f){n(f)}return}let o=typeof t=="string"?t:`Promise timed out after ${e} milliseconds`,a=t instanceof Error?t:new RA(o);typeof r.cancel=="function"&&r.cancel(),n(a)},e);Nqe(r.then(i,n),()=>{clearTimeout(s)})});w8.exports=Pae;w8.exports.default=Pae;w8.exports.TimeoutError=RA});var Oae=M(NA=>{"use strict";Object.defineProperty(NA,"__esModule",{value:!0});function Pqe(r,e,t){let i=0,n=r.length;for(;n>0;){let s=n/2|0,o=i+s;t(r[o],e)<=0?(i=++o,n-=s+1):n=s}return i}NA.default=Pqe});var Lae=M(PA=>{"use strict";Object.defineProperty(PA,"__esModule",{value:!0});var qqe=Oae(),Dae=class{constructor(){this._queue=[]}enqueue(e,t){t=Object.assign({priority:0},t);let i={priority:t.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority){this._queue.push(i);return}let n=qqe.default(this._queue,i,(s,o)=>o.priority-s.priority);this._queue.splice(n,0,i)}dequeue(){let e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(t=>t.run)}get size(){return this._queue.length}};PA.default=Dae});var OA=M(qA=>{"use strict";Object.defineProperty(qA,"__esModule",{value:!0});var Oqe=Mae(),Uae=qae(),Dqe=Lae(),_8=()=>{},Lqe=new Uae.TimeoutError,Fae=class extends Oqe{constructor(e){var t,i,n,s;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=_8,this._resolveIdle=_8,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:Dqe.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(i=(t=e.intervalCap)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(n=e.interval)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===Infinity||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=_8,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=_8,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(this._intervalId===void 0){let t=this._intervalEnd-e;if(t<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return t?(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((i,n)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let o=this._timeout===void 0&&t.timeout===void 0?e():Uae.default(Promise.resolve(e()),t.timeout===void 0?this._timeout:t.timeout,()=>{(t.throwOnTimeout===void 0?this._throwOnTimeout:t.throwOnTimeout)&&n(Lqe)});i(await o)}catch(o){n(o)}this._next()};this._queue.enqueue(s,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async i=>this.add(i,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}};qA.default=Fae});var jae=M((ftt,zae)=>{"use strict";var{default:Uqe}=OA(),Kae=class{constructor(e,t,i,n){this.dht=e,this.run=t,this.path=i,this.log=n,this.concurrency=this.dht.concurrency,this.queue=this.setupQueue(),this.execution=null,this.queuedPeerIds=new Set}setupQueue(){let e=new Uqe({concurrency:this.concurrency});return e.on("idle",()=>{this.path.peersToQuery&&!this.path.peersToQuery.length&&(this.log("queue:drain"),this.stop())}),e.on("next",()=>{!this.running||e.pending<this.concurrency&&this.fill()}),e}stop(e){!this.running||(this.running=!1,this.queue.clear(),this.log("worker:stop, %d workers still running",this.run.workers.filter(t=>t.running).length),this.execution&&(e?this.execution.reject(e):this.execution.resolve()))}async execute(){this.running=!0,this.execution=null;let e=new Promise((t,i)=>{this.execution={resolve:t,reject:i}});this.fill(),await e}fill(){if(!!this.path.peersToQuery)for(;this.queue.pending+this.queue.size<this.concurrency&&this.path.peersToQuery.length>0;){let e=this.path.peersToQuery.dequeue();this.queuedPeerIds.add(e),this.queue.add(()=>this.processNext(e).catch(t=>{this.log.error("queue",t),this.stop(t)}).finally(()=>{this.queuedPeerIds.delete(e)}))}}async processNext(e){if(!this.running||this.run.peersSeen.has(e.toB58String()))return;let t,i;try{t=await this.run.continueQuerying(this)}catch(o){i=o}if(!this.running)return;if(i)throw i;if(!t){this.stop();return}if(this.run.peersSeen.has(e.toB58String()))return;this.run.peersSeen.add(e.toB58String()),this.log("queue:work");let n,s;try{n=await this.execQuery(e)}catch(o){s=o}if(!!this.running){if(this.log("queue:work:done",s,n),s)throw s;if(n&&n.queryComplete){this.log("query:complete"),this.run.stop();return}n&&n.pathComplete&&this.stop()}}async execQuery(e){let t,i;try{t=await this.path.queryFunc(e)}catch(n){i=n}if(!!this.running){if(i){this.run.errors.push(i);return}if(this.run.peersQueried&&await this.run.peersQueried.add(e),!!t){if(t.pathComplete||t.queryComplete)return this.path.res=t,{pathComplete:t.pathComplete,queryComplete:t.queryComplete};if(t.closerPeers&&t.closerPeers.length>0){let n=async s=>{this.dht._isSelf(s.id)||(this.dht._peerDiscovered(s.id,s.multiaddrs),await this.path.addPeerToQuery(s.id))};await Promise.all(t.closerPeers.map(n))}}}}};zae.exports=Kae});var $ae=M((ctt,Hae)=>{"use strict";var Fqe=xae(),Kqe=Wn(),zqe=Cae(),jqe=jae(),Vqe=$i(),Vae=class extends Kqe{constructor(e){super();this.query=e,this.running=!1,this.workers=[],this.peersSeen=new Set,this.errors=[],this.peersQueried=null}stop(){if(!!this.running){this.running=!1;for(let e of this.workers)e.stop()}}async execute(e){let t=[],i=Math.min(this.query.dht.disjointPaths,e.length);for(let s=0;s<i;s++)t.push(new zqe(this,this.query.makePath(s,i)));e.forEach((s,o)=>{t[o%i].addInitialPeer(s)}),await this.executePaths(t);let n={finalSet:new Set(this.peersQueried&&this.peersQueried.peers),paths:[]};for(let s of t)s.res&&(s.res.pathComplete||s.res.queryComplete)&&(s.res.success=!0,n.paths.push(s.res));return n}async executePaths(e){this.running=!0,this.emit("start");try{await Promise.all(e.map(t=>t.execute()))}finally{this.stop(),this.emit("complete")}if(this.errors.length===this.peersSeen.size)throw this.errors[0]}async workerQueue(e){await this.init(),await this.startWorker(e)}async startWorker(e){let t=new jqe(this.query.dht,this,e,this.query._log);this.workers.push(t),await t.execute()}async init(){if(!this.peersQueried){if(this.peersQueriedPromise){await this.peersQueriedPromise;return}this.peersQueriedPromise=(async()=>{let e=await Vqe.convertBuffer(this.query.key);this.peersQueried=new Fqe(e,this.query.dht.kBucketSize)})(),await this.peersQueriedPromise,delete this.peersQueriedPromise}}async continueQuerying(e){if(this.peersQueried&&this.peersQueried.length<this.peersQueried.capacity)return!0;let t=Array.from(e.queuedPeerIds);return!!(this.peersQueried&&await this.peersQueried.anyCloser(t))}};Hae.exports=Vae});var E8=M((utt,Yae)=>{"use strict";var Hqe=s1().multihash,$qe=$i(),Gqe=$ae(),Gae=class{constructor(e,t,i){this.dht=e,this.key=t,this.makePath=i,this._log=$qe.logger(this.dht.peerId,"query:"+Hqe.toB58String(t)),this.running=!1,this._onStart=this._onStart.bind(this),this._onComplete=this._onComplete.bind(this)}async run(e){return this.dht._queryManager.running?e.length===0?(this._log.error("Running query with no peers"),{finalSet:new Set,paths:[]}):(this._run=new Gqe(this),this._log(`query running with K=${this.dht.kBucketSize}, A=${this.dht.concurrency}, D=${Math.min(this.dht.disjointPaths,e.length)}`),this._run.once("start",this._onStart),this._run.once("complete",this._onComplete),this._run.execute(e)):(this._log.error("Attempt to run query after shutdown"),{finalSet:new Set,paths:[]})}_onStart(){this.running=!0,this._startTime=Date.now(),this._log("query:start"),this.dht._queryManager.queryStarted(this)}_onComplete(){this.stop()}stop(){this._log(`query:done in ${Date.now()-(this._startTime||0)}ms`),this._run&&this._log(`${this._run.errors.length} of ${this._run.peersSeen.size} peers errored (${this._run.errors.length/this._run.peersSeen.size*100}% fail rate)`),!!this.running&&(this.running=!1,this._run&&(this._run.removeListener("start",this._onStart),this._run.removeListener("complete",this._onComplete),this._run.stop()),this.dht._queryManager.queryCompleted(this))}};Yae.exports=Gae});var Xae=M((ltt,Jae)=>{"use strict";var DA=Ht(),Yqe=g6(),Wqe=gn(),Wae=Kr(),Zae=yp(),LA=Qc(),Zqe=E8(),Ul=$i(),Jqe=Zae.Record;Jae.exports=r=>{let e=async(n,s)=>r.datastore.put(Ul.bufferToKey(n),s),t=async n=>{r._log(`getLocal ${Wae(n,"base32")}`);let s=await r.datastore.get(Ul.bufferToKey(n));r._log(`found ${Wae(n,"base32")} in local datastore`);let o=Jqe.deserialize(s);return await r._verifyRecordLocally(o),o},i=async(n,s,o)=>{let a=await Ul.createPutRecord(n,o);return Promise.all(s.map(async f=>{if(!Wqe(f.val,o)){if(r._isSelf(f.from)){try{await r._putLocal(n,a)}catch(c){r._log.error("Failed error correcting self",c)}return}try{await r._putValueToPeer(n,a,f.from)}catch(c){r._log.error("Failed error correcting entry",c)}}}))};return{async _putLocal(n,s){return e(n,s)},async put(n,s,o={}){r._log("PutValue %b",n);let a=await Ul.createPutRecord(n,s);await e(n,a);let f=0,c=0;await Ul.mapParallel(r.getClosestPeers(n,{shallow:!0}),async h=>{try{f+=1,await r._putValueToPeer(n,a,h),c+=1}catch(x){r._log.error("Failed to put to peer (%b): %s",h.id,x)}});let l=o.minPeers||f;if(l>c){let h=DA(new Error(`Failed to put value to enough peers: ${c}/${l}`),"ERR_NOT_ENOUGH_PUT_PEERS");throw r._log.error(h),h}},async get(n,s={}){s.timeout=s.timeout||LA.minute,r._log("_get %b",n);let o=await r.getMany(n,LA.GET_MANY_RECORD_COUNT,s),a=o.map(l=>l.val),f=0;try{f=Zae.selection.bestRecord(r.selectors,n,a)}catch(l){if(l.code!=="ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")throw l}let c=a[f];if(r._log("GetValue %b %s",n,c),!c)throw DA(new Error("best value was not found"),"ERR_NOT_FOUND");return await i(n,o,c),c},async getMany(n,s,o={}){o.timeout=o.timeout||LA.minute,r._log("getMany %b (%s)",n,s);let a=[],f;try{f=await t(n)}catch(E){if(s===0)throw E}if(f&&a.push({val:f.value,from:r.peerId}),a.length>=s)return a;let c=await Ul.convertBuffer(n),l=r.routingTable.closestPeers(c,r.kBucketSize);if(r._log("peers in rt: %d",l.length),l.length===0){let E="Failed to lookup key! No peers from routing table!";if(r._log.error(E),a.length===0)throw DA(new Error(E),"ERR_NO_PEERS_IN_ROUTING_TABLE");return a}let h=a.length;function x(E,C){let L=Ul.pathSize(s-h,C),O=0;async function W(ee){let N,V,z;try{let H=await r._getValueOrPeers(ee,n);N=H.record,V=H.peers}catch(H){if(H.code!=="ERR_INVALID_RECORD")throw H;z=H}let F={closerPeers:V};return N&&N.value?(a.push({val:N.value,from:ee}),O++):z&&(a.push({err:z,from:ee}),O++),O>=L&&(F.pathComplete=!0),F}return W}let _=new Zqe(r,n,x);try{await Yqe(_.run(l),o.timeout)}catch(E){if(a.length===0)throw E}finally{_.stop()}return a}}}});var tfe=M((dtt,efe)=>{"use strict";var Qae=class{constructor(){this.list=[]}push(e){return this.has(e.id)?!1:(this.list.push(e),!0)}has(e){let t=this.list.find(i=>i.id.equals(e));return Boolean(t)}toArray(){return this.list.slice()}pop(){return this.list.pop()}get length(){return this.list.length}};efe.exports=Qae});var nfe=M((htt,ife)=>{"use strict";var Xqe=tfe(),rfe=class extends Xqe{constructor(e){super();this.limit=e}push(e){return this.length<this.limit?super.push(e):!1}};ife.exports=rfe});var ufe=M((ptt,cfe)=>{"use strict";var Qqe=Ht(),sfe=g6(),ofe=Qc(),afe=nfe(),S8=Vf(),eOe=E8(),ffe=$i();cfe.exports=r=>{let e=async(t,i)=>{let n=new S8(S8.TYPES.GET_PROVIDERS,i.bytes,0);return r.network.sendRequest(t,n)};return{async provide(t){r._log(`provide: ${t}`);let i=[];await r.providers.addProvider(t,r.peerId);let n=r.libp2p?r.libp2p.multiaddrs:[],s=new S8(S8.TYPES.ADD_PROVIDER,t.bytes,0);s.providerPeers=[{id:r.peerId,multiaddrs:n}];async function o(a){r._log(`putProvider ${t} to ${a.toB58String()}`);try{await r.network.sendMessage(a,s)}catch(f){i.push(f)}}if(await ffe.mapParallel(r.getClosestPeers(t.bytes),o),i.length)throw Qqe(new Error(`Failed to provide to ${i.length} of ${r.kBucketSize} peers`),"ERR_SOME_PROVIDES_FAILED",{errors:i})},async*findProviders(t,i={timeout:6e4,maxNumProviders:5}){let n=i.timeout||ofe.minute,s=i.maxNumProviders||ofe.K;r._log(`findProviders ${t}`);let o=new afe(s);if((await r.providers.getProviders(t)).forEach(x=>{let _=r.peerStore.get(x);_?o.push({id:_.id,multiaddrs:_.addresses.map(E=>E.multiaddr)}):o.push({id:x,multiaddrs:[]})}),o.length>=s){for(let x of o.toArray())yield x;return}let f=[];function c(x,_){let E=ffe.pathSize(s-o.length,_),C=new afe(E);f.push(C);async function L(O){let W=await e(O,t),ee=W.providerPeers;return r._log(`Found ${ee.length} provider entries for ${t}`),ee.forEach(N=>{C.push({...N})}),C.length>=E?{pathComplete:!0}:{closerPeers:W.closerPeers}}return L}let l=new eOe(r,t.bytes,c),h=r.routingTable.closestPeers(t.bytes,r.kBucketSize);try{await sfe(l.run(h),n)}catch(x){if(x.name!==sfe.TimeoutError.name)throw x}finally{l.stop()}f.forEach(x=>{x.toArray().forEach(_=>{o.push(_)})});for(let x of o.toArray())yield x}}}});var hfe=M((btt,dfe)=>{"use strict";var w6=Ht(),tOe=g6(),UA=Gr(),rOe=u1(),iOe=Kr(),nOe=Qc(),A8=Vf(),lfe=E8(),_6=$i();dfe.exports=r=>{let e=async s=>{r._log(`findPeerLocal ${s.toB58String()}`);let o=await r.routingTable.find(s),a=o&&r.peerStore.get(o);if(a)return{id:a.id,multiaddrs:a.addresses.map(f=>f.multiaddr)}},t=async(s,o)=>{let a=new A8(A8.TYPES.GET_VALUE,o,0);return r.network.sendRequest(s,a)},i=async(s,o)=>(r._log(`closerPeersSingle ${iOe(s,"base32")} from ${o.toB58String()}`),(await r.peerRouting._findPeerSingle(o,new UA(s))).closerPeers.filter(f=>!r._isSelf(f.id)).map(f=>(r.peerStore.addressBook.add(f.id,f.multiaddrs),f))),n=async s=>{let o=_6.keyForPublicKey(s),a=await t(s,o);if(!a.record||!a.record.value)throw w6(new Error(`Node not responding with its public key: ${s.toB58String()}`),"ERR_INVALID_RECORD");let f=await UA.createFromPubKey(a.record.value);if(!f.equals(s))throw w6(new Error("public key does not match id"),"ERR_PUBLIC_KEY_DOES_NOT_MATCH_ID");return f.pubKey};return{async _findPeerSingle(s,o){r._log("findPeerSingle %s",s.toB58String());let a=new A8(A8.TYPES.FIND_NODE,o.id,0);return r.network.sendRequest(s,a)},async findPeer(s,o={timeout:6e4}){o.timeout=o.timeout||nOe.minute,r._log("findPeer %s",s.toB58String());let a=await e(s);if(a!=null)return r._log("found local"),a;let f=await _6.convertPeerId(s),c=r.routingTable.closestPeers(f,r.kBucketSize);if(c.length===0)throw w6(new Error("Peer lookup failed"),"ERR_LOOKUP_FAILED");if(c.find(C=>C.isEqual(s))){let C=r.peerStore.get(s);if(C)return r._log("found in peerStore"),{id:C.id,multiaddrs:C.addresses.map(L=>L.multiaddr)}}let h=new lfe(r,s.id,()=>async L=>{let O=await this._findPeerSingle(L,s),W=O.closerPeers.find(ee=>ee.id.isEqual(s));return W?{peer:W,queryComplete:!0}:{closerPeers:O.closerPeers}}),x;try{x=await tOe(h.run(c),o.timeout)}finally{h.stop()}let _=!1;if(x.paths.forEach(C=>{C.success&&C.peer&&(_=!0,r.peerStore.addressBook.add(C.peer.id,C.peer.multiaddrs))}),r._log("findPeer %s: %s",s.toB58String(),_),!_)throw w6(new Error("No peer found"),"ERR_NOT_FOUND");let E=r.peerStore.get(s);if(!E)throw w6(new Error("No peer found in peer store"),"ERR_NOT_FOUND");return{id:E.id,multiaddrs:E.addresses.map(C=>C.multiaddr)}},async*getClosestPeers(s,o={shallow:!1}){r._log("getClosestPeers to %b",s);let a=await _6.convertBuffer(s),f=r.routingTable.closestPeers(a,r.kBucketSize),l=await new lfe(r,s,()=>async x=>({closerPeers:await i(s,x),pathComplete:o.shallow?!0:void 0})).run(f);if(!l||!l.finalSet)return[];let h=await _6.sortClosestPeers(Array.from(l.finalSet),a);for(let x of h.slice(0,r.kBucketSize))yield x},async getPublicKey(s){r._log("getPublicKey %s",s.toB58String());let o=r.peerStore.get(s);if(o&&o.id.pubKey)return r._log("getPublicKey: found local copy"),o.id.pubKey;let a;try{a=await n(s)}catch(l){let h=_6.keyForPublicKey(s),x=await r.get(h);a=rOe.keys.unmarshalPublicKey(x)}let f=new UA(s.id,void 0,a),c=(o&&o.addresses||[]).map(l=>l.multiaddr);return r.peerStore.addressBook.add(f,c),r.peerStore.keyBook.set(f,a),a}}}});var yfe=M((ytt,bfe)=>{bfe.exports=FA;var pfe=128,sOe=127,oOe=~sOe,aOe=Math.pow(2,31);function FA(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw FA.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var i=t;r>=aOe;)e[t++]=r&255|pfe,r/=128;for(;r&oOe;)e[t++]=r&255|pfe,r>>>=7;return e[t]=r|0,FA.bytes=t-i+1,e}});var vfe=M((mtt,gfe)=>{gfe.exports=KA;var fOe=128,mfe=127;function KA(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o||i>49)throw KA.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&mfe)<<i:(s&mfe)*Math.pow(2,i),i+=7}while(s>=fOe);return KA.bytes=n-e,t}});var wfe=M((gtt,xfe)=>{var cOe=Math.pow(2,7),uOe=Math.pow(2,14),lOe=Math.pow(2,21),dOe=Math.pow(2,28),hOe=Math.pow(2,35),pOe=Math.pow(2,42),bOe=Math.pow(2,49),yOe=Math.pow(2,56),mOe=Math.pow(2,63);xfe.exports=function(r){return r<cOe?1:r<uOe?2:r<lOe?3:r<dOe?4:r<hOe?5:r<pOe?6:r<bOe?7:r<yOe?8:r<mOe?9:10}});var Efe=M((vtt,_fe)=>{_fe.exports={encode:yfe(),decode:vfe(),encodingLength:wfe()}});var Cfe=M((xtt,kfe)=>{"use strict";var gOe=uE(),Sfe=Efe(),vOe=Gr(),{Key:xOe}=d1(),{default:wOe}=OA(),E6=Qc(),S6=$i(),Afe=class{constructor(e,t,i){this.datastore=e,this._log=S6.logger(t,"providers"),this.cleanupInterval=E6.PROVIDERS_CLEANUP_INTERVAL,this.provideValidity=E6.PROVIDERS_VALIDITY,this.lruCacheSize=i||E6.PROVIDERS_LRU_CACHE_SIZE,this.providers=gOe(this.lruCacheSize),this.syncQueue=new wOe({concurrency:1})}start(){this._cleaner=setInterval(()=>this._cleanup(),this.cleanupInterval)}stop(){this._cleaner&&(clearInterval(this._cleaner),this._cleaner=null)}_cleanup(){return this.syncQueue.add(async()=>{this._log("start cleanup");let e=Date.now(),t=0,i=0,n=new Map,s=this.datastore.batch(),o=this.datastore.query({prefix:E6.PROVIDERS_KEY_PREFIX});for await(let a of o)try{let{cid:f,peerId:c}=Ife(a.key),l=Tfe(a.value),h=Date.now(),x=h-l,_=x>this.provideValidity;if(this._log("comparing: %d - %d = %d > %d %s",h,l,x,this.provideValidity,_?"(expired)":""),_){i++,s.delete(a.key);let E=n.get(f)||new Set;E.add(c),n.set(f,E)}t++}catch(f){this._log.error(f.message)}this._log("deleting %d / %d entries",i,t),n.size&&await s.commit();for(let[a,f]of n){let c=A6(a),l=this.providers.get(c);if(l){for(let h of f)l.delete(h);l.size===0?this.providers.remove(c):this.providers.set(c,l)}}this._log("Cleanup successful (%dms)",Date.now()-e)})}async _getProvidersMap(e){let t=A6(e),i=this.providers.get(t);return i||(i=await EOe(this.datastore,e),this.providers.set(t,i)),i}async addProvider(e,t){return this.syncQueue.add(async()=>{this._log("addProvider %s",e.toBaseEncodedString());let i=await this._getProvidersMap(e);this._log("loaded %s provs",i.size);let n=new Date;i.set(S6.encodeBase32(t.id),n);let s=A6(e);return this.providers.set(s,i),_Oe(this.datastore,e,t,n)})}async getProviders(e){return this.syncQueue.add(async()=>(this._log("getProviders %s",e.toBaseEncodedString()),[...(await this._getProvidersMap(e)).keys()].map(i=>new vOe(S6.decodeBase32(i)))))}};function A6(r){return r=typeof r=="string"?r:S6.encodeBase32(r.bytes),E6.PROVIDERS_KEY_PREFIX+r}async function _Oe(r,e,t,i){let n=[A6(e),"/",S6.encodeBase32(t.id)].join(""),s=new xOe(n),o=Uint8Array.from(Sfe.encode(i.getTime()));return r.put(s,o)}function Ife(r){let e=r.toString().split("/");if(e.length!==4)throw new Error("incorrectly formatted provider entry key in datastore: "+r);return{cid:e[2],peerId:e[3]}}async function EOe(r,e){let t=new Map,i=r.query({prefix:A6(e)});for await(let n of i){let{peerId:s}=Ife(n.key);t.set(s,Tfe(n.value))}return t}function Tfe(r){return Sfe.decode(r)}kfe.exports=Afe});var Mfe=M((wtt,zA)=>{"use strict";var SOe=d8(),Bfe=async(r,e,t)=>SOe(new Array(r).fill(),(i,n)=>e(n),t);zA.exports=Bfe;zA.exports.default=Bfe});var Pfe=M((_tt,Nfe)=>{"use strict";var AOe=u1(),IOe=s1(),TOe=Gr(),{AbortController:kOe}=o1(),COe=Ht(),BOe=Mfe(),MOe=Qc(),{logger:ROe}=$i(),Rfe=class{constructor(e,t){if(!e)throw new Error("Random Walk needs an instance of the Kademlia DHT");this._kadDHT=e,this._options={...MOe.defaultRandomWalk,...t},this.log=ROe(e.peerId,"random-walk"),this._timeoutId=void 0}start(){this._timeoutId||!this._options.enabled||(this._timeoutId=setTimeout(()=>{this._runPeriodically()},this._options.delay))}stop(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0),this._controller&&this._controller.abort()}async _runPeriodically(){for(;this._timeoutId;){try{await this._walk(this._options.queriesPerPeriod,this._options.timeout)}catch(e){this._kadDHT._log.error("random-walk:error",e)}await new Promise(e=>{this._timeoutId=setTimeout(e,this._options.interval)})}}async _walk(e,t){this.log("start"),this._controller=new kOe;try{await BOe(e,async i=>{this.log("running query %d",i);try{let n=await this._randomPeerId();if(!this._controller)return;await this._query(n,{timeout:t,signal:this._controller.signal})}catch(n){if(n&&n.code!=="ETIMEDOUT")throw this.log.error("query %d finished with error",i,n),n}this.log("finished query %d",i)})}finally{this._controller=null,this.log("finished queries")}}async _query(e,t){this.log("query:%s",e.toB58String());let i;try{i=await this._kadDHT.findPeer(e,t)}catch(n){if(n&&n.code==="ERR_NOT_FOUND")return;throw n}throw this.log("query:found",i),COe(new Error(`random-walk: ACTUALLY FOUND PEER: ${i}, ${e.toB58String()}`),"ERR_FOUND_RANDOM_PEER")}async _randomPeerId(){let e=await IOe(AOe.randomBytes(16),"sha2-256");return new TOe(e)}};Nfe.exports=Rfe});var Dfe=M((Ett,Ofe)=>{"use strict";var qfe=class{constructor(){this.queries=new Set,this.running=!1}queryStarted(e){this.queries.add(e)}queryCompleted(e){this.queries.delete(e)}start(){this.running=!0}stop(){this.running=!1;for(let e of this.queries)e.stop();this.queries.clear()}};Ofe.exports=qfe});var Ffe=M((Stt,HA)=>{"use strict";var{EventEmitter:NOe}=Wn(),I8=Ht(),I6=yp(),{MemoryDatastore:POe}=d1(),Lfe=gn(),jA=Kr(),qOe=Noe(),xp=$i(),T6=Qc(),OOe=yae(),DOe=Xae(),LOe=ufe(),UOe=hfe(),T8=Vf(),FOe=Cfe(),KOe=Pfe(),zOe=Dfe(),VA=I6.Record,Ufe=class extends NOe{constructor({libp2p:e,dialer:t,peerId:i,peerStore:n,registrar:s,protocolPrefix:o="/ipfs",forceProtocolLegacy:a=!1,datastore:f=new POe,kBucketSize:c=T6.K,clientMode:l=!1,concurrency:h=T6.ALPHA,validators:x={},selectors:_={},randomWalk:E={enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:3e4,delay:1e4},onPut:C=()=>{},onRemove:L=()=>{}}){super();if(!t)throw new Error("libp2p-kad-dht requires an instance of Dialer");this.libp2p=e,this.dialer=t,this.peerId=i,this.peerStore=n,this.registrar=s,this.protocol=o+(a?"":T6.PROTOCOL_DHT),this.kBucketSize=c,this._clientMode=l,this.concurrency=h,this.disjointPaths=Math.ceil(this.kBucketSize/2),this.routingTable=new qOe(this.peerId,this.kBucketSize),this.datastore=f,this.providers=new FOe(this.datastore,this.peerId),this.validators={pk:I6.validator.validators.pk,...x},this.selectors={pk:I6.selection.selectors.pk,..._},this.network=new OOe(this),this._log=xp.logger(this.peerId),this.randomWalk=new KOe(this,E),this._queryManager=new zOe,this._running=!1,this.contentFetching=DOe(this),this.contentRouting=LOe(this),this.peerRouting=UOe(this),this.onPut=C,this.onRemove=L}get isStarted(){return this._running}async start(){this._running=!0,this.providers.start(),this._queryManager.start(),await this.network.start(),this.randomWalk.start()}stop(){return this._running=!1,this.randomWalk.stop(),this.providers.stop(),this._queryManager.stop(),this.network.stop()}async put(e,t,i={}){return this.contentFetching.put(e,t,i)}async get(e,t={}){return this.contentFetching.get(e,t)}async getMany(e,t,i={}){return this.contentFetching.getMany(e,t,i)}async removeLocal(e){this._log(`removeLocal: ${jA(e,"base32")}`);let t=xp.bufferToKey(e);try{await this.datastore.delete(t)}catch(i){if(i.code==="ERR_NOT_FOUND")return;throw i}}async _putLocal(e,t){this._log(`_putLocal: ${jA(e,"base32")}`);let i=xp.bufferToKey(e);await this.datastore.put(i,t)}async provide(e){return this.contentRouting.provide(e)}async*findProviders(e,t={timeout:6e3,maxNumProviders:5}){for await(let i of this.contentRouting.findProviders(e,t))yield i}async findPeer(e,t={timeout:6e4}){return this.peerRouting.findPeer(e,t)}async*getClosestPeers(e,t={shallow:!1}){yield*this.peerRouting.getClosestPeers(e,t)}getPublicKey(e){return this.peerRouting.getPublicKey(e)}_peerDiscovered(e,t){this.emit("peer",{id:e,multiaddrs:t})}async _nearestPeersToQuery(e){let t=await xp.convertBuffer(e.key);return this.routingTable.closestPeers(t,this.kBucketSize).map(n=>{let s=this.peerStore.get(n);return{id:n,multiaddrs:s?s.addresses.map(o=>o.multiaddr):[]}})}async _betterPeersToQuery(e,t){return this._log("betterPeersToQuery"),(await this._nearestPeersToQuery(e)).filter(n=>this._isSelf(n.id)?(this._log.error("trying to return self as closer"),!1):!n.id.isEqual(t))}async _checkLocalDatastore(e){this._log(`checkLocalDatastore: ${jA(e)} %b`,e);let t=xp.bufferToKey(e),i;try{i=await this.datastore.get(t)}catch(s){if(s.code==="ERR_NOT_FOUND")return;throw s}let n=VA.deserialize(i);if(!n)throw I8(new Error("Invalid record"),"ERR_INVALID_RECORD");if(n.timeReceived==null||xp.now()-n.timeReceived.getTime()>T6.MAX_RECORD_AGE){await this.datastore.delete(t),this.onRemove(n);return}return n}async _add(e){await this.routingTable.add(e)}async _verifyRecordLocally(e){this._log("verifyRecordLocally"),await I6.validator.verifyRecord(this.validators,e)}_isSelf(e){return e&&Lfe(this.peerId.id,e.id)}async _putValueToPeer(e,t,i){let n=new T8(T8.TYPES.PUT_VALUE,e,0);n.record=VA.deserialize(t);let s=await this.network.sendRequest(i,n);if(s.record&&!Lfe(s.record.value,VA.deserialize(t).value))throw I8(new Error("value not put correctly"),"ERR_PUT_VALUE_INVALID")}async _getValueOrPeers(e,t){let i=await this._getValueSingle(e,t),n=i.closerPeers,s=i.record;if(s){try{await this._verifyRecordOnline(s)}catch(o){let a="invalid record received, discarded";throw this._log(a),I8(new Error(a),"ERR_INVALID_RECORD")}return{record:s,peers:n}}if(n.length>0)return{peers:n};throw I8(new Error("Not found"),"ERR_NOT_FOUND")}async _getValueSingle(e,t){let i=new T8(T8.TYPES.GET_VALUE,t,0);return this.network.sendRequest(e,i)}async _verifyRecordOnline(e){await I6.validator.verifyRecord(this.validators,e)}};HA.exports=Ufe;HA.exports.multicodec="/ipfs"+T6.PROTOCOL_DHT});var Vfe=M(($A,jfe)=>{"use strict";var jOe=Gr(),{Multiaddr:VOe}=zi(),HOe=Sb(),{EventEmitter:$Oe}=Wn(),Kfe=sr(),k8=Object.assign(Kfe("libp2p:bootstrap"),{error:Kfe("libp2p:bootstrap:error")}),zfe=class extends $Oe{constructor(e={list:[]}){if(!e.list||!e.list.length)throw new Error("Bootstrap requires a list of peer addresses");super();this._list=e.list,this._interval=e.interval||1e4,this._timer=null}start(){this._timer||(this._timer=setInterval(()=>this._discoverBootstrapPeers(),this._interval),k8("Starting bootstrap node discovery"),this._discoverBootstrapPeers())}_discoverBootstrapPeers(){!this._timer||this._list.forEach(e=>{if(!HOe.P2P.matches(e))return k8.error("Invalid multiaddr");let t=new VOe(e),i=t.getPeerId();if(!i){k8.error("Invalid bootstrap multiaddr without peer id");return}let n=jOe.createFromB58String(i);try{this.emit("peer",{id:n,multiaddrs:[t]})}catch(s){k8.error("Invalid bootstrap peer id",s)}})}stop(){this._timer&&clearInterval(this._timer),this._timer=null}};$A=jfe.exports=zfe;$A.tag="bootstrap"});var $fe=M((GA,Hfe)=>{(function(r,e){"use strict";typeof define=="function"&&define.amd?define([],function(){return r.secrets=e(window.crypto)}):typeof GA=="object"?Hfe.exports=e(W0()):r.secrets=e(r.crypto)})(GA,function(r){"use strict";let e,t,i,n,s;function o(){e={bits:8,radix:16,minBits:3,maxBits:20,bytesPerChar:2,maxBytesPerChar:6,primitivePolynomials:[null,null,1,3,3,5,3,3,29,17,9,5,83,27,43,3,45,9,39,39,9,5,3,33,27,9,71,39,9,5,83]},t={},i=new Array(1024).join("0"),n=!0,s=["nodeCryptoRandomBytes","browserCryptoGetRandomValues","testRandom"]}function a(){return!!(t&&t.rng&&typeof t.rng=="function")}function f(N,V){let z;if(V===0||V===1)return N;if(V&&V>1024)throw new Error("Padding must be multiples of no larger than 1024 bits.");return V=V||t.bits,N&&(z=N.length%V),z?(i+N).slice(-(V-z+N.length)):N}function c(N){let V="",z,F;for(F=N.length-1;F>=0;F--){if(z=parseInt(N[F],16),isNaN(z))throw new Error("Invalid hex character.");V=f(z.toString(2),4)+V}return V}function l(N){let V="",z,F;for(N=f(N,4),F=N.length;F>=4;F-=4){if(z=parseInt(N.slice(F-4,F),2),isNaN(z))throw new Error("Invalid binary character.");V=z.toString(16)+V}return V}function h(){return!!(r&&typeof r=="object"&&(typeof r.getRandomValues=="function"||typeof r.getRandomValues=="object")&&(typeof Uint32Array=="function"||typeof Uint32Array=="object"))}function x(){return typeof r=="object"&&typeof r.randomBytes=="function"}function _(N){function V(K,S,w,T){let v=0,u,d="",y;for(S&&(u=S.length-1);v<u||d.length<K;)y=Math.abs(parseInt(S[v],w)),d=d+f(y.toString(2),T),v++;return d=d.substr(-K),(d.match(/0/g)||[]).length===d.length?null:d}function z(K){let S,w,T,v,u=null;for(T=16,v=4,w=Math.ceil(K/8);u===null;)S=r.randomBytes(w),u=V(K,S.toString("hex"),T,v);return u}function F(K){let S,w,T,v=null;for(w=10,T=32,S=Math.ceil(K/32);v===null;)v=V(K,r.getRandomValues(new Uint32Array(S)),w,T);return v}function H(K){let S,w,T,v,u,d=null;v=10,u=32,w=Math.ceil(K/32),T=123456789,S=new Uint32Array(w);for(let y=0;y<S.length;y++)S[y]=T;for(;d===null;)d=V(K,S,v,u);return d}if(N&&N==="testRandom")return t.typeCSPRNG=N,H;if(N&&N==="nodeCryptoRandomBytes")return t.typeCSPRNG=N,z;if(N&&N==="browserCryptoGetRandomValues")return t.typeCSPRNG=N,F;if(x())return t.typeCSPRNG="nodeCryptoRandomBytes",z;if(h())return t.typeCSPRNG="browserCryptoGetRandomValues",F}function E(N,V){let z=[],F;for(V&&(N=f(N,V)),F=N.length;F>t.bits;F-=t.bits)z.push(parseInt(N.slice(F-t.bits,F),2));return z.push(parseInt(N.slice(0,F),2)),z}function C(N,V){let z=t.logs[N],F=0,H;for(H=V.length-1;H>=0;H--)F!==0?F=t.exps[(z+t.logs[F])%t.maxShares]^V[H]:F=V[H];return F}function L(N,V,z){let F=0,H,K,S,w;for(S=0,H=V.length;S<H;S++)if(z[S]){for(K=t.logs[z[S]],w=0;w<H;w++)if(S!==w){if(N===V[w]){K=-1;break}K=(K+t.logs[N^V[w]]-t.logs[V[S]^V[w]]+t.maxShares)%t.maxShares}F=K===-1?F:F^t.exps[K]}return F}function O(N,V,z){let F=[],H=[N],K,S;for(K=1;K<z;K++)H[K]=parseInt(t.rng(t.bits),2);for(K=1,S=V+1;K<S;K++)F[K-1]={x:K,y:C(K,H)};return F}function W(N,V,z){let F,H,K,S,w;if(V=parseInt(V,t.radix),N=parseInt(N,10)||t.bits,F=N.toString(36).toUpperCase(),K=Math.pow(2,N)-1,S=K.toString(t.radix).length,H=f(V.toString(t.radix),S),typeof V!="number"||V%1!=0||V<1||V>K)throw new Error("Share id must be an integer between 1 and "+K+", inclusive.");return w=F+H+z,w}let ee={init:function(N,V){let z=[],F=[],H=1,K,S;if(o(),N&&(typeof N!="number"||N%1!=0||N<e.minBits||N>e.maxBits))throw new Error("Number of bits must be an integer between "+e.minBits+" and "+e.maxBits+", inclusive.");if(V&&s.indexOf(V)===-1)throw new Error("Invalid RNG type argument : '"+V+"'");for(t.radix=e.radix,t.bits=N||e.bits,t.size=Math.pow(2,t.bits),t.maxShares=t.size-1,K=e.primitivePolynomials[t.bits],S=0;S<t.size;S++)F[S]=H,z[H]=S,H=H<<1,H>=t.size&&(H=H^K,H=H&t.maxShares);if(t.logs=z,t.exps=F,V&&this.setRNG(V),a()||this.setRNG(),!a()||!t.bits||!t.size||!t.maxShares||!t.logs||!t.exps||t.logs.length!==t.size||t.exps.length!==t.size)throw new Error("Initialization failed.")},combine:function(N,V){let z,F,H,K,S="",w,T,v,u=[],d=[];for(V=V||0,z=0,H=N.length;z<H;z++){if(T=this.extractShareComponents(N[z]),w===void 0)w=T.bits;else if(T.bits!==w)throw new Error("Mismatched shares: Different bit settings.");if(t.bits!==w&&this.init(w),u.indexOf(T.id)===-1)for(u.push(T.id),v=E(c(T.data)),F=0,K=v.length;F<K;F++)d[F]=d[F]||[],d[F][u.length-1]=v[F]}for(z=0,H=d.length;z<H;z++)S=f(L(V,u,d[z]).toString(2))+S;return l(V>=1?S:S.slice(S.indexOf("1")+1))},getConfig:function(){let N={};return N.radix=t.radix,N.bits=t.bits,N.maxShares=t.maxShares,N.hasCSPRNG=a(),N.typeCSPRNG=t.typeCSPRNG,N},extractShareComponents:function(N){let V,z,F,H,K={},S,w;if(V=parseInt(N.substr(0,1),36),V&&(typeof V!="number"||V%1!=0||V<e.minBits||V>e.maxBits))throw new Error("Invalid share : Number of bits must be an integer between "+e.minBits+" and "+e.maxBits+", inclusive.");if(H=Math.pow(2,V)-1,F=(Math.pow(2,V)-1).toString(t.radix).length,S="^([a-kA-K3-9]{1})([a-fA-F0-9]{"+F+"})([a-fA-F0-9]+)$",w=new RegExp(S).exec(N),w&&(z=parseInt(w[2],t.radix)),typeof z!="number"||z%1!=0||z<1||z>H)throw new Error("Invalid share : Share id must be an integer between 1 and "+t.maxShares+", inclusive.");if(w&&w[3])return K.bits=V,K.id=z,K.data=w[3],K;throw new Error("The share data provided is invalid : "+N)},setRNG:function(N){let V="Random number generator is invalid ",z=" Supply an CSPRNG of the form function(bits){} that returns a string containing 'bits' number of random 1's and 0's.";if(N&&typeof N=="string"&&s.indexOf(N)===-1)throw new Error("Invalid RNG type argument : '"+N+"'");if(N||(N=_()),N&&typeof N=="string"&&(N=_(N)),n){if(N&&typeof N!="function")throw new Error(V+"(Not a function)."+z);if(N&&typeof N(t.bits)!="string")throw new Error(V+"(Output is not a string)."+z);if(N&&!parseInt(N(t.bits),2))throw new Error(V+"(Binary string output not parseable to an Integer)."+z);if(N&&N(t.bits).length>t.bits)throw new Error(V+"(Output length is greater than config.bits)."+z);if(N&&N(t.bits).length<t.bits)throw new Error(V+"(Output length is less than config.bits)."+z)}return t.rng=N,!0},str2hex:function(N,V){let z,F,H="",K,S,w,T;if(typeof N!="string")throw new Error("Input must be a character string.");if(V||(V=e.bytesPerChar),typeof V!="number"||V<1||V>e.maxBytesPerChar||V%1!=0)throw new Error("Bytes per character must be an integer between 1 and "+e.maxBytesPerChar+", inclusive.");for(z=2*V,F=Math.pow(16,z)-1,w=0,T=N.length;w<T;w++){if(S=N[w].charCodeAt(),isNaN(S))throw new Error("Invalid character: "+N[w]);if(S>F)throw K=Math.ceil(Math.log(S+1)/Math.log(256)),new Error("Invalid character code ("+S+"). Maximum allowable is 256^bytes-1 ("+F+"). To convert this character, use at least "+K+" bytes.");H=f(S.toString(16),z)+H}return H},hex2str:function(N,V){let z,F="",H,K;if(typeof N!="string")throw new Error("Input must be a hexadecimal string.");if(V=V||e.bytesPerChar,typeof V!="number"||V%1!=0||V<1||V>e.maxBytesPerChar)throw new Error("Bytes per character must be an integer between 1 and "+e.maxBytesPerChar+", inclusive.");for(z=2*V,N=f(N,z),H=0,K=N.length;H<K;H+=z)F=String.fromCharCode(parseInt(N.slice(H,H+z),16))+F;return F},random:function(N){if(typeof N!="number"||N%1!=0||N<2||N>65536)throw new Error("Number of bits must be an Integer between 1 and 65536.");return l(t.rng(N))},share:function(N,V,z,F){let H,K,S=new Array(V),w=new Array(V),T,v,u;if(F=F||128,typeof N!="string")throw new Error("Secret must be a string.");if(typeof V!="number"||V%1!=0||V<2)throw new Error("Number of shares must be an integer between 2 and 2^bits-1 ("+t.maxShares+"), inclusive.");if(V>t.maxShares)throw H=Math.ceil(Math.log(V+1)/Math.LN2),new Error("Number of shares must be an integer between 2 and 2^bits-1 ("+t.maxShares+"), inclusive. To create "+V+" shares, use at least "+H+" bits.");if(typeof z!="number"||z%1!=0||z<2)throw new Error("Threshold number of shares must be an integer between 2 and 2^bits-1 ("+t.maxShares+"), inclusive.");if(z>t.maxShares)throw H=Math.ceil(Math.log(z+1)/Math.LN2),new Error("Threshold number of shares must be an integer between 2 and 2^bits-1 ("+t.maxShares+"), inclusive.  To use a threshold of "+z+", use at least "+H+" bits.");if(z>V)throw new Error("Threshold number of shares was "+z+" but must be less than or equal to the "+V+" shares specified as the total to generate.");if(typeof F!="number"||F%1!=0||F<0||F>1024)throw new Error("Zero-pad length must be an integer between 0 and 1024 inclusive.");for(N="1"+c(N),N=E(N,F),T=0,u=N.length;T<u;T++)for(K=O(N[T],V,z),v=0;v<V;v++)S[v]=S[v]||K[v].x.toString(t.radix),w[v]=f(K[v].y.toString(2))+(w[v]||"");for(T=0;T<V;T++)S[T]=W(t.bits,S[T],l(w[T]));return S},newShare:function(N,V){let z,F;if(N&&typeof N=="string"&&(N=parseInt(N,t.radix)),F=N.toString(t.radix),N&&F&&V&&V[0])return z=this.extractShareComponents(V[0]),W(z.bits,F,this.combine(V,N));throw new Error("Invalid 'id' or 'shares' Array argument to newShare().")},_reset:o,_padLeft:f,_hex2bin:c,_bin2hex:l,_hasCryptoGetRandomValues:h,_hasCryptoRandomBytes:x,_getRNG:_,_isSetRNG:a,_splitNumStringToIntArray:E,_horner:C,_lagrange:L,_getShares:O,_constructPublicShareString:W};return ee.init(),ee})});var WOe={};tI(WOe,{default:()=>YOe});var Dtt=wr(iI());var Oy=wr(sI());var Fl=wr(P8()),na=wr(N6()),aI={name:"AES-CBC",length:256};async function fI(r){return await crypto.subtle.importKey("jwk",JSON.parse(r),aI,!0,["encrypt","decrypt"])}async function cI(){return await crypto.subtle.generateKey(aI,!0,["encrypt","decrypt"])}async function uI(r,e){let t=await r.slice(0,16).arrayBuffer(),i=await r.slice(16).arrayBuffer();return await crypto.subtle.decrypt({name:"AES-CBC",iv:t},e,i)}async function lI(r,e){let t=window.crypto.getRandomValues(new Uint8Array(16)),i=await crypto.subtle.encrypt({name:"AES-CBC",iv:t},r,e);return new Blob([t,new Uint8Array(i)],{type:"application/octet-stream"})}function P6(r,e,t){switch(t){case"x25519-xsalsa20-poly1305":{let i=Fl.default.box.keyPair(),n;try{n=na.default.decodeBase64(r)}catch(c){throw new Error("Bad public key")}let s=na.default.decodeUTF8(e),o=Fl.default.randomBytes(Fl.default.box.nonceLength),a=Fl.default.box(s,o,n,i.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:na.default.encodeBase64(o),ephemPublicKey:na.default.encodeBase64(i.publicKey),ciphertext:na.default.encodeBase64(a)}}default:throw new Error("Encryption type/version not supported")}}function q6(r,e){switch(r.version){case"x25519-xsalsa20-poly1305":{let t=na.default.decodeBase64(e),i=na.default.decodeBase64(r.nonce),n=na.default.decodeBase64(r.ciphertext),s=na.default.decodeBase64(r.ephemPublicKey),o=Fl.default.box.open(n,i,s,t),a;try{a=na.default.encodeUTF8(o)}catch(f){throw new Error("Decryption failed.  Could not encode result as utf8")}if(a)return a;throw new Error("Decryption failed.  Output is falsy")}default:throw new Error("Encryption type/version not supported.")}}var wI=wr(wi());var hI="logger/5.2.0";"use strict";var pI=!1,bI=!1,D6={debug:1,default:2,info:2,warning:3,error:4,off:5},yI=D6.default,O8=null;function l0e(){try{let r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch(t){r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}var mI=l0e(),D8;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(D8||(D8={}));var L8;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(L8||(L8={}));var qe=class{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let i=e.toLowerCase();D6[i]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(yI>D6[i])&&console.log.apply(console,t)}debug(...e){this._log(qe.levels.DEBUG,e)}info(...e){this._log(qe.levels.INFO,e)}warn(...e){this._log(qe.levels.WARNING,e)}makeError(e,t,i){if(bI)return this.makeError("censored error",t,{});t||(t=qe.errors.UNKNOWN_ERROR),i||(i={});let n=[];Object.keys(i).forEach(a=>{try{n.push(a+"="+JSON.stringify(i[a]))}catch(f){n.push(a+"="+JSON.stringify(i[a].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let s=e;n.length&&(e+=" ("+n.join(", ")+")");let o=new Error(e);return o.reason=s,o.code=t,Object.keys(i).forEach(function(a){o[a]=i[a]}),o}throwError(e,t,i){throw this.makeError(e,t,i)}throwArgumentError(e,t,i){return this.throwError(e,qe.errors.INVALID_ARGUMENT,{argument:t,value:i})}assert(e,t,i,n){e||this.throwError(t,i,n)}assertArgument(e,t,i,n){e||this.throwArgumentError(t,i,n)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),mI&&this.throwError("platform missing String.prototype.normalize",qe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:mI})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,qe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,qe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,i){i?i=": "+i:i="",e<t&&this.throwError("missing argument"+i,qe.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+i,qe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",qe.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",qe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",qe.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return O8||(O8=new qe(hI)),O8}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",qe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),pI){if(!e)return;this.globalLogger().throwError("error censorship permanent",qe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}bI=!!e,pI=!!t}static setLogLevel(e){let t=D6[e.toLowerCase()];if(t==null){qe.globalLogger().warn("invalid log level - "+e);return}yI=t}static from(e){return new qe(e)}};qe.errors=L8;qe.levels=D8;var gI="bytes/5.2.0";"use strict";var ki=new qe(gI);function vI(r){return!!r.toHexString}function Kl(r){return r.slice||(r.slice=function(){let e=Array.prototype.slice.call(arguments);return Kl(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function zl(r){return mr(r)&&!(r.length%2)||jl(r)}function jl(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||r.length==null)return!1;for(let e=0;e<r.length;e++){let t=r[e];if(typeof t!="number"||t<0||t>=256||t%1)return!1}return!0}function Ut(r,e){if(e||(e={}),typeof r=="number"){ki.checkSafeUint53(r,"invalid arrayify value");let t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Kl(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),vI(r)&&(r=r.toHexString()),mr(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":ki.throwArgumentError("hex data is odd-length","value",r));let i=[];for(let n=0;n<t.length;n+=2)i.push(parseInt(t.substring(n,n+2),16));return Kl(new Uint8Array(i))}return jl(r)?Kl(new Uint8Array(r)):ki.throwArgumentError("invalid arrayify value","value",r)}function Qi(r){let e=r.map(n=>Ut(n)),t=e.reduce((n,s)=>n+s.length,0),i=new Uint8Array(t);return e.reduce((n,s)=>(i.set(s,n),n+s.length),0),Kl(i)}function Vl(r){let e=Ut(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function d0e(r,e){r=Ut(r),r.length>e&&ki.throwArgumentError("value out of range","value",arguments[0]);let t=new Uint8Array(e);return t.set(r,e-r.length),Kl(t)}function mr(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}var U8="0123456789abcdef";function Kt(r,e){if(e||(e={}),typeof r=="number"){ki.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=U8[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),vI(r))return r.toHexString();if(mr(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":ki.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(jl(r)){let t="0x";for(let i=0;i<r.length;i++){let n=r[i];t+=U8[(n&240)>>4]+U8[n&15]}return t}return ki.throwArgumentError("invalid hexlify value","value",r)}function $f(r){if(typeof r!="string")r=Kt(r);else if(!mr(r)||r.length%2)return null;return(r.length-2)/2}function As(r,e,t){return typeof r!="string"?r=Kt(r):(!mr(r)||r.length%2)&&ki.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function sa(r){let e="0x";return r.forEach(t=>{e+=Kt(t).substring(2)}),e}function Hl(r){let e=h0e(Kt(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function h0e(r){typeof r!="string"&&(r=Kt(r)),mr(r)||ki.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function ii(r,e){for(typeof r!="string"?r=Kt(r):mr(r)||ki.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&ki.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function _p(r){let e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(zl(r)){let t=Ut(r);t.length!==65&&ki.throwArgumentError("invalid signature string; must be 65 bytes","signature",r),e.r=Kt(t.slice(0,32)),e.s=Kt(t.slice(32,64)),e.v=t[64],e.v<27&&(e.v===0||e.v===1?e.v+=27:ki.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Kt(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){let n=d0e(Ut(e._vs),32);e._vs=Kt(n);let s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&ki.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;let o=Kt(n);e.s==null?e.s=o:e.s!==o&&ki.throwArgumentError("signature v mismatch _vs","signature",r)}e.recoveryParam==null?e.v==null?ki.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2:e.v==null?e.v=27+e.recoveryParam:e.recoveryParam!==1-e.v%2&&ki.throwArgumentError("signature recoveryParam mismatch v","signature",r),e.r==null||!mr(e.r)?ki.throwArgumentError("signature missing or invalid r","signature",r):e.r=ii(e.r,32),e.s==null||!mr(e.s)?ki.throwArgumentError("signature missing or invalid s","signature",r):e.s=ii(e.s,32);let t=Ut(e.s);t[0]>=128&&ki.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);let i=Kt(t);e._vs&&(mr(e._vs)||ki.throwArgumentError("signature invalid _vs","signature",r),e._vs=ii(e._vs,32)),e._vs==null?e._vs=i:e._vs!==i&&ki.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e}var xI="bignumber/5.2.0";"use strict";var L6=wI.default.BN,La=new qe(xI),F8={},_I=9007199254740991;var EI=!1,Bt=class{constructor(e,t){La.checkNew(new.target,Bt),e!==F8&&La.throwError("cannot call constructor directly; use BigNumber.from",qe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Is(Tr(this).fromTwos(e))}toTwos(e){return Is(Tr(this).toTwos(e))}abs(){return this._hex[0]==="-"?Bt.from(this._hex.substring(1)):this}add(e){return Is(Tr(this).add(Tr(e)))}sub(e){return Is(Tr(this).sub(Tr(e)))}div(e){return Bt.from(e).isZero()&&uo("division by zero","div"),Is(Tr(this).div(Tr(e)))}mul(e){return Is(Tr(this).mul(Tr(e)))}mod(e){let t=Tr(e);return t.isNeg()&&uo("cannot modulo negative values","mod"),Is(Tr(this).umod(t))}pow(e){let t=Tr(e);return t.isNeg()&&uo("cannot raise to negative values","pow"),Is(Tr(this).pow(t))}and(e){let t=Tr(e);return(this.isNegative()||t.isNeg())&&uo("cannot 'and' negative values","and"),Is(Tr(this).and(t))}or(e){let t=Tr(e);return(this.isNegative()||t.isNeg())&&uo("cannot 'or' negative values","or"),Is(Tr(this).or(t))}xor(e){let t=Tr(e);return(this.isNegative()||t.isNeg())&&uo("cannot 'xor' negative values","xor"),Is(Tr(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&uo("cannot mask negative values","mask"),Is(Tr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&uo("cannot shift negative values","shl"),Is(Tr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&uo("cannot shift negative values","shr"),Is(Tr(this).shrn(e))}eq(e){return Tr(this).eq(Tr(e))}lt(e){return Tr(this).lt(Tr(e))}lte(e){return Tr(this).lte(Tr(e))}gt(e){return Tr(this).gt(Tr(e))}gte(e){return Tr(this).gte(Tr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Tr(this).isZero()}toNumber(){try{return Tr(this).toNumber()}catch(e){uo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return La.throwError("this platform does not support BigInt",qe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?EI||(EI=!0,La.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?La.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",qe.errors.UNEXPECTED_ARGUMENT,{}):La.throwError("BigNumber.toString does not accept parameters",qe.errors.UNEXPECTED_ARGUMENT,{})),Tr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Bt)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Bt(F8,Ep(e)):e.match(/^-?[0-9]+$/)?new Bt(F8,Ep(new L6(e))):La.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&uo("underflow","BigNumber.from",e),(e>=_I||e<=-_I)&&uo("overflow","BigNumber.from",e),Bt.from(String(e));let t=e;if(typeof t=="bigint")return Bt.from(t.toString());if(jl(t))return Bt.from(Kt(t));if(t)if(t.toHexString){let i=t.toHexString();if(typeof i=="string")return Bt.from(i)}else{let i=t._hex;if(i==null&&t.type==="BigNumber"&&(i=t.hex),typeof i=="string"&&(mr(i)||i[0]==="-"&&mr(i.substring(1))))return Bt.from(i)}return La.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Ep(r){if(typeof r!="string")return Ep(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&La.throwArgumentError("invalid hex","value",r),r=Ep(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Is(r){return Bt.from(Ep(r))}function Tr(r){let e=Bt.from(r).toHexString();return e[0]==="-"?new L6("-"+e.substring(3),16):new L6(e.substring(2),16)}function uo(r,e,t){let i={fault:r,operation:e};return t!=null&&(i.value=t),La.throwError(r,qe.errors.NUMERIC_FAULT,i)}function K8(r){return new L6(r,36).toString(16)}var SI="properties/5.2.0";"use strict";var b0e=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function f(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,f)}c((i=i.apply(r,e||[])).next())})},U6=new qe(SI);function st(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Ts(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function _i(r){return b0e(this,void 0,void 0,function*(){let e=Object.keys(r).map(i=>{let n=r[i];return Promise.resolve(n).then(s=>({key:i,value:s}))});return(yield Promise.all(e)).reduce((i,n)=>(i[n.key]=n.value,i),{})})}function AI(r,e){(!r||typeof r!="object")&&U6.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||U6.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Li(r){let e={};for(let t in r)e[t]=r[t];return e}var y0e={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function II(r){if(r==null||y0e[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;let e=Object.keys(r);for(let t=0;t<e.length;t++)if(!II(r[e[t]]))return!1;return!0}return U6.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function m0e(r){if(II(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>Ws(e)));if(typeof r=="object"){let e={};for(let t in r){let i=r[t];i!==void 0&&st(e,t,Ws(i))}return e}return U6.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Ws(r){return m0e(r)}var tu=class{constructor(e){for(let t in e)this[t]=Ws(e[t])}};var Ua="abi/5.2.0";"use strict";var Cr=new qe(Ua),ru={},TI={calldata:!0,memory:!0,storage:!0},g0e={calldata:!0,memory:!0};function F6(r,e){if(r==="bytes"||r==="string"){if(TI[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&g0e[e])return!0;return(TI[e]||e==="payable")&&Cr.throwArgumentError("invalid modifier","name",e),!1}function v0e(r,e){let t=r;function i(a){Cr.throwArgumentError(`unexpected character at position ${a}`,"param",r)}r=r.replace(/\s/g," ");function n(a){let f={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(f.indexed=!1),f}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<r.length;a++){let f=r[a];switch(f){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||i(a),o.state.allowType=!1,o.type=$l(o.type),o.components=[n(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||i(a),o.indexed=!0,o.name=""),F6(o.type,o.name)&&(o.name=""),o.type=$l(o.type);let c=o;o=o.parent,o||i(a),delete c.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||i(a),o.indexed=!0,o.name=""),F6(o.type,o.name)&&(o.name=""),o.type=$l(o.type);let l=n(o.parent);o.parent.components.push(l),delete o.parent,o=l;break;case" ":o.state.allowType&&o.type!==""&&(o.type=$l(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||i(a),o.indexed&&i(a),o.indexed=!0,o.name=""):F6(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||i(a),o.type+=f,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||i(a),o.type+=f,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=f,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=f,delete o.state.allowArray):o.state.readArray?o.type+=f:i(a)}}return o.parent&&Cr.throwArgumentError("unexpected eof","param",r),delete s.state,o.name==="indexed"?(e||i(t.length-7),o.indexed&&i(t.length-7),o.indexed=!0,o.name=""):F6(o.type,o.name)&&(o.name=""),s.type=$l(s.type),s}function K6(r,e){for(let t in e)st(r,t,e[t])}var qr=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),x0e=new RegExp(/^(.*)\[([0-9]*)\]$/),Ui=class{constructor(e,t){e!==ru&&Cr.throwError("use fromString",qe.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),K6(this,t);let i=this.type.match(x0e);i?K6(this,{arrayLength:parseInt(i[2]||"-1"),arrayChildren:Ui.fromObject({type:i[1],components:this.components}),baseType:"array"}):K6(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=qr.sighash),qr[e]||Cr.throwArgumentError("invalid format type","format",e),e===qr.json){let i={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.components&&(i.components=this.components.map(n=>JSON.parse(n.format(e)))),JSON.stringify(i)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==qr.sighash&&(t+=this.type),t+="("+this.components.map(i=>i.format(e)).join(e===qr.full?", ":",")+")"):t+=this.type,e!==qr.sighash&&(this.indexed===!0&&(t+=" indexed"),e===qr.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?Ui.fromString(e,t):Ui.fromObject(e)}static fromObject(e){return Ui.isParamType(e)?e:new Ui(ru,{name:e.name||null,type:$l(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Ui.fromObject):null})}static fromString(e,t){function i(n){return Ui.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components})}return i(v0e(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}};function Sp(r,e){return _0e(r).map(t=>Ui.fromString(t,e))}var oa=class{constructor(e,t){e!==ru&&Cr.throwError("use a static from method",qe.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),K6(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return oa.isFragment(e)?e:typeof e=="string"?oa.fromString(e):oa.fromObject(e)}static fromObject(e){if(oa.isFragment(e))return e;switch(e.type){case"function":return ho.fromObject(e);case"event":return aa.fromObject(e);case"constructor":return lo.fromObject(e);case"error":return Gf.fromObject(e);case"fallback":case"receive":return null}return Cr.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?aa.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?ho.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?lo.fromString(e.trim()):e.split(" ")[0]==="error"?Gf.fromString(e.substring(5).trim()):Cr.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}},aa=class extends oa{format(e){if(e||(e=qr.sighash),qr[e]||Cr.throwArgumentError("invalid format type","format",e),e===qr.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});let t="";return e!==qr.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(i=>i.format(e)).join(e===qr.full?", ":",")+") ",e!==qr.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?aa.fromString(e):aa.fromObject(e)}static fromObject(e){if(aa.isEventFragment(e))return e;e.type!=="event"&&Cr.throwArgumentError("invalid event object","value",e);let t={name:Ap(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Ui.fromObject):[],type:"event"};return new aa(ru,t)}static fromString(e){let t=e.match(Ip);t||Cr.throwArgumentError("invalid event string","value",e);let i=!1;return t[3].split(" ").forEach(n=>{switch(n.trim()){case"anonymous":i=!0;break;case"":break;default:Cr.warn("unknown modifier: "+n)}}),aa.fromObject({name:t[1].trim(),anonymous:i,inputs:Sp(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}};function kI(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&Cr.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||Cr.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=Bt.from(t[1]),t[0]):r}function CI(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function BI(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&Cr.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&Cr.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&Cr.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Cr.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&Cr.throwArgumentError("unable to determine stateMutability","value",r),e}var lo=class extends oa{format(e){if(e||(e=qr.sighash),qr[e]||Cr.throwArgumentError("invalid format type","format",e),e===qr.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});e===qr.sighash&&Cr.throwError("cannot format a constructor for sighash",qe.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(i=>i.format(e)).join(e===qr.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?lo.fromString(e):lo.fromObject(e)}static fromObject(e){if(lo.isConstructorFragment(e))return e;e.type!=="constructor"&&Cr.throwArgumentError("invalid constructor object","value",e);let t=BI(e);t.constant&&Cr.throwArgumentError("constructor cannot be constant","value",e);let i={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Ui.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Bt.from(e.gas):null};return new lo(ru,i)}static fromString(e){let t={type:"constructor"};e=kI(e,t);let i=e.match(Ip);return(!i||i[1].trim()!=="constructor")&&Cr.throwArgumentError("invalid constructor string","value",e),t.inputs=Sp(i[2].trim(),!1),CI(i[3].trim(),t),lo.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}},ho=class extends lo{format(e){if(e||(e=qr.sighash),qr[e]||Cr.throwArgumentError("invalid format type","format",e),e===qr.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(e))),outputs:this.outputs.map(i=>JSON.parse(i.format(e)))});let t="";return e!==qr.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(i=>i.format(e)).join(e===qr.full?", ":",")+") ",e!==qr.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(i=>i.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?ho.fromString(e):ho.fromObject(e)}static fromObject(e){if(ho.isFunctionFragment(e))return e;e.type!=="function"&&Cr.throwArgumentError("invalid function object","value",e);let t=BI(e),i={type:e.type,name:Ap(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Ui.fromObject):[],outputs:e.outputs?e.outputs.map(Ui.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Bt.from(e.gas):null};return new ho(ru,i)}static fromString(e){let t={type:"function"};e=kI(e,t);let i=e.split(" returns ");i.length>2&&Cr.throwArgumentError("invalid function string","value",e);let n=i[0].match(Ip);if(n||Cr.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&Ap(t.name),t.inputs=Sp(n[2],!1),CI(n[3].trim(),t),i.length>1){let s=i[1].match(Ip);(s[1].trim()!=""||s[3].trim()!="")&&Cr.throwArgumentError("unexpected tokens","value",e),t.outputs=Sp(s[2],!1)}else t.outputs=[];return ho.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}};function MI(r){let e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Cr.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}var Gf=class extends oa{format(e){if(e||(e=qr.sighash),qr[e]||Cr.throwArgumentError("invalid format type","format",e),e===qr.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});let t="";return e!==qr.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(i=>i.format(e)).join(e===qr.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?Gf.fromString(e):Gf.fromObject(e)}static fromObject(e){if(Gf.isErrorFragment(e))return e;e.type!=="error"&&Cr.throwArgumentError("invalid error object","value",e);let t={type:e.type,name:Ap(e.name),inputs:e.inputs?e.inputs.map(Ui.fromObject):[]};return MI(new Gf(ru,t))}static fromString(e){let t={type:"error"},i=e.match(Ip);return i||Cr.throwArgumentError("invalid error signature","value",e),t.name=i[1].trim(),t.name&&Ap(t.name),t.inputs=Sp(i[2],!1),MI(Gf.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}};function $l(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}var w0e=new RegExp("^[A-Za-z_][A-Za-z0-9_]*$");function Ap(r){return(!r||!r.match(w0e))&&Cr.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}var Ip=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function _0e(r){r=r.trim();let e=[],t="",i=0;for(let n=0;n<r.length;n++){let s=r[n];s===","&&i===0?(e.push(t),t=""):(t+=s,s==="("?i++:s===")"&&(i--,i===-1&&Cr.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}"use strict";var z8=new qe(Ua);function z6(r){let e=[],t=function(i,n){if(!!Array.isArray(n))for(let s in n){let o=i.slice();o.push(s);try{t(o,n[s])}catch(a){e.push({path:o,error:a})}}};return t([],r),e}var en=class{constructor(e,t,i,n){this.name=e,this.type=t,this.localName=i,this.dynamic=n}_throwError(e,t){z8.throwArgumentError(e,this.localName,t)}},Gl=class{constructor(e){st(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return sa(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Qi(e._data))}writeBytes(e){let t=Ut(e),i=t.length%this.wordSize;return i&&(t=Qi([t,this._padding.slice(i)])),this._writeData(t)}_getValue(e){let t=Ut(Bt.from(e));return t.length>this.wordSize&&z8.throwError("value out-of-bounds",qe.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Qi([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}},Yl=class{constructor(e,t,i,n){st(this,"_data",Ut(e)),st(this,"wordSize",t||32),st(this,"_coerceFunc",i),st(this,"allowLoose",n),this._offset=0}get data(){return Kt(this._data)}get consumed(){return this._offset}static coerce(e,t){let i=e.match("^u?int([0-9]+)$");return i&&parseInt(i[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):Yl.coerce(e,t)}_peekBytes(e,t,i){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&i&&this._offset+t<=this._data.length?n=t:z8.throwError("data out-of-bounds",qe.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new Yl(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let i=this._peekBytes(0,e,!!t);return this._offset+=i.length,i.slice(0,e)}readValue(){return Bt.from(this.readBytes(this.wordSize))}};var NI=wr(RI());"use strict";function ni(r){return"0x"+NI.default.keccak_256(Ut(r))}var PI="rlp/5.2.0";"use strict";var Fa=new qe(PI);function qI(r){let e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function OI(r,e,t){let i=0;for(let n=0;n<t;n++)i=i*256+r[e+n];return i}function DI(r){if(Array.isArray(r)){let i=[];if(r.forEach(function(s){i=i.concat(DI(s))}),i.length<=55)return i.unshift(192+i.length),i;let n=qI(i.length);return n.unshift(247+n.length),n.concat(i)}zl(r)||Fa.throwArgumentError("RLP object must be BytesLike","object",r);let e=Array.prototype.slice.call(Ut(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let t=qI(e.length);return t.unshift(183+t.length),t.concat(e)}function Tp(r){return Kt(DI(r))}function LI(r,e,t,i){let n=[];for(;t<e+1+i;){let s=UI(r,t);n.push(s.result),t+=s.consumed,t>e+1+i&&Fa.throwError("child data too short",qe.errors.BUFFER_OVERRUN,{})}return{consumed:1+i,result:n}}function UI(r,e){if(r.length===0&&Fa.throwError("data too short",qe.errors.BUFFER_OVERRUN,{}),r[e]>=248){let t=r[e]-247;e+1+t>r.length&&Fa.throwError("data short segment too short",qe.errors.BUFFER_OVERRUN,{});let i=OI(r,e+1,t);return e+1+t+i>r.length&&Fa.throwError("data long segment too short",qe.errors.BUFFER_OVERRUN,{}),LI(r,e,e+1+t,t+i)}else if(r[e]>=192){let t=r[e]-192;return e+1+t>r.length&&Fa.throwError("data array too short",qe.errors.BUFFER_OVERRUN,{}),LI(r,e,e+1,t)}else if(r[e]>=184){let t=r[e]-183;e+1+t>r.length&&Fa.throwError("data array too short",qe.errors.BUFFER_OVERRUN,{});let i=OI(r,e+1,t);e+1+t+i>r.length&&Fa.throwError("data array too short",qe.errors.BUFFER_OVERRUN,{});let n=Kt(r.slice(e+1+t,e+1+t+i));return{consumed:1+t+i,result:n}}else if(r[e]>=128){let t=r[e]-128;e+1+t>r.length&&Fa.throwError("data too short",qe.errors.BUFFER_OVERRUN,{});let i=Kt(r.slice(e+1,e+1+t));return{consumed:1+t,result:i}}return{consumed:1,result:Kt(r[e])}}function j8(r){let e=Ut(r),t=UI(e,0);return t.consumed!==e.length&&Fa.throwArgumentError("invalid rlp data","data",r),t.result}var FI="address/5.2.0";"use strict";var Wl=new qe(FI);function KI(r){mr(r,20)||Wl.throwArgumentError("invalid address","address",r),r=r.toLowerCase();let e=r.substring(2).split(""),t=new Uint8Array(40);for(let n=0;n<40;n++)t[n]=e[n].charCodeAt(0);let i=Ut(ni(t));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(e[n]=e[n].toUpperCase()),(i[n>>1]&15)>=8&&(e[n+1]=e[n+1].toUpperCase());return"0x"+e.join("")}var E0e=9007199254740991;function S0e(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}var V8={};for(let r=0;r<10;r++)V8[String(r)]=String(r);for(let r=0;r<26;r++)V8[String.fromCharCode(65+r)]=String(10+r);var zI=Math.floor(S0e(E0e));function A0e(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(i=>V8[i]).join("");for(;e.length>=zI;){let i=e.substring(0,zI);e=parseInt(i,10)%97+e.substring(i.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Ci(r){let e=null;if(typeof r!="string"&&Wl.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=KI(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Wl.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==A0e(r)&&Wl.throwArgumentError("bad icap checksum","address",r),e=K8(r.substring(4));e.length<40;)e="0"+e;e=KI("0x"+e)}else Wl.throwArgumentError("invalid address","address",r);return e}function V6(r){let e=null;try{e=Ci(r.from)}catch(i){Wl.throwArgumentError("missing from address","transaction",r)}let t=Vl(Ut(Bt.from(r.nonce).toHexString()));return Ci(As(ni(Tp([e,t])),12))}"use strict";var H8=class extends en{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{Ci(t)}catch(i){this._throwError(i.message,t)}return e.writeValue(t)}decode(e){return Ci(ii(e.readValue().toHexString(),20))}};"use strict";var $8=class extends en{constructor(e){super(e.name,e.type,void 0,e.dynamic);this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}};"use strict";var Zl=new qe(Ua);function G8(r,e,t){let i=null;if(Array.isArray(t))i=t;else if(t&&typeof t=="object"){let f={};i=e.map(c=>{let l=c.localName;return l||Zl.throwError("cannot encode object for signature with missing names",qe.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:t}),f[l]&&Zl.throwError("cannot encode object for signature with duplicate names",qe.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:t}),f[l]=!0,t[l]})}else Zl.throwArgumentError("invalid tuple value","tuple",t);e.length!==i.length&&Zl.throwArgumentError("types/value length mismatch","tuple",t);let n=new Gl(r.wordSize),s=new Gl(r.wordSize),o=[];e.forEach((f,c)=>{let l=i[c];if(f.dynamic){let h=s.length;f.encode(s,l);let x=n.writeUpdatableValue();o.push(_=>{x(_+h)})}else f.encode(n,l)}),o.forEach(f=>{f(n.length)});let a=r.appendWriter(n);return a+=r.appendWriter(s),a}function Y8(r,e){let t=[],i=r.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=r.readValue(),f=i.subReader(a.toNumber());try{o=s.decode(f)}catch(c){if(c.code===qe.errors.BUFFER_OVERRUN)throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(r)}catch(a){if(a.code===qe.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&t.push(o)});let n=e.reduce((s,o)=>{let a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||n[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;let f=t[o];f instanceof Error?Object.defineProperty(t,a,{get:()=>{throw f}}):t[a]=f});for(let s=0;s<t.length;s++){let o=t[s];o instanceof Error&&Object.defineProperty(t,s,{get:()=>{throw o}})}return Object.freeze(t)}var W8=class extends en{constructor(e,t,i){let n=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",n,i,s);this.coder=e,this.length=t}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let i=0;i<this.length;i++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let i=this.length;i===-1&&(i=t.length,e.writeValue(t.length)),Zl.checkArgumentCount(t.length,i,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let s=0;s<t.length;s++)n.push(this.coder);return G8(e,n,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&Zl.throwError("insufficient data length",qe.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let i=[];for(let n=0;n<t;n++)i.push(new $8(this.coder));return e.coerce(this.name,Y8(e,i))}};"use strict";var Z8=class extends en{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}};"use strict";var H6=class extends en{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Ut(t);let i=e.writeValue(t.length);return i+=e.writeBytes(t),i}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},J8=class extends H6{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Kt(super.decode(e)))}};"use strict";var X8=class extends en{constructor(e,t){let i="bytes"+String(e);super(i,i,t,!1);this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let i=Ut(t);return i.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(i)}decode(e){return e.coerce(this.name,Kt(e.readBytes(this.size)))}};"use strict";var Q8=class extends en{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}};var e4="0x0000000000000000000000000000000000000000";var t4=Bt.from(-1),kp=Bt.from(0),r4=Bt.from(1);var i4=Bt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var n4="0x0000000000000000000000000000000000000000000000000000000000000000";"use strict";"use strict";var s4=class extends en{constructor(e,t,i){let n=(t?"int":"uint")+e*8;super(n,n,i,!1);this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let i=Bt.from(t),n=i4.mask(e.wordSize*8);if(this.signed){let s=n.mask(this.size*8-1);(i.gt(s)||i.lt(s.add(r4).mul(t4)))&&this._throwError("value out-of-bounds",t)}else(i.lt(kp)||i.gt(n.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return i=i.toTwos(this.size*8).mask(this.size*8),this.signed&&(i=i.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(i)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}};var jI="strings/5.2.0";"use strict";var VI=new qe(jI),Z0;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(Z0||(Z0={}));var ks;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(ks||(ks={}));function I0e(r,e,t,i,n){return VI.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function HI(r,e,t,i,n){if(r===ks.BAD_PREFIX||r===ks.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<t.length&&t[o]>>6==2;o++)s++;return s}return r===ks.OVERRUN?t.length-e-1:0}function T0e(r,e,t,i,n){return r===ks.OVERLONG?(i.push(n),0):(i.push(65533),HI(r,e,t,i,n))}var $I=Object.freeze({error:I0e,ignore:HI,replace:T0e});function GI(r,e){e==null&&(e=$I.error),r=Ut(r);let t=[],i=0;for(;i<r.length;){let n=r[i++];if(n>>7==0){t.push(n);continue}let s=null,o=null;if((n&224)==192)s=1,o=127;else if((n&240)==224)s=2,o=2047;else if((n&248)==240)s=3,o=65535;else{(n&192)==128?i+=e(ks.UNEXPECTED_CONTINUE,i-1,r,t):i+=e(ks.BAD_PREFIX,i-1,r,t);continue}if(i-1+s>=r.length){i+=e(ks.OVERRUN,i-1,r,t);continue}let a=n&(1<<8-s-1)-1;for(let f=0;f<s;f++){let c=r[i];if((c&192)!=128){i+=e(ks.MISSING_CONTINUE,i,r,t),a=null;break}a=a<<6|c&63,i++}if(a!==null){if(a>1114111){i+=e(ks.OUT_OF_RANGE,i-1-s,r,t,a);continue}if(a>=55296&&a<=57343){i+=e(ks.UTF16_SURROGATE,i-1-s,r,t,a);continue}if(a<=o){i+=e(ks.OVERLONG,i-1-s,r,t,a);continue}t.push(a)}}return t}function tn(r,e=Z0.current){e!=Z0.current&&(VI.checkNormalize(),r=r.normalize(e));let t=[];for(let i=0;i<r.length;i++){let n=r.charCodeAt(i);if(n<128)t.push(n);else if(n<2048)t.push(n>>6|192),t.push(n&63|128);else if((n&64512)==55296){i++;let s=r.charCodeAt(i);if(i>=r.length||(s&64512)!=56320)throw new Error("invalid utf-8 string");let o=65536+((n&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(n>>12|224),t.push(n>>6&63|128),t.push(n&63|128)}return Ut(t)}function $6(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Yf(r,e){return $6(GI(r,e))}function G6(r,e=Z0.current){return GI(tn(r,e))}"use strict";function k0e(r){if(r.length%4!=0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function o4(r,e){e||(e=function(n){return[parseInt(n,16)]});let t=0,i={};return r.split(",").forEach(n=>{let s=n.split(":");t+=parseInt(s[0],16),i[t]=e(s[1])}),i}function YI(r){let e=0;return r.split(",").map(t=>{let i=t.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=e+parseInt(i[0],16);return e=parseInt(i[1],16),{l:n,h:e}})}function a4(r,e){let t=0;for(let i=0;i<e.length;i++){let n=e[i];if(t+=n.l,r>=t&&r<=t+n.h&&(r-t)%(n.d||1)==0){if(n.e&&n.e.indexOf(r-t)!==-1)continue;return n}}return null}var C0e=YI("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),B0e="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),M0e=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],R0e=o4("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),N0e=o4("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),P0e=o4("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",k0e),q0e=YI("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function O0e(r){return r.reduce((e,t)=>(t.forEach(i=>{e.push(i)}),e),[])}function D0e(r){return!!a4(r,C0e)}function L0e(r){let e=a4(r,M0e);if(e)return[r+e.s];let t=R0e[r];if(t)return t;let i=N0e[r];if(i)return[r+i[0]];let n=P0e[r];return n||null}function U0e(r){return!!a4(r,q0e)}function f4(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=G6(r);e=O0e(e.map(i=>{if(B0e.indexOf(i)>=0)return[];if(i>=65024&&i<=65039)return[];let n=L0e(i);return n||[i]})),e=G6($6(e),Z0.NFKC),e.forEach(i=>{if(U0e(i))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(i=>{if(D0e(i))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=$6(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");if(t.length>63)throw new Error("too long");return t}"use strict";"use strict";var c4=class extends H6{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,tn(t))}decode(e){return Yf(super.decode(e))}};"use strict";var Jl=class extends en{constructor(e,t){let i=!1,n=[];e.forEach(o=>{o.dynamic&&(i=!0),n.push(o.type)});let s="tuple("+n.join(",")+")";super("tuple",s,t,i);this.coders=e}defaultValue(){let e=[];this.coders.forEach(i=>{e.push(i.defaultValue())});let t=this.coders.reduce((i,n)=>{let s=n.localName;return s&&(i[s]||(i[s]=0),i[s]++),i},{});return this.coders.forEach((i,n)=>{let s=i.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[n]))}),Object.freeze(e)}encode(e,t){return G8(e,this.coders,t)}decode(e){return e.coerce(this.name,Y8(e,this.coders))}};"use strict";var Cp=new qe(Ua),F0e=new RegExp(/^bytes([0-9]*)$/),K0e=new RegExp(/^(u?int)([0-9]*)$/),Y6=class{constructor(e){Cp.checkNew(new.target,Y6),st(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new H8(e.name);case"bool":return new Z8(e.name);case"string":return new c4(e.name);case"bytes":return new J8(e.name);case"array":return new W8(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Jl((e.components||[]).map(i=>this._getCoder(i)),e.name);case"":return new Q8(e.name)}let t=e.type.match(K0e);if(t){let i=parseInt(t[2]||"256");return(i===0||i>256||i%8!=0)&&Cp.throwArgumentError("invalid "+t[1]+" bit length","param",e),new s4(i/8,t[1]==="int",e.name)}if(t=e.type.match(F0e),t){let i=parseInt(t[1]);return(i===0||i>32)&&Cp.throwArgumentError("invalid bytes length","param",e),new X8(i,e.name)}return Cp.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Yl(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Gl(this._getWordSize())}getDefaultValue(e){let t=e.map(n=>this._getCoder(Ui.from(n)));return new Jl(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Cp.throwError("types/values length mismatch",qe.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});let i=e.map(o=>this._getCoder(Ui.from(o))),n=new Jl(i,"_"),s=this._getWriter();return n.encode(s,t),s.data}decode(e,t,i){let n=e.map(o=>this._getCoder(Ui.from(o)));return new Jl(n,"_").decode(this._getReader(Ut(t),i))}},WI=new Y6;function Wf(r){return ni(tn(r))}var W6="hash/5.2.0";var z0e=new qe(W6),ZI=new Uint8Array(32);ZI.fill(0);var j0e=new RegExp("^((.*)\\.)?([^.]+)$");function Xl(r){typeof r!="string"&&z0e.throwArgumentError("invalid address - "+String(r),"name",r);let e=ZI;for(;r.length;){let t=r.match(j0e),i=tn(f4(t[3]));e=ni(Qi([e,ni(i)])),r=t[2]||""}return Kt(e)}var JI=`Ethereum Signed Message:
`;function u4(r){return typeof r=="string"&&(r=tn(r)),ni(Qi([tn(JI),tn(String(r.length)),r]))}var V0e=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function f(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,f)}c((i=i.apply(r,e||[])).next())})},Ei=new qe(W6),XI=new Uint8Array(32);XI.fill(0);var H0e=Bt.from(-1),QI=Bt.from(0),eT=Bt.from(1),$0e=Bt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function G0e(r){let e=Ut(r),t=e.length%32;return t?sa([e,XI.slice(t)]):Kt(e)}var Y0e=ii(eT.toHexString(),32),W0e=ii(QI.toHexString(),32),tT={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},l4=["name","version","chainId","verifyingContract","salt"];function rT(r){return function(e){return typeof e!="string"&&Ei.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}var Z0e={name:rT("name"),version:rT("version"),chainId:function(r){try{return Bt.from(r).toString()}catch(e){}return Ei.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Ci(r).toLowerCase()}catch(e){}return Ei.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{let e=Ut(r);if(e.length!==32)throw new Error("bad length");return Kt(e)}catch(e){}return Ei.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function d4(r){{let e=r.match(/^(u?)int(\d*)$/);if(e){let t=e[1]==="",i=parseInt(e[2]||"256");(i%8!=0||i>256||e[2]&&e[2]!==String(i))&&Ei.throwArgumentError("invalid numeric width","type",r);let n=$0e.mask(t?i-1:i),s=t?n.add(eT).mul(H0e):QI;return function(o){let a=Bt.from(o);return(a.lt(s)||a.gt(n))&&Ei.throwArgumentError(`value out-of-bounds for ${r}`,"value",o),ii(a.toTwos(256).toHexString(),32)}}}{let e=r.match(/^bytes(\d+)$/);if(e){let t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&Ei.throwArgumentError("invalid bytes width","type",r),function(i){return Ut(i).length!==t&&Ei.throwArgumentError(`invalid length for ${r}`,"value",i),G0e(i)}}}switch(r){case"address":return function(e){return ii(Ci(e),32)};case"bool":return function(e){return e?Y0e:W0e};case"bytes":return function(e){return ni(e)};case"string":return function(e){return Wf(e)}}return null}function iT(r,e){return`${r}(${e.map(({name:t,type:i})=>i+" "+t).join(",")})`}var Nn=class{constructor(e){st(this,"types",Object.freeze(Ws(e))),st(this,"_encoderCache",{}),st(this,"_types",{});let t={},i={},n={};Object.keys(e).forEach(a=>{t[a]={},i[a]=[],n[a]={}});for(let a in e){let f={};e[a].forEach(c=>{f[c.name]&&Ei.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),f[c.name]=!0;let l=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];l===a&&Ei.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",e),!d4(l)&&(i[l]||Ei.throwArgumentError(`unknown type ${JSON.stringify(l)}`,"types",e),i[l].push(a),t[a][l]=!0)})}let s=Object.keys(i).filter(a=>i[a].length===0);s.length===0?Ei.throwArgumentError("missing primary type","types",e):s.length>1&&Ei.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),st(this,"primaryType",s[0]);function o(a,f){f[a]&&Ei.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),f[a]=!0,Object.keys(t[a]).forEach(c=>{!i[c]||(o(c,f),Object.keys(f).forEach(l=>{n[l][c]=!0}))}),delete f[a]}o(this.primaryType,{});for(let a in n){let f=Object.keys(n[a]);f.sort(),this._types[a]=iT(a,e[a])+f.map(c=>iT(c,e[c])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{let n=d4(e);if(n)return n}let t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){let n=t[1],s=this.getEncoder(n),o=parseInt(t[3]);return a=>{o>=0&&a.length!==o&&Ei.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let f=a.map(s);return this._types[n]&&(f=f.map(ni)),ni(sa(f))}}let i=this.types[e];if(i){let n=Wf(this._types[e]);return s=>{let o=i.map(({name:a,type:f})=>{let c=this.getEncoder(f)(s[a]);return this._types[f]?ni(c):c});return o.unshift(n),sa(o)}}return Ei.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let t=this._types[e];return t||Ei.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return ni(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,i){if(d4(e))return i(e,t);let n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){let o=n[1],a=parseInt(n[3]);return a>=0&&t.length!==a&&Ei.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(f=>this._visit(o,f,i))}let s=this.types[e];return s?s.reduce((o,{name:a,type:f})=>(o[a]=this._visit(f,t[a],i),o),{}):Ei.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Nn(e)}static getPrimaryType(e){return Nn.from(e).primaryType}static hashStruct(e,t,i){return Nn.from(t).hashStruct(e,i)}static hashDomain(e){let t=[];for(let i in e){let n=tT[i];n||Ei.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e),t.push({name:i,type:n})}return t.sort((i,n)=>l4.indexOf(i.name)-l4.indexOf(n.name)),Nn.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,i){return sa(["0x1901",Nn.hashDomain(e),Nn.from(t).hash(i)])}static hash(e,t,i){return ni(Nn.encode(e,t,i))}static resolveNames(e,t,i,n){return V0e(this,void 0,void 0,function*(){e=Li(e);let s={};e.verifyingContract&&!mr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");let o=Nn.from(t);o.visit(i,(a,f)=>(a==="address"&&!mr(f,20)&&(s[f]="0x"),f));for(let a in s)s[a]=yield n(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),i=o.visit(i,(a,f)=>a==="address"&&s[f]?s[f]:f),{domain:e,value:i}})}static getPayload(e,t,i){Nn.hashDomain(e);let n={},s=[];l4.forEach(f=>{let c=e[f];c!=null&&(n[f]=Z0e[f](c),s.push({name:f,type:tT[f]}))});let o=Nn.from(t),a=Li(t);return a.EIP712Domain?Ei.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=s,o.encode(i),{types:a,domain:n,primaryType:o.primaryType,message:o.visit(i,(f,c)=>{if(f.match(/^bytes(\d*)/))return Kt(Ut(c));if(f.match(/^u?int/))return Bt.from(c).toString();switch(f){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Ei.throwArgumentError("invalid string","value",c),c}return Ei.throwArgumentError("unsupported type","type",f)})}}};"use strict";"use strict";var Si=new qe(Ua);var h4=class extends tu{},p4=class extends tu{},Ql=class extends tu{static isIndexed(e){return!!(e&&e._isIndexed)}},J0e={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function nT(r,e){let t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}var iu=class{constructor(e){Si.checkNew(new.target,iu);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,st(this,"fragments",t.map(i=>oa.from(i)).filter(i=>i!=null)),st(this,"_abiCoder",Ts(new.target,"getAbiCoder")()),st(this,"functions",{}),st(this,"errors",{}),st(this,"events",{}),st(this,"structs",{}),this.fragments.forEach(i=>{let n=null;switch(i.type){case"constructor":if(this.deploy){Si.warn("duplicate definition - constructor");return}st(this,"deploy",i);return;case"function":n=this.functions;break;case"event":n=this.events;break;case"error":n=this.errors;break;default:return}let s=i.format();if(n[s]){Si.warn("duplicate definition - "+s);return}n[s]=i}),this.deploy||st(this,"deploy",lo.from({payable:!1,type:"constructor"})),st(this,"_isInterface",!0)}format(e){e||(e=qr.full),e===qr.sighash&&Si.throwArgumentError("interface does not support formatting sighash","format",e);let t=this.fragments.map(i=>i.format(e));return e===qr.json?JSON.stringify(t.map(i=>JSON.parse(i))):t}static getAbiCoder(){return WI}static getAddress(e){return Ci(e)}static getSighash(e){return As(Wf(e.format()),0,4)}static getEventTopic(e){return Wf(e.format())}getFunction(e){if(mr(e)){for(let i in this.functions)if(e===this.getSighash(i))return this.functions[i];Si.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){let i=e.trim(),n=Object.keys(this.functions).filter(s=>s.split("(")[0]===i);return n.length===0?Si.throwArgumentError("no matching function","name",i):n.length>1&&Si.throwArgumentError("multiple matching functions","name",i),this.functions[n[0]]}let t=this.functions[ho.fromString(e).format()];return t||Si.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(mr(e)){let i=e.toLowerCase();for(let n in this.events)if(i===this.getEventTopic(n))return this.events[n];Si.throwArgumentError("no matching event","topichash",i)}if(e.indexOf("(")===-1){let i=e.trim(),n=Object.keys(this.events).filter(s=>s.split("(")[0]===i);return n.length===0?Si.throwArgumentError("no matching event","name",i):n.length>1&&Si.throwArgumentError("multiple matching events","name",i),this.events[n[0]]}let t=this.events[aa.fromString(e).format()];return t||Si.throwArgumentError("no matching event","signature",e),t}getError(e){if(mr(e)){let i=Ts(this.constructor,"getSighash");for(let n in this.errors){let s=this.errors[n];if(e===i(s))return this.errors[n]}Si.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){let i=e.trim(),n=Object.keys(this.errors).filter(s=>s.split("(")[0]===i);return n.length===0?Si.throwArgumentError("no matching error","name",i):n.length>1&&Si.throwArgumentError("multiple matching errors","name",i),this.errors[n[0]]}let t=this.errors[ho.fromString(e).format()];return t||Si.throwArgumentError("no matching error","signature",e),t}getSighash(e){return typeof e=="string"&&(e=this.getFunction(e)),Ts(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Ts(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));let i=Ut(t);return Kt(i.slice(0,4))!==this.getSighash(e)&&Si.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Kt(i)),this._decodeParams(e.inputs,i.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Kt(Qi([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let i=Ut(t),n=null,s=null,o=null,a=null;switch(i.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,i)}catch(f){}break;case 4:{let f=Kt(i.slice(0,4)),c=J0e[f];if(c)s=this._abiCoder.decode(c.inputs,i.slice(4)),o=c.name,a=c.signature,c.reason&&(n=s[0]);else try{let l=this.getError(f);s=this._abiCoder.decode(l.inputs,i.slice(4)),o=l.name,a=l.format()}catch(l){console.log(l)}break}}return Si.throwError("call revert exception",qe.errors.CALL_EXCEPTION,{method:e.format(),errorArgs:s,errorName:o,errorSignature:a,reason:n})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Kt(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&Si.throwError("too many arguments for "+e.format(),qe.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let i=[];e.anonymous||i.push(this.getEventTopic(e));let n=(s,o)=>s.type==="string"?Wf(o):s.type==="bytes"?ni(Kt(o)):(s.type==="address"&&this._abiCoder.encode(["address"],[o]),ii(Kt(o),32));for(t.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Si.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?i.push(null):a.baseType==="array"||a.baseType==="tuple"?Si.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?i.push(s.map(f=>n(a,f))):i.push(n(a,s))});i.length&&i[i.length-1]===null;)i.pop();return i}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));let i=[],n=[],s=[];return e.anonymous||i.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Si.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{let f=t[a];if(o.indexed)if(o.type==="string")i.push(Wf(f));else if(o.type==="bytes")i.push(ni(f));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");i.push(this._abiCoder.encode([o.type],[f]))}else n.push(o),s.push(f)}),{data:this._abiCoder.encode(n,s),topics:i}}decodeEventLog(e,t,i){if(typeof e=="string"&&(e=this.getEvent(e)),i!=null&&!e.anonymous){let x=this.getEventTopic(e);(!mr(i[0],32)||i[0].toLowerCase()!==x)&&Si.throwError("fragment/topic mismatch",qe.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:x,value:i[0]}),i=i.slice(1)}let n=[],s=[],o=[];e.inputs.forEach((x,_)=>{x.indexed?x.type==="string"||x.type==="bytes"||x.baseType==="tuple"||x.baseType==="array"?(n.push(Ui.fromObject({type:"bytes32",name:x.name})),o.push(!0)):(n.push(x),o.push(!1)):(s.push(x),o.push(!1))});let a=i!=null?this._abiCoder.decode(n,Qi(i)):null,f=this._abiCoder.decode(s,t,!0),c=[],l=0,h=0;e.inputs.forEach((x,_)=>{if(x.indexed)if(a==null)c[_]=new Ql({_isIndexed:!0,hash:null});else if(o[_])c[_]=new Ql({_isIndexed:!0,hash:a[h++]});else try{c[_]=a[h++]}catch(E){c[_]=E}else try{c[_]=f[l++]}catch(E){c[_]=E}if(x.name&&c[x.name]==null){let E=c[_];E instanceof Error?Object.defineProperty(c,x.name,{get:()=>{throw nT(`property ${JSON.stringify(x.name)}`,E)}}):c[x.name]=E}});for(let x=0;x<c.length;x++){let _=c[x];_ instanceof Error&&Object.defineProperty(c,x,{get:()=>{throw nT(`index ${x}`,_)}})}return Object.freeze(c)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new p4({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:Bt.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new h4({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}static isInterface(e){return!!(e&&e._isInterface)}};"use strict";var sT="abstract-provider/5.2.0";"use strict";var X0e=new qe(sT),b4=class extends tu{static isForkEvent(e){return!!(e&&e._isForkEvent)}};var J0=class{constructor(){X0e.checkAbstract(new.target,J0),st(this,"_isProvider",!0)}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}};var oT="abstract-signer/5.2.0";"use strict";var Zf=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function f(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,f)}c((i=i.apply(r,e||[])).next())})},Jf=new qe(oT),Q0e=["accessList","chainId","data","from","gasLimit","gasPrice","nonce","to","type","value"],ece=[qe.errors.INSUFFICIENT_FUNDS,qe.errors.NONCE_EXPIRED,qe.errors.REPLACEMENT_UNDERPRICED],X0=class{constructor(){Jf.checkAbstract(new.target,X0),st(this,"_isSigner",!0)}getBalance(e){return Zf(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Zf(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Zf(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield _i(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return Zf(this,void 0,void 0,function*(){this._checkProvider("call");let i=yield _i(this.checkTransaction(e));return yield this.provider.call(i,t)})}sendTransaction(e){return this._checkProvider("sendTransaction"),this.populateTransaction(e).then(t=>this.signTransaction(t).then(i=>this.provider.sendTransaction(i)))}getChainId(){return Zf(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Zf(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}resolveName(e){return Zf(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let i in e)Q0e.indexOf(i)===-1&&Jf.throwArgumentError("invalid transaction key: "+i,"transaction",e);let t=Li(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(i=>(i[0].toLowerCase()!==i[1].toLowerCase()&&Jf.throwArgumentError("from address mismatch","transaction",e),i[0])),t}populateTransaction(e){return Zf(this,void 0,void 0,function*(){let t=yield _i(this.checkTransaction(e));return t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>Zf(this,void 0,void 0,function*(){if(i==null)return null;let n=yield this.resolveName(i);return n==null&&Jf.throwArgumentError("provided ENS name resolves to null","tx.to",i),n}))),t.gasPrice==null&&(t.gasPrice=this.getGasPrice()),t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(ece.indexOf(i.code)>=0)throw i;return Jf.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",qe.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Jf.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield _i(t)})}_checkProvider(e){this.provider||Jf.throwError("missing provider",qe.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},ed=class extends X0{constructor(e,t){Jf.checkNew(new.target,ed),super(),st(this,"address",e),st(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Jf.throwError(e,qe.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,i){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new ed(this.address,e)}};var nr=wr(wi()),Ga=wr(Rp()),SFe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ad(r,e,t){return t={path:e,exports:{},require:function(i,n){return Eue(i,n??t.path)}},r(t,t.exports),t.exports}function Eue(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var A4=zT;function zT(r,e){if(!r)throw new Error(e||"Assertion failed")}zT.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)};var la=ad(function(r,e){"use strict";var t=e;function i(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var f=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)f[c]=o[c]|0;return f}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!=0&&(o="0"+o);for(var c=0;c<o.length;c+=2)f.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var l=o.charCodeAt(c),h=l>>8,x=l&255;h?f.push(h,x):f.push(x)}return f}t.toArray=i;function n(o){return o.length===1?"0"+o:o}t.zero2=n;function s(o){for(var a="",f=0;f<o.length;f++)a+=n(o[f].toString(16));return a}t.toHex=s,t.encode=function(a,f){return f==="hex"?s(a):a}}),Zs=ad(function(r,e){"use strict";var t=e;t.assert=A4,t.toArray=la.toArray,t.zero2=la.zero2,t.toHex=la.toHex,t.encode=la.encode;function i(f,c,l){var h=new Array(Math.max(f.bitLength(),l)+1);h.fill(0);for(var x=1<<c+1,_=f.clone(),E=0;E<h.length;E++){var C,L=_.andln(x-1);_.isOdd()?(L>(x>>1)-1?C=(x>>1)-L:C=L,_.isubn(C)):C=0,h[E]=C,_.iushrn(1)}return h}t.getNAF=i;function n(f,c){var l=[[],[]];f=f.clone(),c=c.clone();for(var h=0,x=0,_;f.cmpn(-h)>0||c.cmpn(-x)>0;){var E=f.andln(3)+h&3,C=c.andln(3)+x&3;E===3&&(E=-1),C===3&&(C=-1);var L;(E&1)==0?L=0:(_=f.andln(7)+h&7,(_===3||_===5)&&C===2?L=-E:L=E),l[0].push(L);var O;(C&1)==0?O=0:(_=c.andln(7)+x&7,(_===3||_===5)&&E===2?O=-C:O=C),l[1].push(O),2*h===L+1&&(h=1-h),2*x===O+1&&(x=1-x),f.iushrn(1),c.iushrn(1)}return l}t.getJSF=n;function s(f,c,l){var h="_"+c;f.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=l.call(this)}}t.cachedProperty=s;function o(f){return typeof f=="string"?t.toArray(f,"hex"):f}t.parseBytes=o;function a(f){return new nr.default(f,"hex","le")}t.intFromLE=a}),X6=Zs.getNAF,Sue=Zs.getJSF,Q6=Zs.assert;function ec(r,e){this.type=r,this.p=new nr.default(e.p,16),this.red=e.prime?nr.default.red(e.prime):nr.default.mont(this.p),this.zero=new nr.default(0).toRed(this.red),this.one=new nr.default(1).toRed(this.red),this.two=new nr.default(2).toRed(this.red),this.n=e.n&&new nr.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var su=ec;ec.prototype.point=function(){throw new Error("Not implemented")};ec.prototype.validate=function(){throw new Error("Not implemented")};ec.prototype._fixedNafMul=function(e,t){Q6(e.precomputed);var i=e._getDoubles(),n=X6(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var o=[],a,f;for(a=0;a<n.length;a+=i.step){f=0;for(var c=a+i.step-1;c>=a;c--)f=(f<<1)+n[c];o.push(f)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),x=s;x>0;x--){for(a=0;a<o.length;a++)f=o[a],f===x?h=h.mixedAdd(i.points[a]):f===-x&&(h=h.mixedAdd(i.points[a].neg()));l=l.add(h)}return l.toP()};ec.prototype._wnafMul=function(e,t){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var s=n.points,o=X6(t,i,this._bitLength),a=this.jpoint(null,null,null),f=o.length-1;f>=0;f--){for(var c=0;f>=0&&o[f]===0;f--)c++;if(f>=0&&c++,a=a.dblp(c),f<0)break;var l=o[f];Q6(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(s[l-1>>1]):a=a.mixedAdd(s[-l-1>>1].neg()):l>0?a=a.add(s[l-1>>1]):a=a.add(s[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};ec.prototype._wnafMulAdd=function(e,t,i,n,s){var o=this._wnafT1,a=this._wnafT2,f=this._wnafT3,c=0,l,h,x;for(l=0;l<n;l++){x=t[l];var _=x._getNAFPoints(e);o[l]=_.wnd,a[l]=_.points}for(l=n-1;l>=1;l-=2){var E=l-1,C=l;if(o[E]!==1||o[C]!==1){f[E]=X6(i[E],o[E],this._bitLength),f[C]=X6(i[C],o[C],this._bitLength),c=Math.max(f[E].length,c),c=Math.max(f[C].length,c);continue}var L=[t[E],null,null,t[C]];t[E].y.cmp(t[C].y)===0?(L[1]=t[E].add(t[C]),L[2]=t[E].toJ().mixedAdd(t[C].neg())):t[E].y.cmp(t[C].y.redNeg())===0?(L[1]=t[E].toJ().mixedAdd(t[C]),L[2]=t[E].add(t[C].neg())):(L[1]=t[E].toJ().mixedAdd(t[C]),L[2]=t[E].toJ().mixedAdd(t[C].neg()));var O=[-3,-1,-5,-7,0,7,5,1,3],W=Sue(i[E],i[C]);for(c=Math.max(W[0].length,c),f[E]=new Array(c),f[C]=new Array(c),h=0;h<c;h++){var ee=W[0][h]|0,N=W[1][h]|0;f[E][h]=O[(ee+1)*3+(N+1)],f[C][h]=0,a[E]=L}}var V=this.jpoint(null,null,null),z=this._wnafT4;for(l=c;l>=0;l--){for(var F=0;l>=0;){var H=!0;for(h=0;h<n;h++)z[h]=f[h][l]|0,z[h]!==0&&(H=!1);if(!H)break;F++,l--}if(l>=0&&F++,V=V.dblp(F),l<0)break;for(h=0;h<n;h++){var K=z[h];K!==0&&(K>0?x=a[h][K-1>>1]:K<0&&(x=a[h][-K-1>>1].neg()),x.type==="affine"?V=V.mixedAdd(x):V=V.add(x))}}for(l=0;l<n;l++)a[l]=null;return s?V:V.toP()};function po(r,e){this.curve=r,this.type=e,this.precomputed=null}ec.BasePoint=po;po.prototype.eq=function(){throw new Error("Not implemented")};po.prototype.validate=function(){return this.curve.validate(this)};ec.prototype.decodePoint=function(e,t){e=Zs.toArray(e,t);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*i){e[0]===6?Q6(e[e.length-1]%2==0):e[0]===7&&Q6(e[e.length-1]%2==1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};po.prototype.encodeCompressed=function(e){return this.encode(e,!0)};po.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))};po.prototype.encode=function(e,t){return Zs.encode(this._encode(t),e)};po.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};po.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};po.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)n=n.dbl();i.push(n)}return{step:e,points:i}};po.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)t[s]=t[s-1].add(n);return{wnd:e,points:t}};po.prototype._getBeta=function(){return null};po.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t};var I4=ad(function(r){typeof Object.create=="function"?r.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,i){if(i){t.super_=i;var n=function(){};n.prototype=i.prototype,t.prototype=new n,t.prototype.constructor=t}}}),Aue=Zs.assert;function bo(r){su.call(this,"short",r),this.a=new nr.default(r.a,16).toRed(this.red),this.b=new nr.default(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}I4(bo,su);var Iue=bo;bo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,i;if(e.beta)t=new nr.default(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=n[0].cmp(n[1])<0?n[0]:n[1],t=t.toRed(this.red)}if(e.lambda)i=new nr.default(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?i=s[0]:(i=s[1],Aue(this.g.mul(i).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new nr.default(a.a,16),b:new nr.default(a.b,16)}}):o=this._getEndoBasis(i),{beta:t,lambda:i,basis:o}}};bo.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:nr.default.mont(e),i=new nr.default(2).toRed(t).redInvm(),n=i.redNeg(),s=new nr.default(3).toRed(t).redNeg().redSqrt().redMul(i),o=n.redAdd(s).fromRed(),a=n.redSub(s).fromRed();return[o,a]};bo.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),s=new nr.default(1),o=new nr.default(0),a=new nr.default(0),f=new nr.default(1),c,l,h,x,_,E,C,L=0,O,W;i.cmpn(0)!==0;){var ee=n.div(i);O=n.sub(ee.mul(i)),W=a.sub(ee.mul(s));var N=f.sub(ee.mul(o));if(!h&&O.cmp(t)<0)c=C.neg(),l=s,h=O.neg(),x=W;else if(h&&++L==2)break;C=O,n=i,i=O,a=s,s=W,f=o,o=N}_=O.neg(),E=W;var V=h.sqr().add(x.sqr()),z=_.sqr().add(E.sqr());return z.cmp(V)>=0&&(_=c,E=l),h.negative&&(h=h.neg(),x=x.neg()),_.negative&&(_=_.neg(),E=E.neg()),[{a:h,b:x},{a:_,b:E}]};bo.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],n=t[1],s=n.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),a=s.mul(i.a),f=o.mul(n.a),c=s.mul(i.b),l=o.mul(n.b),h=e.sub(a).sub(f),x=c.add(l).neg();return{k1:h,k2:x}};bo.prototype.pointFromX=function(e,t){e=new nr.default(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)};bo.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,n=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0};bo.prototype._endoWnafMulAdd=function(e,t,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),f=e[o],c=f._getBeta();a.k1.negative&&(a.k1.ineg(),f=f.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[o*2]=f,n[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var l=this._wnafMulAdd(1,n,s,o*2,i),h=0;h<o*2;h++)n[h]=null,s[h]=null;return l};function dn(r,e,t,i){su.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new nr.default(e,16),this.y=new nr.default(t,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}I4(dn,su.BasePoint);bo.prototype.point=function(e,t,i){return new dn(this,e,t,i)};bo.prototype.pointFromJSON=function(e,t){return dn.fromJSON(this,e,t)};dn.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}};dn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};dn.fromJSON=function(e,t,i){typeof t=="string"&&(t=JSON.parse(t));var n=e.point(t[0],t[1],i);if(!t[2])return n;function s(a){return e.point(a[0],a[1],i)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(s))}},n};dn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};dn.prototype.isInfinity=function(){return this.inf};dn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};dn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};dn.prototype.getX=function(){return this.x.fromRed()};dn.prototype.getY=function(){return this.y.fromRed()};dn.prototype.mul=function(e){return e=new nr.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};dn.prototype.mulAdd=function(e,t,i){var n=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)};dn.prototype.jmulAdd=function(e,t,i){var n=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)};dn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};dn.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return t};dn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function qn(r,e,t,i){su.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new nr.default(0)):(this.x=new nr.default(e,16),this.y=new nr.default(t,16),this.z=new nr.default(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}I4(qn,su.BasePoint);bo.prototype.jpoint=function(e,t,i){return new qn(this,e,t,i)};qn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(i,n)};qn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};qn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(t),s=e.x.redMul(i),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(i.redMul(this.z)),f=n.redSub(s),c=o.redSub(a);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=f.redSqr(),h=l.redMul(f),x=n.redMul(l),_=c.redSqr().redIAdd(h).redISub(x).redISub(x),E=c.redMul(x.redISub(_)).redISub(o.redMul(h)),C=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(_,E,C)};qn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,n=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=i.redSub(n),f=s.redSub(o);if(a.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),h=i.redMul(c),x=f.redSqr().redIAdd(l).redISub(h).redISub(h),_=f.redMul(h.redISub(x)).redISub(s.redMul(l)),E=this.z.redMul(a);return this.curve.jpoint(x,_,E)};qn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,f=this.z,c=f.redSqr().redSqr(),l=a.redAdd(a);for(t=0;t<e;t++){var h=o.redSqr(),x=l.redSqr(),_=x.redSqr(),E=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c)),C=o.redMul(x),L=E.redSqr().redISub(C.redAdd(C)),O=C.redISub(L),W=E.redMul(O);W=W.redIAdd(W).redISub(_);var ee=l.redMul(f);t+1<e&&(c=c.redMul(_)),o=L,f=ee,l=W}return this.curve.jpoint(o,l.redMul(s),f)};qn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};qn.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var f=n.redAdd(n).redIAdd(n),c=f.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),e=c,t=f.redMul(a.redISub(c)).redISub(l),i=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),x=this.y.redSqr(),_=x.redSqr(),E=this.x.redAdd(x).redSqr().redISub(h).redISub(_);E=E.redIAdd(E);var C=h.redAdd(h).redIAdd(h),L=C.redSqr(),O=_.redIAdd(_);O=O.redIAdd(O),O=O.redIAdd(O),e=L.redISub(E).redISub(E),t=C.redMul(E.redISub(e)).redISub(O),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)};qn.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var f=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=f.redSqr().redISub(a).redISub(a);e=c;var l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),t=f.redMul(a.redISub(c)).redISub(l),i=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),x=this.y.redSqr(),_=this.x.redMul(x),E=this.x.redSub(h).redMul(this.x.redAdd(h));E=E.redAdd(E).redIAdd(E);var C=_.redIAdd(_);C=C.redIAdd(C);var L=C.redAdd(C);e=E.redSqr().redISub(L),i=this.y.redAdd(this.z).redSqr().redISub(x).redISub(h);var O=x.redSqr();O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O),t=E.redMul(C.redISub(e)).redISub(O)}return this.curve.jpoint(e,t,i)};qn.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),o=t.redSqr(),a=i.redSqr(),f=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=t.redAdd(t);c=c.redIAdd(c);var l=c.redMul(a),h=f.redSqr().redISub(l.redAdd(l)),x=l.redISub(h),_=a.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var E=f.redMul(x).redISub(_),C=i.redAdd(i).redMul(n);return this.curve.jpoint(h,E,C)};qn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),n=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var f=a.redSqr(),c=n.redIAdd(n);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var l=s.redIAdd(a).redSqr().redISub(o).redISub(f).redISub(c),h=t.redMul(l);h=h.redIAdd(h),h=h.redIAdd(h);var x=this.x.redMul(f).redISub(h);x=x.redIAdd(x),x=x.redIAdd(x);var _=this.y.redMul(l.redMul(c.redISub(l)).redISub(a.redMul(f)));_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var E=this.z.redAdd(a).redSqr().redISub(i).redISub(f);return this.curve.jpoint(x,_,E)};qn.prototype.mul=function(e,t){return e=new nr.default(e,t),this.curve._wnafMul(this,e)};qn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var n=t.redMul(this.z),s=i.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0)===0};qn.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}};qn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};qn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var ey=ad(function(r,e){"use strict";var t=e;t.base=su,t.short=Iue,t.mont=null,t.edwards=null}),ty=ad(function(r,e){"use strict";var t=e,i=Zs.assert;function n(a){a.type==="short"?this.curve=new ey.short(a):a.type==="edwards"?this.curve=new ey.edwards(a):this.curve=new ey.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=n;function s(a,f){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var c=new n(f);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ga.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ga.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ga.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ga.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ga.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ga.default.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ga.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch(a){o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ga.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function tc(r){if(!(this instanceof tc))return new tc(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=la.toArray(r.entropy,r.entropyEnc||"hex"),t=la.toArray(r.nonce,r.nonceEnc||"hex"),i=la.toArray(r.pers,r.persEnc||"hex");A4(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,i)}var jT=tc;tc.prototype._init=function(e,t,i){var n=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};tc.prototype._hmac=function(){return new Ga.default.hmac(this.hash,this.K)};tc.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};tc.prototype.reseed=function(e,t,i,n){typeof t!="string"&&(n=i,i=t,t=null),e=la.toArray(e,t),i=la.toArray(i,n),A4(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};tc.prototype.generate=function(e,t,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(n=i,i=t,t=null),i&&(i=la.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(i),this._reseed++,la.encode(o,t)};var T4=Zs.assert;function Hn(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var k4=Hn;Hn.fromPublic=function(e,t,i){return t instanceof Hn?t:new Hn(e,{pub:t,pubEnc:i})};Hn.fromPrivate=function(e,t,i){return t instanceof Hn?t:new Hn(e,{priv:t,privEnc:i})};Hn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Hn.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Hn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Hn.prototype._importPrivate=function(e,t){this.priv=new nr.default(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Hn.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?T4(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&T4(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Hn.prototype.derive=function(e){return e.validate()||T4(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Hn.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)};Hn.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Hn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Tue=Zs.assert;function ry(r,e){if(r instanceof ry)return r;this._importDER(r,e)||(Tue(r.r&&r.s,"Signature without r or s"),this.r=new nr.default(r.r,16),this.s=new nr.default(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var iy=ry;function kue(){this.place=0}function C4(r,e){var t=r[e.place++];if(!(t&128))return t;var i=t&15;if(i===0||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=r[o],n>>>=0;return n<=127?!1:(e.place=o,n)}function VT(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}ry.prototype._importDER=function(e,t){e=Zs.toArray(e,t);var i=new kue;if(e[i.place++]!==48)return!1;var n=C4(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var s=C4(e,i);if(s===!1)return!1;var o=e.slice(i.place,s+i.place);if(i.place+=s,e[i.place++]!==2)return!1;var a=C4(e,i);if(a===!1||e.length!==a+i.place)return!1;var f=e.slice(i.place,a+i.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new nr.default(o),this.s=new nr.default(f),this.recoveryParam=null,!0};function B4(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}ry.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),i[0]&128&&(i=[0].concat(i)),t=VT(t),i=VT(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];B4(n,t.length),n=n.concat(t),n.push(2),B4(n,i.length);var s=n.concat(i),o=[48];return B4(o,s.length),o=o.concat(s),Zs.encode(o,e)};var Cue=function(){throw new Error("unsupported")},HT=Zs.assert;function yo(r){if(!(this instanceof yo))return new yo(r);typeof r=="string"&&(HT(Object.prototype.hasOwnProperty.call(ty,r),"Unknown curve "+r),r=ty[r]),r instanceof ty.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var Bue=yo;yo.prototype.keyPair=function(e){return new k4(this,e)};yo.prototype.keyFromPrivate=function(e,t){return k4.fromPrivate(this,e,t)};yo.prototype.keyFromPublic=function(e,t){return k4.fromPublic(this,e,t)};yo.prototype.genKeyPair=function(e){e||(e={});for(var t=new jT({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Cue(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new nr.default(2));;){var s=new nr.default(t.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}};yo.prototype._truncateToN=function(e,t){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};yo.prototype.sign=function(e,t,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new nr.default(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),a=e.toArray("be",s),f=new jT({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new nr.default(1)),l=0;;l++){var h=n.k?n.k(l):new nr.default(f.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(c)>=0)){var x=this.g.mul(h);if(!x.isInfinity()){var _=x.getX(),E=_.umod(this.n);if(E.cmpn(0)!==0){var C=h.invm(this.n).mul(E.mul(t.getPrivate()).iadd(e));if(C=C.umod(this.n),C.cmpn(0)!==0){var L=(x.getY().isOdd()?1:0)|(_.cmp(E)!==0?2:0);return n.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),L^=1),new iy({r:E,s:C,recoveryParam:L})}}}}}};yo.prototype.verify=function(e,t,i,n){e=this._truncateToN(new nr.default(e,16)),i=this.keyFromPublic(i,n),t=new iy(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),f=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(f,i.getPublic(),c),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(f,i.getPublic(),c),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)};yo.prototype.recoverPubKey=function(r,e,t,i){HT((3&t)===t,"The recovery param is more than two bits"),e=new iy(e,i);var n=this.n,s=new nr.default(r),o=e.r,a=e.s,f=t&1,c=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),f):o=this.curve.pointFromX(o,f);var l=e.r.invm(n),h=n.sub(s).mul(l).umod(n),x=a.mul(l).umod(n);return this.g.mulAdd(h,o,x)};yo.prototype.getKeyRecoveryParam=function(r,e,t,i){if(e=new iy(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(r,e,n)}catch(o){continue}if(s.eq(t))return n}throw new Error("Unable to find valid recovery factor")};var Mue=ad(function(r,e){"use strict";var t=e;t.version="6.5.4",t.utils=Zs,t.rand=function(){throw new Error("unsupported")},t.curve=ey,t.curves=ty,t.ec=Bue,t.eddsa=null}),$T=Mue.ec;var GT="signing-key/5.2.0";"use strict";var YT=new qe(GT),M4=null;function Ya(){return M4||(M4=new $T("secp256k1")),M4}var WT=class{constructor(e){st(this,"curve","secp256k1"),st(this,"privateKey",Kt(e));let t=Ya().keyFromPrivate(Ut(this.privateKey));st(this,"publicKey","0x"+t.getPublic(!1,"hex")),st(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),st(this,"_isSigningKey",!0)}_addPoint(e){let t=Ya().keyFromPublic(Ut(this.publicKey)),i=Ya().keyFromPublic(Ut(e));return"0x"+t.pub.add(i.pub).encodeCompressed("hex")}signDigest(e){let t=Ya().keyFromPrivate(Ut(this.privateKey)),i=Ut(e);i.length!==32&&YT.throwArgumentError("bad digest length","digest",e);let n=t.sign(i,{canonical:!0});return _p({recoveryParam:n.recoveryParam,r:ii("0x"+n.r.toString(16),32),s:ii("0x"+n.s.toString(16),32)})}computeSharedSecret(e){let t=Ya().keyFromPrivate(Ut(this.privateKey)),i=Ya().keyFromPublic(Ut(R4(e)));return ii("0x"+t.derive(i.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function ZT(r,e){let t=_p(e),i={r:Ut(t.r),s:Ut(t.s)};return"0x"+Ya().recoverPubKey(Ut(r),i,t.recoveryParam).encode("hex",!1)}function R4(r,e){let t=Ut(r);if(t.length===32){let i=new WT(t);return e?"0x"+Ya().keyFromPrivate(t).getPublic(!0,"hex"):i.publicKey}else{if(t.length===33)return e?Kt(t):"0x"+Ya().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+Ya().keyFromPublic(t).getPublic(!0,"hex"):Kt(t)}return YT.throwArgumentError("invalid public or private key","key","[REDACTED]")}var JT="transactions/5.2.0";"use strict";var ou=new qe(JT);function XT(r){return r==="0x"?null:Ci(r)}function Wa(r){return r==="0x"?kp:Bt.from(r)}function QT(r){let e=R4(r);return Ci(As(ni(As(e,1)),12))}function ny(r,e){return QT(ZT(Ut(r),e))}function fd(r,e){let t=Vl(Bt.from(r).toHexString());return t.length>32&&ou.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function N4(r,e){return{address:Ci(r),storageKeys:(e||[]).map((t,i)=>($f(t)!==32&&ou.throwArgumentError("invalid access list storageKey",`accessList[${r}:${i}]`,t),t.toLowerCase()))}}function rc(r){if(Array.isArray(r))return r.map((t,i)=>Array.isArray(t)?(t.length>2&&ou.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${i}]`,t),N4(t[0],t[1])):N4(t.address,t.storageKeys));let e=Object.keys(r).map(t=>{let i=r[t].reduce((n,s)=>(n[s]=!0,n),{});return N4(t,Object.keys(i).sort())});return e.sort((t,i)=>t.address.localeCompare(i.address)),e}function Rue(r){return rc(r).map(e=>[e.address,e.storageKeys])}function Nue(r,e){let t=[fd(r.chainId||0,"chainId"),fd(r.nonce||0,"nonce"),fd(r.gasPrice||0,"gasPrice"),fd(r.gasLimit||0,"gasLimit"),r.to!=null?Ci(r.to):"0x",fd(r.value||0,"value"),r.data||"0x",Rue(r.accessList||[])];if(e){let i=_p(e);t.push(fd(i.recoveryParam,"recoveryParam")),t.push(Vl(i.r)),t.push(Vl(i.s))}return sa(["0x01",Tp(t)])}function Pue(r){let e=j8(r.slice(1));e.length!==8&&e.length!==11&&ou.throwArgumentError("invalid component count for transaction type: 1","payload",Kt(r));let t={type:1,chainId:Wa(e[0]).toNumber(),nonce:Wa(e[1]).toNumber(),gasPrice:Wa(e[2]),gasLimit:Wa(e[3]),to:XT(e[4]),value:Wa(e[5]),data:e[6],accessList:rc(e[7])};if(e.length===8)return t;try{let i=Wa(e[8]).toNumber();if(i!==0&&i!==1)throw new Error("bad recid");t.v=i}catch(i){ou.throwArgumentError("invalid v for transaction type: 1","v",e[8])}t.r=ii(e[9],32),t.s=ii(e[10],32);try{let i=ni(Nue(t));t.from=ny(i,{r:t.r,s:t.s,recoveryParam:t.v})}catch(i){console.log(i)}return t.hash=ni(r),t}function que(r){let e=j8(r);e.length!==9&&e.length!==6&&ou.throwArgumentError("invalid raw transaction","rawTransaction",r);let t={nonce:Wa(e[0]).toNumber(),gasPrice:Wa(e[1]),gasLimit:Wa(e[2]),to:XT(e[3]),value:Wa(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=Bt.from(e[6]).toNumber()}catch(i){return console.log(i),t}if(t.r=ii(e[7],32),t.s=ii(e[8],32),Bt.from(t.r).isZero()&&Bt.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let i=t.v-27,n=e.slice(0,6);t.chainId!==0&&(n.push(Kt(t.chainId)),n.push("0x"),n.push("0x"),i-=t.chainId*2+8);let s=ni(Tp(n));try{t.from=ny(s,{r:Kt(t.r),s:Kt(t.s),recoveryParam:i})}catch(o){console.log(o)}t.hash=ni(r)}return t.type=null,t}function ek(r){let e=Ut(r);if(e[0]>127)return que(e);switch(e[0]){case 1:return Pue(e);default:break}return ou.throwError(`unsupported transaction type: ${e[0]}`,qe.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}var tk="contracts/5.2.0";"use strict";var au=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function f(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,f)}c((i=i.apply(r,e||[])).next())})},Gi=new qe(tk);function sy(r,e){return au(this,void 0,void 0,function*(){let t=yield e;try{return Ci(t)}catch(n){}r||Gi.throwError("a provider or signer is needed to resolve ENS names",qe.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let i=yield r.resolveName(t);return i==null&&Gi.throwArgumentError("resolver or addr is not configured for ENS name","name",t),i})}function oy(r,e,t){return au(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((i,n)=>oy(r,Array.isArray(e)?e[n]:e[i.name],i))):t.type==="address"?yield sy(r,e):t.type==="tuple"?yield oy(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(i=>oy(r,i,t.arrayChildren))):Promise.reject(new Error("invalid value for array")):e})}function ay(r,e,t){return au(this,void 0,void 0,function*(){let i={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(i=Li(t.pop())),Gi.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?i.from?i.from=_i({override:sy(r.signer,i.from),signer:r.signer.getAddress()}).then(c=>au(this,void 0,void 0,function*(){return Ci(c.signer)!==c.override&&Gi.throwError("Contract with a Signer cannot override from",qe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),c.override})):i.from=r.signer.getAddress():i.from&&(i.from=sy(r.provider,i.from));let n=yield _i({args:oy(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:_i(i)||{}}),s=r.interface.encodeFunctionData(e,n.args),o={data:s,to:n.address},a=n.overrides;if(a.nonce!=null&&(o.nonce=Bt.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=Bt.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=Bt.from(a.gasPrice)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=rc(a.accessList)),o.gasLimit==null&&e.gas!=null){let c=21e3,l=Ut(s);for(let h=0;h<l.length;h++)c+=4,l[h]&&(c+=64);o.gasLimit=Bt.from(e.gas).add(c)}if(a.value){let c=Bt.from(a.value);!c.isZero()&&!e.payable&&Gi.throwError("non-payable method cannot override value",qe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),o.value=c}delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList;let f=Object.keys(i).filter(c=>i[c]!=null);return f.length&&Gi.throwError(`cannot override ${f.map(c=>JSON.stringify(c)).join(",")}`,qe.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:f}),o})}function Oue(r,e){return function(...t){return ay(r,e,t)}}function Due(r,e){let t=r.signer||r.provider;return function(...i){return au(this,void 0,void 0,function*(){t||Gi.throwError("estimate require a provider or signer",qe.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let n=yield ay(r,e,i);return yield t.estimateGas(n)})}}function rk(r,e,t){let i=r.signer||r.provider;return function(...n){return au(this,void 0,void 0,function*(){let s;if(n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"){let f=Li(n.pop());f.blockTag!=null&&(s=yield f.blockTag),delete f.blockTag,n.push(f)}r.deployTransaction!=null&&(yield r._deployed(s));let o=yield ay(r,e,n),a=yield i.call(o,s);try{let f=r.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(f=f[0]),f}catch(f){throw f.code===qe.errors.CALL_EXCEPTION&&(f.address=r.address,f.args=n,f.transaction=o),f}})}}function Lue(r,e){return function(...t){return au(this,void 0,void 0,function*(){r.signer||Gi.throwError("sending a transaction requires a signer",qe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());let i=yield ay(r,e,t),n=yield r.signer.sendTransaction(i),s=n.wait.bind(n);return n.wait=o=>s(o).then(a=>(a.events=a.logs.map(f=>{let c=Ws(f),l=null;try{l=r.interface.parseLog(f)}catch(h){}return l&&(c.args=l.args,c.decode=(h,x)=>r.interface.decodeEventLog(l.eventFragment,h,x),c.event=l.name,c.eventSignature=l.signature),c.removeListener=()=>r.provider,c.getBlock=()=>r.provider.getBlock(a.blockHash),c.getTransaction=()=>r.provider.getTransaction(a.transactionHash),c.getTransactionReceipt=()=>Promise.resolve(a),c}),a)),n})}}function ik(r,e,t){return e.constant?rk(r,e,t):Lue(r,e)}function nk(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}var cd=class{constructor(e,t){st(this,"tag",e),st(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(i=>t||i.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){let t=this.listenerCount();return this._listeners=this._listeners.filter(i=>{let n=e.slice();return setTimeout(()=>{i.listener.apply(this,n)},0),!i.once}),t}prepareEvent(e){}getEmit(e){return[e]}},sk=class extends cd{constructor(){super("error",null)}},P4=class extends cd{constructor(e,t,i,n){let s={address:e},o=t.getEventTopic(i);n?(o!==n[0]&&Gi.throwArgumentError("topic mismatch","topics",n),s.topics=n.slice()):s.topics=[o],super(nk(s),s),st(this,"address",e),st(this,"interface",t),st(this,"fragment",i)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,i)=>this.interface.decodeEventLog(this.fragment,t,i);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){let t=z6(e.args);if(t.length)throw t[0].error;let i=(e.args||[]).slice();return i.push(e),i}},q4=class extends cd{constructor(e,t){super("*",{address:e});st(this,"address",e),st(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{let t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(i,n)=>this.interface.decodeEventLog(t.eventFragment,i,n),e.args=t.args}catch(t){}}},ok=class{constructor(e,t,i){Gi.checkNew(new.target,fy),st(this,"interface",Ts(new.target,"getInterface")(t)),i==null?(st(this,"provider",null),st(this,"signer",null)):X0.isSigner(i)?(st(this,"provider",i.provider||null),st(this,"signer",i)):J0.isProvider(i)?(st(this,"provider",i),st(this,"signer",null)):Gi.throwArgumentError("invalid signer or provider","signerOrProvider",i),st(this,"callStatic",{}),st(this,"estimateGas",{}),st(this,"functions",{}),st(this,"populateTransaction",{}),st(this,"filters",{});{let o={};Object.keys(this.interface.events).forEach(a=>{let f=this.interface.events[a];st(this.filters,a,(...c)=>({address:this.address,topics:this.interface.encodeFilterTopics(f,c)})),o[f.name]||(o[f.name]=[]),o[f.name].push(a)}),Object.keys(o).forEach(a=>{let f=o[a];f.length===1?st(this.filters,a,this.filters[f[0]]):Gi.warn(`Duplicate definition of ${a} (${f.join(", ")})`)})}if(st(this,"_runningEvents",{}),st(this,"_wrappedEmits",{}),e==null&&Gi.throwArgumentError("invalid contract address or ENS name","addressOrName",e),st(this,"address",e),this.provider)st(this,"resolvedAddress",sy(this.provider,e));else try{st(this,"resolvedAddress",Promise.resolve(Ci(e)))}catch(o){Gi.throwError("provider is required to use ENS name as contract address",qe.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}let n={},s={};Object.keys(this.interface.functions).forEach(o=>{let a=this.interface.functions[o];if(s[o]){Gi.warn(`Duplicate ABI entry for ${JSON.stringify(name)}`);return}s[o]=!0;{let f=a.name;n[f]||(n[f]=[]),n[f].push(o)}this[o]==null&&st(this,o,ik(this,a,!0)),this.functions[o]==null&&st(this.functions,o,ik(this,a,!1)),this.callStatic[o]==null&&st(this.callStatic,o,rk(this,a,!0)),this.populateTransaction[o]==null&&st(this.populateTransaction,o,Oue(this,a)),this.estimateGas[o]==null&&st(this.estimateGas,o,Due(this,a))}),Object.keys(n).forEach(o=>{let a=n[o];if(a.length>1)return;let f=a[0];try{this[o]==null&&st(this,o,this[f])}catch(c){}this.functions[o]==null&&st(this.functions,o,this.functions[f]),this.callStatic[o]==null&&st(this.callStatic,o,this.callStatic[f]),this.populateTransaction[o]==null&&st(this.populateTransaction,o,this.populateTransaction[f]),this.estimateGas[o]==null&&st(this.estimateGas,o,this.estimateGas[f])})}static getContractAddress(e){return V6(e)}static getInterface(e){return iu.isInterface(e)?e:new iu(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&Gi.throwError("contract not deployed",qe.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Gi.throwError("sending a transactions require a signer",qe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let t=Li(e||{});return["from","to"].forEach(function(i){t[i]!=null&&Gi.throwError("cannot override "+i,qe.errors.UNSUPPORTED_OPERATION,{operation:i})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new ed(e,this.provider));let t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&st(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Ql.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new sk);if(e==="event")return this._normalizeRunningEvent(new cd("event",null));if(e==="*")return this._normalizeRunningEvent(new q4(this.address,this.interface));let t=this.interface.getEvent(e);return this._normalizeRunningEvent(new P4(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{let i=e.topics[0];if(typeof i!="string")throw new Error("invalid topic");let n=this.interface.getEvent(i);return this._normalizeRunningEvent(new P4(this.address,this.interface,n,e.topics))}catch(i){}let t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new cd(nk(t),t))}return this._normalizeRunningEvent(new q4(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];let t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,i){let n=Ws(t);return n.removeListener=()=>{!i||(e.removeListener(i),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,i){if(this.provider||Gi.throwError("events require a provider or a signer with a provider",qe.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,i),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){let n=s=>{let o=this._wrapEvent(e,s,t);if(o.decodeError==null)try{let a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=n,e.filter!=null&&this.provider.on(e.filter,n)}}queryFilter(e,t,i){let n=this._getRunningEvent(e),s=Li(n.filter);return typeof t=="string"&&mr(t,32)?(i!=null&&Gi.throwArgumentError("cannot specify toBlock with blockhash","toBlock",i),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=i??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(n,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;let i=this._getRunningEvent(e),n=i.run(t)>0;return this._checkRunningEvents(i),n}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,i)=>t+this._runningEvents[i].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){let t=[];for(let i in this._runningEvents)this._runningEvents[i].listeners().forEach(n=>{t.push(n)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(let i in this._runningEvents){let n=this._runningEvents[i];n.removeAllListeners(),this._checkRunningEvents(n)}return this}let t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;let i=this._getRunningEvent(e);return i.removeListener(t),this._checkRunningEvents(i),this}removeListener(e,t){return this.off(e,t)}},fy=class extends ok{};var O4=class{constructor(e){st(this,"alphabet",e),st(this,"base",e.length),st(this,"_alphabetMap",{}),st(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Ut(e);if(t.length===0)return"";let i=[0];for(let s=0;s<t.length;++s){let o=t[s];for(let a=0;a<i.length;++a)o+=i[a]<<8,i[a]=o%this.base,o=o/this.base|0;for(;o>0;)i.push(o%this.base),o=o/this.base|0}let n="";for(let s=0;t[s]===0&&s<t.length-1;++s)n+=this._leader;for(let s=i.length-1;s>=0;--s)n+=this.alphabet[i[s]];return n}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let i=0;i<e.length;i++){let n=this._alphabetMap[e[i]];if(n===void 0)throw new Error("Non-base"+this.base+" character");let s=n;for(let o=0;o<t.length;++o)s+=t[o]*this.base,t[o]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let i=0;e[i]===this._leader&&i<e.length-1;++i)t.push(0);return Ut(new Uint8Array(t.reverse()))}},nKe=new O4("abcdefghijklmnopqrstuvwxyz234567"),D4=new O4("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var zk=wr(Fk());var Kk="sha2/5.2.0";"use strict";var _Ke=new qe(Kk);function ly(r){return"0x"+zk.default.sha256().update(Ut(r)).digest("hex")}var jk="wallet/5.2.0";"use strict";var qKe=new qe(jk);function Vk(r,e){return ny(u4(r),e)}var Hk="networks/5.2.0";"use strict";var $k=new qe(Hk);function ode(r){return r&&typeof r.renetwork=="function"}function yd(r){let e=function(t,i){i==null&&(i={});let n=[];if(t.InfuraProvider)try{n.push(new t.InfuraProvider(r,i.infura))}catch(s){}if(t.EtherscanProvider)try{n.push(new t.EtherscanProvider(r,i.etherscan))}catch(s){}if(t.AlchemyProvider)try{n.push(new t.AlchemyProvider(r,i.alchemy))}catch(s){}if(t.CloudflareProvider)try{n.push(new t.CloudflareProvider(r))}catch(s){}if(n.length===0)return null;if(t.FallbackProvider){let s=1;return i.quorum!=null?s=i.quorum:r==="homestead"&&(s=2),new t.FallbackProvider(n,s)}return n[0]};return e.renetwork=function(t){return yd(t)},e}function dy(r,e){let t=function(i,n){return i.JsonRpcProvider?new i.JsonRpcProvider(r,e):null};return t.renetwork=function(i){return dy(r,i)},t}var Gk={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:yd("homestead")},Yk={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:yd("ropsten")},Wk={chainId:63,name:"classicMordor",_defaultProvider:dy("https://www.ethercluster.com/mordor","classicMordor")},hy={unspecified:{chainId:0,name:"unspecified"},homestead:Gk,mainnet:Gk,morden:{chainId:2,name:"morden"},ropsten:Yk,testnet:Yk,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:yd("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:yd("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:yd("goerli")},classic:{chainId:61,name:"classic",_defaultProvider:dy("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Wk,classicTestnet:Wk,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:dy("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Zk(r){if(r==null)return null;if(typeof r=="number"){for(let i in hy){let n=hy[i];if(n.chainId===r)return{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress||null,_defaultProvider:n._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){let i=hy[r];return i==null?null:{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress,_defaultProvider:i._defaultProvider||null}}let e=hy[r.name];if(!e)return typeof r.chainId!="number"&&$k.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&$k.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(ode(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}"use strict";function $4(r){r=Ut(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}"use strict";var Jk="web/5.2.0";"use strict";var ade=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function f(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,f)}c((i=i.apply(r,e||[])).next())})};function Xk(r,e){return ade(this,void 0,void 0,function*(){e==null&&(e={});let t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0,mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrer:"client"},i=yield fetch(r,t),n=yield i.arrayBuffer(),s={};return i.headers.forEach?i.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):i.headers.keys().forEach(o=>{s[o.toLowerCase()]=i.headers.get(o)}),{headers:s,statusCode:i.status,statusMessage:i.statusText,body:Ut(new Uint8Array(n))}})}"use strict";var fde=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function f(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,f)}c((i=i.apply(r,e||[])).next())})},rf=new qe(Jk);function Qk(r){return new Promise(e=>{setTimeout(e,r)})}function cu(r,e){if(r==null)return null;if(typeof r=="string")return r;if(zl(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Yf(r)}catch(t){}return Kt(r)}return r}function cde(r,e,t){let i=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;rf.assertArgument(i>0&&i%1==0,"invalid connection throttle limit","connection.throttleLimit",i);let n=typeof r=="object"?r.throttleCallback:null,s=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;rf.assertArgument(s>0&&s%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);let o={},a=null,f={method:"GET"},c=!1,l=2*60*1e3;if(typeof r=="string")a=r;else if(typeof r=="object"){if((r==null||r.url==null)&&rf.throwArgumentError("missing URL","connection.url",r),a=r.url,typeof r.timeout=="number"&&r.timeout>0&&(l=r.timeout),r.headers)for(let E in r.headers)o[E.toLowerCase()]={key:E,value:String(r.headers[E])},["if-none-match","if-modified-since"].indexOf(E.toLowerCase())>=0&&(c=!0);if(f.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){a.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&rf.throwError("basic authentication requires a secure https url",qe.errors.INVALID_ARGUMENT,{argument:"url",url:a,user:r.user,password:"[REDACTED]"});let E=r.user+":"+r.password;o.authorization={key:"Authorization",value:"Basic "+$4(tn(E))}}}e&&(f.method="POST",f.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));let h={};Object.keys(o).forEach(E=>{let C=o[E];h[C.key]=C.value}),f.headers=h;let x=function(){let E=null;return{promise:new Promise(function(O,W){l&&(E=setTimeout(()=>{E!=null&&(E=null,W(rf.makeError("timeout",qe.errors.TIMEOUT,{requestBody:cu(f.body,h["content-type"]),requestMethod:f.method,timeout:l,url:a})))},l))}),cancel:function(){E!=null&&(clearTimeout(E),E=null)}}}(),_=function(){return fde(this,void 0,void 0,function*(){for(let E=0;E<i;E++){let C=null;try{if(C=yield Xk(a,f),C.statusCode===429&&E<i){let O=!0;if(n&&(O=yield n(E,a)),O){let W=0,ee=C.headers["retry-after"];typeof ee=="string"&&ee.match(/^[1-9][0-9]*$/)?W=parseInt(ee)*1e3:W=s*parseInt(String(Math.random()*Math.pow(2,E))),yield Qk(W);continue}}}catch(O){C=O.response,C==null&&(x.cancel(),rf.throwError("missing response",qe.errors.SERVER_ERROR,{requestBody:cu(f.body,h["content-type"]),requestMethod:f.method,serverError:O,url:a}))}let L=C.body;if(c&&C.statusCode===304?L=null:(C.statusCode<200||C.statusCode>=300)&&(x.cancel(),rf.throwError("bad response",qe.errors.SERVER_ERROR,{status:C.statusCode,headers:C.headers,body:cu(L,C.headers?C.headers["content-type"]:null),requestBody:cu(f.body,h["content-type"]),requestMethod:f.method,url:a})),t)try{let O=yield t(L,C);return x.cancel(),O}catch(O){if(O.throttleRetry&&E<i){let W=!0;if(n&&(W=yield n(E,a)),W){let ee=s*parseInt(String(Math.random()*Math.pow(2,E)));yield Qk(ee);continue}}x.cancel(),rf.throwError("processing response error",qe.errors.SERVER_ERROR,{body:cu(L,C.headers?C.headers["content-type"]:null),error:O,requestBody:cu(f.body,h["content-type"]),requestMethod:f.method,url:a})}return x.cancel(),L}return rf.throwError("failed response",qe.errors.SERVER_ERROR,{requestBody:cu(f.body,h["content-type"]),requestMethod:f.method,url:a})})}();return Promise.race([x.promise,_])}function eC(r,e,t){let i=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Yf(s))}catch(f){rf.throwError("invalid JSON",qe.errors.SERVER_ERROR,{body:s,error:f})}return t&&(a=t(a,o)),a},n=null;if(e!=null){n=tn(e);let s=typeof r=="string"?{url:r}:Li(r);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Li(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},r=s}return cde(r,n,i)}function uu(r,e){return e||(e={}),e=Li(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,i){let n=null,s=!1,o=()=>s?!1:(s=!0,n&&clearTimeout(n),!0);e.timeout&&(n=setTimeout(()=>{o()&&i(new Error("timeout"))},e.timeout));let a=e.retryLimit,f=0;function c(){return r().then(function(l){if(l!==void 0)o()&&t(l);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(f++,f>a){o()&&i(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,f)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(c,h)}return null},function(l){o()&&i(l)})}c()})}var Y4=wr(nC());var nf="providers/5.2.0";"use strict";var gd=new qe(nf),$t=class{constructor(){gd.checkNew(new.target,$t),this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},t=this.address.bind(this),i=this.bigNumber.bind(this),n=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),f=this.number.bind(this),c=l=>this.data(l,!0);return e.transaction={hash:o,type:$t.allowNull(f,null),accessList:$t.allowNull(this.accessList.bind(this),null),blockHash:$t.allowNull(o,null),blockNumber:$t.allowNull(f,null),transactionIndex:$t.allowNull(f,null),confirmations:$t.allowNull(f,null),from:t,gasPrice:i,gasLimit:i,to:$t.allowNull(t,null),value:i,nonce:f,data:s,r:$t.allowNull(this.uint256),s:$t.allowNull(this.uint256),v:$t.allowNull(f),creates:$t.allowNull(t,null),raw:$t.allowNull(s)},e.transactionRequest={from:$t.allowNull(t),nonce:$t.allowNull(f),gasLimit:$t.allowNull(i),gasPrice:$t.allowNull(i),to:$t.allowNull(t),value:$t.allowNull(i),data:$t.allowNull(c),type:$t.allowNull(f),accessList:$t.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:f,blockNumber:f,transactionHash:o,address:t,topics:$t.arrayOf(o),data:s,logIndex:f,blockHash:o},e.receipt={to:$t.allowNull(this.address,null),from:$t.allowNull(this.address,null),contractAddress:$t.allowNull(t,null),transactionIndex:f,root:$t.allowNull(a),gasUsed:i,logsBloom:$t.allowNull(s),blockHash:o,transactionHash:o,logs:$t.arrayOf(this.receiptLog.bind(this)),blockNumber:f,confirmations:$t.allowNull(f,null),cumulativeGasUsed:i,status:$t.allowNull(f)},e.block={hash:o,parentHash:o,number:f,timestamp:f,nonce:$t.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:i,gasUsed:i,miner:t,extraData:s,transactions:$t.allowNull($t.arrayOf(o))},e.blockWithTransactions=Li(e.block),e.blockWithTransactions.transactions=$t.allowNull($t.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:$t.allowNull(n,void 0),toBlock:$t.allowNull(n,void 0),blockHash:$t.allowNull(o,void 0),address:$t.allowNull(t,void 0),topics:$t.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:$t.allowNull(f),blockHash:$t.allowNull(o),transactionIndex:f,removed:$t.allowNull(this.boolean.bind(this)),address:t,data:$t.allowFalsish(s,"0x"),topics:$t.arrayOf(o),transactionHash:o,logIndex:f},e}accessList(e){return rc(e||[])}number(e){return e==="0x"?0:Bt.from(e).toNumber()}bigNumber(e){return Bt.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),mr(e))?e.toLowerCase():gd.throwArgumentError("invalid hash","value",e)}data(e,t){let i=this.hex(e,t);if(i.length%2!=0)throw new Error("invalid data; odd-length - "+e);return i}address(e){return Ci(e)}callAddress(e){if(!mr(e,32))return null;let t=Ci(As(e,12));return t===e4?null:t}contractAddress(e){return V6(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";if(e==="latest"||e==="pending")return e;if(typeof e=="number"||mr(e))return Hl(e);throw new Error("invalid blockTag")}hash(e,t){let i=this.hex(e,t);return $f(i)!==32?gd.throwArgumentError("invalid hash","value",e):i}difficulty(e){if(e==null)return null;let t=Bt.from(e);try{return t.toNumber()}catch(i){}return null}uint256(e){if(!mr(e))throw new Error("invalid uint256");return ii(e,32)}_block(e,t){return e.author!=null&&e.miner==null&&(e.miner=e.author),$t.check(t,e)}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return $t.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Bt.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),e.type===1&&e.accessList==null&&(e.accessList=[]);let t=$t.check(this.formats.transaction,e);if(e.chainId!=null){let i=e.chainId;mr(i)&&(i=Bt.from(i).toNumber()),t.chainId=i}else{let i=e.networkId;i==null&&t.v==null&&(i=e.chainId),mr(i)&&(i=Bt.from(i).toNumber()),typeof i!="number"&&t.v!=null&&(i=(t.v-35)/2,i<0&&(i=0),i=parseInt(i)),typeof i!="number"&&(i=0),t.chainId=i}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return ek(e)}receiptLog(e){return $t.check(this.formats.receiptLog,e)}receipt(e){let t=$t.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){let i=Bt.from(t.root).toNumber();i===0||i===1?(t.status!=null&&t.status!==i&&gd.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=i,delete t.root):gd.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&gd.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return $t.check(this.formats.filter,e)}filterLog(e){return $t.check(this.formats.filterLog,e)}static check(e,t){let i={};for(let n in e)try{let s=e[n](t[n]);s!==void 0&&(i[n]=s)}catch(s){throw s.checkKey=n,s.checkValue=t[n],s}return i}static allowNull(e,t){return function(i){return i==null?t:e(i)}}static allowFalsish(e,t){return function(i){return i?e(i):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");let i=[];return t.forEach(function(n){i.push(e(n))}),i}}};"use strict";var br=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function f(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,f)}c((i=i.apply(r,e||[])).next())})},jr=new qe(nf);function sC(r){return r==null?"null":($f(r)!==32&&jr.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function oC(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){let t={};e.forEach(n=>{t[sC(n)]=!0});let i=Object.keys(t);return i.sort(),i.join("|")}else return sC(e)}).join("&")}function mde(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];let t=e.split("|").map(i=>i==="null"?null:i);return t.length===1?t[0]:t})}function vd(r){if(typeof r=="string"){if(r=r.toLowerCase(),$f(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+oC(r);if(b4.isForkEvent(r))throw jr.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+oC(r.topics||[])}throw new Error("invalid event - "+r)}function qp(){return new Date().getTime()}function aC(r){return new Promise(e=>{setTimeout(e,r)})}var gde=["block","network","pending","poll"],fC=class{constructor(e,t,i){st(this,"tag",e),st(this,"listener",t),st(this,"once",i)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){let e=this.tag.split(":");if(e[0]!=="filter")return null;let t=e[1],i=mde(e[2]),n={};return i.length>0&&(n.topics=i),t&&t!=="*"&&(n.address=t),n}pollable(){return this.tag.indexOf(":")>=0||gde.indexOf(this.tag)>=0}},vde={"0":{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},"2":{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},"3":{symbol:"doge",p2pkh:30,p2sh:22},"60":{symbol:"eth",ilk:"eth"},"61":{symbol:"etc",ilk:"eth"},"700":{symbol:"xdai",ilk:"eth"}};function W4(r){return ii(Bt.from(r).toHexString(),32)}function cC(r){return D4.encode(Qi([r,As(ly(ly(r)),0,4)]))}var uC=class{constructor(e,t,i){st(this,"provider",e),st(this,"name",i),st(this,"address",e.formatter.address(t))}_fetchBytes(e,t){return br(this,void 0,void 0,function*(){let i={to:this.address,data:sa([e,Xl(this.name),t||"0x"])},n=yield this.provider.call(i);if(n==="0x")return null;let s=Bt.from(As(n,0,32)).toNumber(),o=Bt.from(As(n,s,s+32)).toNumber();return As(n,s+32,s+32+o)})}_getAddress(e,t){let i=vde[String(e)];if(i==null&&jr.throwError(`unsupported coin type: ${e}`,qe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),i.ilk==="eth")return this.provider.formatter.address(t);let n=Ut(t);if(i.p2pkh!=null){let s=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){let o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return cC(Qi([[i.p2pkh],"0x"+s[2]]))}}if(i.p2sh!=null){let s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){let o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return cC(Qi([[i.p2sh],"0x"+s[2]]))}}if(i.prefix!=null){let s=n[1],o=n[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&n.length===2+s&&s>=1&&s<=75){let a=Y4.default.toWords(n.slice(2));return a.unshift(o),Y4.default.encode(i.prefix,a)}}return null}getAddress(e){return br(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60){let n={to:this.address,data:"0x3b3b57de"+Xl(this.name).substring(2)},s=yield this.provider.call(n);return s==="0x"||s===n4?null:this.provider.formatter.callAddress(s)}let t=yield this._fetchBytes("0xf1cb7e06",W4(e));if(t==null||t==="0x")return null;let i=this._getAddress(e,t);return i==null&&jr.throwError("invalid or unsupported coin data",qe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),i})}getContentHash(){return br(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;let t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let n=parseInt(t[3],16);if(t[4].length===n*2)return"ipfs://"+D4.encode("0x"+t[1])}let i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);return i&&i[1].length===32*2?"bzz://"+i[1]:jr.throwError("invalid or unsupported content hash data",qe.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return br(this,void 0,void 0,function*(){let t=tn(e);t=Qi([W4(64),W4(t.length),t]),t.length%32!=0&&(t=Qi([t,ii("0x",32-e.length%32)]));let i=yield this._fetchBytes("0x59d1d43c",Kt(t));return i==null||i==="0x"?null:Yf(i)})}},Z4=null,xde=1,J4=class extends J0{constructor(e){if(jr.checkNew(new.target,J0),super(),this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),st(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{let t=Ts(new.target,"getNetwork")(e);t?(st(this,"_network",t),this.emit("network",t,null)):jr.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return br(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(t){}e==null&&(e=yield this.detectNetwork()),e||jr.throwError("no network detected",qe.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:st(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return uu(()=>this._ready().then(e=>e,e=>{if(!(e.code===qe.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Z4==null&&(Z4=new $t),Z4}static getNetwork(e){return Zk(e??"homestead")}_getInternalBlockNumber(e){return br(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let n=this._internalBlockNumber;try{let s=yield n;if(qp()-s.respTime<=e)return s.blockNumber;break}catch(s){if(this._internalBlockNumber===n)break}}let t=qp(),i=_i({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(n=>null,n=>n)}).then(({blockNumber:n,networkError:s})=>{if(s)throw this._internalBlockNumber===i&&(this._internalBlockNumber=null),s;let o=qp();return n=Bt.from(n).toNumber(),n<this._maxInternalBlockNumber&&(n=this._maxInternalBlockNumber),this._maxInternalBlockNumber=n,this._setFastBlockNumber(n),{blockNumber:n,reqTime:t,respTime:o}});return this._internalBlockNumber=i,i.catch(n=>{this._internalBlockNumber===i&&(this._internalBlockNumber=null)}),(yield i).blockNumber})}poll(){return br(this,void 0,void 0,function*(){let e=xde++,t=[],i=null;try{i=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(n){this.emit("error",n);return}if(this._setFastBlockNumber(i),this.emit("poll",e,i),i===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=i-1),Math.abs(this._emitted.block-i)>1e3)jr.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${i})`),this.emit("error",jr.makeError("network block skew detected",qe.errors.NETWORK_ERROR,{blockNumber:i,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",i);else for(let n=this._emitted.block+1;n<=i;n++)this.emit("block",n);this._emitted.block!==i&&(this._emitted.block=i,Object.keys(this._emitted).forEach(n=>{if(n==="block")return;let s=this._emitted[n];s!=="pending"&&i-s>12&&delete this._emitted[n]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=i-1),this._events.forEach(n=>{switch(n.type){case"tx":{let s=n.hash,o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});t.push(o);break}case"filter":{let s=n.filter;s.fromBlock=this._lastBlockNumber+1,s.toBlock=i;let o=this.getLogs(s).then(a=>{a.length!==0&&a.forEach(f=>{this._emitted["b:"+f.blockHash]=f.blockNumber,this._emitted["t:"+f.transactionHash]=f.blockNumber,this.emit(s,f)})}).catch(a=>{this.emit("error",a)});t.push(o);break}}}),this._lastBlockNumber=i,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(n=>{this.emit("error",n)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return br(this,void 0,void 0,function*(){return jr.throwError("provider does not support network detection",qe.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return br(this,void 0,void 0,function*(){let e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield aC(0),this._network;let i=jr.makeError("underlying network changed",qe.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",i),i}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=qp();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=qp(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,i){return br(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,i||0,null)})}_waitForTransaction(e,t,i,n){return br(this,void 0,void 0,function*(){let s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=t?s:new Promise((o,a)=>{let f=[],c=!1,l=function(){return c?!0:(c=!0,f.forEach(x=>{x()}),!1)},h=x=>{x.confirmations<t||l()||o(x)};if(this.on(e,h),f.push(()=>{this.removeListener(e,h)}),n){let x=n.startBlock,_=null,E=C=>br(this,void 0,void 0,function*(){c||(yield aC(1e3),this.getTransactionCount(n.from).then(L=>br(this,void 0,void 0,function*(){if(!c){if(L<=n.nonce)x=C;else{{let O=yield this.getTransaction(e);if(O&&O.blockNumber!=null)return}for(_==null&&(_=x-3,_<n.startBlock&&(_=n.startBlock));_<=C;){if(c)return;let O=yield this.getBlockWithTransactions(_);for(let W=0;W<O.transactions.length;W++){let ee=O.transactions[W];if(ee.hash===e)return;if(ee.from===n.from&&ee.nonce===n.nonce){if(c)return;let N=yield this.waitForTransaction(ee.hash,t);if(l())return;let V="replaced";ee.data===n.data&&ee.to===n.to&&ee.value.eq(n.value)?V="repriced":ee.data==="0x"&&ee.from===ee.to&&ee.value.isZero()&&(V="cancelled"),a(jr.makeError("transaction was replaced",qe.errors.TRANSACTION_REPLACED,{cancelled:V==="replaced"||V==="cancelled",reason:V,replacement:this._wrapTransaction(ee),hash:e,receipt:N}));return}}_++}}c||this.once("block",E)}}),L=>{c||this.once("block",E)}))});if(c)return;this.once("block",E),f.push(()=>{this.removeListener("block",E)})}if(typeof i=="number"&&i>0){let x=setTimeout(()=>{l()||a(jr.makeError("timeout exceeded",qe.errors.TIMEOUT,{timeout:i}))},i);x.unref&&x.unref(),f.push(()=>{clearTimeout(x)})}})})}getBlockNumber(){return br(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return br(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return Bt.from(e)}catch(t){return jr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return br(this,void 0,void 0,function*(){yield this.getNetwork();let i=yield _i({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",i);try{return Bt.from(n)}catch(s){return jr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"getBalance",params:i,result:n,error:s})}})}getTransactionCount(e,t){return br(this,void 0,void 0,function*(){yield this.getNetwork();let i=yield _i({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",i);try{return Bt.from(n).toNumber()}catch(s){return jr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"getTransactionCount",params:i,result:n,error:s})}})}getCode(e,t){return br(this,void 0,void 0,function*(){yield this.getNetwork();let i=yield _i({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",i);try{return Kt(n)}catch(s){return jr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"getCode",params:i,result:n,error:s})}})}getStorageAt(e,t,i){return br(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield _i({address:this._getAddress(e),blockTag:this._getBlockTag(i),position:Promise.resolve(t).then(o=>Hl(o))}),s=yield this.perform("getStorageAt",n);try{return Kt(s)}catch(o){return jr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:s,error:o})}})}_wrapTransaction(e,t,i){if(t!=null&&$f(t)!==32)throw new Error("invalid response - sendTransaction");let n=e;return t!=null&&e.hash!==t&&jr.throwError("Transaction hash mismatch from Provider.sendTransaction.",qe.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),n.wait=(s,o)=>br(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&i!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:i});let f=yield this._waitForTransaction(e.hash,s,o,a);return f==null&&s===0?null:(this._emitted["t:"+e.hash]=f.blockNumber,f.status===0&&jr.throwError("transaction failed",qe.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:f}),f)}),n}sendTransaction(e){return br(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield Promise.resolve(e).then(s=>Kt(s)),i=this.formatter.transaction(e),n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let s=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(i,s,n)}catch(s){throw s.transaction=i,s.transactionHash=i.hash,s}})}_getTransactionRequest(e){return br(this,void 0,void 0,function*(){let t=yield e,i={};return["from","to"].forEach(n=>{t[n]!=null&&(i[n]=Promise.resolve(t[n]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","value"].forEach(n=>{t[n]!=null&&(i[n]=Promise.resolve(t[n]).then(s=>s?Bt.from(s):null))}),["type"].forEach(n=>{t[n]!=null&&(i[n]=Promise.resolve(t[n]).then(s=>s??null))}),t.accessList&&(i.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(n=>{t[n]!=null&&(i[n]=Promise.resolve(t[n]).then(s=>s?Kt(s):null))}),this.formatter.transactionRequest(yield _i(i))})}_getFilter(e){return br(this,void 0,void 0,function*(){e=yield e;let t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(i=>{e[i]!=null&&(t[i]=e[i])}),["fromBlock","toBlock"].forEach(i=>{e[i]!=null&&(t[i]=this._getBlockTag(e[i]))}),this.formatter.filter(yield _i(t))})}call(e,t){return br(this,void 0,void 0,function*(){yield this.getNetwork();let i=yield _i({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("call",i);try{return Kt(n)}catch(s){return jr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"call",params:i,result:n,error:s})}})}estimateGas(e){return br(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield _i({transaction:this._getTransactionRequest(e)}),i=yield this.perform("estimateGas",t);try{return Bt.from(i)}catch(n){return jr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:i,error:n})}})}_getAddress(e){return br(this,void 0,void 0,function*(){let t=yield this.resolveName(e);return t==null&&jr.throwError("ENS name not configured",qe.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return br(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let i=-128,n={includeTransactions:!!t};if(mr(e,32))n.blockHash=e;else try{n.blockTag=this.formatter.blockTag(yield this._getBlockTag(e)),mr(n.blockTag)&&(i=parseInt(n.blockTag.substring(2),16))}catch(s){jr.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return uu(()=>br(this,void 0,void 0,function*(){let s=yield this.perform("getBlock",n);if(s==null)return n.blockHash!=null&&this._emitted["b:"+n.blockHash]==null||n.blockTag!=null&&i>this._emitted.block?null:void 0;if(t){let o=null;for(let a=0;a<s.transactions.length;a++){let f=s.transactions[a];if(f.blockNumber==null)f.confirmations=0;else if(f.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let c=o-f.blockNumber+1;c<=0&&(c=1),f.confirmations=c}}return this.formatter.blockWithTransactions(s)}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return br(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return uu(()=>br(this,void 0,void 0,function*(){let i=yield this.perform("getTransaction",t);if(i==null)return this._emitted["t:"+e]==null?null:void 0;let n=this.formatter.transactionResponse(i);if(n.blockNumber==null)n.confirmations=0;else if(n.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;o<=0&&(o=1),n.confirmations=o}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return br(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return uu(()=>br(this,void 0,void 0,function*(){let i=yield this.perform("getTransactionReceipt",t);if(i==null)return this._emitted["t:"+e]==null?null:void 0;if(i.blockHash==null)return;let n=this.formatter.receipt(i);if(n.blockNumber==null)n.confirmations=0;else if(n.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;o<=0&&(o=1),n.confirmations=o}return n}),{oncePoll:this})})}getLogs(e){return br(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield _i({filter:this._getFilter(e)}),i=yield this.perform("getLogs",t);return i.forEach(n=>{n.removed==null&&(n.removed=!1)}),$t.arrayOf(this.formatter.filterLog.bind(this.formatter))(i)})}getEtherPrice(){return br(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return br(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&jr.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return br(this,void 0,void 0,function*(){let t=yield this._getResolver(e);return t==null?null:new uC(this,t,e)})}_getResolver(e){return br(this,void 0,void 0,function*(){let t=yield this.getNetwork();t.ensAddress||jr.throwError("network does not support ENS",qe.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:t.name});let i={to:t.ensAddress,data:"0x0178b8bf"+Xl(e).substring(2)};return this.formatter.callAddress(yield this.call(i))})}resolveName(e){return br(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(i){if(mr(e))throw i}typeof e!="string"&&jr.throwArgumentError("invalid ENS name","name",e);let t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return br(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);let t=e.substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(t);if(!i)return null;let n=Ut(yield this.call({to:i,data:"0x691f3431"+Xl(t).substring(2)}));if(n.length<32||!Bt.from(n.slice(0,32)).eq(32)||(n=n.slice(32),n.length<32))return null;let s=Bt.from(n.slice(0,32)).toNumber();if(n=n.slice(32),s>n.length)return null;let o=Yf(n.slice(0,s));return(yield this.resolveName(o))!=e?null:o})}perform(e,t){return jr.throwError(e+" not implemented",qe.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,i){let n=new fC(vd(e),t,i);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let i=!1,n=[],s=vd(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,t)},0),i=!0,o.once?(n.push(o),!1):!0)),n.forEach(o=>{this._stopEvent(o)}),i}listenerCount(e){if(!e)return this._events.length;let t=vd(e);return this._events.filter(i=>i.tag===t).length}listeners(e){if(e==null)return this._events.map(i=>i.listener);let t=vd(e);return this._events.filter(i=>i.tag===t).map(i=>i.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);let i=[],n=!1,s=vd(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=t||n?!0:(n=!0,i.push(o),!1)),i.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{let i=vd(e);this._events=this._events.filter(n=>n.tag!==i?!0:(t.push(n),!1))}return t.forEach(i=>{this._stopEvent(i)}),this}};"use strict";var Op=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function f(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,f)}c((i=i.apply(r,e||[])).next())})},cs=new qe(nf),wde=["call","estimateGas"];function lC(r,e,t){if(r==="call"&&e.code===qe.errors.SERVER_ERROR){let s=e.error;if(s&&s.message.match("reverted")&&mr(s.data))return s.data}let i=e.message;e.code===qe.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase();let n=t.transaction||t.signedTransaction;throw i.match(/insufficient funds/)&&cs.throwError("insufficient funds for intrinsic transaction cost",qe.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:n}),i.match(/nonce too low/)&&cs.throwError("nonce has already been used",qe.errors.NONCE_EXPIRED,{error:e,method:r,transaction:n}),i.match(/replacement transaction underpriced/)&&cs.throwError("replacement fee too low",qe.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:n}),i.match(/only replay-protected/)&&cs.throwError("legacy pre-eip-155 transactions not supported",qe.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:n}),wde.indexOf(r)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&cs.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",qe.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:n}),e}function dC(r){return new Promise(function(e){setTimeout(e,r)})}function _de(r){if(r.error){let e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function Dp(r){return r&&r.toLowerCase()}var X4={},Lp=class extends X0{constructor(e,t,i){if(cs.checkNew(new.target,Lp),super(),e!==X4)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");st(this,"provider",t),i==null&&(i=0),typeof i=="string"?(st(this,"_address",this.provider.formatter.address(i)),st(this,"_index",null)):typeof i=="number"?(st(this,"_index",i),st(this,"_address",null)):cs.throwArgumentError("invalid address or index","addressOrIndex",i)}connect(e){return cs.throwError("cannot alter JSON-RPC Signer connection",qe.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new hC(X4,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&cs.throwError("unknown account #"+this._index,qe.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Li(e);let t=this.getAddress().then(i=>(i&&(i=i.toLowerCase()),i));if(e.gasLimit==null){let i=Li(e);i.from=t,e.gasLimit=this.provider.estimateGas(i)}return _i({tx:_i(e),sender:t}).then(({tx:i,sender:n})=>{i.from!=null?i.from.toLowerCase()!==n&&cs.throwArgumentError("from address mismatch","transaction",e):i.from=n;let s=this.provider.constructor.hexlifyTransaction(i,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>lC("sendTransaction",o,s))})}signTransaction(e){return cs.throwError("signing transactions is unsupported",qe.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>uu(()=>this.provider.getTransaction(t).then(i=>{if(i!==null)return this.provider._wrapTransaction(i,t)}),{oncePoll:this.provider}).catch(i=>{throw i.transactionHash=t,i}))}signMessage(e){return Op(this,void 0,void 0,function*(){let t=typeof e=="string"?tn(e):e,i=yield this.getAddress();return yield this.provider.send("eth_sign",[i.toLowerCase(),Kt(t)])})}_signTypedData(e,t,i){return Op(this,void 0,void 0,function*(){let n=yield Nn.resolveNames(e,t,i,o=>this.provider.resolveName(o)),s=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Nn.getPayload(n.domain,t,n.value))])})}unlock(e){return Op(this,void 0,void 0,function*(){let t=this.provider,i=yield this.getAddress();return t.send("personal_unlockAccount",[i.toLowerCase(),e,null])})}},hC=class extends Lp{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:i=>this.provider.waitForTransaction(t,i)}))}},Ede={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0},Up=class extends J4{constructor(e,t){cs.checkNew(new.target,Up);let i=t;i==null&&(i=new Promise((n,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{n(o)},o=>{s(o)})},0)})),super(i),e||(e=Ts(this.constructor,"defaultUrl")()),typeof e=="string"?st(this,"connection",Object.freeze({url:e})):st(this,"connection",Object.freeze(Li(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Op(this,void 0,void 0,function*(){yield dC(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(i){}}if(e!=null){let t=Ts(this.constructor,"getNetwork");try{return t(Bt.from(e).toNumber())}catch(i){return cs.throwError("could not detect network",qe.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:i})}}return cs.throwError("could not detect network",qe.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Lp(X4,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){let i={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ws(i),provider:this});let n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];let s=eC(this.connection,JSON.stringify(i),_de).then(o=>(this.emit("debug",{action:"response",request:i,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:i,provider:this}),o});return n&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Dp(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Dp(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Dp(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Dp(t.address),t.position,t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{let i=Ts(this.constructor,"hexlifyTransaction");return["eth_call",[i(t.transaction,{from:!0}),t.blockTag]]}case"estimateGas":{let i=Ts(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[i(t.transaction,{from:!0})]]}case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=Dp(t.filter.address)),["eth_getLogs",[t.filter]];default:break}return null}perform(e,t){return Op(this,void 0,void 0,function*(){let i=this.prepareRequest(e,t);i==null&&cs.throwError(e+" not implemented",qe.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(i[0],i[1])}catch(n){return lC(e,n,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;let e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(i){function n(){e.send("eth_getFilterChanges",[i]).then(function(s){if(e._pendingFilter!=t)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(f){return e.emit("pending",f),null})})}),o.then(function(){return dC(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[i]);return}return setTimeout(function(){n()},0),null}).catch(s=>{})}return n(),i}).catch(i=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){let i=Li(Ede);if(t)for(let s in t)t[s]&&(i[s]=!0);AI(e,i);let n={};return["gasLimit","gasPrice","type","nonce","value"].forEach(function(s){if(e[s]==null)return;let o=Hl(e[s]);s==="gasLimit"&&(s="gas"),n[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(n[s]=Kt(e[s]))}),e.accessList&&(n.accessList=rc(e.accessList)),n}};"use strict";var Q4=new qe(nf),Sde=1;function pC(r,e){let t="Web3LegacyFetcher";return function(i,n){i=="eth_sign"&&(r.isMetaMask||r.isStatus)&&(i="personal_sign",n=[n[1],n[0]]);let s={method:i,params:n,id:Sde++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:t,request:Ws(s),provider:this}),e(s,(f,c)=>{if(f)return this.emit("debug",{action:"response",fetcher:t,error:f,request:s,provider:this}),a(f);if(this.emit("debug",{action:"response",fetcher:t,request:s,response:c,provider:this}),c.error){let l=new Error(c.error.message);return l.code=c.error.code,l.data=c.error.data,a(l)}o(c.result)})})}}function Ade(r){return function(e,t){t==null&&(t=[]),e=="eth_sign"&&(r.isMetaMask||r.isStatus)&&(e="personal_sign",t=[t[1],t[0]]);let i={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Ws(i),provider:this}),r.request(i).then(n=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:n,provider:this}),n),n=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:n,provider:this}),n})}}var xd=class extends Up{constructor(e,t){Q4.checkNew(new.target,xd),e==null&&Q4.throwArgumentError("missing provider","provider",e);let i=null,n=null,s=null;typeof e=="function"?(i="unknown:",n=e):(i=e.host||e.path||"",!i&&e.isMetaMask&&(i="metamask"),s=e,e.request?(i===""&&(i="eip-1193:"),n=Ade(e)):e.sendAsync?n=pC(e,e.sendAsync.bind(e)):e.send?n=pC(e,e.send.bind(e)):Q4.throwArgumentError("unsupported provider","provider",e),i||(i="unknown:")),super(i,t),st(this,"jsonRpcFetchFunc",n),st(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}};"use strict";var Wze=new qe(nf);var uR=wr(yC()),Rv=wr(N6()),lR=wr(P8()),Jp=wr(fB()),dR=wr(s0());var jhe="LIT",Vhe=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"address payable",name:"relayerAddress",type:"address"},{indexed:!1,internalType:"bytes",name:"functionSignature",type:"bytes"}],name:"MetaTransactionExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"ERC712_VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"bytes",name:"functionSignature",type:"bytes"},{internalType:"bytes32",name:"sigR",type:"bytes32"},{internalType:"bytes32",name:"sigS",type:"bytes32"},{internalType:"uint8",name:"sigV",type:"uint8"}],name:"executeMetaTransaction",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function",payable:!0},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[],name:"getDomainSeperator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"tokenIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"isOperator",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bool",name:"enabled",type:"bool"}],name:"setOpenseaProxyEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAdmin",type:"address"}],name:"changeAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"uri",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0}],Hhe='{"compiler":{"version":"0.7.6+commit.7338295f"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"userAddress","type":"address"},{"indexed":false,"internalType":"address payable","name":"relayerAddress","type":"address"},{"indexed":false,"internalType":"bytes","name":"functionSignature","type":"bytes"}],"name":"MetaTransactionExecuted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"value","type":"string"},{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"URI","type":"event"},{"inputs":[],"name":"ERC712_VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newAdmin","type":"address"}],"name":"changeAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"},{"internalType":"bytes","name":"functionSignature","type":"bytes"},{"internalType":"bytes32","name":"sigR","type":"bytes32"},{"internalType":"bytes32","name":"sigS","type":"bytes32"},{"internalType":"uint8","name":"sigV","type":"uint8"}],"name":"executeMetaTransaction","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getAdmin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"getDomainSeperator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getNonce","outputs":[{"internalType":"uint256","name":"nonce","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"isOperator","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"mint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"enabled","type":"bool"}],"name":"setOpenseaProxyEnabled","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uri","type":"string"}],"name":"setURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokenIds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}],"devdoc":{"kind":"dev","methods":{"balanceOf(address,uint256)":{"details":"See {IERC1155-balanceOf}. Requirements: - `account` cannot be the zero address."},"balanceOfBatch(address[],uint256[])":{"details":"See {IERC1155-balanceOfBatch}. Requirements: - `accounts` and `ids` must have the same length."},"changeAdmin(address)":{"details":"admin function to set new root admin.","params":{"newAdmin":"address the new admin to assign, which manages delegates"}},"safeBatchTransferFrom(address,address,uint256[],uint256[],bytes)":{"details":"See {IERC1155-safeBatchTransferFrom}."},"safeTransferFrom(address,address,uint256,uint256,bytes)":{"details":"See {IERC1155-safeTransferFrom}."},"setApprovalForAll(address,bool)":{"details":"See {IERC1155-setApprovalForAll}."},"supportsInterface(bytes4)":{"details":"See {IERC165-supportsInterface}. Time complexity O(1), guaranteed to always use less than 30 000 gas."},"uri(uint256)":{"details":"See {IERC1155MetadataURI-uri}. This implementation returns the same URI for *all* token types. It relies on the token type ID substitution mechanism https://eips.ethereum.org/EIPS/eip-1155#metadata[defined in the EIP]. Clients calling this function must replace the `\\\\{id\\\\}` substring with the actual token type ID."}},"version":1},"userdoc":{"kind":"user","methods":{"getAdmin()":{"notice":"Read APIs"},"isApprovedForAll(address,address)":{"notice":"Override isApprovedForAll to whitelist opensea proxy account"},"setOpenseaProxyEnabled(bool)":{"notice":"Admin APIs"}},"version":1}},"settings":{"compilationTarget":{"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/LIT.sol":"LIT"},"evmVersion":"istanbul","libraries":{},"metadata":{"bytecodeHash":"ipfs"},"optimizer":{"enabled":false,"runs":200},"remappings":[]},"sources":{"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/ERC1155.sol":{"keccak256":"0x1c4d9a18579d74ca8fd18e4afaba77118e491612d2bcea04f5a097ade602556f","license":"MIT","urls":["bzz-raw://611a4f1b3b4d0073d2732ef8b5ca50c0f33a061cb90ed9d612f8fdc726722aef","dweb:/ipfs/QmS6oqtn2nWkQWepekkaVP4prJWLAHYakHw3qCUvziMxG5"]},"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/LIT.sol":{"keccak256":"0x16fbbc97e76ad8a9e2fa54556addc30b73df9e5b8b2e6975dba9ec41b2fde60b","license":"MIT","urls":["bzz-raw://79a87e165eb6648bbce6e2cd9e312e7aa95f674b338fbc3dc8e0648f52257bcf","dweb:/ipfs/QmdP81pH4XtzMZJuiVgxQn2aNzzBNsEHU6XbP2aYThr8CE"]},"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/MetaTxns.sol":{"keccak256":"0x321dcd01acff55ccc5372c1de2b71ee9d1d4a391e628c436a9cbd4c3dae2b8f4","urls":["bzz-raw://edc30cfa28ef73745a6ddbcbb6f27261435fc33747a47af18cd4419aef67b974","dweb:/ipfs/QmQUwEvnpiygdSEWoG2z4qww6xB4YbSLHkvkxKz1wX9W5v"]},"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/SafeMath.sol":{"keccak256":"0x0044002cb0b1570ad75c4da298e8c7f2ca0d57266ace04b5b8ca6c7fd33b0c7e","urls":["bzz-raw://251409859e2b62251da6927ff9ff5fba6a213e81f69c52c37ef077d4e3d5269d","dweb:/ipfs/QmXzpYZLJ5TTDDJdkLXghoM4KV3JUkmVGXcvERJjjYkNxa"]}},"version":1}',$he="0x60806040526000600460006101000a81548160ff0219169083151502179055503480156200002c57600080fd5b506040518060600160405280602981526020016200391b602991396200005f6301ffc9a760e01b6200014960201b60201c565b62000070816200025260201b60201c565b6200008863d9b67a2660e01b6200014960201b60201c565b620000a0630e89341c60e01b6200014960201b60201c565b5033600860006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506001600860146101000a81548160ff021916908315150217905550620001436040518060400160405280600381526020017f4c495400000000000000000000000000000000000000000000000000000000008152506200026e60201b60201c565b620004bf565b63ffffffff60e01b817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161415620001e6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f4552433136353a20696e76616c696420696e746572666163652069640000000081525060200191505060405180910390fd5b6001600080837bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b80600390805190602001906200026a92919062000409565b5050565b600460009054906101000a900460ff1615620002f2576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600e8152602001807f616c726561647920696e6974656400000000000000000000000000000000000081525060200191505060405180910390fd5b62000303816200032160201b60201c565b6001600460006101000a81548160ff02191690831515021790555050565b6040518060800160405280604f815260200162003944604f91398051906020012081805190602001206040518060400160405280600181526020017f3100000000000000000000000000000000000000000000000000000000000000815250805190602001203062000398620003fc60201b60201c565b60001b604051602001808681526020018581526020018481526020018373ffffffffffffffffffffffffffffffffffffffff168152602001828152602001955050505050506040516020818303038152906040528051906020012060058190555050565b6000804690508091505090565b828054600181600116156101000203166002900490600052602060002090601f0160209004810192826200044157600085556200048d565b82601f106200045c57805160ff19168380011785556200048d565b828001600101855582156200048d579182015b828111156200048c5782518255916020019190600101906200046f565b5b5090506200049c9190620004a0565b5090565b5b80821115620004bb576000816000905550600101620004a1565b5090565b61344c80620004cf6000396000f3fe6080604052600436106101135760003560e01c80633408e470116100a05780638f283970116100645780638f28397014610aba578063a0712d6814610b0b578063a22cb46514610b5a578063e985e9c514610bb7578063f242432a14610c3e57610113565b80633408e470146108385780634cc63d6c146108635780634e1273f4146108a05780636e9960c314610a4e578063714cff5614610a8f57610113565b80630e89341c116100e75780630e89341c146104345780630f7e5970146104e857806320379ee5146105785780632d0335ab146105a35780632eb2c2d61461060857610113565b8062fdd58e1461011857806301ffc9a71461018757806302fe5305146101f75780630c53c51c146102bf575b600080fd5b34801561012457600080fd5b506101716004803603604081101561013b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610d5a565b6040518082815260200191505060405180910390f35b34801561019357600080fd5b506101df600480360360208110156101aa57600080fd5b8101908080357bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19169060200190929190505050610e3a565b60405180821515815260200191505060405180910390f35b34801561020357600080fd5b506102bd6004803603602081101561021a57600080fd5b810190808035906020019064010000000081111561023757600080fd5b82018360208201111561024957600080fd5b8035906020019184600183028401116401000000008311171561026b57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610ea1565b005b6103b9600480360360a08110156102d557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561031257600080fd5b82018360208201111561032457600080fd5b8035906020019184600183028401116401000000008311171561034657600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192908035906020019092919080359060200190929190803560ff169060200190929190505050610f70565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156103f95780820151818401526020810190506103de565b50505050905090810190601f1680156104265780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561044057600080fd5b5061046d6004803603602081101561045757600080fd5b810190808035906020019092919050505061137d565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156104ad578082015181840152602081019050610492565b50505050905090810190601f1680156104da5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156104f457600080fd5b506104fd611421565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561053d578082015181840152602081019050610522565b50505050905090810190601f16801561056a5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561058457600080fd5b5061058d61145a565b6040518082815260200191505060405180910390f35b3480156105af57600080fd5b506105f2600480360360208110156105c657600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611464565b6040518082815260200191505060405180910390f35b34801561061457600080fd5b50610836600480360360a081101561062b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561068857600080fd5b82018360208201111561069a57600080fd5b803590602001918460208302840111640100000000831117156106bc57600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f8201169050808301925050505050505091929192908035906020019064010000000081111561071c57600080fd5b82018360208201111561072e57600080fd5b8035906020019184602083028401116401000000008311171561075057600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050509192919290803590602001906401000000008111156107b057600080fd5b8201836020820111156107c257600080fd5b803590602001918460018302840111640100000000831117156107e457600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192905050506114ad565b005b34801561084457600080fd5b5061084d611938565b6040518082815260200191505060405180910390f35b34801561086f57600080fd5b5061089e6004803603602081101561088657600080fd5b81019080803515159060200190929190505050611945565b005b3480156108ac57600080fd5b506109f7600480360360408110156108c357600080fd5b81019080803590602001906401000000008111156108e057600080fd5b8201836020820111156108f257600080fd5b8035906020019184602083028401116401000000008311171561091457600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f8201169050808301925050505050505091929192908035906020019064010000000081111561097457600080fd5b82018360208201111561098657600080fd5b803590602001918460208302840111640100000000831117156109a857600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050509192919290505050611a25565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610a3a578082015181840152602081019050610a1f565b505050509050019250505060405180910390f35b348015610a5a57600080fd5b50610a63611b37565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b348015610a9b57600080fd5b50610aa4611b61565b6040518082815260200191505060405180910390f35b348015610ac657600080fd5b50610b0960048036036020811015610add57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611b67565b005b348015610b1757600080fd5b50610b4460048036036020811015610b2e57600080fd5b8101908080359060200190929190505050611c6e565b6040518082815260200191505060405180910390f35b348015610b6657600080fd5b50610bb560048036036040811015610b7d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803515159060200190929190505050611ca9565b005b348015610bc357600080fd5b50610c2660048036036040811015610bda57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611e42565b60405180821515815260200191505060405180910390f35b348015610c4a57600080fd5b50610d58600480360360a0811015610c6157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019092919080359060200190640100000000811115610cd257600080fd5b820183602082011115610ce457600080fd5b80359060200191846001830284011164010000000083111715610d0657600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050611ec7565b005b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610de1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b81526020018061321e602b913960400191505060405180910390fd5b6001600083815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b6000806000837bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200190815260200160002060009054906101000a900460ff169050919050565b600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610f64576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600a8152602001807f4f6e6c792041646d696e0000000000000000000000000000000000000000000081525060200191505060405180910390fd5b610f6d8161223c565b50565b606060006040518060600160405280600660008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205481526020018873ffffffffffffffffffffffffffffffffffffffff168152602001878152509050610ff38782878787612256565b611048576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602181526020018061335b6021913960400191505060405180910390fd5b61109b6001600660008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461238a90919063ffffffff16565b600660008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055507f5845892132946850460bff5a0083f71031bc5bf9aadcd40f1de79423eac9b10b873388604051808473ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825283818151815260200191508051906020019080838360005b8381101561117a57808201518184015260208101905061115f565b50505050905090810190601f1680156111a75780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a16000803073ffffffffffffffffffffffffffffffffffffffff16888a6040516020018083805190602001908083835b6020831061120857805182526020820191506020810190506020830392506111e5565b6001836020036101000a0380198251168184511680821785525050505050509050018273ffffffffffffffffffffffffffffffffffffffff1660601b8152601401925050506040516020818303038152906040526040518082805190602001908083835b6020831061128f578051825260208201915060208101905060208303925061126c565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d80600081146112f1576040519150601f19603f3d011682016040523d82523d6000602084013e6112f6565b606091505b50915091508161136e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f46756e6374696f6e2063616c6c206e6f74207375636365737366756c0000000081525060200191505060405180910390fd5b80935050505095945050505050565b606060038054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156114155780601f106113ea57610100808354040283529160200191611415565b820191906000526020600020905b8154815290600101906020018083116113f857829003601f168201915b50505050509050919050565b6040518060400160405280600181526020017f310000000000000000000000000000000000000000000000000000000000000081525081565b6000600554905090565b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b8151835114611507576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260288152602001806133ce6028913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16141561158d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806132da6025913960400191505060405180910390fd5b611595612412565b73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff1614806115db57506115da856115d5612412565b611e42565b5b611630576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260328152602001806132ff6032913960400191505060405180910390fd5b600061163a612412565b905061164a818787878787612421565b60005b845181101561181b57600085828151811061166457fe5b60200260200101519050600085838151811061167c57fe5b60200260200101519050611703816040518060600160405280602a8152602001613331602a91396001600086815260200190815260200160002060008d73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546124299092919063ffffffff16565b6001600084815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506117ba816001600085815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461238a90919063ffffffff16565b6001600084815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550505080600101905061164d565b508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb8787604051808060200180602001838103835285818151815260200191508051906020019060200280838360005b838110156118cb5780820151818401526020810190506118b0565b50505050905001838103825284818151815260200191508051906020019060200280838360005b8381101561190d5780820151818401526020810190506118f2565b5050505090500194505050505060405180910390a46119308187878787876124e3565b505050505050565b6000804690508091505090565b600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611a08576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600a8152602001807f4f6e6c792041646d696e0000000000000000000000000000000000000000000081525060200191505060405180910390fd5b80600860146101000a81548160ff02191690831515021790555050565b60608151835114611a81576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260298152602001806133a56029913960400191505060405180910390fd5b6000835167ffffffffffffffff81118015611a9b57600080fd5b50604051908082528060200260200182016040528015611aca5781602001602082028036833780820191505090505b50905060005b8451811015611b2c57611b09858281518110611ae857fe5b6020026020010151858381518110611afc57fe5b6020026020010151610d5a565b828281518110611b1557fe5b602002602001018181525050806001019050611ad0565b508091505092915050565b6000600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60075481565b600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611c2a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600a8152602001807f4f6e6c792041646d696e0000000000000000000000000000000000000000000081525060200191505060405180910390fd5b80600860006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6000600760008154809291906001019190505550611c9f336007548460405180602001604052806000815250612872565b6007549050919050565b8173ffffffffffffffffffffffffffffffffffffffff16611cc8612412565b73ffffffffffffffffffffffffffffffffffffffff161415611d35576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602981526020018061337c6029913960400191505060405180910390fd5b8060026000611d42612412565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff16611def612412565b73ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c318360405180821515815260200191505060405180910390a35050565b600073207fa8df3a17d96ca7ea4f2893fcdcb78a30410173ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16148015611ea6575060011515600860149054906101000a900460ff161515145b15611eb45760019050611ec1565b611ebe8383612a75565b90505b92915050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161415611f4d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806132da6025913960400191505060405180910390fd5b611f55612412565b73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161480611f9b5750611f9a85611f95612412565b611e42565b5b611ff0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602981526020018061328c6029913960400191505060405180910390fd5b6000611ffa612412565b905061201a81878761200b88612b09565b61201488612b09565b87612421565b612097836040518060600160405280602a8152602001613331602a91396001600088815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546124299092919063ffffffff16565b6001600086815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061214e836001600087815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461238a90919063ffffffff16565b6001600086815260200190815260200160002060008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f628787604051808381526020018281526020019250505060405180910390a4612234818787878787612b7a565b505050505050565b8060039080519060200190612252929190613042565b5050565b60008073ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff1614156122dd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806132b56025913960400191505060405180910390fd5b60016122f06122eb87612e87565b612f17565b83868660405160008152602001604052604051808581526020018460ff1681526020018381526020018281526020019450505050506020604051602081039080840390855afa158015612347573d6000803e3d6000fd5b5050506020604051035173ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff1614905095945050505050565b600080828401905083811015612408576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b600061241c612f7e565b905090565b505050505050565b60008383111582906124d6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561249b578082015181840152602081019050612480565b50505050905090810190601f1680156124c85780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5082840390509392505050565b6125028473ffffffffffffffffffffffffffffffffffffffff1661302f565b1561286a578373ffffffffffffffffffffffffffffffffffffffff1663bc197c8187878686866040518663ffffffff1660e01b8152600401808673ffffffffffffffffffffffffffffffffffffffff1681526020018573ffffffffffffffffffffffffffffffffffffffff168152602001806020018060200180602001848103845287818151815260200191508051906020019060200280838360005b838110156125ba57808201518184015260208101905061259f565b50505050905001848103835286818151815260200191508051906020019060200280838360005b838110156125fc5780820151818401526020810190506125e1565b50505050905001848103825285818151815260200191508051906020019080838360005b8381101561263b578082015181840152602081019050612620565b50505050905090810190601f1680156126685780820380516001836020036101000a031916815260200191505b5098505050505050505050602060405180830381600087803b15801561268d57600080fd5b505af19250505080156126c157506040513d60208110156126ad57600080fd5b810190808051906020019092919050505060015b6127cb576126cd61310b565b806126d8575061277a565b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561273f578082015181840152602081019050612724565b50505050905090810190601f16801561276c5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b6040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001806131c26034913960400191505060405180910390fd5b63bc197c8160e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614612868576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260288152602001806131f66028913960400191505060405180910390fd5b505b505050505050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614156128f8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806133f66021913960400191505060405180910390fd5b6000612902612412565b90506129238160008761291488612b09565b61291d88612b09565b87612421565b612986836001600087815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461238a90919063ffffffff16565b6001600086815260200190815260200160002060008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508473ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f628787604051808381526020018281526020019250505060405180910390a4612a6e81600087878787612b7a565b5050505050565b6000600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b60606000600167ffffffffffffffff81118015612b2557600080fd5b50604051908082528060200260200182016040528015612b545781602001602082028036833780820191505090505b5090508281600081518110612b6557fe5b60200260200101818152505080915050919050565b612b998473ffffffffffffffffffffffffffffffffffffffff1661302f565b15612e7f578373ffffffffffffffffffffffffffffffffffffffff1663f23a6e6187878686866040518663ffffffff1660e01b8152600401808673ffffffffffffffffffffffffffffffffffffffff1681526020018573ffffffffffffffffffffffffffffffffffffffff16815260200184815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b83811015612c52578082015181840152602081019050612c37565b50505050905090810190601f168015612c7f5780820380516001836020036101000a031916815260200191505b509650505050505050602060405180830381600087803b158015612ca257600080fd5b505af1925050508015612cd657506040513d6020811015612cc257600080fd5b810190808051906020019092919050505060015b612de057612ce261310b565b80612ced5750612d8f565b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015612d54578082015181840152602081019050612d39565b50505050905090810190601f168015612d815780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b6040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001806131c26034913960400191505060405180910390fd5b63f23a6e6160e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614612e7d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260288152602001806131f66028913960400191505060405180910390fd5b505b505050505050565b6000604051806080016040528060438152602001613249604391398051906020012082600001518360200151846040015180519060200120604051602001808581526020018481526020018373ffffffffffffffffffffffffffffffffffffffff168152602001828152602001945050505050604051602081830303815290604052805190602001209050919050565b6000612f2161145a565b8260405160200180807f190100000000000000000000000000000000000000000000000000000000000081525060020183815260200182815260200192505050604051602081830303815290604052805190602001209050919050565b60003073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141561302857600080368080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509050600080369050905073ffffffffffffffffffffffffffffffffffffffff81830151169250505061302c565b3390505b90565b600080823b905060008111915050919050565b828054600181600116156101000203166002900490600052602060002090601f01602090048101928261307857600085556130bf565b82601f1061309157805160ff19168380011785556130bf565b828001600101855582156130bf579182015b828111156130be5782518255916020019190600101906130a3565b5b5090506130cc91906130d0565b5090565b5b808211156130e95760008160009055506001016130d1565b5090565b6000601f19601f8301169050919050565b60008160e01c9050919050565b600060443d101561311b576131be565b60046000803e61312c6000516130fe565b6308c379a0811461313d57506131be565b60405160043d036004823e80513d602482011167ffffffffffffffff82111715613169575050506131be565b808201805167ffffffffffffffff8111156131885750505050506131be565b8060208301013d85018111156131a3575050505050506131be565b6131ac826130ed565b60208401016040528296505050505050505b9056fe455243313135353a207472616e7366657220746f206e6f6e2045524331313535526563656976657220696d706c656d656e746572455243313135353a204552433131353552656365697665722072656a656374656420746f6b656e73455243313135353a2062616c616e636520717565727920666f7220746865207a65726f20616464726573734d6574615472616e73616374696f6e2875696e74323536206e6f6e63652c616464726573732066726f6d2c62797465732066756e6374696f6e5369676e617475726529455243313135353a2063616c6c6572206973206e6f74206f776e6572206e6f7220617070726f7665644e61746976654d6574615472616e73616374696f6e3a20494e56414c49445f5349474e4552455243313135353a207472616e7366657220746f20746865207a65726f2061646472657373455243313135353a207472616e736665722063616c6c6572206973206e6f74206f776e6572206e6f7220617070726f766564455243313135353a20696e73756666696369656e742062616c616e636520666f72207472616e736665725369676e657220616e64207369676e617475726520646f206e6f74206d61746368455243313135353a2073657474696e6720617070726f76616c2073746174757320666f722073656c66455243313135353a206163636f756e747320616e6420696473206c656e677468206d69736d61746368455243313135353a2069647320616e6420616d6f756e7473206c656e677468206d69736d61746368455243313135353a206d696e7420746f20746865207a65726f2061646472657373a26469706673582212200038f017570fc347d421eb6064ab6c0786b1e20a0ddfbd2194cd4a889c7c7d2164736f6c6343000706003368747470733a2f2f6d696e746c69742e636f6d2f6d657461646174612f706f6c79676f6e2f7b69647d454950373132446f6d61696e28737472696e67206e616d652c737472696e672076657273696f6e2c6164647265737320766572696679696e67436f6e74726163742c627974657333322073616c7429",Ghe="0x6080604052600436106101135760003560e01c80633408e470116100a05780638f283970116100645780638f28397014610aba578063a0712d6814610b0b578063a22cb46514610b5a578063e985e9c514610bb7578063f242432a14610c3e57610113565b80633408e470146108385780634cc63d6c146108635780634e1273f4146108a05780636e9960c314610a4e578063714cff5614610a8f57610113565b80630e89341c116100e75780630e89341c146104345780630f7e5970146104e857806320379ee5146105785780632d0335ab146105a35780632eb2c2d61461060857610113565b8062fdd58e1461011857806301ffc9a71461018757806302fe5305146101f75780630c53c51c146102bf575b600080fd5b34801561012457600080fd5b506101716004803603604081101561013b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610d5a565b6040518082815260200191505060405180910390f35b34801561019357600080fd5b506101df600480360360208110156101aa57600080fd5b8101908080357bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19169060200190929190505050610e3a565b60405180821515815260200191505060405180910390f35b34801561020357600080fd5b506102bd6004803603602081101561021a57600080fd5b810190808035906020019064010000000081111561023757600080fd5b82018360208201111561024957600080fd5b8035906020019184600183028401116401000000008311171561026b57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610ea1565b005b6103b9600480360360a08110156102d557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561031257600080fd5b82018360208201111561032457600080fd5b8035906020019184600183028401116401000000008311171561034657600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192908035906020019092919080359060200190929190803560ff169060200190929190505050610f70565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156103f95780820151818401526020810190506103de565b50505050905090810190601f1680156104265780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561044057600080fd5b5061046d6004803603602081101561045757600080fd5b810190808035906020019092919050505061137d565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156104ad578082015181840152602081019050610492565b50505050905090810190601f1680156104da5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156104f457600080fd5b506104fd611421565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561053d578082015181840152602081019050610522565b50505050905090810190601f16801561056a5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561058457600080fd5b5061058d61145a565b6040518082815260200191505060405180910390f35b3480156105af57600080fd5b506105f2600480360360208110156105c657600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611464565b6040518082815260200191505060405180910390f35b34801561061457600080fd5b50610836600480360360a081101561062b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561068857600080fd5b82018360208201111561069a57600080fd5b803590602001918460208302840111640100000000831117156106bc57600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f8201169050808301925050505050505091929192908035906020019064010000000081111561071c57600080fd5b82018360208201111561072e57600080fd5b8035906020019184602083028401116401000000008311171561075057600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050509192919290803590602001906401000000008111156107b057600080fd5b8201836020820111156107c257600080fd5b803590602001918460018302840111640100000000831117156107e457600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192905050506114ad565b005b34801561084457600080fd5b5061084d611938565b6040518082815260200191505060405180910390f35b34801561086f57600080fd5b5061089e6004803603602081101561088657600080fd5b81019080803515159060200190929190505050611945565b005b3480156108ac57600080fd5b506109f7600480360360408110156108c357600080fd5b81019080803590602001906401000000008111156108e057600080fd5b8201836020820111156108f257600080fd5b8035906020019184602083028401116401000000008311171561091457600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f8201169050808301925050505050505091929192908035906020019064010000000081111561097457600080fd5b82018360208201111561098657600080fd5b803590602001918460208302840111640100000000831117156109a857600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050509192919290505050611a25565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610a3a578082015181840152602081019050610a1f565b505050509050019250505060405180910390f35b348015610a5a57600080fd5b50610a63611b37565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b348015610a9b57600080fd5b50610aa4611b61565b6040518082815260200191505060405180910390f35b348015610ac657600080fd5b50610b0960048036036020811015610add57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611b67565b005b348015610b1757600080fd5b50610b4460048036036020811015610b2e57600080fd5b8101908080359060200190929190505050611c6e565b6040518082815260200191505060405180910390f35b348015610b6657600080fd5b50610bb560048036036040811015610b7d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803515159060200190929190505050611ca9565b005b348015610bc357600080fd5b50610c2660048036036040811015610bda57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611e42565b60405180821515815260200191505060405180910390f35b348015610c4a57600080fd5b50610d58600480360360a0811015610c6157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019092919080359060200190640100000000811115610cd257600080fd5b820183602082011115610ce457600080fd5b80359060200191846001830284011164010000000083111715610d0657600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050611ec7565b005b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610de1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b81526020018061321e602b913960400191505060405180910390fd5b6001600083815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b6000806000837bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200190815260200160002060009054906101000a900460ff169050919050565b600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610f64576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600a8152602001807f4f6e6c792041646d696e0000000000000000000000000000000000000000000081525060200191505060405180910390fd5b610f6d8161223c565b50565b606060006040518060600160405280600660008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205481526020018873ffffffffffffffffffffffffffffffffffffffff168152602001878152509050610ff38782878787612256565b611048576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602181526020018061335b6021913960400191505060405180910390fd5b61109b6001600660008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461238a90919063ffffffff16565b600660008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055507f5845892132946850460bff5a0083f71031bc5bf9aadcd40f1de79423eac9b10b873388604051808473ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825283818151815260200191508051906020019080838360005b8381101561117a57808201518184015260208101905061115f565b50505050905090810190601f1680156111a75780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a16000803073ffffffffffffffffffffffffffffffffffffffff16888a6040516020018083805190602001908083835b6020831061120857805182526020820191506020810190506020830392506111e5565b6001836020036101000a0380198251168184511680821785525050505050509050018273ffffffffffffffffffffffffffffffffffffffff1660601b8152601401925050506040516020818303038152906040526040518082805190602001908083835b6020831061128f578051825260208201915060208101905060208303925061126c565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d80600081146112f1576040519150601f19603f3d011682016040523d82523d6000602084013e6112f6565b606091505b50915091508161136e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f46756e6374696f6e2063616c6c206e6f74207375636365737366756c0000000081525060200191505060405180910390fd5b80935050505095945050505050565b606060038054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156114155780601f106113ea57610100808354040283529160200191611415565b820191906000526020600020905b8154815290600101906020018083116113f857829003601f168201915b50505050509050919050565b6040518060400160405280600181526020017f310000000000000000000000000000000000000000000000000000000000000081525081565b6000600554905090565b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b8151835114611507576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260288152602001806133ce6028913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16141561158d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806132da6025913960400191505060405180910390fd5b611595612412565b73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff1614806115db57506115da856115d5612412565b611e42565b5b611630576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260328152602001806132ff6032913960400191505060405180910390fd5b600061163a612412565b905061164a818787878787612421565b60005b845181101561181b57600085828151811061166457fe5b60200260200101519050600085838151811061167c57fe5b60200260200101519050611703816040518060600160405280602a8152602001613331602a91396001600086815260200190815260200160002060008d73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546124299092919063ffffffff16565b6001600084815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506117ba816001600085815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461238a90919063ffffffff16565b6001600084815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550505080600101905061164d565b508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb8787604051808060200180602001838103835285818151815260200191508051906020019060200280838360005b838110156118cb5780820151818401526020810190506118b0565b50505050905001838103825284818151815260200191508051906020019060200280838360005b8381101561190d5780820151818401526020810190506118f2565b5050505090500194505050505060405180910390a46119308187878787876124e3565b505050505050565b6000804690508091505090565b600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611a08576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600a8152602001807f4f6e6c792041646d696e0000000000000000000000000000000000000000000081525060200191505060405180910390fd5b80600860146101000a81548160ff02191690831515021790555050565b60608151835114611a81576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260298152602001806133a56029913960400191505060405180910390fd5b6000835167ffffffffffffffff81118015611a9b57600080fd5b50604051908082528060200260200182016040528015611aca5781602001602082028036833780820191505090505b50905060005b8451811015611b2c57611b09858281518110611ae857fe5b6020026020010151858381518110611afc57fe5b6020026020010151610d5a565b828281518110611b1557fe5b602002602001018181525050806001019050611ad0565b508091505092915050565b6000600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60075481565b600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611c2a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600a8152602001807f4f6e6c792041646d696e0000000000000000000000000000000000000000000081525060200191505060405180910390fd5b80600860006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6000600760008154809291906001019190505550611c9f336007548460405180602001604052806000815250612872565b6007549050919050565b8173ffffffffffffffffffffffffffffffffffffffff16611cc8612412565b73ffffffffffffffffffffffffffffffffffffffff161415611d35576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602981526020018061337c6029913960400191505060405180910390fd5b8060026000611d42612412565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff16611def612412565b73ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c318360405180821515815260200191505060405180910390a35050565b600073207fa8df3a17d96ca7ea4f2893fcdcb78a30410173ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16148015611ea6575060011515600860149054906101000a900460ff161515145b15611eb45760019050611ec1565b611ebe8383612a75565b90505b92915050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161415611f4d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806132da6025913960400191505060405180910390fd5b611f55612412565b73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161480611f9b5750611f9a85611f95612412565b611e42565b5b611ff0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602981526020018061328c6029913960400191505060405180910390fd5b6000611ffa612412565b905061201a81878761200b88612b09565b61201488612b09565b87612421565b612097836040518060600160405280602a8152602001613331602a91396001600088815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546124299092919063ffffffff16565b6001600086815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061214e836001600087815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461238a90919063ffffffff16565b6001600086815260200190815260200160002060008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f628787604051808381526020018281526020019250505060405180910390a4612234818787878787612b7a565b505050505050565b8060039080519060200190612252929190613042565b5050565b60008073ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff1614156122dd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806132b56025913960400191505060405180910390fd5b60016122f06122eb87612e87565b612f17565b83868660405160008152602001604052604051808581526020018460ff1681526020018381526020018281526020019450505050506020604051602081039080840390855afa158015612347573d6000803e3d6000fd5b5050506020604051035173ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff1614905095945050505050565b600080828401905083811015612408576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b600061241c612f7e565b905090565b505050505050565b60008383111582906124d6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561249b578082015181840152602081019050612480565b50505050905090810190601f1680156124c85780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5082840390509392505050565b6125028473ffffffffffffffffffffffffffffffffffffffff1661302f565b1561286a578373ffffffffffffffffffffffffffffffffffffffff1663bc197c8187878686866040518663ffffffff1660e01b8152600401808673ffffffffffffffffffffffffffffffffffffffff1681526020018573ffffffffffffffffffffffffffffffffffffffff168152602001806020018060200180602001848103845287818151815260200191508051906020019060200280838360005b838110156125ba57808201518184015260208101905061259f565b50505050905001848103835286818151815260200191508051906020019060200280838360005b838110156125fc5780820151818401526020810190506125e1565b50505050905001848103825285818151815260200191508051906020019080838360005b8381101561263b578082015181840152602081019050612620565b50505050905090810190601f1680156126685780820380516001836020036101000a031916815260200191505b5098505050505050505050602060405180830381600087803b15801561268d57600080fd5b505af19250505080156126c157506040513d60208110156126ad57600080fd5b810190808051906020019092919050505060015b6127cb576126cd61310b565b806126d8575061277a565b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561273f578082015181840152602081019050612724565b50505050905090810190601f16801561276c5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b6040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001806131c26034913960400191505060405180910390fd5b63bc197c8160e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614612868576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260288152602001806131f66028913960400191505060405180910390fd5b505b505050505050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614156128f8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806133f66021913960400191505060405180910390fd5b6000612902612412565b90506129238160008761291488612b09565b61291d88612b09565b87612421565b612986836001600087815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461238a90919063ffffffff16565b6001600086815260200190815260200160002060008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508473ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f628787604051808381526020018281526020019250505060405180910390a4612a6e81600087878787612b7a565b5050505050565b6000600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b60606000600167ffffffffffffffff81118015612b2557600080fd5b50604051908082528060200260200182016040528015612b545781602001602082028036833780820191505090505b5090508281600081518110612b6557fe5b60200260200101818152505080915050919050565b612b998473ffffffffffffffffffffffffffffffffffffffff1661302f565b15612e7f578373ffffffffffffffffffffffffffffffffffffffff1663f23a6e6187878686866040518663ffffffff1660e01b8152600401808673ffffffffffffffffffffffffffffffffffffffff1681526020018573ffffffffffffffffffffffffffffffffffffffff16815260200184815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b83811015612c52578082015181840152602081019050612c37565b50505050905090810190601f168015612c7f5780820380516001836020036101000a031916815260200191505b509650505050505050602060405180830381600087803b158015612ca257600080fd5b505af1925050508015612cd657506040513d6020811015612cc257600080fd5b810190808051906020019092919050505060015b612de057612ce261310b565b80612ced5750612d8f565b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015612d54578082015181840152602081019050612d39565b50505050905090810190601f168015612d815780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b6040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001806131c26034913960400191505060405180910390fd5b63f23a6e6160e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614612e7d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260288152602001806131f66028913960400191505060405180910390fd5b505b505050505050565b6000604051806080016040528060438152602001613249604391398051906020012082600001518360200151846040015180519060200120604051602001808581526020018481526020018373ffffffffffffffffffffffffffffffffffffffff168152602001828152602001945050505050604051602081830303815290604052805190602001209050919050565b6000612f2161145a565b8260405160200180807f190100000000000000000000000000000000000000000000000000000000000081525060020183815260200182815260200192505050604051602081830303815290604052805190602001209050919050565b60003073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141561302857600080368080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509050600080369050905073ffffffffffffffffffffffffffffffffffffffff81830151169250505061302c565b3390505b90565b600080823b905060008111915050919050565b828054600181600116156101000203166002900490600052602060002090601f01602090048101928261307857600085556130bf565b82601f1061309157805160ff19168380011785556130bf565b828001600101855582156130bf579182015b828111156130be5782518255916020019190600101906130a3565b5b5090506130cc91906130d0565b5090565b5b808211156130e95760008160009055506001016130d1565b5090565b6000601f19601f8301169050919050565b60008160e01c9050919050565b600060443d101561311b576131be565b60046000803e61312c6000516130fe565b6308c379a0811461313d57506131be565b60405160043d036004823e80513d602482011167ffffffffffffffff82111715613169575050506131be565b808201805167ffffffffffffffff8111156131885750505050506131be565b8060208301013d85018111156131a3575050505050506131be565b6131ac826130ed565b60208401016040528296505050505050505b9056fe455243313135353a207472616e7366657220746f206e6f6e2045524331313535526563656976657220696d706c656d656e746572455243313135353a204552433131353552656365697665722072656a656374656420746f6b656e73455243313135353a2062616c616e636520717565727920666f7220746865207a65726f20616464726573734d6574615472616e73616374696f6e2875696e74323536206e6f6e63652c616464726573732066726f6d2c62797465732066756e6374696f6e5369676e617475726529455243313135353a2063616c6c6572206973206e6f74206f776e6572206e6f7220617070726f7665644e61746976654d6574615472616e73616374696f6e3a20494e56414c49445f5349474e4552455243313135353a207472616e7366657220746f20746865207a65726f2061646472657373455243313135353a207472616e736665722063616c6c6572206973206e6f74206f776e6572206e6f7220617070726f766564455243313135353a20696e73756666696369656e742062616c616e636520666f72207472616e736665725369676e657220616e64207369676e617475726520646f206e6f74206d61746368455243313135353a2073657474696e6720617070726f76616c2073746174757320666f722073656c66455243313135353a206163636f756e747320616e6420696473206c656e677468206d69736d61746368455243313135353a2069647320616e6420616d6f756e7473206c656e677468206d69736d61746368455243313135353a206d696e7420746f20746865207a65726f2061646472657373a26469706673582212200038f017570fc347d421eb6064ab6c0786b1e20a0ddfbd2194cd4a889c7c7d2164736f6c63430007060033",Yhe={},Whe=[],Zhe=[{ast:{nodeType:"YulBlock",src:"0:1063:5",statements:[{body:{nodeType:"YulBlock",src:"55:54:5",statements:[{nodeType:"YulAssignment",src:"65:38:5",value:{arguments:[{arguments:[{name:"value",nodeType:"YulIdentifier",src:"83:5:5"},{kind:"number",nodeType:"YulLiteral",src:"90:2:5",type:"",value:"31"}],functionName:{name:"add",nodeType:"YulIdentifier",src:"79:3:5"},nodeType:"YulFunctionCall",src:"79:14:5"},{arguments:[{kind:"number",nodeType:"YulLiteral",src:"99:2:5",type:"",value:"31"}],functionName:{name:"not",nodeType:"YulIdentifier",src:"95:3:5"},nodeType:"YulFunctionCall",src:"95:7:5"}],functionName:{name:"and",nodeType:"YulIdentifier",src:"75:3:5"},nodeType:"YulFunctionCall",src:"75:28:5"},variableNames:[{name:"result",nodeType:"YulIdentifier",src:"65:6:5"}]}]},name:"round_up_to_mul_of_32",nodeType:"YulFunctionDefinition",parameters:[{name:"value",nodeType:"YulTypedName",src:"38:5:5",type:""}],returnVariables:[{name:"result",nodeType:"YulTypedName",src:"48:6:5",type:""}],src:"7:102:5"},{body:{nodeType:"YulBlock",src:"168:53:5",statements:[{nodeType:"YulAssignment",src:"178:36:5",value:{arguments:[{kind:"number",nodeType:"YulLiteral",src:"203:3:5",type:"",value:"224"},{name:"value",nodeType:"YulIdentifier",src:"208:5:5"}],functionName:{name:"shr",nodeType:"YulIdentifier",src:"199:3:5"},nodeType:"YulFunctionCall",src:"199:15:5"},variableNames:[{name:"newValue",nodeType:"YulIdentifier",src:"178:8:5"}]}]},name:"shift_right_224_unsigned",nodeType:"YulFunctionDefinition",parameters:[{name:"value",nodeType:"YulTypedName",src:"149:5:5",type:""}],returnVariables:[{name:"newValue",nodeType:"YulTypedName",src:"159:8:5",type:""}],src:"115:106:5"},{body:{nodeType:"YulBlock",src:"270:790:5",statements:[{body:{nodeType:"YulBlock",src:"310:9:5",statements:[{nodeType:"YulLeave",src:"312:5:5"}]},condition:{arguments:[{arguments:[],functionName:{name:"returndatasize",nodeType:"YulIdentifier",src:"286:14:5"},nodeType:"YulFunctionCall",src:"286:16:5"},{kind:"number",nodeType:"YulLiteral",src:"304:4:5",type:"",value:"0x44"}],functionName:{name:"lt",nodeType:"YulIdentifier",src:"283:2:5"},nodeType:"YulFunctionCall",src:"283:26:5"},nodeType:"YulIf",src:"280:2:5"},{expression:{arguments:[{kind:"number",nodeType:"YulLiteral",src:"344:1:5",type:"",value:"0"},{kind:"number",nodeType:"YulLiteral",src:"347:1:5",type:"",value:"0"},{kind:"number",nodeType:"YulLiteral",src:"350:1:5",type:"",value:"4"}],functionName:{name:"returndatacopy",nodeType:"YulIdentifier",src:"329:14:5"},nodeType:"YulFunctionCall",src:"329:23:5"},nodeType:"YulExpressionStatement",src:"329:23:5"},{nodeType:"YulVariableDeclaration",src:"361:45:5",value:{arguments:[{arguments:[{kind:"number",nodeType:"YulLiteral",src:"403:1:5",type:"",value:"0"}],functionName:{name:"mload",nodeType:"YulIdentifier",src:"397:5:5"},nodeType:"YulFunctionCall",src:"397:8:5"}],functionName:{name:"shift_right_224_unsigned",nodeType:"YulIdentifier",src:"372:24:5"},nodeType:"YulFunctionCall",src:"372:34:5"},variables:[{name:"sig",nodeType:"YulTypedName",src:"365:3:5",type:""}]},{body:{nodeType:"YulBlock",src:"446:9:5",statements:[{nodeType:"YulLeave",src:"448:5:5"}]},condition:{arguments:[{arguments:[{name:"sig",nodeType:"YulIdentifier",src:"428:3:5"},{kind:"number",nodeType:"YulLiteral",src:"433:10:5",type:"",value:"0x08c379a0"}],functionName:{name:"eq",nodeType:"YulIdentifier",src:"425:2:5"},nodeType:"YulFunctionCall",src:"425:19:5"}],functionName:{name:"iszero",nodeType:"YulIdentifier",src:"418:6:5"},nodeType:"YulFunctionCall",src:"418:27:5"},nodeType:"YulIf",src:"415:2:5"},{nodeType:"YulVariableDeclaration",src:"465:21:5",value:{arguments:[{kind:"number",nodeType:"YulLiteral",src:"483:2:5",type:"",value:"64"}],functionName:{name:"mload",nodeType:"YulIdentifier",src:"477:5:5"},nodeType:"YulFunctionCall",src:"477:9:5"},variables:[{name:"data",nodeType:"YulTypedName",src:"469:4:5",type:""}]},{expression:{arguments:[{name:"data",nodeType:"YulIdentifier",src:"510:4:5"},{kind:"number",nodeType:"YulLiteral",src:"516:1:5",type:"",value:"4"},{arguments:[{arguments:[],functionName:{name:"returndatasize",nodeType:"YulIdentifier",src:"523:14:5"},nodeType:"YulFunctionCall",src:"523:16:5"},{kind:"number",nodeType:"YulLiteral",src:"541:1:5",type:"",value:"4"}],functionName:{name:"sub",nodeType:"YulIdentifier",src:"519:3:5"},nodeType:"YulFunctionCall",src:"519:24:5"}],functionName:{name:"returndatacopy",nodeType:"YulIdentifier",src:"495:14:5"},nodeType:"YulFunctionCall",src:"495:49:5"},nodeType:"YulExpressionStatement",src:"495:49:5"},{nodeType:"YulVariableDeclaration",src:"554:25:5",value:{arguments:[{name:"data",nodeType:"YulIdentifier",src:"574:4:5"}],functionName:{name:"mload",nodeType:"YulIdentifier",src:"568:5:5"},nodeType:"YulFunctionCall",src:"568:11:5"},variables:[{name:"offset",nodeType:"YulTypedName",src:"558:6:5",type:""}]},{body:{nodeType:"YulBlock",src:"705:29:5",statements:[{nodeType:"YulLeave",src:"719:5:5"}]},condition:{arguments:[{arguments:[{name:"offset",nodeType:"YulIdentifier",src:"610:6:5"},{kind:"number",nodeType:"YulLiteral",src:"618:18:5",type:"",value:"0xffffffffffffffff"}],functionName:{name:"gt",nodeType:"YulIdentifier",src:"607:2:5"},nodeType:"YulFunctionCall",src:"607:30:5"},{arguments:[{arguments:[{name:"offset",nodeType:"YulIdentifier",src:"658:6:5"},{kind:"number",nodeType:"YulLiteral",src:"666:4:5",type:"",value:"0x24"}],functionName:{name:"add",nodeType:"YulIdentifier",src:"654:3:5"},nodeType:"YulFunctionCall",src:"654:17:5"},{arguments:[],functionName:{name:"returndatasize",nodeType:"YulIdentifier",src:"673:14:5"},nodeType:"YulFunctionCall",src:"673:16:5"}],functionName:{name:"gt",nodeType:"YulIdentifier",src:"651:2:5"},nodeType:"YulFunctionCall",src:"651:39:5"}],functionName:{name:"or",nodeType:"YulIdentifier",src:"591:2:5"},nodeType:"YulFunctionCall",src:"591:113:5"},nodeType:"YulIf",src:"588:2:5"},{nodeType:"YulVariableDeclaration",src:"744:28:5",value:{arguments:[{name:"data",nodeType:"YulIdentifier",src:"759:4:5"},{name:"offset",nodeType:"YulIdentifier",src:"765:6:5"}],functionName:{name:"add",nodeType:"YulIdentifier",src:"755:3:5"},nodeType:"YulFunctionCall",src:"755:17:5"},variables:[{name:"msg",nodeType:"YulTypedName",src:"748:3:5",type:""}]},{nodeType:"YulVariableDeclaration",src:"781:24:5",value:{arguments:[{name:"msg",nodeType:"YulIdentifier",src:"801:3:5"}],functionName:{name:"mload",nodeType:"YulIdentifier",src:"795:5:5"},nodeType:"YulFunctionCall",src:"795:10:5"},variables:[{name:"length",nodeType:"YulTypedName",src:"785:6:5",type:""}]},{body:{nodeType:"YulBlock",src:"848:9:5",statements:[{nodeType:"YulLeave",src:"850:5:5"}]},condition:{arguments:[{name:"length",nodeType:"YulIdentifier",src:"820:6:5"},{kind:"number",nodeType:"YulLiteral",src:"828:18:5",type:"",value:"0xffffffffffffffff"}],functionName:{name:"gt",nodeType:"YulIdentifier",src:"817:2:5"},nodeType:"YulFunctionCall",src:"817:30:5"},nodeType:"YulIf",src:"814:2:5"},{nodeType:"YulVariableDeclaration",src:"867:38:5",value:{arguments:[{arguments:[{name:"msg",nodeType:"YulIdentifier",src:"886:3:5"},{kind:"number",nodeType:"YulLiteral",src:"891:4:5",type:"",value:"0x20"}],functionName:{name:"add",nodeType:"YulIdentifier",src:"882:3:5"},nodeType:"YulFunctionCall",src:"882:14:5"},{name:"length",nodeType:"YulIdentifier",src:"898:6:5"}],functionName:{name:"add",nodeType:"YulIdentifier",src:"878:3:5"},nodeType:"YulFunctionCall",src:"878:27:5"},variables:[{name:"end",nodeType:"YulTypedName",src:"871:3:5",type:""}]},{body:{nodeType:"YulBlock",src:"954:9:5",statements:[{nodeType:"YulLeave",src:"956:5:5"}]},condition:{arguments:[{name:"end",nodeType:"YulIdentifier",src:"920:3:5"},{arguments:[{name:"data",nodeType:"YulIdentifier",src:"929:4:5"},{arguments:[],functionName:{name:"returndatasize",nodeType:"YulIdentifier",src:"935:14:5"},nodeType:"YulFunctionCall",src:"935:16:5"}],functionName:{name:"add",nodeType:"YulIdentifier",src:"925:3:5"},nodeType:"YulFunctionCall",src:"925:27:5"}],functionName:{name:"gt",nodeType:"YulIdentifier",src:"917:2:5"},nodeType:"YulFunctionCall",src:"917:36:5"},nodeType:"YulIf",src:"914:2:5"},{expression:{arguments:[{kind:"number",nodeType:"YulLiteral",src:"980:2:5",type:"",value:"64"},{arguments:[{arguments:[{name:"msg",nodeType:"YulIdentifier",src:"992:3:5"},{kind:"number",nodeType:"YulLiteral",src:"997:4:5",type:"",value:"0x20"}],functionName:{name:"add",nodeType:"YulIdentifier",src:"988:3:5"},nodeType:"YulFunctionCall",src:"988:14:5"},{arguments:[{name:"length",nodeType:"YulIdentifier",src:"1026:6:5"}],functionName:{name:"round_up_to_mul_of_32",nodeType:"YulIdentifier",src:"1004:21:5"},nodeType:"YulFunctionCall",src:"1004:29:5"}],functionName:{name:"add",nodeType:"YulIdentifier",src:"984:3:5"},nodeType:"YulFunctionCall",src:"984:50:5"}],functionName:{name:"mstore",nodeType:"YulIdentifier",src:"973:6:5"},nodeType:"YulFunctionCall",src:"973:62:5"},nodeType:"YulExpressionStatement",src:"973:62:5"},{nodeType:"YulAssignment",src:"1044:10:5",value:{name:"msg",nodeType:"YulIdentifier",src:"1051:3:5"},variableNames:[{name:"ret",nodeType:"YulIdentifier",src:"1044:3:5"}]}]},name:"try_decode_error_message",nodeType:"YulFunctionDefinition",returnVariables:[{name:"ret",nodeType:"YulTypedName",src:"266:3:5",type:""}],src:"227:833:5"}]},contents:`{

    function round_up_to_mul_of_32(value) -> result {
        result := and(add(value, 31), not(31))
    }

    function shift_right_224_unsigned(value) -> newValue {
        newValue :=

        shr(224, value)

    }

    function try_decode_error_message() -> ret {
        if lt(returndatasize(), 0x44) { leave }

        returndatacopy(0, 0, 4)
        let sig := shift_right_224_unsigned(mload(0))
        if iszero(eq(sig, 0x08c379a0)) { leave }

        let data := mload(64)
        returndatacopy(data, 4, sub(returndatasize(), 4))

        let offset := mload(data)
        if or(
            gt(offset, 0xffffffffffffffff),
            gt(add(offset, 0x24), returndatasize())
            ) {
            leave
        }

        let msg := add(data, offset)
        let length := mload(msg)
        if gt(length, 0xffffffffffffffff) { leave }

        let end := add(add(msg, 0x20), length)
        if gt(end, add(data, returndatasize())) { leave }

        mstore(64, add(add(msg, 0x20), round_up_to_mul_of_32(length)))
        ret := msg
    }

}
`,id:5,language:"Yul",name:"#utility.yul"}],Jhe="132:1822:1:-:0;;;933:5:2;919:19;;;;;;;;;;;;;;;;;;;;407:158:1;;;;;;;;;;20016:354:0;;;;;;;;;;;;;;;;;9439:40;9106:10;9458:20;;9439:18;;;:40;;:::i;:::-;20066:13;20074:4;20066:7;;;:13;;:::i;:::-;20168:41;19804:10;20187:21;;20168:18;;;:41;;:::i;:::-;20309:54;19956:10;20328:34;;20309:18;;;:54;;:::i;:::-;20016:354;488:10:1::1;480:5;;:18;;;;;;;;;;;;;;;;;;526:4;504:19;;:26;;;;;;;;;;;;;;;;;;536:24;;;;;;;;;;;;;;;;;::::0;:17:::1;;;:24;;:::i;:::-;132:1822:::0;;10178:198:0;10276:10;10261:25;;:11;:25;;;;;10253:66;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;10365:4;10329:20;:33;10350:11;10329:33;;;;;;;;;;;;;;;;;;:40;;;;;;;;;;;;;;;;;;10178:198;:::o;25581:86::-;25654:6;25647:4;:13;;;;;;;;;;;;:::i;:::-;;25581:86;:::o;1804:144:2:-;987:6;;;;;;;;;;;986:7;978:34;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1916:25:::1;1936:4;1916:19;;;:25;;:::i;:::-;1042:4:::0;1033:6;;:13;;;;;;;;;;;;;;;;;;1804:144;:::o;1954:350::-;1453:110;;;;;;;;;;;;;;;;;1434:135;;;;;;2147:4;2131:22;;;;;;2187:14;;;;;;;;;;;;;;;;;2171:32;;;;;;2229:4;2260:12;:10;;;:12;;:::i;:::-;2252:21;;2063:224;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2040:257;;;;;;2022:15;:275;;;;1954:350;:::o;2415:155::-;2458:7;2477:10;2526:9;2520:15;;2561:2;2554:9;;;2415:155;:::o;132:1822:1:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;",Xhe="132:1822:1:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;21016:228:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;9636:148;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;1773:75:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;4089:1108:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;20769:105:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1333:43:2;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2310:99;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;5605:105;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;23574:1184:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;2415:155:2;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;1436:103:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;21401:530:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1879:73:1;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;213:23;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;1686:83;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;569:146;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;21999:306:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;797:328:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;22605:897:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;21016:228;21102:7;21148:1;21129:21;;:7;:21;;;;21121:77;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;21215:9;:13;21225:2;21215:13;;;;;;;;;;;:22;21229:7;21215:22;;;;;;;;;;;;;;;;21208:29;;21016:228;;;;:::o;9636:148::-;9721:4;9744:20;:33;9765:11;9744:33;;;;;;;;;;;;;;;;;;;;;;;;;;;9737:40;;9636:148;;;:::o;1773:75:1:-;371:5;;;;;;;;;;;357:19;;:10;:19;;;349:42;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1831:12:::1;1839:3;1831:7;:12::i;:::-;1773:75:::0;:::o;4089:1108:2:-;4284:12;4308:29;4340:148;;;;;;;;4377:6;:19;4384:11;4377:19;;;;;;;;;;;;;;;;4340:148;;;;4416:11;4340:148;;;;;;4460:17;4340:148;;;4308:180;;4520:45;4527:11;4540:6;4548:4;4554;4560;4520:6;:45::i;:::-;4499:125;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4710:26;4734:1;4710:6;:19;4717:11;4710:19;;;;;;;;;;;;;;;;:23;;:26;;;;:::i;:::-;4688:6;:19;4695:11;4688:19;;;;;;;;;;;;;;;:48;;;;4752:113;4789:11;4814:10;4838:17;4752:113;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4973:12;4987:23;5022:4;5014:18;;5063:17;5082:11;5046:48;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5014:90;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4972:132;;;;5122:7;5114:48;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5180:10;5173:17;;;;;4089:1108;;;;;;;:::o;20769:105:0:-;20831:13;20863:4;20856:11;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;20769:105;;;:::o;1333:43:2:-;;;;;;;;;;;;;;;;;;;:::o;2310:99::-;2361:7;2387:15;;2380:22;;2310:99;:::o;5605:105::-;5658:13;5691:6;:12;5698:4;5691:12;;;;;;;;;;;;;;;;5683:20;;5605:105;;;:::o;23574:1184:0:-;23828:7;:14;23814:3;:10;:28;23806:81;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23919:1;23905:16;;:2;:16;;;;23897:66;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;24002:12;:10;:12::i;:::-;23994:20;;:4;:20;;;:60;;;;24018:36;24035:4;24041:12;:10;:12::i;:::-;24018:16;:36::i;:::-;23994:60;23973:157;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;24141:16;24160:12;:10;:12::i;:::-;24141:31;;24183:60;24204:8;24214:4;24220:2;24224:3;24229:7;24238:4;24183:20;:60::i;:::-;24259:9;24254:349;24278:3;:10;24274:1;:14;24254:349;;;24309:10;24322:3;24326:1;24322:6;;;;;;;;;;;;;;24309:19;;24342:14;24359:7;24367:1;24359:10;;;;;;;;;;;;;;24342:27;;24406:123;24447:6;24406:123;;;;;;;;;;;;;;;;;:9;:13;24416:2;24406:13;;;;;;;;;;;:19;24420:4;24406:19;;;;;;;;;;;;;;;;:23;;:123;;;;;:::i;:::-;24384:9;:13;24394:2;24384:13;;;;;;;;;;;:19;24398:4;24384:19;;;;;;;;;;;;;;;:145;;;;24563:29;24585:6;24563:9;:13;24573:2;24563:13;;;;;;;;;;;:17;24577:2;24563:17;;;;;;;;;;;;;;;;:21;;:29;;;;:::i;:::-;24543:9;:13;24553:2;24543:13;;;;;;;;;;;:17;24557:2;24543:17;;;;;;;;;;;;;;;:49;;;;24254:349;;24290:3;;;;;24254:349;;;;24648:2;24618:47;;24642:4;24618:47;;24632:8;24618:47;;;24652:3;24657:7;24618:47;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;24676:75;24712:8;24722:4;24728:2;24732:3;24737:7;24746:4;24676:35;:75::i;:::-;23574:1184;;;;;;:::o;2415:155:2:-;2458:7;2477:10;2526:9;2520:15;;2561:2;2554:9;;;2415:155;:::o;1436:103:1:-;371:5;;;;;;;;;;;357:19;;:10;:19;;;349:42;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1527:7:::1;1505:19;;:29;;;;;;;;;;;;;;;;;;1436:103:::0;:::o;21401:530:0:-;21574:16;21633:3;:10;21614:8;:15;:29;21606:83;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;21700:30;21747:8;:15;21733:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;21700:63;;21779:9;21774:120;21798:8;:15;21794:1;:19;21774:120;;;21853:30;21863:8;21872:1;21863:11;;;;;;;;;;;;;;21876:3;21880:1;21876:6;;;;;;;;;;;;;;21853:9;:30::i;:::-;21834:13;21848:1;21834:16;;;;;;;;;;;;;:49;;;;;21815:3;;;;;21774:120;;;;21911:13;21904:20;;;21401:530;;;;:::o;1879:73:1:-;1920:7;1942:5;;;;;;;;;;;1935:12;;1879:73;:::o;213:23::-;;;;:::o;1686:83::-;371:5;;;;;;;;;;;357:19;;:10;:19;;;349:42;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1756:8:::1;1748:5;;:16;;;;;;;;;;;;;;;;;;1686:83:::0;:::o;569:146::-;617:7;632:8;;:10;;;;;;;;;;;;;648:41;654:10;666:8;;676;648:41;;;;;;;;;;;;:5;:41::i;:::-;702:8;;695:15;;569:146;;;:::o;21999:306:0:-;22117:8;22101:24;;:12;:10;:12::i;:::-;:24;;;;22093:78;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;22227:8;22182:18;:32;22201:12;:10;:12::i;:::-;22182:32;;;;;;;;;;;;;;;:42;22215:8;22182:42;;;;;;;;;;;;;;;;:53;;;;;;;;;;;;;;;;;;22279:8;22250:48;;22265:12;:10;:12::i;:::-;22250:48;;;22289:8;22250:48;;;;;;;;;;;;;;;;;;;;21999:306;;:::o;797:328:1:-;904:15;954:42;933:64;;:9;:64;;;:95;;;;;1024:4;1001:27;;:19;;;;;;;;;;;:27;;;933:95;929:133;;;1049:4;1042:11;;;;929:133;1077:43;1102:6;1110:9;1077:24;:43::i;:::-;1070:50;;797:328;;;;;:::o;22605:897:0:-;22834:1;22820:16;;:2;:16;;;;22812:66;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;22917:12;:10;:12::i;:::-;22909:20;;:4;:20;;;:60;;;;22933:36;22950:4;22956:12;:10;:12::i;:::-;22933:16;:36::i;:::-;22909:60;22888:148;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23047:16;23066:12;:10;:12::i;:::-;23047:31;;23089:96;23110:8;23120:4;23126:2;23130:21;23148:2;23130:17;:21::i;:::-;23153:25;23171:6;23153:17;:25::i;:::-;23180:4;23089:20;:96::i;:::-;23218:77;23242:6;23218:77;;;;;;;;;;;;;;;;;:9;:13;23228:2;23218:13;;;;;;;;;;;:19;23232:4;23218:19;;;;;;;;;;;;;;;;:23;;:77;;;;;:::i;:::-;23196:9;:13;23206:2;23196:13;;;;;;;;;;;:19;23210:4;23196:19;;;;;;;;;;;;;;;:99;;;;23325:29;23347:6;23325:9;:13;23335:2;23325:13;;;;;;;;;;;:17;23339:2;23325:17;;;;;;;;;;;;;;;;:21;;:29;;;;:::i;:::-;23305:9;:13;23315:2;23305:13;;;;;;;;;;;:17;23319:2;23305:17;;;;;;;;;;;;;;;:49;;;;23401:2;23370:46;;23395:4;23370:46;;23385:8;23370:46;;;23405:2;23409:6;23370:46;;;;;;;;;;;;;;;;;;;;;;;;23427:68;23458:8;23468:4;23474:2;23478;23482:6;23490:4;23427:30;:68::i;:::-;22605:897;;;;;;:::o;25581:86::-;25654:6;25647:4;:13;;;;;;;;;;;;:::i;:::-;;25581:86;:::o;5716:470:2:-;5888:4;5930:1;5912:20;;:6;:20;;;;5904:70;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6025:154;6052:47;6071:27;6091:6;6071:19;:27::i;:::-;6052:18;:47::i;:::-;6117:4;6139;6161;6025:154;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6003:176;;:6;:176;;;5984:195;;5716:470;;;;;;;:::o;2657:175:4:-;2715:7;2734:9;2750:1;2746;:5;2734:17;;2774:1;2769;:6;;2761:46;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2824:1;2817:8;;;2657:175;;;;:::o;1255:148:1:-;1333:22;1374:24;:22;:24::i;:::-;1367:31;;1255:148;:::o;30292:235:0:-;;;;;;;:::o;5399:163:4:-;5485:7;5517:1;5512;:6;;5520:12;5504:29;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5554:1;5550;:5;5543:12;;5399:163;;;;;:::o;31280:778:0:-;31524:15;:2;:13;;;:15::i;:::-;31520:532;;;31576:2;31559:43;;;31603:8;31613:4;31619:3;31624:7;31633:4;31559:79;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;31555:487;;;;:::i;:::-;;;;;;;;31918:6;31911:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;31555:487;31965:62;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;31555:487;31699:52;;;31687:64;;;:8;:64;;;;31683:161;;31775:50;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;31683:161;31639:219;31520:532;31280:778;;;;;;:::o;26055:572::-;26188:1;26169:21;;:7;:21;;;;26161:67;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;26239:16;26258:12;:10;:12::i;:::-;26239:31;;26281:107;26302:8;26320:1;26324:7;26333:21;26351:2;26333:17;:21::i;:::-;26356:25;26374:6;26356:17;:25::i;:::-;26383:4;26281:20;:107::i;:::-;26424:34;26451:6;26424:9;:13;26434:2;26424:13;;;;;;;;;;;:22;26438:7;26424:22;;;;;;;;;;;;;;;;:26;;:34;;;;:::i;:::-;26399:9;:13;26409:2;26399:13;;;;;;;;;;;:22;26413:7;26399:22;;;;;;;;;;;;;;;:59;;;;26510:7;26473:57;;26506:1;26473:57;;26488:8;26473:57;;;26519:2;26523:6;26473:57;;;;;;;;;;;;;;;;;;;;;;;;26541:79;26572:8;26590:1;26594:7;26603:2;26607:6;26615:4;26541:30;:79::i;:::-;26055:572;;;;;:::o;22372:166::-;22471:4;22494:18;:27;22513:7;22494:27;;;;;;;;;;;;;;;:37;22522:8;22494:37;;;;;;;;;;;;;;;;;;;;;;;;;22487:44;;22372:166;;;;:::o;32064:193::-;32130:16;32158:22;32197:1;32183:16;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;32158:41;;32220:7;32209:5;32215:1;32209:8;;;;;;;;;;;;;:18;;;;;32245:5;32238:12;;;32064:193;;;:::o;30533:741::-;30752:15;:2;:13;;;:15::i;:::-;30748:520;;;30804:2;30787:38;;;30826:8;30836:4;30842:2;30846:6;30854:4;30787:72;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30783:475;;;;:::i;:::-;;;;;;;;31134:6;31127:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30783:475;31181:62;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30783:475;30920:47;;;30908:59;;;:8;:59;;;;30904:156;;30991:50;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30904:156;30860:214;30748:520;30533:741;;;;;;:::o;5203:396:2:-;5310:7;3447:98;;;;;;;;;;;;;;;;;3428:123;;;;;;5458:6;:12;;;5492:6;:11;;;5535:6;:24;;;5525:35;;;;;;5379:199;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5352:240;;;;;;5333:259;;5203:396;;;:::o;2930:249::-;3026:7;3124:20;:18;:20::i;:::-;3146:11;3095:63;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3068:104;;;;;;3049:123;;2930:249;;;:::o;163:622::-;231:22;295:4;273:27;;:10;:27;;;269:487;;;316:18;337:8;;316:29;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;359:13;375:8;;:15;;359:31;;622:42;593:5;586;582:17;576:24;551:131;541:141;;413:283;;;;;735:10;726:19;;269:487;163:622;:::o;11150:413:0:-;11210:4;11413:12;11522:7;11510:20;11502:28;;11555:1;11548:4;:8;11541:15;;;11150:413;;;:::o;-1:-1:-1:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;:::o;7:102:5:-;;99:2;95:7;90:2;83:5;79:14;75:28;65:38;;55:54;;;:::o;115:106::-;;208:5;203:3;199:15;178:36;;168:53;;;:::o;227:833::-;;304:4;286:16;283:26;280:2;;;312:5;;280:2;350:1;347;344;329:23;372:34;403:1;397:8;372:34;:::i;:::-;433:10;428:3;425:19;415:2;;448:5;;;415:2;483;477:9;541:1;523:16;519:24;516:1;510:4;495:49;574:4;568:11;673:16;666:4;658:6;654:17;651:39;618:18;610:6;607:30;591:113;588:2;;;719:5;;;;;588:2;765:6;759:4;755:17;801:3;795:10;828:18;820:6;817:30;814:2;;;850:5;;;;;;;814:2;898:6;891:4;886:3;882:14;878:27;935:16;929:4;925:27;920:3;917:36;914:2;;;956:5;;;;;;;;914:2;1004:29;1026:6;1004:29;:::i;:::-;997:4;992:3;988:14;984:50;980:2;973:62;1051:3;1044:10;;270:790;;;;;;;;:::o",Qhe=`pragma solidity ^0.7.6;

// SPDX-License-Identifier: MIT
import "./SafeMath.sol";
import "./ERC1155.sol";
import "./MetaTxns.sol";

contract LIT is ERC1155, ContextMixin, NativeMetaTransaction {
  // token vars
  uint256 public tokenIds;

  // admin func vars
  address private admin;
  bool private openseaProxyEnabled;

  modifier onlyAdmin {
    require(msg.sender == admin, "Only Admin");
    _;
  }

  constructor() ERC1155("https://mintlit.com/metadata/polygon/{id}") {
    admin = msg.sender;
    openseaProxyEnabled = true;
    _initializeEIP712("LIT");
  }

  function mint(uint256 quantity) public returns (uint256) {
    tokenIds++;
    _mint(msg.sender, tokenIds, quantity, "");
    return tokenIds;
  }

  /**
   * Override isApprovedForAll to whitelist opensea proxy account
   */
  function isApprovedForAll(
      address _owner,
      address _operator
  ) public override view returns (bool isOperator) {
      if (_operator == address(0x207Fa8Df3a17D96Ca7EA4f2893fcdCb78a304101) && openseaProxyEnabled == true) {
          return true;
      }

      return ERC1155.isApprovedForAll(_owner, _operator);
  }

  /**
   * This is used instead of msg.sender as transactions won't be sent by the original token owner, but by OpenSea.
  */
  function _msgSender()
      internal
      override
      view
      returns (address payable sender)
  {
      return ContextMixin.msgSender();
  }

  /**
   * Admin APIs
   */

  function setOpenseaProxyEnabled(bool enabled) public onlyAdmin {
    openseaProxyEnabled = enabled;
  }

  /**
   * @dev admin function to set new root admin.
   *
   * @param newAdmin address the new admin to assign, which manages delegates
   */
  function changeAdmin(address newAdmin) public onlyAdmin {
    admin = newAdmin;
  }

  function setURI(string memory uri) public onlyAdmin {
    _setURI(uri);
  }

  /**
   * Read APIs
   */
  function getAdmin() public view returns (address) {
    return admin;
  }
}`,e1e="/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/LIT.sol",t1e={absolutePath:"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/LIT.sol",exportedSymbols:{Address:[556],Context:[205],ContextMixin:[1757],EIP712Base:[1889],ERC1155:[1556],ERC165:[260],IERC1155:[131],IERC1155MetadataURI:[144],IERC1155Receiver:[183],IERC165:[11],Initializable:[1776],LIT:[1718],NativeMetaTransaction:[2077],SafeMath:[2489]},id:1719,license:"MIT",nodeType:"SourceUnit",nodes:[{id:1558,literals:["solidity","^","0.7",".6"],nodeType:"PragmaDirective",src:"0:23:1"},{absolutePath:"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/SafeMath.sol",file:"./SafeMath.sol",id:1559,nodeType:"ImportDirective",scope:1719,sourceUnit:2490,src:"57:24:1",symbolAliases:[],unitAlias:""},{absolutePath:"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/ERC1155.sol",file:"./ERC1155.sol",id:1560,nodeType:"ImportDirective",scope:1719,sourceUnit:1557,src:"82:23:1",symbolAliases:[],unitAlias:""},{absolutePath:"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/MetaTxns.sol",file:"./MetaTxns.sol",id:1561,nodeType:"ImportDirective",scope:1719,sourceUnit:2078,src:"106:24:1",symbolAliases:[],unitAlias:""},{abstract:!1,baseContracts:[{baseName:{id:1562,name:"ERC1155",nodeType:"UserDefinedTypeName",referencedDeclaration:1556,src:"148:7:1",typeDescriptions:{typeIdentifier:"t_contract$_ERC1155_$1556",typeString:"contract ERC1155"}},id:1563,nodeType:"InheritanceSpecifier",src:"148:7:1"},{baseName:{id:1564,name:"ContextMixin",nodeType:"UserDefinedTypeName",referencedDeclaration:1757,src:"157:12:1",typeDescriptions:{typeIdentifier:"t_contract$_ContextMixin_$1757",typeString:"contract ContextMixin"}},id:1565,nodeType:"InheritanceSpecifier",src:"157:12:1"},{baseName:{id:1566,name:"NativeMetaTransaction",nodeType:"UserDefinedTypeName",referencedDeclaration:2077,src:"171:21:1",typeDescriptions:{typeIdentifier:"t_contract$_NativeMetaTransaction_$2077",typeString:"contract NativeMetaTransaction"}},id:1567,nodeType:"InheritanceSpecifier",src:"171:21:1"}],contractDependencies:[11,131,144,205,260,1556,1757,1776,1889,2077],contractKind:"contract",fullyImplemented:!0,id:1718,linearizedBaseContracts:[1718,2077,1889,1776,1757,1556,144,131,260,11,205],name:"LIT",nodeType:"ContractDefinition",nodes:[{constant:!1,functionSelector:"714cff56",id:1569,mutability:"mutable",name:"tokenIds",nodeType:"VariableDeclaration",scope:1718,src:"213:23:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1568,name:"uint256",nodeType:"ElementaryTypeName",src:"213:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},visibility:"public"},{constant:!1,id:1571,mutability:"mutable",name:"admin",nodeType:"VariableDeclaration",scope:1718,src:"262:21:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:1570,name:"address",nodeType:"ElementaryTypeName",src:"262:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},visibility:"private"},{constant:!1,id:1573,mutability:"mutable",name:"openseaProxyEnabled",nodeType:"VariableDeclaration",scope:1718,src:"287:32:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:1572,name:"bool",nodeType:"ElementaryTypeName",src:"287:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},visibility:"private"},{body:{id:1584,nodeType:"Block",src:"343:60:1",statements:[{expression:{arguments:[{commonType:{typeIdentifier:"t_address",typeString:"address"},id:1579,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{expression:{id:1576,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4294967281,src:"357:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:1577,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",src:"357:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{id:1578,name:"admin",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1571,src:"371:5:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"357:19:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{hexValue:"4f6e6c792041646d696e",id:1580,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"378:12:1",typeDescriptions:{typeIdentifier:"t_stringliteral_c13c296baebb1f79b18541a06c39b3d56ce1654fd26fe72a62e2fb7efe67be9a",typeString:'literal_string "Only Admin"'},value:"Only Admin"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_c13c296baebb1f79b18541a06c39b3d56ce1654fd26fe72a62e2fb7efe67be9a",typeString:'literal_string "Only Admin"'}],id:1575,name:"require",nodeType:"Identifier",overloadedDeclarations:[4294967278,4294967278],referencedDeclaration:4294967278,src:"349:7:1",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:1581,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"349:42:1",tryCall:!1,typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:1582,nodeType:"ExpressionStatement",src:"349:42:1"},{id:1583,nodeType:"PlaceholderStatement",src:"397:1:1"}]},id:1585,name:"onlyAdmin",nodeType:"ModifierDefinition",parameters:{id:1574,nodeType:"ParameterList",parameters:[],src:"343:0:1"},src:"324:79:1",virtual:!1,visibility:"internal"},{body:{id:1604,nodeType:"Block",src:"474:91:1",statements:[{expression:{id:1594,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{id:1591,name:"admin",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1571,src:"480:5:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{expression:{id:1592,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4294967281,src:"488:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:1593,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",src:"488:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},src:"480:18:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:1595,nodeType:"ExpressionStatement",src:"480:18:1"},{expression:{id:1598,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{id:1596,name:"openseaProxyEnabled",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1573,src:"504:19:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"Assignment",operator:"=",rightHandSide:{hexValue:"74727565",id:1597,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"526:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},src:"504:26:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:1599,nodeType:"ExpressionStatement",src:"504:26:1"},{expression:{arguments:[{hexValue:"4c4954",id:1601,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"554:5:1",typeDescriptions:{typeIdentifier:"t_stringliteral_cc6d7d84473dcc72642b2f5d66c702663d241f6c9c8fc2cbecc2e0aa18dc943a",typeString:'literal_string "LIT"'},value:"LIT"}],expression:{argumentTypes:[{typeIdentifier:"t_stringliteral_cc6d7d84473dcc72642b2f5d66c702663d241f6c9c8fc2cbecc2e0aa18dc943a",typeString:'literal_string "LIT"'}],id:1600,name:"_initializeEIP712",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1813,src:"536:17:1",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_string_memory_ptr_$returns$__$",typeString:"function (string memory)"}},id:1602,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"536:24:1",tryCall:!1,typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:1603,nodeType:"ExpressionStatement",src:"536:24:1"}]},id:1605,implemented:!0,kind:"constructor",modifiers:[{arguments:[{hexValue:"68747470733a2f2f6d696e746c69742e636f6d2f6d657461646174612f706f6c79676f6e2f7b69647d",id:1588,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"429:43:1",typeDescriptions:{typeIdentifier:"t_stringliteral_0bd17257abeadb2bfefe922052ef706783deb524e065d6fe3f9726c4e9c6971e",typeString:'literal_string "https://mintlit.com/metadata/polygon/{id}"'},value:"https://mintlit.com/metadata/polygon/{id}"}],id:1589,modifierName:{id:1587,name:"ERC1155",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1556,src:"421:7:1",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC1155_$1556_$",typeString:"type(contract ERC1155)"}},nodeType:"ModifierInvocation",src:"421:52:1"}],name:"",nodeType:"FunctionDefinition",parameters:{id:1586,nodeType:"ParameterList",parameters:[],src:"418:2:1"},returnParameters:{id:1590,nodeType:"ParameterList",parameters:[],src:"474:0:1"},scope:1718,src:"407:158:1",stateMutability:"nonpayable",virtual:!1,visibility:"public"},{body:{id:1625,nodeType:"Block",src:"626:89:1",statements:[{expression:{id:1613,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"632:10:1",subExpression:{id:1612,name:"tokenIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1569,src:"632:8:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:1614,nodeType:"ExpressionStatement",src:"632:10:1"},{expression:{arguments:[{expression:{id:1616,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4294967281,src:"654:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:1617,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",src:"654:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{id:1618,name:"tokenIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1569,src:"666:8:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{id:1619,name:"quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1607,src:"676:8:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{hexValue:"",id:1620,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"686:2:1",typeDescriptions:{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'},value:""}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'}],id:1615,name:"_mint",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1104,src:"648:5:1",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$",typeString:"function (address,uint256,uint256,bytes memory)"}},id:1621,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"648:41:1",tryCall:!1,typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:1622,nodeType:"ExpressionStatement",src:"648:41:1"},{expression:{id:1623,name:"tokenIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1569,src:"702:8:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:1611,id:1624,nodeType:"Return",src:"695:15:1"}]},functionSelector:"a0712d68",id:1626,implemented:!0,kind:"function",modifiers:[],name:"mint",nodeType:"FunctionDefinition",parameters:{id:1608,nodeType:"ParameterList",parameters:[{constant:!1,id:1607,mutability:"mutable",name:"quantity",nodeType:"VariableDeclaration",scope:1626,src:"583:16:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1606,name:"uint256",nodeType:"ElementaryTypeName",src:"583:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},visibility:"internal"}],src:"582:18:1"},returnParameters:{id:1611,nodeType:"ParameterList",parameters:[{constant:!1,id:1610,mutability:"mutable",name:"",nodeType:"VariableDeclaration",scope:1626,src:"617:7:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1609,name:"uint256",nodeType:"ElementaryTypeName",src:"617:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},visibility:"internal"}],src:"616:9:1"},scope:1718,src:"569:146:1",stateMutability:"nonpayable",virtual:!1,visibility:"public"},{baseFunctions:[767],body:{id:1657,nodeType:"Block",src:"921:204:1",statements:[{condition:{commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:1646,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{commonType:{typeIdentifier:"t_address",typeString:"address"},id:1642,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{id:1637,name:"_operator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1631,src:"933:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{arguments:[{hexValue:"307832303746613844663361313744393643613745413466323839336663644362373861333034313031",id:1640,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"954:42:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"},value:"0x207Fa8Df3a17D96Ca7EA4f2893fcdCb78a304101"}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:1639,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"946:7:1",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:{id:1638,name:"address",nodeType:"ElementaryTypeName",src:"946:7:1",typeDescriptions:{}}},id:1641,isConstant:!1,isLValue:!1,isPure:!0,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"946:51:1",tryCall:!1,typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"933:64:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:1645,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{id:1643,name:"openseaProxyEnabled",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1573,src:"1001:19:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{hexValue:"74727565",id:1644,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1024:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},src:"1001:27:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"933:95:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:1650,nodeType:"IfStatement",src:"929:133:1",trueBody:{id:1649,nodeType:"Block",src:"1030:32:1",statements:[{expression:{hexValue:"74727565",id:1647,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1049:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:1636,id:1648,nodeType:"Return",src:"1042:11:1"}]}},{expression:{arguments:[{id:1653,name:"_owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1629,src:"1102:6:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{id:1654,name:"_operator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1631,src:"1110:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{id:1651,name:"ERC1155",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1556,src:"1077:7:1",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC1155_$1556_$",typeString:"type(contract ERC1155)"}},id:1652,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"isApprovedForAll",nodeType:"MemberAccess",referencedDeclaration:767,src:"1077:24:1",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_address_$returns$_t_bool_$",typeString:"function (address,address) view returns (bool)"}},id:1655,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1077:43:1",tryCall:!1,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:1636,id:1656,nodeType:"Return",src:"1070:50:1"}]},documentation:{id:1627,nodeType:"StructuredDocumentation",src:"719:75:1",text:" Override isApprovedForAll to whitelist opensea proxy account"},functionSelector:"e985e9c5",id:1658,implemented:!0,kind:"function",modifiers:[],name:"isApprovedForAll",nodeType:"FunctionDefinition",overrides:{id:1633,nodeType:"OverrideSpecifier",overrides:[],src:"881:8:1"},parameters:{id:1632,nodeType:"ParameterList",parameters:[{constant:!1,id:1629,mutability:"mutable",name:"_owner",nodeType:"VariableDeclaration",scope:1658,src:"830:14:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:1628,name:"address",nodeType:"ElementaryTypeName",src:"830:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},visibility:"internal"},{constant:!1,id:1631,mutability:"mutable",name:"_operator",nodeType:"VariableDeclaration",scope:1658,src:"852:17:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:1630,name:"address",nodeType:"ElementaryTypeName",src:"852:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},visibility:"internal"}],src:"822:51:1"},returnParameters:{id:1636,nodeType:"ParameterList",parameters:[{constant:!1,id:1635,mutability:"mutable",name:"isOperator",nodeType:"VariableDeclaration",scope:1658,src:"904:15:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:1634,name:"bool",nodeType:"ElementaryTypeName",src:"904:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},visibility:"internal"}],src:"903:17:1"},scope:1718,src:"797:328:1",stateMutability:"view",virtual:!1,visibility:"public"},{baseFunctions:[193],body:{id:1669,nodeType:"Block",src:"1359:44:1",statements:[{expression:{arguments:[],expression:{argumentTypes:[],expression:{id:1665,name:"ContextMixin",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1757,src:"1374:12:1",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ContextMixin_$1757_$",typeString:"type(contract ContextMixin)"}},id:1666,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"msgSender",nodeType:"MemberAccess",referencedDeclaration:1756,src:"1374:22:1",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_address_payable_$",typeString:"function () view returns (address payable)"}},id:1667,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1374:24:1",tryCall:!1,typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},functionReturnParameters:1664,id:1668,nodeType:"Return",src:"1367:31:1"}]},documentation:{id:1659,nodeType:"StructuredDocumentation",src:"1129:123:1",text:" This is used instead of msg.sender as transactions won't be sent by the original token owner, but by OpenSea."},id:1670,implemented:!0,kind:"function",modifiers:[],name:"_msgSender",nodeType:"FunctionDefinition",overrides:{id:1661,nodeType:"OverrideSpecifier",overrides:[],src:"1298:8:1"},parameters:{id:1660,nodeType:"ParameterList",parameters:[],src:"1274:2:1"},returnParameters:{id:1664,nodeType:"ParameterList",parameters:[{constant:!1,id:1663,mutability:"mutable",name:"sender",nodeType:"VariableDeclaration",scope:1670,src:"1333:22:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"},typeName:{id:1662,name:"address",nodeType:"ElementaryTypeName",src:"1333:15:1",stateMutability:"payable",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},visibility:"internal"}],src:"1332:24:1"},scope:1718,src:"1255:148:1",stateMutability:"view",virtual:!1,visibility:"internal"},{body:{id:1682,nodeType:"Block",src:"1499:40:1",statements:[{expression:{id:1680,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{id:1678,name:"openseaProxyEnabled",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1573,src:"1505:19:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"Assignment",operator:"=",rightHandSide:{id:1679,name:"enabled",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1673,src:"1527:7:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"1505:29:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:1681,nodeType:"ExpressionStatement",src:"1505:29:1"}]},documentation:{id:1671,nodeType:"StructuredDocumentation",src:"1407:25:1",text:" Admin APIs"},functionSelector:"4cc63d6c",id:1683,implemented:!0,kind:"function",modifiers:[{id:1676,modifierName:{id:1675,name:"onlyAdmin",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1585,src:"1489:9:1",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"1489:9:1"}],name:"setOpenseaProxyEnabled",nodeType:"FunctionDefinition",parameters:{id:1674,nodeType:"ParameterList",parameters:[{constant:!1,id:1673,mutability:"mutable",name:"enabled",nodeType:"VariableDeclaration",scope:1683,src:"1468:12:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:1672,name:"bool",nodeType:"ElementaryTypeName",src:"1468:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},visibility:"internal"}],src:"1467:14:1"},returnParameters:{id:1677,nodeType:"ParameterList",parameters:[],src:"1499:0:1"},scope:1718,src:"1436:103:1",stateMutability:"nonpayable",virtual:!1,visibility:"public"},{body:{id:1695,nodeType:"Block",src:"1742:27:1",statements:[{expression:{id:1693,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{id:1691,name:"admin",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1571,src:"1748:5:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{id:1692,name:"newAdmin",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1686,src:"1756:8:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"1748:16:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:1694,nodeType:"ExpressionStatement",src:"1748:16:1"}]},documentation:{id:1684,nodeType:"StructuredDocumentation",src:"1543:140:1",text:` @dev admin function to set new root admin.
 @param newAdmin address the new admin to assign, which manages delegates`},functionSelector:"8f283970",id:1696,implemented:!0,kind:"function",modifiers:[{id:1689,modifierName:{id:1688,name:"onlyAdmin",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1585,src:"1732:9:1",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"1732:9:1"}],name:"changeAdmin",nodeType:"FunctionDefinition",parameters:{id:1687,nodeType:"ParameterList",parameters:[{constant:!1,id:1686,mutability:"mutable",name:"newAdmin",nodeType:"VariableDeclaration",scope:1696,src:"1707:16:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:1685,name:"address",nodeType:"ElementaryTypeName",src:"1707:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},visibility:"internal"}],src:"1706:18:1"},returnParameters:{id:1690,nodeType:"ParameterList",parameters:[],src:"1742:0:1"},scope:1718,src:"1686:83:1",stateMutability:"nonpayable",virtual:!1,visibility:"public"},{body:{id:1707,nodeType:"Block",src:"1825:23:1",statements:[{expression:{arguments:[{id:1704,name:"uri",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1698,src:"1839:3:1",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],id:1703,name:"_setURI",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1022,src:"1831:7:1",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_string_memory_ptr_$returns$__$",typeString:"function (string memory)"}},id:1705,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1831:12:1",tryCall:!1,typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:1706,nodeType:"ExpressionStatement",src:"1831:12:1"}]},functionSelector:"02fe5305",id:1708,implemented:!0,kind:"function",modifiers:[{id:1701,modifierName:{id:1700,name:"onlyAdmin",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1585,src:"1815:9:1",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"1815:9:1"}],name:"setURI",nodeType:"FunctionDefinition",parameters:{id:1699,nodeType:"ParameterList",parameters:[{constant:!1,id:1698,mutability:"mutable",name:"uri",nodeType:"VariableDeclaration",scope:1708,src:"1789:17:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:1697,name:"string",nodeType:"ElementaryTypeName",src:"1789:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},visibility:"internal"}],src:"1788:19:1"},returnParameters:{id:1702,nodeType:"ParameterList",parameters:[],src:"1825:0:1"},scope:1718,src:"1773:75:1",stateMutability:"nonpayable",virtual:!1,visibility:"public"},{body:{id:1716,nodeType:"Block",src:"1929:23:1",statements:[{expression:{id:1714,name:"admin",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1571,src:"1942:5:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},functionReturnParameters:1713,id:1715,nodeType:"Return",src:"1935:12:1"}]},documentation:{id:1709,nodeType:"StructuredDocumentation",src:"1852:24:1",text:" Read APIs"},functionSelector:"6e9960c3",id:1717,implemented:!0,kind:"function",modifiers:[],name:"getAdmin",nodeType:"FunctionDefinition",parameters:{id:1710,nodeType:"ParameterList",parameters:[],src:"1896:2:1"},returnParameters:{id:1713,nodeType:"ParameterList",parameters:[{constant:!1,id:1712,mutability:"mutable",name:"",nodeType:"VariableDeclaration",scope:1717,src:"1920:7:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:1711,name:"address",nodeType:"ElementaryTypeName",src:"1920:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},visibility:"internal"}],src:"1919:9:1"},scope:1718,src:"1879:73:1",stateMutability:"view",virtual:!1,visibility:"public"}],scope:1719,src:"132:1822:1"}],src:"0:1954:1"},r1e={attributes:{absolutePath:"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/LIT.sol",exportedSymbols:{Address:[556],Context:[205],ContextMixin:[1757],EIP712Base:[1889],ERC1155:[1556],ERC165:[260],IERC1155:[131],IERC1155MetadataURI:[144],IERC1155Receiver:[183],IERC165:[11],Initializable:[1776],LIT:[1718],NativeMetaTransaction:[2077],SafeMath:[2489]},license:"MIT"},children:[{attributes:{literals:["solidity","^","0.7",".6"]},id:1558,name:"PragmaDirective",src:"0:23:1"},{attributes:{SourceUnit:2490,absolutePath:"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/SafeMath.sol",file:"./SafeMath.sol",scope:1719,symbolAliases:[null],unitAlias:""},id:1559,name:"ImportDirective",src:"57:24:1"},{attributes:{SourceUnit:1557,absolutePath:"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/ERC1155.sol",file:"./ERC1155.sol",scope:1719,symbolAliases:[null],unitAlias:""},id:1560,name:"ImportDirective",src:"82:23:1"},{attributes:{SourceUnit:2078,absolutePath:"/Users/chris/Documents/WorkStuff/LIT/mintlit/contracts/src/contracts/MetaTxns.sol",file:"./MetaTxns.sol",scope:1719,symbolAliases:[null],unitAlias:""},id:1561,name:"ImportDirective",src:"106:24:1"},{attributes:{abstract:!1,contractDependencies:[11,131,144,205,260,1556,1757,1776,1889,2077],contractKind:"contract",fullyImplemented:!0,linearizedBaseContracts:[1718,2077,1889,1776,1757,1556,144,131,260,11,205],name:"LIT",scope:1719},children:[{attributes:{},children:[{attributes:{name:"ERC1155",referencedDeclaration:1556,type:"contract ERC1155"},id:1562,name:"UserDefinedTypeName",src:"148:7:1"}],id:1563,name:"InheritanceSpecifier",src:"148:7:1"},{attributes:{},children:[{attributes:{name:"ContextMixin",referencedDeclaration:1757,type:"contract ContextMixin"},id:1564,name:"UserDefinedTypeName",src:"157:12:1"}],id:1565,name:"InheritanceSpecifier",src:"157:12:1"},{attributes:{},children:[{attributes:{name:"NativeMetaTransaction",referencedDeclaration:2077,type:"contract NativeMetaTransaction"},id:1566,name:"UserDefinedTypeName",src:"171:21:1"}],id:1567,name:"InheritanceSpecifier",src:"171:21:1"},{attributes:{constant:!1,functionSelector:"714cff56",mutability:"mutable",name:"tokenIds",scope:1718,stateVariable:!0,storageLocation:"default",type:"uint256",visibility:"public"},children:[{attributes:{name:"uint256",type:"uint256"},id:1568,name:"ElementaryTypeName",src:"213:7:1"}],id:1569,name:"VariableDeclaration",src:"213:23:1"},{attributes:{constant:!1,mutability:"mutable",name:"admin",scope:1718,stateVariable:!0,storageLocation:"default",type:"address",visibility:"private"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:1570,name:"ElementaryTypeName",src:"262:7:1"}],id:1571,name:"VariableDeclaration",src:"262:21:1"},{attributes:{constant:!1,mutability:"mutable",name:"openseaProxyEnabled",scope:1718,stateVariable:!0,storageLocation:"default",type:"bool",visibility:"private"},children:[{attributes:{name:"bool",type:"bool"},id:1572,name:"ElementaryTypeName",src:"287:4:1"}],id:1573,name:"VariableDeclaration",src:"287:32:1"},{attributes:{name:"onlyAdmin",virtual:!1,visibility:"internal"},children:[{attributes:{parameters:[null]},children:[],id:1574,name:"ParameterList",src:"343:0:1"},{children:[{children:[{attributes:{isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],tryCall:!1,type:"tuple()",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_c13c296baebb1f79b18541a06c39b3d56ce1654fd26fe72a62e2fb7efe67be9a",typeString:'literal_string "Only Admin"'}],overloadedDeclarations:[4294967278,4294967278],referencedDeclaration:4294967278,type:"function (bool,string memory) pure",value:"require"},id:1575,name:"Identifier",src:"349:7:1"},{attributes:{commonType:{typeIdentifier:"t_address",typeString:"address"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"==",type:"bool"},children:[{attributes:{isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",type:"address payable"},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:4294967281,type:"msg",value:"msg"},id:1576,name:"Identifier",src:"357:3:1"}],id:1577,name:"MemberAccess",src:"357:10:1"},{attributes:{overloadedDeclarations:[null],referencedDeclaration:1571,type:"address",value:"admin"},id:1578,name:"Identifier",src:"371:5:1"}],id:1579,name:"BinaryOperation",src:"357:19:1"},{attributes:{hexvalue:"4f6e6c792041646d696e",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,token:"string",type:'literal_string "Only Admin"',value:"Only Admin"},id:1580,name:"Literal",src:"378:12:1"}],id:1581,name:"FunctionCall",src:"349:42:1"}],id:1582,name:"ExpressionStatement",src:"349:42:1"},{id:1583,name:"PlaceholderStatement",src:"397:1:1"}],id:1584,name:"Block",src:"343:60:1"}],id:1585,name:"ModifierDefinition",src:"324:79:1"},{attributes:{implemented:!0,isConstructor:!0,kind:"constructor",name:"",scope:1718,stateMutability:"nonpayable",virtual:!1,visibility:"public"},children:[{attributes:{parameters:[null]},children:[],id:1586,name:"ParameterList",src:"418:2:1"},{attributes:{parameters:[null]},children:[],id:1590,name:"ParameterList",src:"474:0:1"},{children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1556,type:"type(contract ERC1155)",value:"ERC1155"},id:1587,name:"Identifier",src:"421:7:1"},{attributes:{hexvalue:"68747470733a2f2f6d696e746c69742e636f6d2f6d657461646174612f706f6c79676f6e2f7b69647d",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,token:"string",type:'literal_string "https://mintlit.com/metadata/polygon/{id}"',value:"https://mintlit.com/metadata/polygon/{id}"},id:1588,name:"Literal",src:"429:43:1"}],id:1589,name:"ModifierInvocation",src:"421:52:1"},{children:[{children:[{attributes:{isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"=",type:"address"},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1571,type:"address",value:"admin"},id:1591,name:"Identifier",src:"480:5:1"},{attributes:{isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",type:"address payable"},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:4294967281,type:"msg",value:"msg"},id:1592,name:"Identifier",src:"488:3:1"}],id:1593,name:"MemberAccess",src:"488:10:1"}],id:1594,name:"Assignment",src:"480:18:1"}],id:1595,name:"ExpressionStatement",src:"480:18:1"},{children:[{attributes:{isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"=",type:"bool"},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1573,type:"bool",value:"openseaProxyEnabled"},id:1596,name:"Identifier",src:"504:19:1"},{attributes:{hexvalue:"74727565",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,token:"bool",type:"bool",value:"true"},id:1597,name:"Literal",src:"526:4:1"}],id:1598,name:"Assignment",src:"504:26:1"}],id:1599,name:"ExpressionStatement",src:"504:26:1"},{children:[{attributes:{isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],tryCall:!1,type:"tuple()",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_stringliteral_cc6d7d84473dcc72642b2f5d66c702663d241f6c9c8fc2cbecc2e0aa18dc943a",typeString:'literal_string "LIT"'}],overloadedDeclarations:[null],referencedDeclaration:1813,type:"function (string memory)",value:"_initializeEIP712"},id:1600,name:"Identifier",src:"536:17:1"},{attributes:{hexvalue:"4c4954",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,token:"string",type:'literal_string "LIT"',value:"LIT"},id:1601,name:"Literal",src:"554:5:1"}],id:1602,name:"FunctionCall",src:"536:24:1"}],id:1603,name:"ExpressionStatement",src:"536:24:1"}],id:1604,name:"Block",src:"474:91:1"}],id:1605,name:"FunctionDefinition",src:"407:158:1"},{attributes:{functionSelector:"a0712d68",implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"mint",scope:1718,stateMutability:"nonpayable",virtual:!1,visibility:"public"},children:[{children:[{attributes:{constant:!1,mutability:"mutable",name:"quantity",scope:1626,stateVariable:!1,storageLocation:"default",type:"uint256",visibility:"internal"},children:[{attributes:{name:"uint256",type:"uint256"},id:1606,name:"ElementaryTypeName",src:"583:7:1"}],id:1607,name:"VariableDeclaration",src:"583:16:1"}],id:1608,name:"ParameterList",src:"582:18:1"},{children:[{attributes:{constant:!1,mutability:"mutable",name:"",scope:1626,stateVariable:!1,storageLocation:"default",type:"uint256",visibility:"internal"},children:[{attributes:{name:"uint256",type:"uint256"},id:1609,name:"ElementaryTypeName",src:"617:7:1"}],id:1610,name:"VariableDeclaration",src:"617:7:1"}],id:1611,name:"ParameterList",src:"616:9:1"},{children:[{children:[{attributes:{isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"++",prefix:!1,type:"uint256"},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1569,type:"uint256",value:"tokenIds"},id:1612,name:"Identifier",src:"632:8:1"}],id:1613,name:"UnaryOperation",src:"632:10:1"}],id:1614,name:"ExpressionStatement",src:"632:10:1"},{children:[{attributes:{isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],tryCall:!1,type:"tuple()",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'}],overloadedDeclarations:[null],referencedDeclaration:1104,type:"function (address,uint256,uint256,bytes memory)",value:"_mint"},id:1615,name:"Identifier",src:"648:5:1"},{attributes:{isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",type:"address payable"},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:4294967281,type:"msg",value:"msg"},id:1616,name:"Identifier",src:"654:3:1"}],id:1617,name:"MemberAccess",src:"654:10:1"},{attributes:{overloadedDeclarations:[null],referencedDeclaration:1569,type:"uint256",value:"tokenIds"},id:1618,name:"Identifier",src:"666:8:1"},{attributes:{overloadedDeclarations:[null],referencedDeclaration:1607,type:"uint256",value:"quantity"},id:1619,name:"Identifier",src:"676:8:1"},{attributes:{hexvalue:"",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,token:"string",type:'literal_string ""',value:""},id:1620,name:"Literal",src:"686:2:1"}],id:1621,name:"FunctionCall",src:"648:41:1"}],id:1622,name:"ExpressionStatement",src:"648:41:1"},{attributes:{functionReturnParameters:1611},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1569,type:"uint256",value:"tokenIds"},id:1623,name:"Identifier",src:"702:8:1"}],id:1624,name:"Return",src:"695:15:1"}],id:1625,name:"Block",src:"626:89:1"}],id:1626,name:"FunctionDefinition",src:"569:146:1"},{attributes:{baseFunctions:[767],functionSelector:"e985e9c5",implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"isApprovedForAll",scope:1718,stateMutability:"view",virtual:!1,visibility:"public"},children:[{attributes:{text:" Override isApprovedForAll to whitelist opensea proxy account"},id:1627,name:"StructuredDocumentation",src:"719:75:1"},{attributes:{overrides:[null]},id:1633,name:"OverrideSpecifier",src:"881:8:1"},{children:[{attributes:{constant:!1,mutability:"mutable",name:"_owner",scope:1658,stateVariable:!1,storageLocation:"default",type:"address",visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:1628,name:"ElementaryTypeName",src:"830:7:1"}],id:1629,name:"VariableDeclaration",src:"830:14:1"},{attributes:{constant:!1,mutability:"mutable",name:"_operator",scope:1658,stateVariable:!1,storageLocation:"default",type:"address",visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:1630,name:"ElementaryTypeName",src:"852:7:1"}],id:1631,name:"VariableDeclaration",src:"852:17:1"}],id:1632,name:"ParameterList",src:"822:51:1"},{children:[{attributes:{constant:!1,mutability:"mutable",name:"isOperator",scope:1658,stateVariable:!1,storageLocation:"default",type:"bool",visibility:"internal"},children:[{attributes:{name:"bool",type:"bool"},id:1634,name:"ElementaryTypeName",src:"904:4:1"}],id:1635,name:"VariableDeclaration",src:"904:15:1"}],id:1636,name:"ParameterList",src:"903:17:1"},{children:[{attributes:{},children:[{attributes:{commonType:{typeIdentifier:"t_bool",typeString:"bool"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"&&",type:"bool"},children:[{attributes:{commonType:{typeIdentifier:"t_address",typeString:"address"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"==",type:"bool"},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1631,type:"address",value:"_operator"},id:1637,name:"Identifier",src:"933:9:1"},{attributes:{isConstant:!1,isLValue:!1,isPure:!0,isStructConstructorCall:!1,lValueRequested:!1,names:[null],tryCall:!1,type:"address",type_conversion:!0},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:"type(address)"},children:[{attributes:{name:"address"},id:1638,name:"ElementaryTypeName",src:"946:7:1"}],id:1639,name:"ElementaryTypeNameExpression",src:"946:7:1"},{attributes:{hexvalue:"307832303746613844663361313744393643613745413466323839336663644362373861333034313031",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,token:"number",type:"address payable",value:"0x207Fa8Df3a17D96Ca7EA4f2893fcdCb78a304101"},id:1640,name:"Literal",src:"954:42:1"}],id:1641,name:"FunctionCall",src:"946:51:1"}],id:1642,name:"BinaryOperation",src:"933:64:1"},{attributes:{commonType:{typeIdentifier:"t_bool",typeString:"bool"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"==",type:"bool"},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1573,type:"bool",value:"openseaProxyEnabled"},id:1643,name:"Identifier",src:"1001:19:1"},{attributes:{hexvalue:"74727565",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,token:"bool",type:"bool",value:"true"},id:1644,name:"Literal",src:"1024:4:1"}],id:1645,name:"BinaryOperation",src:"1001:27:1"}],id:1646,name:"BinaryOperation",src:"933:95:1"},{children:[{attributes:{functionReturnParameters:1636},children:[{attributes:{hexvalue:"74727565",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,token:"bool",type:"bool",value:"true"},id:1647,name:"Literal",src:"1049:4:1"}],id:1648,name:"Return",src:"1042:11:1"}],id:1649,name:"Block",src:"1030:32:1"}],id:1650,name:"IfStatement",src:"929:133:1"},{attributes:{functionReturnParameters:1636},children:[{attributes:{isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],tryCall:!1,type:"bool",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"isApprovedForAll",referencedDeclaration:767,type:"function (address,address) view returns (bool)"},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1556,type:"type(contract ERC1155)",value:"ERC1155"},id:1651,name:"Identifier",src:"1077:7:1"}],id:1652,name:"MemberAccess",src:"1077:24:1"},{attributes:{overloadedDeclarations:[null],referencedDeclaration:1629,type:"address",value:"_owner"},id:1653,name:"Identifier",src:"1102:6:1"},{attributes:{overloadedDeclarations:[null],referencedDeclaration:1631,type:"address",value:"_operator"},id:1654,name:"Identifier",src:"1110:9:1"}],id:1655,name:"FunctionCall",src:"1077:43:1"}],id:1656,name:"Return",src:"1070:50:1"}],id:1657,name:"Block",src:"921:204:1"}],id:1658,name:"FunctionDefinition",src:"797:328:1"},{attributes:{baseFunctions:[193],implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"_msgSender",scope:1718,stateMutability:"view",virtual:!1,visibility:"internal"},children:[{attributes:{text:" This is used instead of msg.sender as transactions won't be sent by the original token owner, but by OpenSea."},id:1659,name:"StructuredDocumentation",src:"1129:123:1"},{attributes:{overrides:[null]},id:1661,name:"OverrideSpecifier",src:"1298:8:1"},{attributes:{parameters:[null]},children:[],id:1660,name:"ParameterList",src:"1274:2:1"},{children:[{attributes:{constant:!1,mutability:"mutable",name:"sender",scope:1670,stateVariable:!1,storageLocation:"default",type:"address payable",visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"payable",type:"address payable"},id:1662,name:"ElementaryTypeName",src:"1333:15:1"}],id:1663,name:"VariableDeclaration",src:"1333:22:1"}],id:1664,name:"ParameterList",src:"1332:24:1"},{children:[{attributes:{functionReturnParameters:1664},children:[{attributes:{arguments:[null],isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],tryCall:!1,type:"address payable",type_conversion:!1},children:[{attributes:{argumentTypes:[null],isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"msgSender",referencedDeclaration:1756,type:"function () view returns (address payable)"},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1757,type:"type(contract ContextMixin)",value:"ContextMixin"},id:1665,name:"Identifier",src:"1374:12:1"}],id:1666,name:"MemberAccess",src:"1374:22:1"}],id:1667,name:"FunctionCall",src:"1374:24:1"}],id:1668,name:"Return",src:"1367:31:1"}],id:1669,name:"Block",src:"1359:44:1"}],id:1670,name:"FunctionDefinition",src:"1255:148:1"},{attributes:{functionSelector:"4cc63d6c",implemented:!0,isConstructor:!1,kind:"function",name:"setOpenseaProxyEnabled",scope:1718,stateMutability:"nonpayable",virtual:!1,visibility:"public"},children:[{attributes:{text:" Admin APIs"},id:1671,name:"StructuredDocumentation",src:"1407:25:1"},{children:[{attributes:{constant:!1,mutability:"mutable",name:"enabled",scope:1683,stateVariable:!1,storageLocation:"default",type:"bool",visibility:"internal"},children:[{attributes:{name:"bool",type:"bool"},id:1672,name:"ElementaryTypeName",src:"1468:4:1"}],id:1673,name:"VariableDeclaration",src:"1468:12:1"}],id:1674,name:"ParameterList",src:"1467:14:1"},{attributes:{parameters:[null]},children:[],id:1677,name:"ParameterList",src:"1499:0:1"},{attributes:{},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1585,type:"modifier ()",value:"onlyAdmin"},id:1675,name:"Identifier",src:"1489:9:1"}],id:1676,name:"ModifierInvocation",src:"1489:9:1"},{children:[{children:[{attributes:{isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"=",type:"bool"},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1573,type:"bool",value:"openseaProxyEnabled"},id:1678,name:"Identifier",src:"1505:19:1"},{attributes:{overloadedDeclarations:[null],referencedDeclaration:1673,type:"bool",value:"enabled"},id:1679,name:"Identifier",src:"1527:7:1"}],id:1680,name:"Assignment",src:"1505:29:1"}],id:1681,name:"ExpressionStatement",src:"1505:29:1"}],id:1682,name:"Block",src:"1499:40:1"}],id:1683,name:"FunctionDefinition",src:"1436:103:1"},{attributes:{functionSelector:"8f283970",implemented:!0,isConstructor:!1,kind:"function",name:"changeAdmin",scope:1718,stateMutability:"nonpayable",virtual:!1,visibility:"public"},children:[{attributes:{text:` @dev admin function to set new root admin.
 @param newAdmin address the new admin to assign, which manages delegates`},id:1684,name:"StructuredDocumentation",src:"1543:140:1"},{children:[{attributes:{constant:!1,mutability:"mutable",name:"newAdmin",scope:1696,stateVariable:!1,storageLocation:"default",type:"address",visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:1685,name:"ElementaryTypeName",src:"1707:7:1"}],id:1686,name:"VariableDeclaration",src:"1707:16:1"}],id:1687,name:"ParameterList",src:"1706:18:1"},{attributes:{parameters:[null]},children:[],id:1690,name:"ParameterList",src:"1742:0:1"},{attributes:{},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1585,type:"modifier ()",value:"onlyAdmin"},id:1688,name:"Identifier",src:"1732:9:1"}],id:1689,name:"ModifierInvocation",src:"1732:9:1"},{children:[{children:[{attributes:{isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"=",type:"address"},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1571,type:"address",value:"admin"},id:1691,name:"Identifier",src:"1748:5:1"},{attributes:{overloadedDeclarations:[null],referencedDeclaration:1686,type:"address",value:"newAdmin"},id:1692,name:"Identifier",src:"1756:8:1"}],id:1693,name:"Assignment",src:"1748:16:1"}],id:1694,name:"ExpressionStatement",src:"1748:16:1"}],id:1695,name:"Block",src:"1742:27:1"}],id:1696,name:"FunctionDefinition",src:"1686:83:1"},{attributes:{functionSelector:"02fe5305",implemented:!0,isConstructor:!1,kind:"function",name:"setURI",scope:1718,stateMutability:"nonpayable",virtual:!1,visibility:"public"},children:[{children:[{attributes:{constant:!1,mutability:"mutable",name:"uri",scope:1708,stateVariable:!1,storageLocation:"memory",type:"string",visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:1697,name:"ElementaryTypeName",src:"1789:6:1"}],id:1698,name:"VariableDeclaration",src:"1789:17:1"}],id:1699,name:"ParameterList",src:"1788:19:1"},{attributes:{parameters:[null]},children:[],id:1702,name:"ParameterList",src:"1825:0:1"},{attributes:{},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1585,type:"modifier ()",value:"onlyAdmin"},id:1700,name:"Identifier",src:"1815:9:1"}],id:1701,name:"ModifierInvocation",src:"1815:9:1"},{children:[{children:[{attributes:{isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],tryCall:!1,type:"tuple()",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],overloadedDeclarations:[null],referencedDeclaration:1022,type:"function (string memory)",value:"_setURI"},id:1703,name:"Identifier",src:"1831:7:1"},{attributes:{overloadedDeclarations:[null],referencedDeclaration:1698,type:"string memory",value:"uri"},id:1704,name:"Identifier",src:"1839:3:1"}],id:1705,name:"FunctionCall",src:"1831:12:1"}],id:1706,name:"ExpressionStatement",src:"1831:12:1"}],id:1707,name:"Block",src:"1825:23:1"}],id:1708,name:"FunctionDefinition",src:"1773:75:1"},{attributes:{functionSelector:"6e9960c3",implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"getAdmin",scope:1718,stateMutability:"view",virtual:!1,visibility:"public"},children:[{attributes:{text:" Read APIs"},id:1709,name:"StructuredDocumentation",src:"1852:24:1"},{attributes:{parameters:[null]},children:[],id:1710,name:"ParameterList",src:"1896:2:1"},{children:[{attributes:{constant:!1,mutability:"mutable",name:"",scope:1717,stateVariable:!1,storageLocation:"default",type:"address",visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:1711,name:"ElementaryTypeName",src:"1920:7:1"}],id:1712,name:"VariableDeclaration",src:"1920:7:1"}],id:1713,name:"ParameterList",src:"1919:9:1"},{children:[{attributes:{functionReturnParameters:1713},children:[{attributes:{overloadedDeclarations:[null],referencedDeclaration:1571,type:"address",value:"admin"},id:1714,name:"Identifier",src:"1942:5:1"}],id:1715,name:"Return",src:"1935:12:1"}],id:1716,name:"Block",src:"1929:23:1"}],id:1717,name:"FunctionDefinition",src:"1879:73:1"}],id:1718,name:"ContractDefinition",src:"132:1822:1"}],id:1719,name:"SourceUnit",src:"0:1954:1"},i1e={name:"solc",version:"0.7.6+commit.7338295f.Emscripten.clang"},n1e={"137":{events:{"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x5845892132946850460bff5a0083f71031bc5bf9aadcd40f1de79423eac9b10b":{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"address payable",name:"relayerAddress",type:"address"},{indexed:!1,internalType:"bytes",name:"functionSignature",type:"bytes"}],name:"MetaTransactionExecuted",type:"event"},"0x4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},"0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},"0x6bb7ff708619ba0610cba295a58592e0451dee2622938c8755667688daf3529b":{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"}},links:{},address:"0xb9A323711528D0c5a70df790929f4739f1cDd7fD",transactionHash:"0x298c338c8761350d67a68a0bfaf6d346931c65905a5ad852cdda8f6a529a08dc"}},s1e="3.3.4",o1e="2021-04-23T00:12:09.625Z",a1e="ethereum",f1e={kind:"dev",methods:{"balanceOf(address,uint256)":{details:"See {IERC1155-balanceOf}. Requirements: - `account` cannot be the zero address."},"balanceOfBatch(address[],uint256[])":{details:"See {IERC1155-balanceOfBatch}. Requirements: - `accounts` and `ids` must have the same length."},"changeAdmin(address)":{details:"admin function to set new root admin.",params:{newAdmin:"address the new admin to assign, which manages delegates"}},"safeBatchTransferFrom(address,address,uint256[],uint256[],bytes)":{details:"See {IERC1155-safeBatchTransferFrom}."},"safeTransferFrom(address,address,uint256,uint256,bytes)":{details:"See {IERC1155-safeTransferFrom}."},"setApprovalForAll(address,bool)":{details:"See {IERC1155-setApprovalForAll}."},"supportsInterface(bytes4)":{details:"See {IERC165-supportsInterface}. Time complexity O(1), guaranteed to always use less than 30 000 gas."},"uri(uint256)":{details:"See {IERC1155MetadataURI-uri}. This implementation returns the same URI for *all* token types. It relies on the token type ID substitution mechanism https://eips.ethereum.org/EIPS/eip-1155#metadata[defined in the EIP]. Clients calling this function must replace the `\\{id\\}` substring with the actual token type ID."}},version:1},c1e={kind:"user",methods:{"getAdmin()":{notice:"Read APIs"},"isApprovedForAll(address,address)":{notice:"Override isApprovedForAll to whitelist opensea proxy account"},"setOpenseaProxyEnabled(bool)":{notice:"Admin APIs"}},version:1},cB={contractName:jhe,abi:Vhe,metadata:Hhe,bytecode:$he,deployedBytecode:Ghe,immutableReferences:Yhe,generatedSources:Whe,deployedGeneratedSources:Zhe,sourceMap:Jhe,deployedSourceMap:Xhe,source:Qhe,sourcePath:e1e,ast:t1e,legacyAST:r1e,compiler:i1e,networks:n1e,schemaVersion:s1e,updatedAt:o1e,networkType:a1e,devdoc:f1e,userdoc:c1e};var cR=wr(fR()),Ny=(0,cR.default)(`
message Request {
  enum Type {
    HANDSHAKE = 0;
    GET_KEY_FRAGMENT = 1;
    STORE_KEY_FRAGMENT = 2;
  }
  required Type type = 1;
  optional GetKeyFragment getKeyFragment = 2;
  optional StoreKeyFragment storeKeyFragment = 3;
  optional bytes authSig = 4;
  optional TokenParams tokenParams = 5;
  optional bytes clientPubKey = 6;
  optional bytes merkleProof = 7;
}
message Response {
  enum Type {
    HANDSHAKE_RESPONSE = 0;
    GET_KEY_FRAGMENT_RESPONSE = 1;
    STORE_KEY_FRAGMENT_RESPONSE = 2;
  }
  required Type type = 1;
  optional GetKeyFragmentResponse getKeyFragmentResponse = 2;
  optional StoreKeyFragmentResponse storeKeyFragmentResponse = 3;
  optional bytes serverPubKey = 4;
}
message GetKeyFragment {
  required bytes keyId = 1;
}
message GetKeyFragmentResponse {
  enum Result {
    SUCCESS = 0;
    NOT_FOUND = 1;
    AUTH_FAILURE = 2;
    ERROR = 3;
  }
  required Result result = 1;
  optional bytes keyId = 2;
  optional bytes fragmentValue = 3;
}
message StoreKeyFragment {
  required bytes fragmentValue = 1;
  required bytes fragmentNumber = 2;
}
message StoreKeyFragmentResponse {
  enum Result {
    SUCCESS = 0;
    AUTH_FAILURE = 1;
    ERROR = 2;
  }
  required Result result = 1;
  optional bytes errorMessage = 2;
}
message TokenParams {
  required bytes tokenAddress = 1;
  required bytes tokenId = 2;
  required bytes chain = 3;
}
`),bu={polygon:{contractAddress:"0xb9A323711528D0c5a70df790929f4739f1cDd7fD",chainId:137,name:"Polygon",symbol:"MATIC",decimals:18,rpcUrls:["https://rpc-mainnet.maticvigil.com"],blockExplorerUrls:["https://explorer.matic.network"],balanceStorageSlot:1},ethereum:{contractAddress:"0x55485885e82E25446DEC314Ccb810Bda06B9e01B",chainId:1,name:"Ethereum",symbol:"ETH",decimals:18,balanceStorageSlot:1}};var e2e="I am creating an account to use LITs at {{timestamp}}";async function Cd(){if(typeof window.ethereum=="undefined")throw new Error({errorCode:"no_wallet",message:"No web3 wallet was found"});let r=await(0,uR.default)(),t=(await r.request({method:"eth_requestAccounts"}))[0].toLowerCase();return{web3:r,account:t}}async function Py({tokenAddress:r,balanceStorageSlot:e,tokenId:t}){let{web3:i,account:n}=await Cd(),s=(0,dR.mappingAt)(e,t,n),o=await i.request({method:"eth_getBlockByNumber",params:["latest",!1]}),a=i.request({method:"eth_getProof",params:[r,[s],o.number]});return{header:Jp.Header.fromRpc(o).toJson(),accountProof:Jp.Proof.fromRpc(a.accountProof).toJson(),storageProof:Jp.Proof.fromRpc(a.storageProof[0].proof).toJson(),blockHash:o.hash}}async function Xp(){let r=localStorage.getItem("lit-auth-signature");r||(await hR(),r=localStorage.getItem("lit-auth-signature")),r=JSON.parse(r);let{web3:e,account:t}=await Cd();return t!==r.address&&(await hR(),r=localStorage.getItem("lit-auth-signature"),r=JSON.parse(r)),r}async function hR(){let r=new Date().toISOString(),e=e2e.replace("{{timestamp}}",r),t=await t2e({body:e});localStorage.setItem("lit-auth-signature",JSON.stringify({sig:t.signature,derivedVia:"web3.eth.personal.sign",signedMessage:e,address:t.address}));let i=lR.default.box.keyPair();localStorage.setItem("lit-comms-keypair",JSON.stringify({publicKey:Rv.default.encodeBase64(i.publicKey),secretKey:Rv.default.encodeBase64(i.secretKey)})),console.log("generated and saved lit-comms-keypair")}async function t2e({body:r}){let{web3:e,account:t}=await Cd();console.log("signing with ",t);let i=await e.request({method:"eth_sign",params:[t,r]}),n=Vk(r,i).toLowerCase();if(console.log("Signature: ",i),console.log("recovered address: ",n),n!==t){let s=`ruh roh, the user signed with a different address (${n}) then they're using with web3 (${t}).  this will lead to confusion.`;throw console.error(s),alert("something seems to be wrong with your wallets message signing.  maybe restart your browser or your wallet.  your recovered sig address does not match your web3 account address"),new Error(s)}return{signature:i,address:n}}async function pR({chain:r,quantity:e}){console.log(`minting ${e} tokens on ${r}`);let t=await Xp(),{web3:i,account:n}=await Cd(),s=await i.request({method:"eth_chainId",params:[]}),o=bu[r];if(s!==o.chainId)if(o.chainId!==1){let c=[{chainId:"0x"+o.chainId.toString("16"),chainName:o.name,nativeCurrency:{name:o.name,symbol:o.symbol,decimals:o.decimals},rpcUrls:o.rpcUrls,blockExplorerUrls:o.blockExplorerUrls}],l=await i.request({method:"wallet_addEthereumChain",params:c}).catch();l&&console.log(l)}else return{errorCode:"wrong_chain"};let a=bu[r].contractAddress,f=new fy(a,cB.abi,new xd(i).getSigner());console.log("sending to chain...");try{let c=await f.mint(e);console.log("sent to chain.  waiting to be mined...");let l=await c.wait();console.log("txReceipt: ",l);let h=l.events[0].args[3].toNumber();return{txHash:l.transactionHash,tokenId:h,tokenAddress:a,mintingAddress:n,authSig:t}}catch(c){return console.log(c),c.code===4001?(console.log("User rejected request"),{errorCode:"user_rejected_request"}):(console.error(c),{errorCode:"unknown_error"})}}function qy(r){return new Promise((e,t)=>{let i=new FileReader;i.onloadend=()=>{e(i.result)},i.readAsDataURL(r)})}var Nv={};async function bR(r){let e=new Oy.default;return e.file("string.txt",r),Dy(e)}async function yR(r){let e=new Oy.default;for(let t=0;t<r.length;t++)e.folder("encryptedAssets").file(r[t].name,r[t]);return Dy(e)}async function Pv(r,e){let t=await fI(e),i=await uI(r,t);return(await new Oy.default().loadAsync(i)).files}async function Dy(r){let e=await r.generateAsync({type:"blob"}),t=await e.arrayBuffer();console.log("blob",e);let i=await cI(),n=await lI(i,t),s=await crypto.subtle.exportKey("jwk",i);return console.log("exportedSymmKey",s),{symmetricKey:JSON.stringify(s),encryptedZip:n}}async function r2e(r){if(Nv[r])return Nv[r];let e=await fetch("https://unpkg.com/"+r);if(!e.ok)throw console.log("error with response: ",e),Error(e.statusText);let t=await e.blob(),i=await qy(t);return Nv[r]=i,i}async function mR({title:r,htmlBody:e,css:t,encryptedZipDataUrl:i,tokenAddress:n,tokenId:s,chain:o,npmPackages:a=[]}){let f="";for(let c=0;c<a.length;c++)f+=`<script src="${await r2e(a[c])}"></script>
`;return`
<!DOCTYPE html>
<html>
  <head>
    <title>${r}</title>
    <style id="jss-server-side">${t}</style>
    ${f}
    <script>
      var encryptedZipDataUrl = "${i}"
      var tokenAddress = "${n}"
      var tokenId = "${s}"
      var chain = "${o}"
      var locked = true

      function litJsSdkLoaded(){
         var litNodeClient = new LitJsSdk.default.LitNodeClient()
        litNodeClient.connect()
        window.litNodeClient = litNodeClient
      }
    </script>
    <script onload='litJsSdkLoaded()' src="https://unpkg.com/lit-js-sdk@^1/build/index.web.js"></script>
  </head>
  <body>
    <div id="root">${e}</div>
    <script>
      const unlockButton = document.getElementById('unlockButton')
      unlockButton.onclick = function() {
        if (!window.litNodeClient.ready){
          alert('The LIT network is still connecting.  Please try again in about 10 seconds.')
          return
        }
        LitJsSdk.default.toggleLock()
      }
    </script>
  </body>
</html>
  `}async function gR(){let r=document.getElementById("mediaGridHolder"),e=document.getElementById("lockedHeader");if(window.locked){window.publicContent=r.innerHTML;let t=await Xp(),{balanceStorageSlot:i}=bu[window.chain],n=await Py({tokenAddress:window.tokenAddress,balanceStorageSlot:i,tokenId:window.tokenId}),s=await window.litNodeClient.getEncryptionKey({tokenAddress:window.tokenAddress,tokenId:window.tokenId,authSig:t,chain:window.chain,merkleProof:n}),o=await(await fetch(window.encryptedZipDataUrl)).blob(),f=await(await Pv(o,s))["string.txt"].async("text");r.innerHTML=f,e.innerText="UNLOCKED",window.locked=!1}else r.innerHTML=window.publicContent,e.innerText="LOCKED",window.locked=!0}var rF=wr(Zw()),iF=wr(x0()),w5=({tokenAddress:r,tokenId:e,chain:t})=>{let i=r.toLowerCase(),n=e.toString(16).padStart(64,"0"),s=`${i}|${n}|${t}`,o=(0,rF.default)(Buffer.from(s),"sha2-256");return new iF.default(o).toString()};var Gfe=wr(Hee()),Yfe=wr(pre()),Wfe=wr(lie()),Zfe=wr(Tse()),Jfe=wr(roe()),Xfe=wr(Ffe()),YA=wr(Gr()),Att=wr(zi()),WA=wr(Vfe()),Qfe=wr(ys()),Ttt=wr(Nf()),Ctt=wr(Zw()),e0e=wr(x0()),Mtt=wr(Bh()),ZA=wr($fe()),Gs=wr(Ai()),JA=wr(Kr()),t0e=wr(eE()),C8=wr(N6());var{Request:wp,Response:B8,StoreKeyFragmentResponse:r0e,GetKeyFragmentResponse:XA}=Ny,QA=class{constructor(e={alertWhenUnauthorized:!0,minNodeCount:8}){this.config=e,this.libp2p=null,this.connectedNodes=new Set,this.serverPubKeys={},this.ready=!1}async getEncryptionKey({tokenAddress:e,tokenId:t,chain:i,authSig:n,merkleProof:s}){let o=await this.getEncryptionKeyFragments({tokenAddress:e,tokenId:t,authSig:n,chain:i,merkleProof:s});if(o.some(h=>h==="AUTH_FAILURE"))return this.config.alertWhenUnauthorized&&alert("You are not authorized to unlock to this LIT"),document.dispatchEvent(new Event("lit-authFailure")),null;let a=JSON.parse(localStorage.getItem("lit-comms-keypair")),f=[];for(let h=0;h<o.length;h++){let x=q6(JSON.parse(o[h]),a.secretKey);f.push(x)}let c=ZA.default.combine(f);return Buffer.from(c,"hex").toString()}async saveEncryptionKey({tokenAddress:e,tokenId:t,chain:i,authSig:n,symmetricKey:s,merkleProof:o}){let a=Array.from(this.connectedNodes),f=a.length,c=Math.floor(f/2),l=Buffer.from(s).toString("hex");console.debug(`splitting up into ${f} shares with a threshold of ${c}`);let h=ZA.default.share(l,f,c);if(h.length!==a.length)throw new Error(`kFrags.length (${h.length}) !== nodes.length (${a.length})`);let x=[],_=e.toLowerCase();for(let C=0;C<a.length;C++){let L=a[C];console.debug(`storing kFrag in node ${C+1} of ${a.length}`);let O=C8.default.encodeBase64(this.serverPubKeys[L]),W=JSON.stringify(P6(O,h[C],"x25519-xsalsa20-poly1305"));x.push(this.storeDataWithNode({peerId:L,tokenAddress:_,tokenId:t,fragmentNumber:C,val:W,authSig:n,chain:i,merkleProof:o}))}return(await Promise.all(x)).some(C=>C==="AUTH_FAILURE")?(this.config.alertWhenUnauthorized&&alert("You are not authorized to publish to this LIT"),document.dispatchEvent(new Event("lit-authFailure")),{success:!1}):(console.log("all stored"),{success:!0})}async getEncryptionKeyFragments({tokenAddress:e,tokenId:t,authSig:i,chain:n}){let s=e.toLowerCase(),o=w5({tokenAddress:e,tokenId:t,chain:n}),a=new e0e.default(o),f=await(0,t0e.default)(this.libp2p.contentRouting.findProviders(a,{timeout:3e3}));console.log(`Found ${f.length} providers`);let c=[];for(let h=0;h<f.length;h++){let x=f[h].id.toB58String();console.debug(`Getting ${o} from ${x}`),c.push(this.getDataFromNode({peerId:x,tokenAddress:s,tokenId:t,authSig:i,keyId:o,chain:n}))}return await Promise.all(c)}async storeDataWithNode({peerId:e,tokenAddress:t,tokenId:i,fragmentNumber:n,val:s,authSig:o,chain:a,merkleProof:f}){console.debug(`storing data with node ${e} with tokenAddress ${t} and tokenId ${i}`);let c=wp.encode({type:wp.Type.STORE_KEY_FRAGMENT,storeKeyFragment:{fragmentValue:(0,Gs.default)(s),fragmentNumber:(0,Gs.default)(n)},authSig:(0,Gs.default)(JSON.stringify(o)),tokenParams:{tokenAddress:(0,Gs.default)(t),tokenId:(0,Gs.default)(i.toString()),chain:(0,Gs.default)(a)},merkleProof:(0,Gs.default)(JSON.stringify(f))});return await this.sendCommandToPeer({peerId:e,data:c})}async getDataFromNode({peerId:e,tokenAddress:t,tokenId:i,keyId:n,authSig:s,chain:o,merkleProof:a}){console.debug(`getDataFromNode ${e} with keyId ${n}`);let f=JSON.parse(localStorage.getItem("lit-comms-keypair")),c=wp.encode({type:wp.Type.GET_KEY_FRAGMENT,getKeyFragment:{keyId:(0,Gs.default)(n)},authSig:(0,Gs.default)(JSON.stringify(s)),tokenParams:{tokenAddress:(0,Gs.default)(t),tokenId:(0,Gs.default)(i.toString()),chain:(0,Gs.default)(o)},clientPubKey:C8.default.decodeBase64(f.publicKey),merkleProof:(0,Gs.default)(JSON.stringify(a))});return await this.sendCommandToPeer({peerId:e,data:c})}async handshakeWithSgx({peerId:e}){console.debug(`handshakeWithSgx ${e}`);let t=wp.encode({type:wp.Type.HANDSHAKE});return await this.sendCommandToPeer({peerId:e,data:t})}async sendCommandToPeer({peerId:e,data:t}){let i=this.libp2p.connectionManager.get(YA.default.createFromB58String(e)),{stream:n}=await i.newStream(["/lit/1.0.0"]);console.debug(`sendCommandToPeer ${e}`);let s=null;return await(0,Qfe.default)([t],n,async o=>{console.debug("in sendCommandToPeer callback");let{value:a,done:f}=await o.next(),c=B8.decode(a.slice());c.type===B8.Type.HANDSHAKE_RESPONSE?(this.serverPubKeys[e]=c.serverPubKey,console.log("handshake success for "+e+" - got server pub key "+C8.default.encodeBase64(c.serverPubKey)),s=!0):c.type===B8.Type.STORE_KEY_FRAGMENT_RESPONSE?c.storeKeyFragmentResponse.result===r0e.Result.SUCCESS?(console.log("success storing key fragment"),s=!0):c.storeKeyFragmentResponse.result===r0e.Result.AUTH_FAILURE?(console.log("auth failure.  user doesnt own token"),s="AUTH_FAILURE"):(console.log("error storing key fragment: "),console.log((0,JA.default)(c.storeKeyFragmentResponse.errorMessage)),s=!1):c.type===B8.Type.GET_KEY_FRAGMENT_RESPONSE?c.getKeyFragmentResponse.result===XA.Result.SUCCESS?(console.log("success getting key fragment"),s=(0,JA.default)(c.getKeyFragmentResponse.fragmentValue)):c.getKeyFragmentResponse.result===XA.Result.NOT_FOUND?(console.log("key fragment not found"),s=!1):c.getKeyFragmentResponse.result===XA.Result.AUTH_FAILURE?(console.log("auth failure.  user doesnt own token"),s="AUTH_FAILURE"):(console.log("unknown error getting key fragment"),s=!1):console.log("unknown response type")}),s}async connect(){let e="12D3KooWK1KtaAV5rWjbAmZcd62VYSmEz1k81jzr87JAcSS7rKdQ";this.libp2p=await Gfe.default.create({modules:{transport:[Yfe.default,Wfe.default],connEncryption:[Zfe.NOISE],streamMuxer:[Jfe.default],dht:Xfe.default,peerDiscovery:[WA.default]},config:{dht:{enabled:!0},peerDiscovery:{[WA.default.tag]:{enabled:!0,list:[`/dns4/node1.litgateway.com/tcp/9090/https/p2p-webrtc-direct/p2p/${e}`]}}}}),this.libp2p.on("peer:discovery",i=>{console.debug(`Found peer ${i.toB58String()}`)}),this.libp2p.connectionManager.on("peer:connect",async i=>{let n=i.remotePeer.toB58String();console.debug(`Connected to ${n}`),!this.connectedNodes.has(n)&&(this.connectedNodes.add(n),setTimeout(async()=>{await this.handshakeWithSgx({peerId:n})},1e3))}),this.libp2p.connectionManager.on("peer:disconnect",i=>{let n=i.remotePeer.toB58String();console.debug(`Disconnected from ${n}`),this.connectedNodes.delete(n)}),await this.libp2p.start(),console.debug(`libp2p id is ${this.libp2p.peerId.toB58String()}`),this.libp2p.multiaddrs.forEach(i=>console.debug(`${i.toString()}/p2p/${this.libp2p.peerId.toB58String()}`));let t=window.setInterval(()=>{Array.from(this.connectedNodes).length>=this.config.minNodeCount&&(clearInterval(t),this.ready=!0,console.debug("lit is ready"),document.dispatchEvent(new Event("lit-ready")))},1e3);window.libp2p=this.libp2p,window.PeerId=YA.default}},i0e=QA;var GOe={zipAndEncryptString:bR,zipAndEncryptFiles:yR,encryptZip:Dy,decryptZip:Pv,connectWeb3:Cd,checkAndSignAuthMessage:Xp,createHtmlLIT:mR,mintLIT:pR,toggleLock:gR,LIT_CHAINS:bu,LitNodeClient:i0e,protobufs:Ny,kFragKey:w5,encryptWithPubKey:P6,decryptWithPrivKey:q6,fileToDataUrl:qy,getMerkleProof:Py},YOe=GOe;return WOe;})();
/*!

JSZip v3.6.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * aead.js - aead for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://tools.ietf.org/html/rfc7539#section-2.8
 *   https://github.com/openssh/openssh-portable
 */
/*!
 * assert.js - assert for bcrypto
 * Copyright (c) 2020, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */
/*!
 * bn.js - big numbers for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */
/*!
 * bn.js - big numbers for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/bn.js:
 *   Copyright (c) 2015, Fedor Indutny (MIT License).
 *   https://github.com/indutny/bn.js
 *
 * Parts of this software are based on golang/go:
 *   Copyright (c) 2009, The Go Authors. All rights reserved.
 *   https://github.com/golang/go
 *
 * Parts of this software are based on openssl/openssl:
 *   Copyright (c) 1998-2018, The OpenSSL Project (Apache License v2.0).
 *   Copyright (c) 1995-1998, Eric A. Young, Tim J. Hudson. All rights reserved.
 *   https://github.com/openssl/openssl
 *
 * Parts of this software are based on libgmp:
 *   Copyright (c) 1991-1997, 1999-2014, Free Software Foundation, Inc.
 *   https://gmplib.org/
 *
 * Parts of this software are based on v8/v8:
 *   Copyright (c) 2017, The V8 Project Authors (BSD-Style License).
 *   https://github.com/v8/v8
 *
 * Resources:
 *   https://github.com/indutny/bn.js/blob/master/lib/bn.js
 *   https://github.com/indutny/miller-rabin/blob/master/lib/mr.js
 *   https://github.com/golang/go/blob/master/src/math/big/int.go
 *   https://github.com/golang/go/blob/master/src/math/big/nat.go
 *   https://github.com/golang/go/blob/master/src/math/big/prime.go
 *   https://github.com/openssl/openssl/tree/master/crypto/bn
 *   https://github.com/openssl/openssl/blob/master/crypto/bn/bn_kron.c
 *   https://github.com/gnutls/nettle/blob/master/mini-gmp.c
 *   https://github.com/v8/v8/blob/master/src/objects/bigint.cc
 */
/*!
 * chacha20.js - chacha20 for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources
 *   https://en.wikipedia.org/wiki/Chacha20
 *   https://tools.ietf.org/html/rfc7539#section-2
 *   https://cr.yp.to/chacha.html
 */
/*!
 * custom.js - custom inspect symbol for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */
/*!
 * ecdh.js - ECDH for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://cr.yp.to/ecdh.html
 *   https://cr.yp.to/ecdh/curve25519-20060209.pdf
 *   https://tools.ietf.org/html/rfc7748
 */
/*!
 * elliptic.js - elliptic curves for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/elliptic:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/elliptic
 *
 * Formulas from DJB and Tanja Lange [EFD].
 *
 * References:
 *
 *   [GECC] Guide to Elliptic Curve Cryptography
 *     D. Hankerson, A. Menezes, and S. Vanstone
 *     https://tinyurl.com/guide-to-ecc
 *
 *   [GLV] Faster Point Multiplication on Elliptic Curves
 *     R. Gallant, R. Lambert, and S. Vanstone
 *     https://link.springer.com/content/pdf/10.1007/3-540-44647-8_11.pdf
 *
 *   [MONT1] Montgomery curves and the Montgomery ladder
 *     Daniel J. Bernstein, Tanja Lange
 *     https://eprint.iacr.org/2017/293.pdf
 *
 *   [SQUARED] Elligator Squared
 *     Mehdi Tibouchi
 *     https://eprint.iacr.org/2014/043.pdf
 *
 *   [SEC1] SEC 1 - Standards for Efficient Cryptography Group
 *     Certicom Research
 *     https://www.secg.org/sec1-v2.pdf
 *
 *   [SEC2] SEC 2: Recommended Elliptic Curve Domain Parameters
 *     Certicom Research
 *     https://www.secg.org/sec2-v2.pdf
 *
 *   [SIDE1] Elliptic Curves and Side-Channel Attacks
 *     Marc Joye
 *     https://pdfs.semanticscholar.org/8d69/9645033e25d74fcfd4cbf07a770d2e943e14.pdf
 *
 *   [BLIND] Side-Channel Analysis on Blinding Regular Scalar Multiplications
 *     B. Feix, M. Roussellet, A. Venelli
 *     https://eprint.iacr.org/2014/191.pdf
 *
 *   [ALT] Alternative Elliptic Curve Representations
 *     R. Struik
 *     https://tools.ietf.org/id/draft-ietf-lwig-curve-representations-02.html
 *
 *   [ARITH1] Arithmetic of Elliptic Curves
 *     Christophe Doche, Tanja Lange
 *     Handbook of Elliptic and Hyperelliptic Curve Cryptography
 *     Page 267, Section 13 (978-1-58488-518-4)
 *     https://hyperelliptic.org/HEHCC/index.html
 *
 *   [ARITH2] The Arithmetic of Elliptic Curves, 2nd Edition
 *     Joseph H. Silverman
 *     http://www.pdmi.ras.ru/~lowdimma/BSD/Silverman-Arithmetic_of_EC.pdf
 *
 *   [EFD] Explicit-Formulas Database
 *     Daniel J. Bernstein, Tanja Lange
 *     https://hyperelliptic.org/EFD/index.html
 *
 *   [SAFE] SafeCurves: choosing safe curves for elliptic-curve cryptography
 *     Daniel J. Bernstein
 *     https://safecurves.cr.yp.to/
 *
 *   [4GLV] Refinement of the Four-Dimensional GLV Method on Elliptic Curves
 *     Hairong Yi, Yuqing Zhu, and Dongdai Lin
 *     http://www.site.uottawa.ca/~cadams/papers/prepro/paper_19_slides.pdf
 *
 *   [SSWU1] Efficient Indifferentiable Hashing into Ordinary Elliptic Curves
 *     E. Brier, J. Coron, T. Icart, D. Madore, H. Randriam, M. Tibouchi
 *     https://eprint.iacr.org/2009/340.pdf
 *
 *   [SSWU2] Rational points on certain hyperelliptic curves over finite fields
 *     Maciej Ulas
 *     https://arxiv.org/abs/0706.1448
 *
 *   [H2EC] Hashing to Elliptic Curves
 *     A. Faz-Hernandez, S. Scott, N. Sullivan, R. S. Wahby, C. A. Wood
 *     https://git.io/JeWz6
 *     https://github.com/cfrg/draft-irtf-cfrg-hash-to-curve
 *
 *   [SVDW1] Construction of Rational Points on Elliptic Curves
 *     A. Shallue, C. E. van de Woestijne
 *     https://works.bepress.com/andrew_shallue/1/download/
 *
 *   [SVDW2] Indifferentiable Hashing to Barreto-Naehrig Curves
 *     Pierre-Alain Fouque, Mehdi Tibouchi
 *     https://www.di.ens.fr/~fouque/pub/latincrypt12.pdf
 *
 *   [SVDW3] Covert ECDH over secp256k1
 *     Pieter Wuille
 *     https://gist.github.com/sipa/29118d3fcfac69f9930d57433316c039
 *
 *   [MONT2] Montgomery Curve (wikipedia)
 *     https://en.wikipedia.org/wiki/Montgomery_curve
 *
 *   [MONT3] Montgomery Curves and their arithmetic
 *     C. Costello, B. Smith
 *     https://eprint.iacr.org/2017/212.pdf
 *
 *   [ELL2] Elliptic-curve points indistinguishable from uniform random strings
 *     D. Bernstein, M. Hamburg, A. Krasnova, T. Lange
 *     https://elligator.cr.yp.to/elligator-20130828.pdf
 *
 *   [RFC7748] Elliptic Curves for Security
 *     A. Langley, M. Hamburg, S. Turner
 *     https://tools.ietf.org/html/rfc7748
 *
 *   [TWISTED] Twisted Edwards Curves
 *     D. Bernstein, P. Birkner, M. Joye, T. Lange, C. Peters
 *     https://eprint.iacr.org/2008/013.pdf
 *
 *   [ELL1] Injective Encodings to Elliptic Curves
 *     P. Fouque, A. Joux, M. Tibouchi
 *     https://eprint.iacr.org/2013/373.pdf
 *
 *   [ISOGENY] Twisting Edwards curves with isogenies
 *     Mike Hamburg
 *     https://www.shiftleft.org/papers/isogeny/isogeny.pdf
 *
 *   [RFC8032] Edwards-Curve Digital Signature Algorithm (EdDSA)
 *     S. Josefsson, SJD AB, I. Liusvaara
 *     https://tools.ietf.org/html/rfc8032
 *
 *   [SCHNORR] Schnorr Signatures for secp256k1
 *     Pieter Wuille
 *     https://github.com/sipa/bips/blob/d194620/bip-schnorr.mediawiki
 *
 *   [BIP340] Schnorr Signatures for secp256k1
 *     Pieter Wuille, Jonas Nick, Tim Ruffing
 *     https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki
 *
 *   [JCEN12] Efficient Software Implementation of Public-Key Cryptography
 *            on Sensor Networks Using the MSP430X Microcontroller
 *     C. P. L. Gouvea, L. B. Oliveira, J. Lopez
 *     http://conradoplg.cryptoland.net/files/2010/12/jcen12.pdf
 *
 *   [FIPS186] Federal Information Processing Standards Publication
 *     National Institute of Standards and Technology
 *     https://tinyurl.com/fips-186-3
 *
 *   [RFC5639] Elliptic Curve Cryptography (ECC) Brainpool
 *             Standard Curves and Curve Generation
 *     M. Lochter, BSI, J. Merkle
 *     https://tools.ietf.org/html/rfc5639
 *
 *   [TWISTEQ] Twisted Edwards & Short Weierstrass Equivalence
 *     Christopher Jeffrey
 *     https://gist.github.com/chjj/16ba7fa08d64e8dda269a9fe5b2a8bbc
 *
 *   [ECPM] Elliptic Curve Point Multiplication (wikipedia)
 *     https://en.wikipedia.org/wiki/Elliptic_curve_point_multiplication
 */
/*!
 * hkdf.js - hkdf for bcrypto
 * Copyright (c) 2014-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/HKDF
 *   https://tools.ietf.org/html/rfc5869
 */
/*!
 * hkdf.js - hkdf for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */
/*!
 * hmac.js - hmac for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/hash.js:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/hash.js
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/HMAC
 *   https://tools.ietf.org/html/rfc2104
 *   https://github.com/indutny/hash.js/blob/master/lib/hash/hmac.js
 */
/*!
 * poly1305.js - poly1305 for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on floodyberry/poly1305-donna:
 *   Placed into the public domain by Andrew Moon.
 *   https://github.com/floodyberry/poly1305-donna
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/Poly1305
 *   https://cr.yp.to/mac.html
 *   https://tools.ietf.org/html/rfc7539#section-2.5
 *   https://github.com/floodyberry/poly1305-donna/blob/master/poly1305-donna-16.h
 */
/*!
 * random.js - random for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */
/*!
 * random.js - random number generator for bcrypto
 * Copyright (c) 2014-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://wiki.openssl.org/index.php/Random_Numbers
 *   https://csrc.nist.gov/projects/random-bit-generation/
 *   http://www.pcg-random.org/posts/bounded-rands.html
 *   https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues
 */
/*!
 * sha256.js - SHA256 implementation for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/hash.js:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/hash.js
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/SHA-2
 *   https://tools.ietf.org/html/rfc4634
 *   https://github.com/indutny/hash.js/blob/master/lib/hash/sha/256.js
 */
/*!
 * x25519.js - x25519 for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/Curve25519
 *   https://cr.yp.to/ecdh/curve25519-20060209.pdf
 *   https://tools.ietf.org/html/rfc7748#section-5
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.5.7
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2016
 * @license MIT
 */
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
// @license MIT
// @preserve author Alexander Stetsyuk
// @preserve author Glenn Rempe <glenn@rempe.us>
//# sourceMappingURL=index.web.js.map
